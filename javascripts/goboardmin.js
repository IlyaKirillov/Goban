/*
 * Copyright (C) 2014-2015  Ilya Kirillov 
 * email: ilya_kirillov@inbox.ru
 *  
 * This library is free software; you can redistribute it and/or
 * modify it under the terms of the GNU Lesser General Public
 * License as published by the Free Software Foundation; either
 * version 3.0 of the License, or (at your option) any later version.
 * 
 * This library is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 * Lesser General Public License for more details.
 * 
 * Version 0.9.60
*/
(function(){var q;function aa(a){this.i=a;this.L=this.b=null;this.ra=0;this.eb=y.eb;this.ti=this.Zf=this.Ae=this.Kd=this.Ld=0;this.Ne={};this.gb=null;this.Uf=!1;this.c={G:0,B:0,fk:0,tj:0,lb:0,yb:0,vj:2,X:null,uj:null,Y:null,kf:null,re:[],ik:Array(361),mf:null,Mf:null,Kh:null,Fd:null,Gd:null,Vj:null,Wj:null,Nj:null,Oj:null,Qj:null,Sj:null,Rj:null,Tj:null,Aj:null,Ug:null,Vg:null,Kj:null,sj:null,hj:null,dj:null};this.Ol=new A(255,0,0,128);this.a={e:null,Y:{e:null},X:{e:null},Tc:{e:null},pf:{e:null},Ca:{e:null},Kf:{e:null},jb:{e:null},Bd:{e:null},Tb:{e:null},Event:{e:null},il:[]};this.Kb={g:-1,f:-1};this.Ka={};this.Fa={};this.fg=-1;this.k={O:0,P:0,T:18,U:18};this.ka={Sc:!1,Hf:-1,If:-1,pd:-1,qd:-1};this.cd=this.Td=null;this.we=!1;var b=this;this.yg=function(a){ba(a);a=b.Xd(C.g,C.f);a=ca(b,a.g,a.f);da(b,a.g,a.f,!1);if(11===b.ra){var d=a.f;!0===b.ka.Sc&&(b.ka.pd=a.g,b.ka.qd=d)}ea(b)};this.gf=function(a){ba(a);!0===b.we&&(b.we=!1,b.zg(a));fa(b)};this.ff=function(a){ga(a);b.we=!0;b.a.Event.e.a.focus();var d=b.Xd(C.g,C.f),d=ca(b,d.g,d.f);b.Yi(d.g,d.f,C);a.preventDefault();return!1};this.zg=function(a){ba(a);b.we=!1;var d=b.Xd(C.g,C.f),d=ca(b,d.g,d.f);11===b.ra&&(a=d.g,d=d.f,!0===b.ka.Sc&&(b.ka.Sc=!1,b.ka.pd=a,b.ka.qd=d));ea(b)};this.cm=function(a){ha(a);var d=!1;16===ia.D&&2===b.ra?(C.u=!0,b.rb(),d=!0):16!==ia.D&&17!==ia.D||10!==b.ra?(d=ja(b,ia),!0===d&&fa(b)):(16===ia.D?C.u=!0:17===ia.D&&(C.q=!0),b.rb(),d=!0);!0===d&&a.preventDefault();return d?!1:!0};this.em=function(a){ha(a);16===ia.D&&2===b.ra?(C.u=!1,b.rb()):16!==ia.D&&17!==ia.D||10!==b.ra||(16===ia.D?C.u=!1:17===ia.D&&(C.q=!1),b.rb())};this.dm=function(){};this.bj=function(){return setTimeout(function(){b.Ui();b.bf();b.df();b.cf();if(b.c.X){var a=b.vg(),d=b.Mb(),f=b.c.lb;b.c.Fd=ka(b,f,f,.05*f,new A(0,0,0,255));b.c.Gd=ka(b,f,f,.05*f,new A(255,255,255,255));b.c.Vj=b.Ga(f,f,.05*f,new A(0,0,0,255));b.c.Wj=b.Ga(f,f,.05*f,new A(255,255,255,255));b.c.Nj=la(b,f,f,.05*f,new A(0,0,0,255));b.c.Oj=la(b,f,f,.05*f,new A(255,255,255,255));b.c.Qj=ma(b,f,f,!1,new A(0,0,0,255),a?new A(0,0,0,255):d?new A(255,255,255,255):new A(0,0,0,255));b.c.Sj=ma(b,f,f,!1,new A(255,255,255,255),a?new A(255,255,255,255):d?new A(255,255,255,255):new A(0,0,0,255));b.c.Rj=ma(b,f,f,!0,new A(0,0,0,255),a?new A(0,0,0,255):d?new A(255,255,255,255):new A(0,0,0,255));b.c.Tj=ma(b,f,f,!0,new A(255,255,255,255),a?new A(255,255,255,255):d?new A(255,255,255,255):new A(0,0,0,255));b.c.Aj=na(b,f,f,.05*f,new A(255,0,0,255));b.c.Ug=na(b,f,f,.05*f,new A(0,0,0,255));b.c.Vg=na(b,f,f,.05*f,new A(255,255,255,255));b.c.Kj=la(b,f,f,.05*f,new A(200,0,0,255));b.c.sj=la(b,f,f,.05*f,new A(0,128,0,255));b.c.hj=la(b,f,f,.05*f,new A(0,0,200,255));b.c.dj=la(b,f,f,.05*f,new A(128,128,128,255))}b.Nb();b.c.Kh=oa(b,!0)},20)};this.am=function(a){a.preventDefault();return!1};this.bm=function(a){a.preventDefault();if(0<a.dataTransfer.files.length&&FileReader){a=a.dataTransfer.files[0];var d=a.name.split(".").pop().toLowerCase(),f=new FileReader;f.onload=function(a){b.b.jc(a.target.result,null,null,d)};f.readAsText(a);b.wa()}}}q=aa.prototype;q.o=function(a,b){this.i&&this.i.Lj(this);this.Nh(b);this.a.e=D(a);var c=this.a.e.a,d=a+"_BoardCanvas",f=a+"_LinesCanvas",e=a+"_ColorCanvas",g=a+"_ShadowsCanvas",h=a+"_StonesCanvas",k=a+"_VariantsCanvas",l=a+"_MarksCanvas",n=a+"_TargetCanvas",m=a+"_SelectCanvas",u=a+"_EventDiv";this.Ha(c,d);this.Ha(c,f);this.Ha(c,e);this.Ha(c,g);this.Ha(c,h);this.Ha(c,k);this.Ha(c,l);this.Ha(c,m);this.Ha(c,n);var c=this.la(c,u),p=this.a.e;this.oa(this.a.Y,p,d);this.oa(this.a.X,p,f);this.oa(this.a.pf,p,e);this.oa(this.a.Ca,p,g);this.oa(this.a.Tc,p,h);this.oa(this.a.Kf,p,k);this.oa(this.a.jb,p,l);this.oa(this.a.Bd,p,m);this.oa(this.a.Tb,p,n);this.oa(this.a.Event,p,u);c.onmousemove=this.yg;c.onmouseout=this.gf;c.onmousedown=this.ff;c.onmouseup=this.zg;c.onkeydown=this.cm;c.onkeyup=this.em;c.onkeypress=this.dm;c.tabIndex=-1;c.style.Bl=!0;c.style.outline=0;c.ondragover=this.am;c.ondrop=this.bm;return p};q.fj=function(a){this.a.il.push(a)};q.wa=function(){this.a.Event.e.a.focus()};q.Ff=function(a){a!==this.eb&&(y.Ff(a),this.eb=a,this.i.v(!0))};function oa(a,b){var c=document.createElement("canvas"),d=c.getContext("2d");c.width=a.a.Y.e.a.width;c.height=a.a.Y.e.a.height;d.drawImage(a.a.Y.e.a,0,0);d.drawImage(a.a.X.e.a,0,0);!0===b&&d.drawImage(a.a.pf.e.a,0,0);d.drawImage(a.a.Ca.e.a,0,0);d.drawImage(a.a.Tc.e.a,0,0);d.drawImage(a.a.jb.e.a,0,0);return c}q.v=function(a){var b=this.a.e.a.clientWidth,c=this.a.e.a.clientHeight,d=pa(this),f=c*d;f<=b?b=f:c=b/d;if(b!==this.c.fk||c!==this.c.tj||!0===a)this.c.fk=b,this.c.tj=c,this.a.e.Va(b,c),qa(this),this.Nb(a)};function ra(a,b,c,d,f){var e=a.L.Z(),g=e.g,e=e.f;a.k.O=Math.max(0,Math.min(g-1,b));a.k.P=Math.max(0,Math.min(e-1,c));a.k.T=Math.max(0,Math.min(g-1,d));a.k.U=Math.max(0,Math.min(e-1,f));a.k.T<=a.k.O&&(a.k.O=0,a.k.T=g-1);a.k.U<=a.k.P&&(a.k.P=0,a.k.U=e-1)}function sa(a){var b=a.L.Z(),c=b.g,b=b.f;a.k.O=0;a.k.P=0;a.k.T=c-1;a.k.U=b-1}function ta(a,b,c,d){if(a.c.X&&d!==a.Ne[(c<<8)+b]){var f=a.a.Tc.e.a.getContext("2d"),e=a.a.Ca.e.a.getContext("2d"),g=a.c.lb,h=(g-1)/2,k=a.c.X,l=a.c.yb,n=a.ug();if(!0===ua(a,b-1,c-1)){var m=k[b-1].g-h,h=k[c-1].f-h;switch(d){case E:f.putImageData(a.c.kf,m,h);!0===n&&e.putImageData(a.c.Ca,m+l,h+l);break;case G:f.putImageData(a.c.re[a.c.ik[b-1+(c-1)*a.L.Z().g]],m,h);!0===n&&e.putImageData(a.c.Ca,m+l,h+l);break;default:f.clearRect(m,h,g,g),!0===n&&e.clearRect(m+l,h+l,g,g)}}a.Ne[(c<<8)+b]=d;b===a.Kb.g&&c===a.Kb.f&&(E===d||G===d?fa(a):a.rb())}}q.xb=function(a,b){var c=(b<<8)+a;delete this.Fa[""+c];c===this.fg&&(this.Fa[""+c]=new va(a,b,wa,""))};function xa(a,b,c){return(a=a.Fa[""+((c<<8)+b)])?a:null}q.Oa=function(a){ya(this,a.td(),a.ud(),a)};q.Nh=function(a){this.b=a;this.L=a.ha;a.n=this;sa(this)};q.sf=function(){for(var a=this.L,b=1;b<=a.F;b++)for(var c=1;c<=a.w;c++)za(a,c,b,a.H(c,b));a=this.L.sf(this);this.Td&&Aa(this.Td,"B "+a.jj+"("+a.ij+") W "+a.hk+"("+a.gk+")");this.b.Ab()};function Ba(a,b){if((a.b.J&Ca||9===b||11===b)&&a.ra!==b){1===a.ra&&a.b.Sg();a.ra=b;a.rb();if(1===b){var c=a.L;c.Ub=[];for(var d=1;d<=c.F;d++)for(var f=1;f<=c.w;f++)c.Ub[Da(c,f,d)]=H;Ea(c,!1);a.b.rf()}else 9===b&&a.sf();a.b.Ab()}}function pa(a){var b=a.L.Z(),c=b.g,b=b.f,d=(a.k.T-a.k.O)*Fa+2*Ga,f=(a.k.U-a.k.P)*Fa+2*Ga;!0===a.eb&&(d+=Fa,f+=Fa);0<a.k.O&&(d+=Ha/2);a.k.T<c-1&&(d+=Ha/2);0<a.k.P&&(f+=Ha/2);a.k.U<b-1&&(f+=Ha/2);return d/f}q.Ha=function(a,b){var c=document.createElement("canvas");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};q.la=function(a,b){var c=document.createElement("div");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};q.oa=function(a,b,c){a.e=D(c);a=a.e;I(a.h,0,0,1E3,1E3,!1,!1,!1,!1,-1,-1);a.m=J|K|O|P;b.l(a)};q.Xd=function(a,b){var c=Ia(this.a.Y.e.a);return{g:a-c.g,f:b-c.f}};function qa(a){var b=a.L.Z(),c=b.g,b=b.f;a.k.O=Math.max(0,Math.min(c-1,a.k.O));a.k.P=Math.max(0,Math.min(b-1,a.k.P));a.k.T=Math.max(0,Math.min(c-1,a.k.T));a.k.U=Math.max(0,Math.min(b-1,a.k.U));a.k.T<=a.k.O&&(a.k.O=0,a.k.T=c-1);a.k.U<=a.k.P&&(a.k.P=0,a.k.U=b-1);var d=(a.k.T-a.k.O)*Fa+2*Ga,f=(a.k.U-a.k.P)*Fa+2*Ga,e=Ga,g=Ga;!0===a.eb&&(d+=Fa,f+=Fa,e+=Ha,g+=Ha);0<a.k.O&&(d+=Ha/2,e+=Ha/2);a.k.T<c-1&&(d+=Ha/2);0<a.k.P&&(f+=Ha/2,g+=Ha/2);a.k.U<b-1&&(f+=Ha/2);a.Zf=Fa/f;a.Ae=Fa/d;a.Kd=e/d;a.Ld=g/f;a.ti=4/d}q.Nb=function(a){var b=this.a.Y.e.a.width,c=this.a.Y.e.a.height;if(b!=this.c.G||c!=this.c.B||null===this.c.Y||null!==this.gb||!0===a){if(null!==this.gb&&clearTimeout(this.gb),this.gb=this.bj(),this.bf(),0!==b&&0!==c)if(null!==this.c.Kh)this.a.Y.e.a.getContext("2d").drawImage(this.c.Kh,0,0,b,c);else{a=this.a.Y.e.a.getContext("2d");a.fillStyle=S(this.ef());a.fillRect(0,0,b,c);var d=this.a.X.e.a.getContext("2d");a=this.Ae*b;var f=this.Zf*c,e=this.Kd*b-this.k.O*a,g=this.Ld*c-this.k.P*f,h=this.L.Z();d.clearRect(0,0,b,c);d.strokeStyle=S(this.ld());for(var k=e+(h.g-1)*a,l=0;l<h.f;l++){var n=g+l*f;d.beginPath();d.moveTo(e,n);d.lineTo(k,n);d.stroke()}for(var k=g+(h.f-1)*f,m=0;m<h.g;m++)n=e+m*a,d.beginPath(),d.moveTo(n,g),d.lineTo(n,k),d.stroke();d.fillStyle=S(this.ld());for(var l=Math.max(2,this.ti*b/2),m=Ja(this.L),u=0,p=m.length;u<p;u++)k=e+m[u][0]*a,n=g+m[u][1]*a,d.beginPath(),d.arc(k,n,l,0,2*Math.PI,!1),d.fill();d=this.a.Tc.e.a.getContext("2d");d.clearRect(0,0,b,c);d.strokeStyle=S(this.ld());d.lineWidth=1;u=S(new A(0,0,0,255));p=S(new A(255,255,255,255));for(l=1;l<=h.f;l++)for(m=1;m<=h.g;m++){k=this.L.H(m,l);if(E===k)d.fillStyle=u;else if(G===k)d.fillStyle=p;else continue;k=e+(m-1)*a;n=g+(l-1)*f;d.beginPath();d.arc(k,n,a/2,0,2*Math.PI,!1);d.fill();d.stroke()}this.a.Ca.e.a.getContext("2d").clearRect(0,0,b,c);this.a.Kf.e.a.getContext("2d").clearRect(0,0,b,c);this.a.jb.e.a.getContext("2d").clearRect(0,0,b,c);this.a.Tb.e.a.getContext("2d").clearRect(0,0,b,c);this.a.Bd.e.a.getContext("2d").clearRect(0,0,b,c)}}else{Ka(this);if(!0===this.eb&&this.c.X){b=this.a.Y.e.a.getContext("2d");c=this.c.G;l=this.c.B;a=this.L.Z();f=2*this.c.lb/3;e=(f-1)/2;g=this.c.X;h=2*f/3;b.fillStyle=this.Mb()?"rgb(255,255,255)":"rgb(0,0,0)";for(m=this.k.O;m<=this.k.T;m++)d=g[m].g-e,k=this.Ld*l/3-e,n=La(m+1,a.g),u=Ma(n)?"Arial":"Helvetica, Arial, Verdana",u=h+"px "+u,b.font=u,u=f/2+h/3,p=(f-b.measureText(n).width)/2,b.fillText(n,d+p,k+u),k=l-this.Ld*l/3-e,b.fillText(n,d+p,k+u);for(l=this.k.P;l<=this.k.U;l++)d=this.Kd*c/3-e,k=g[l].f-e,n=a.f-l+"",u=Ma(n)?"Arial":"Helvetica, Arial, Verdana",u=h+"px "+u,b.font=u,u=f/2+h/3,p=(f-b.measureText(n).width)/2,b.fillText(n,d+p,k+u),d=c-this.Kd*c/3-e,b.fillText(n,d+p,k+u)}Na(this);b=this.c.G;c=this.c.B;this.a.Tc.e.a.getContext("2d").clearRect(0,0,b,c);this.a.Ca.e.a.getContext("2d").clearRect(0,0,b,c);this.Ne={};Oa(this);Pa(this);Qa(this);this.b&&this.b.ne()}};q.Ui=function(){var a=this.a.Y.e.a.width,b=this.a.Y.e.a.height,c=this.a.Y.e.a.getContext("2d");if(0!==a&&0!==b){for(var c=c.createImageData(a,b),d=.9,f=this.ef(),e=f.r,g=f.t,f=f.s,h=100/a,k=1.6,l=2.72,d=2432/150,n=Array(a),m=0,u=0;m<a;m++,u+=h)n[m]=.6+k*u+l*u*u*u+d*u*u*u*u*u;for(var h=Array(b),m=1/b,k=.02,l=.004,d=.04/15,p=0,u=0;p<b;p++,u+=m)h[p]=k*u+l*u*u*u+d*u*u*u*u*u;if(!0===this.vg())for(p=0;p<b;p++)for(m=0;m<a;m++){d=40*(n[m]+h[p])+.5;d-=Math.floor(d);d=.2>d?1-d/2:.4>d?1-(.4-d)/2:1;if(p==b-1||p==b-2&&m<a-2||m>=a-1||m==a-2&&p<b-1)d/=2;0==p||1==p&&1<m||0==m||1==m&&1<p?(k=128+e*d/2,l=128+g*d/2,d=128+f*d/2):(k=e*d,l=g*d,d*=f);u=4*(m+p*a);c.data[u+0]=k;c.data[u+1]=l;c.data[u+2]=d;c.data[u+3]=255}else for(p=0;p<b;p++)for(m=0;m<a;m++)0==p||1==p&&1<m||0==m||1==m&&1<p?(k=128+e/2,l=128+g/2,d=128+f/2):(k=e,l=g,d=f),u=4*(m+p*a),c.data[u+0]=k,c.data[u+1]=l,c.data[u+2]=d,c.data[u+3]=255;this.c.Y=c;this.c.G=a;this.c.B=b;this.gb=null}};function Ka(a){a.a.Y.e.a.getContext("2d").putImageData(a.c.Y,0,0)}q.bf=function(){var a=this.c.G,b=this.c.B;if(0!==a&&0!==b){for(var c=this.Kd*a,d=this.Ld*b,b=this.Zf*b,f=this.Ae*a,e=this.L.Z(),g=Math.max(e.g,e.f),e=Array(e.g),c=c-f*this.k.O,d=d-b*this.k.P,h,k,l,n,m,u,p,r,w,t,x=0;x<g;x++)h=c+x*f,l=c+x*f+.6*f,m=c+x*f-.6*f,p=c+x*f+.5*f,w=c+x*f-.5*f,k=d+x*b,n=d+x*b+.6*b,u=d+x*b-.6*b,r=d+x*b+.5*b,t=d+x*b-.5*b,e[x]={g:Math.floor(h+.5),xl:Math.floor(l+.5),yl:Math.floor(m+.5),se:Math.floor(p+.5),qc:Math.floor(w+.5),f:Math.floor(k+.5),zl:Math.floor(n+.5),Al:Math.floor(u+.5),te:Math.floor(r+.5),rc:Math.floor(t+.5)};this.c.X=e;a=Math.max(2,Math.ceil(this.ti*a/2));g=2*a+1;b=this.c;f=g+2;e=g+2;g=this.ld();e=document.createElement("canvas").getContext("2d").createImageData(f,e);c=e.data;Math.max(f/2,2);d=f/2-.5;h=d-.2;for(k=0;k<f;k++)for(l=0;l<f;l++)n=k-d,m=l-d,n=h-Math.sqrt(n*n+m*m),m=4*(k*f+f-l-1),0<=n?(u=255,.8>=n&&(u=parseInt(255*(1-(.8-n)/.8))),c[m+0]=g.r,c[m+1]=g.t,c[m+2]=g.s,c[m+3]=u):(c[m+0]=0,c[m+1]=0,c[m+2]=0,c[m+3]=0);b.uj=e;this.c.vj=a+1}};function Na(a,b){if(a.c.X){var c=a.c.G,d=a.c.B,f=a.a.X.e.a.getContext("2d"),e=a.L.Z(),g=a.c.X;f.clearRect(0,0,c,d);for(var h=a.c.uj,k=a.c.vj,l=Ja(a.L),n=0,m=l.length;n<m;n++)!0===ua(a,l[n][0],l[n][1])&&f.putImageData(h,g[l[n][0]].g-k,g[l[n][1]].f-k);for(var l=0===a.k.O?g[a.k.O].g:g[a.k.O].yl,n=e.g-1===a.k.T?g[a.k.T].g:g[a.k.T].xl,u=0===a.k.P?g[a.k.P].f:g[a.k.P].Al,p=e.f-1===a.k.U?g[a.k.U].f:g[a.k.U].zl,k=f.createImageData(1,d),m=f.createImageData(c,1),r=a.ld(),w=0;w<d;w++)h=4*w,w>=u&&w<=p&&(k.data[h+0]=r.r,k.data[h+1]=r.t,k.data[h+2]=r.s,k.data[h+3]=r.Ea);for(w=0;w<c;w++)h=4*w,l<=w&&w<=n&&(m.data[h+0]=r.r,m.data[h+1]=r.t,m.data[h+2]=r.s,m.data[h+3]=r.Ea);for(c=0;c<e.g;c++)!0===(c>=a.k.O&&c<=a.k.T?!0:!1)&&f.putImageData(k,g[c].g,0);for(c=0;c<e.f;c++)!0===(c>=a.k.P&&c<=a.k.U?!0:!1)&&f.putImageData(m,0,g[c].f);if(void 0!==b)for(e=g[1].g-g[0].g+2,c=g[1].f-g[0].f+2,h=0,m=b.length;h<m;h++)d=b[h].g,k=b[h].f,!0===ua(a,d-1,k-1)&&H===a.L.H(d,k)&&f.clearRect(g[d-1].qc,g[k-1].rc,e,c)}}q.df=function(a){if(this.c.X){var b=this.a.Y.e.a.width,c=this.a.Tc.e.a.getContext("2d");a=2*Math.floor((a?a:Math.floor(this.Ae*b))/2)+1;this.c.lb=a;this.c.kf=c.createImageData(a,a);this.c.wl=c.createImageData(a,a);this.c.mf=c.createImageData(a,a);this.c.Mf=c.createImageData(a,a);var d=this.c.kf.data,b=this.c.wl.data,f=this.c.mf.data,e=this.c.Mf.data,g=this.Xi(),h=this.Vi(),k=this.Mb();if(!0===this.Wi())for(var l=a/2-.5,n=l-.2,g=Math.sqrt(3),m=0;m<a;m++)for(var u=0;u<a;u++){var p=m-l,r=u-l,w=n-Math.sqrt(p*p+r*r),t=4*(m*a+a-u-1);if(0<=w){var x=n*n-p*p-r*r,x=0<x?Math.sqrt(x)*g:0,k=p,L=r,h=Math.sqrt(6*(k*k+L*L+x*x)),h=(2*x-k+L)/h,k=0;.9<h&&(k=10*(h-.9));x=255;.8>=w&&(w=(.8-w)/.8,x=.7,p-r<n/3&&(x=1),x=parseInt(255*(1-w*x)));p=parseInt(10+10*h+140*k);d[t+0]=p;d[t+1]=p;d[t+2]=p;d[t+3]=x;f[t+0]=p;f[t+1]=p;f[t+2]=p;f[t+3]=parseInt(x/2);p=parseInt(200+10*h+45*k);b[t+0]=p;b[t+1]=p;b[t+2]=p;b[t+3]=x;e[t+0]=p;e[t+1]=p;e[t+2]=p;e[t+3]=parseInt(x/2)}else d[t+0]=0,d[t+1]=0,d[t+2]=0,d[t+3]=0,f[t+0]=0,f[t+1]=0,f[t+2]=0,f[t+3]=0,b[t+0]=0,b[t+1]=0,b[t+2]=0,b[t+3]=0,e[t+0]=0,e[t+1]=0,e[t+2]=0,e[t+3]=0}else for(l=a/2-.5,n=l-.2,m=0;m<a;m++)for(u=0;u<a;u++)if(p=m-l,r=u-l,w=n-Math.sqrt(p*p+r*r),t=4*(m*a+a-u-1),0<=w){x=255;if(.8>=w){var M=(.8-w)/.8,x=.7;p-r<n/3&&(x=1);x=parseInt(255*(1-M*x))}else 1.6>=w&&.8<=w&&!0===k&&(M=(1.6-w)/.8,x=.7,p-r<n/3&&(x=1),x=parseInt(M*x*255));L=!1;1.6>=w&&(L=!0);!1===L||!1===k?(d[t+0]=h.r,d[t+1]=h.t,d[t+2]=h.s,d[t+3]=x,f[t+0]=h.r,f[t+1]=h.t,f[t+2]=h.s,f[t+3]=parseInt(x/2)):(d[t+0]=g.r,d[t+1]=g.t,d[t+2]=g.s,d[t+3]=x,f[t+0]=g.r,f[t+1]=g.t,f[t+2]=g.s,f[t+3]=x);x=255;.8>=w?(M=(.8-w)/.8,x=.7,p-r<n/3&&(x=1),x=parseInt(255*(1-M*x))):1.6>=w&&.8<=w&&!1===k&&(M=(1.6-w)/.8,x=.7,p-r<n/3&&(x=1),x=parseInt(M*x*255));!1===L||!0===k?(b[t+0]=g.r,b[t+1]=g.t,b[t+2]=g.s,b[t+3]=x,e[t+0]=g.r,e[t+1]=g.t,e[t+2]=g.s,e[t+3]=parseInt(x/2)):(b[t+0]=h.r,b[t+1]=h.t,b[t+2]=h.s,b[t+3]=x,e[t+0]=h.r,e[t+1]=h.t,e[t+2]=h.s,e[t+3]=x)}else d[t+0]=0,d[t+1]=0,d[t+2]=0,d[t+3]=0,f[t+0]=0,f[t+1]=0,f[t+2]=0,f[t+3]=0,b[t+0]=0,b[t+1]=0,b[t+2]=0,b[t+3]=0,e[t+0]=0,e[t+1]=0,e[t+2]=0,e[t+3]=0;d=[];f=[];for(t=0;28>t;t++)for(d[t]=c.createImageData(a,a),f[t]=d[t].data,m=0;m<a;m++)for(u=0;u<a;u++)l=4*(m*a+u),f[t][l+0]=b[l+0],f[t][l+1]=b[l+1],f[t][l+2]=b[l+2],f[t][l+3]=b[l+3];f.push(e);f.push(b);if(!0===y.aa.Nf){c=a/51*978|0;b=.9;t=Array(c);for(e=0;e<c;e++)t[e]=(Math.sin(18*e/c)+1)/20+(Math.sin(3*e/c)+1)/10;l=Array(c);for(m=0;m<c;m++)l[m]=.2*Math.cos(5*m/c)+.1*Math.sin(11*m/c);u=Array(c*c);for(m=0;m<c;m++)for(e=0;e<c;e++)b=90*(t[e]+l[m])+.5,b-=Math.floor(b),b=.2>b?1-b/2:.4>b?1-(.4-b)/2:1,u[e+m*c]=b;t=f.length;for(l=0;l<t;l++){var n=f[l],B,F;switch(l){case 0:B=12*c/978|0;F=163*c/978|0;break;case 1:B=12*c/978|0;F=213*c/978|0;break;case 2:B=12*c/978|0;F=263*c/978|0;break;case 3:B=12*c/978|0;F=313*c/978|0;break;case 4:B=62*c/978|0;F=163*c/978|0;break;case 5:B=62*c/978|0;F=213*c/978|0;break;case 6:B=62*c/978|0;F=263*c/978|0;break;case 7:B=62*c/978|0;F=313*c/978|0;break;case 8:B=113*c/978|0;F=163*c/978|0;break;case 9:B=113*c/978|0;F=213*c/978|0;break;case 10:B=113*c/978|0;F=263*c/978|0;break;case 11:B=113*c/978|0;F=313*c/978|0;break;case 12:B=163*c/978|0;F=163*c/978|0;break;case 13:B=163*c/978|0;F=213*c/978|0;break;case 14:B=163*c/978|0;F=263*c/978|0;break;case 15:B=163*c/978|0;F=313*c/978|0;break;case 16:B=213*c/978|0;F=163*c/978|0;break;case 17:B=213*c/978|0;F=213*c/978|0;break;case 18:B=213*c/978|0;F=263*c/978|0;break;case 19:B=213*c/978|0;F=313*c/978|0;break;case 20:B=263*c/978|0;F=163*c/978|0;break;case 21:B=263*c/978|0;F=213*c/978|0;break;case 22:B=263*c/978|0;F=263*c/978|0;break;case 23:B=263*c/978|0;F=313*c/978|0;break;case 24:B=313*c/978|0;F=163*c/978|0;break;case 25:B=313*c/978|0;F=213*c/978|0;break;case 26:B=313*c/978|0;F=263*c/978|0;break;case 27:B=313*c/978|0;F=313*c/978|0;break;case 28:B=12*c/978|0;F=12*c/978|0;break;case 29:B=12*c/978|0,F=12*c/978|0}for(m=0;m<a;m++)for(e=0;e<a;e++)b=u[B+e+(F+m)*c],p=4*(e+m*a),n[p+0]*=Math.pow(b,.8),n[p+1]*=Math.pow(b,.8),n[p+2]*=Math.pow(b,.8)}}this.c.re=d;B=this.L.Z();for(F=0;F<B.f;F++)for(a=0;a<B.g;a++)this.c.ik[a+F*B.g]=Math.floor(Math.random()*(this.c.re.length-1))}};function Oa(a){for(var b=a.L.Z(),c=1;c<=b.f;c++)for(var d=1;d<=b.g;d++)ta(a,d,c,a.L.H(d,c))}q.cf=function(){if(this.c.X){var a=this.a.Ca.e.a.getContext("2d"),b=this.c.lb;this.c.Ca=a.createImageData(b,b);a=this.c.Ca.data;this.c.yb=Math.max(parseInt(.15*b),3);for(var c=(b-5)/2+1,d=0;d<b;d++)for(var f=0;f<b;f++){var e=Math.abs(d-c),g=Math.abs(f-c),e=Math.sqrt(g*g+e*e)/c,e=1>e?.15+.75*(1-e):0,g=4*(b*d+f);a[g+0]=0;a[g+1]=0;a[g+2]=0;a[g+3]=parseInt(255*e)}}};q.rb=function(){da(this,this.Kb.g,this.Kb.f,!0)};function da(a,b,c,d){var f=C;if(-1===b||-1===c||0===b||0===c)fa(a);else if(null===a.gb&&null!==a.c.X&&(void 0===d&&(d=!1),b!==a.Kb.g||c!==a.Kb.f||!0===d)){a.Kb.g=b;a.Kb.f=c;10===a.ra&&a.we&&!d&&Ra(a,b,c,f);var e=a.c.G,g=a.c.B;d=a.a.Tb.e.a.getContext("2d");d.clearRect(0,0,e,g);if(!0===ua(a,b-1,c-1)){var g=(a.c.lb-1)/2,h=a.c.X,e=h[b-1].g-g,g=h[c-1].f-g,h=a.L.H(b,c);switch(a.ra){case 0:H===h&&(E===a.b.Ib?d.putImageData(a.c.mf,e,g):d.putImageData(a.c.Mf,e,g));break;case 1:E===h?d.putImageData(a.c.Gd,e,g):G===h&&d.putImageData(a.c.Fd,e,g);break;case 2:E===h?d.putImageData(a.c.Gd,e,g):G===h?d.putImageData(a.c.Fd,e,g):f.u?d.putImageData(a.c.Mf,e,g):d.putImageData(a.c.mf,e,g);break;case 9:b=Sa(a.L,b,c);E===b?d.putImageData(a.c.Gd,e,g):G===b&&d.putImageData(a.c.Fd,e,g);break;case 10:C.q&&!C.u?d.putImageData(a.c.Kj,e,g):!C.q&&C.u?d.putImageData(a.c.sj,e,g):C.q&&C.u?d.putImageData(a.c.dj,e,g):d.putImageData(a.c.hj,e,g);break;default:E===h||H===h&&!0===a.Mb()?d.putImageData(a.c.Gd,e,g):d.putImageData(a.c.Fd,e,g)}}}}function fa(a){var b=a.c.G,c=a.c.B;a.a.Tb.e.a.getContext("2d").clearRect(0,0,b,c);a.Kb.g=-1;a.Kb.f=-1}function ca(a,b,c){for(var d=a.c.G,f=a.c.B,e=a.Zf*f,g=a.Ae*d,d=a.Kd*d-e*a.k.O,h=a.Ld*f-g*a.k.P,f=0,k=a.L.Z(),f=0;f<k.f-1&&c>h+e*f+e/2;f++);for(c=c=0;c<k.g-1&&b>d+g*c+g/2;c++);c=Math.max(a.k.O,Math.min(a.k.T,c));f=Math.max(a.k.P,Math.min(a.k.U,f));return{g:c+1,f:f+1}}function ka(a,b,c,d,f){a=a.a.jb.e.a.getContext("2d");a.clearRect(0,0,b,c);a.strokeStyle=S(f);a.fillStyle=S(f);a.lineWidth=d;a.beginPath();a.moveTo(1*b/4,1*c/4);a.lineTo(3*b/4,3*c/4);a.moveTo(3*b/4,1*c/4);a.lineTo(1*b/4,3*c/4);a.stroke();return a.getImageData(0,0,b,c)}q.Ga=function(a,b,c,d,f){void 0===f&&(f=1);var e=this.a.jb.e.a.getContext("2d");e.clearRect(0,0,a,b);e.globalAlpha=f;e.strokeStyle=S(d);e.fillStyle=S(d);e.lineWidth=c;var g=a/2;c=3*b/4;d=.1*a;f=Math.sqrt(g*g-(c-g)*(c-g))+g;g=-Math.sqrt(g*g-(c-g)*(c-g))+g;e.beginPath();e.moveTo(a/2,d);e.lineTo(f-d,c);e.lineTo(g+d,c);e.closePath();e.stroke();return e.getImageData(0,0,a,b)};function la(a,b,c,d,f){var e=a.a.jb.e.a.getContext("2d");e.clearRect(0,0,b,c);e.strokeStyle=S(f);e.fillStyle=S(f);e.lineWidth=Math.floor(d+.5);var g=b/2,h=-c/2*Math.sqrt(2)/2+c/2;a=Math.floor(-Math.sqrt(g*g-(h-g)*(h-g))+g);var g=Math.ceil(+Math.sqrt(g*g-(h-g)*(h-g))+g),h=Math.ceil(h),k=Math.floor(c/2*Math.sqrt(2)/2+c/2);d=Math.floor(d);for(var e=e.createImageData(b,c),l=0;l<c;l++)for(var n=0;n<b;n++){var m=4*(l*b+n);(a<=n&&n<=a+d||g-d<=n&&n<=g)&&h<=l&&l<=k||(h<=l&&l<=h+d||k-d<=l&&l<=k)&&a<=n&&n<=g?(e.data[m+0]=f.r,e.data[m+1]=f.t,e.data[m+2]=f.s,e.data[m+3]=255):(e.data[m+0]=0,e.data[m+1]=0,e.data[m+2]=0,e.data[m+3]=0)}return e}function ma(a,b,c,d,f,e){a=a.a.jb.e.a.getContext("2d").createImageData(b,c);var g=d?c/4|0:c/3|0,h=d?3*c/4|0:2*c/3|0,k=d?b/4|0:b/3|0;d=d?3*b/4|0:2*b/3|0;for(var l=0;l<c;l++)for(var n=0;n<b;n++){var m=4*(l*b+n);(l===g||l===h)&&n>=k&&n<=d||(n===k||n===d)&&l>=g&&l<=h?(a.data[m+0]=e.r,a.data[m+1]=e.t,a.data[m+2]=e.s,a.data[m+3]=255):l>g&&l<h&&n>k&&n<d?(a.data[m+0]=f.r,a.data[m+1]=f.t,a.data[m+2]=f.s,a.data[m+3]=255):a.data[m+3]=0}return a}function na(a,b,c,d,f){a=a.a.jb.e.a.getContext("2d");a.clearRect(0,0,b,c);var e=b/2,g=4*d;a.strokeStyle=S(f);a.fillStyle=S(f);a.lineWidth=d;a.beginPath();a.arc(b/2,c/2,e-g,0,2*Math.PI,!1);a.stroke();return a.getImageData(0,0,b,c)}function Ta(a,b,c){a=a.Fa[""+((c<<8)+b)];return void 0!==a?a:null}function ya(a,b,c,d){wa===d.I?Ua(a,b,c):a.Fa[""+((c<<8)+b)]=d}function Ua(a,b,c){if(0>=b||0>=c)a.fg=0;else{var d=(c<<8)+b;void 0===a.Fa[""+d]&&(a.Fa[""+d]=new va(b,c,wa,""));a.fg=d}}function Qa(a){a.a.jb.e.a.getContext("2d").clearRect(0,0,a.c.G,a.c.B);var b=[],c;for(c in a.Fa){var d=a.Fa[c];Va(a,d);Wa===d.I&&b.push({g:d.td(),f:d.ud()})}Na(a,b)}function Va(a,b){if(a.c.X){var c=b.td(),d=b.ud(),f=b.I,e=a.a.jb.e.a.getContext("2d"),g=a.Mb();if(!0===ua(a,c-1,d-1)){var h=a.c.lb,k=(h-1)/2,l=a.c.X,n=l[c-1].g-k,k=l[d-1].f-k,c=a.L.H(c,d);switch(f){case Xa:e.putImageData(a.c.Qj,n,k);break;case Ya:e.putImageData(a.c.Sj,n,k);break;case Za:e.putImageData(a.c.Rj,n,k);break;case $a:e.putImageData(a.c.Tj,n,k);break;case wa:!0===a.Uf?E===c?e.putImageData(a.c.Vg,n,k):e.putImageData(a.c.Ug,n,k):e.putImageData(a.c.Aj,n,k);break;case ab:e.putImageData(c===E||c==H&&1==g?a.c.Vg:a.c.Ug,n,k);break;case bb:e.putImageData(c===E||c==H&&1==g?a.c.Oj:a.c.Nj,n,k);break;case cb:e.putImageData(c===E||c==H&&1==g?a.c.Wj:a.c.Vj,n,k);break;case db:e.putImageData(c===E||c==H&&1==g?a.c.Gd:a.c.Fd,n,k);break;case Wa:f=b.Wd,d=2>=f.length?2*h/3:h/2,l=d+"px "+(Ma(f)?"Arial":"Helvetica, Arial, Verdana"),e.fillStyle=c===E||c==H&&1==g?"rgb(255,255,255)":"rgb(0,0,0)",e.font=l,e.fillText(f,n+(h-e.measureText(f).width)/2,k+(h/2+d/3))}}}}function Pa(a){for(var b in a.Ka){var c=T(b);eb(a,c.g,c.f)}}function fb(a){for(var b in a.Ka){var c=T(b);gb(a,c.g,c.f)}a.Ka={}}function Ra(a,b,c,d){var f=(c<<8)+b;if(hb===d.Qg)void 0!==a.Ka[f]&&(delete a.Ka[f],gb(a,b,c),a.b.Jh(b,c));else{d=d.q&&!d.u?new A(200,0,0,50):d.u&&!d.q?new A(0,100,0,50):d.u&&d.q?new A(80,80,80,50):new A(0,0,200,50);if(void 0!==a.Ka[f]){var e=a.Ka[f];d.r===e.r&&d.t===e.t&&d.s===e.s?(d=e.Ea,a.Ka[f].Ea=50>d?50:100>d?100:150>d?150:200):a.Ka[f]=d}else a.Ka[f]=d;eb(a,b,c);a.b.Bg(b,c,a.Ka[f])}}function eb(a,b,c){gb(a,b,c);var d=a.a.pf.e.a.getContext("2d"),f=a.c.X,e=b-1,g=c-1;d.fillStyle=S(a.Ka[(c<<8)+b]);d.beginPath();d.moveTo(f[e].qc,f[g].rc);d.lineTo(f[e].se,f[g].rc);d.lineTo(f[e].se,f[g].te);d.lineTo(f[e].qc,f[g].te);d.closePath();d.fill()}function gb(a,b,c){var d=a.a.pf.e.a.getContext("2d");a=a.c.X;b=b-1;c=c-1;d.clearRect(a[b].qc,a[c].rc,a[b].se-a[b].qc,a[c].te-a[c].rc)}q.Yi=function(a,b,c){switch(this.ra){case 0:if(hb==c.Qg)1<=this.b.De&&(ib(this.b,1),jb(this,a,b));else if(c.u&&c.q)this.b.me(E===this.b.Ib?G:E),this.rb();else if(!0===c.q){var d=this.L.Z(),f=d.f;a=La(a,d.g);this.b.hf(a+(f+1-b))}else if(c.u){f=this.b;f.Ma&&(f.Ma.Jd=!1);d=f.j;kb(f);for(c=0;1E3>c&&H===f.ha.H(a,b);)lb(f,1),c++;H===f.ha.H(a,b)&&mb(f,d);f.Ma&&(f.Ma.Jd=!0)}else jb(this,a,b),null!==this.cd&&nb(this.b.j)>=ob(this.cd)&&pb(this.cd);break;case 1:if(!0===c.q)Ba(this,0);else{f=this.L;d=f.H(a,b);if(H!==d)if(f.bg.va(),c=f.Ub[Da(f,a,b)],E!==c&&G!==c){f.ua.va();qb(f,a,b,d);for(var e in f.bg.mb)c=T(e|0),f.ua.va(),rb(f,c.g,c.f,3-d),sb(f.ua,f,3);Ea(f,!0);f.ua.va();qb(f,a,b,d);sb(f.ua,f,3-d)}else f.ua.va(),qb(f,a,b,d),sb(f.ua,f,3),Ea(f,!0);this.b.rf()}break;case 2:!0===this.b.j.yd()&&!0===tb(this.b,!0,!0)&&ub(this.b);f=E;H!==this.L.H(a,b)?f=H:c.u&&(f=G);ta(this,a,b,f);this.L.Set(a,b,f,-1);this.b.md(f,[(b<<8)+a]);break;case 3:vb(this,cb,a,b);break;case 4:vb(this,bb,a,b);break;case 5:vb(this,ab,a,b);break;case 6:vb(this,db,a,b);break;case 7:a:{d=Ta(this,a,b);if(null!==d&&Wa===d.I)this.b.xb([(b<<8)+a]),this.xb(a,b);else{d="";c.u&&(d=prompt("Enter the label that you want to add to board here. For best results, keep your label to one or two letters.",""));if(void 0==d||""===d||null===d){d=[];c=-1;for(f in this.Fa)if(e=this.Fa[f],Wa==e.I){e=e.Wd;var g=e.charCodeAt(0);1==e.length&&65<=g&&90>=g&&(d[g]=1)}for(f=65;90>=f;f++)if(void 0===d[f]||""==d[f]){c=f;break}d=-1==c?null:String.fromCharCode(c);if(null===d){b=this.b;(a=b.i)&&wb(a.fa.id,xb,{R:b,W:a,Pb:"Sorry, all standard labels are used up! To add more labels, use shift and click on the board to make up ur own labels.",G:305,B:115});break a}}f=new va(a,b,Wa,d);this.b.Zd(d,(b<<8)+a);ya(this,a,b,f)}Qa(this)}break;case 8:a:{f=Ta(this,a,b);if(null!==f&&Wa===f.I)this.b.xb([(b<<8)+a]),this.xb(a,b);else{f="";if(c.u){f=this.L.hh(a,b);if(-1==f){b=this.b;(a=b.i)&&wb(a.fa.id,xb,{R:b,W:a,Pb:"Sorry, no move has been made at that location, so you can't mark it with the move number.",G:305,B:115});break a}f=""+f}if(void 0===f||""===f||null===f){f=[];c=0;for(d in this.Fa)e=this.Fa[d],Wa===e.I&&Ma(e.Wd)&&(f[c]=parseInt(e.Wd),c++);if(0>=c)f="1";else{f.sort(yb);e=d=0;for(var g=!1,h=0;h<c;h++){if(f[h]>d+1){e=d+1;g=!0;break}d=f[h]}g||(e=d+1);f=""+e}}d=new va(a,b,Wa,f);this.b.Zd(f,(b<<8)+a);ya(this,a,b,d)}Qa(this)}break;case 9:f=this.L;c=f.H(a,b);if(H!==c){e=new zb;Ab(f,a,b,e);d=[];for(g in e.kg)d.push(g);b=Sa(f,a,b)!==c?c:E===c?G:E;a=0;for(c=d.length;a<c;a++)e=T(d[a]),za(f,e.g,e.f,b)}b=this.L.sf(this);this.Td&&Aa(this.Td,"B "+b.jj+"("+b.ij+") W "+b.hk+"("+b.gk+")");Qa(this);this.rb();break;case 10:Ra(this,a,b,c);break;case 11:this.ka.Sc=!0,this.ka.Hf=a,this.ka.If=b,this.ka.pd=a,this.ka.qd=b,ea(this)}};function ea(a){if(11===a.ra&&!0===a.ka.Sc){var b=a.c.G,c=a.c.B,d=a.c.X,f=a.a.Bd.e.a.getContext("2d");f.clearRect(0,0,b,c);var b=a.ka.Hf-1,c=a.ka.If-1,e=a.ka.pd-1;a=a.ka.qd-1;if(b>e)var g=e,e=b,b=g;c>a&&(g=a,a=c,c=g);f.fillStyle=S(new A(107,112,122,128));f.beginPath();f.moveTo(d[b].qc,d[c].rc);f.lineTo(d[e].se,d[c].rc);f.lineTo(d[e].se,d[a].te);f.lineTo(d[b].qc,d[a].te);f.closePath();f.fill()}}function vb(a,b,c,d){var f=Ta(a,c,d);if(null!==f&&b===f.I){if(a.b.xb([(d<<8)+c]),a.xb(c,d),a.c.X&&!0===ua(a,c-1,d-1)){b=(a.c.lb-1)/2;var e=a.c.X,f=e[c-1].g-b,e=e[d-1].f-b;a.a.jb.e.a.getContext("2d").clearRect(f,e,2*b,2*b);b=T(a.fg);c===b.g&&d===b.f&&(Ua(a,c,d),Va(a,Ta(a,c,d)))}}else f=new va(c,d,b,""),a.b.Oa(b,[(d<<8)+c]),ya(a,c,d,f),Va(a,f)}function jb(a,b,c){if(H===a.L.H(b,c)){var d=E===a.b.Ib?E:G,f=!1,e=a.L.bc.od();a.L.Set(b,c,d,-1);f=null!==Bb(a.L,b,c,d,!0)?!0:null!==Cb(a.L,b,c,d)?!1:!0;a.L.Set(b,c,H,-1);a.L.bc.be(e);1==f&&!0===Db(a.b,b,c,d)&&ub(a.b)}}function ja(a,b){if(9!==a.ra&&11!==a.ra){var c=b.D,d=!1;8===c||46===c?(Eb(a.b),d=!0):36===c?!0===b.q&&!0===b.u&&(Fb(a.b),d=!0):37===c?(b.q&&b.u?kb(a.b):b.q?ib(a.b,5):ib(a.b,1),d=!0):38===c?(b.q?a.b.ih():Gb(a.b),d=!0):39===c?(b.q&&b.u?Hb(a.b):b.q?lb(a.b,5):lb(a.b,1),d=!0):40===c?(Ib(a.b),d=!0):65===c&&!0===b.q&&!0===b.u?(Jb(a),d=!0):67===c&&!0===b.q?(10===a.ra?a.b.Tg():wb(a.a.e.a.id,Kb,{R:a.b,W:a.i}),d=!0):68===c&&!0===b.q?(wb(a.a.e.a.id,Lb,{R:a.b,W:a.i}),d=!0):69===c&&!0===b.q?(wb(a.a.e.a.id,Mb,{R:a.b,W:a.i}),d=!0):72===c&&!0===b.q?(!0===b.u?Nb(a.b):Ob(a.b),d=!0):73===c&&!0===b.q?(!0===b.u?Pb(a.b):Qb(a.b),d=!0):77===c&&!0===b.q&&!0===b.u?(a.b.Ch(),d=!0):79===c&&!0===b.q?(10===a.ra?wb(a.a.e.a.id,Rb,{ah:a,W:a.i}):!0===b.u?(c=prompt("Enter here code of ur sgf file",""),a.b.jc(c)):(c=document.getElementsByTagName("body"),0<c.length&&(c=c[0],d=document.createElement("input"),c.appendChild(d),d.type="file",d.multiple=!1,d.accept=".sgf,.gib,.ngf",d.style.display="none",d.addEventListener("change",function(c){c=c.target.files;if(0<c.length){c=c[0];var b=c.name.split(".").pop().toLowerCase(),d=new FileReader;d.onload=function(c){a.b.jc(c.target.result,null,null,b);a.wa()};d.readAsText(c);a.wa()}},!1),Sb(d),c.removeChild(d))),d=!0):82===c&&!0===b.q?(10===a.ra?(fb(a),a.b.Ih()):a.Ff(!0===a.eb?!1:!0),d=!0):83===c&&!0===b.q?(c=a.b.Cf(),FileReader&&Blob&&(d=a.b.Ec,""===d&&(d=a.b.Fc+" vs. "+a.b.Bc),""===d&&(d="download"),Tb(new Blob([c],{type:"text/plain;charset=utf-8"}),d+".sgf","application/x-go-sgf")),d=!0):86===c&&!0===b.q?(!0===b.u?wb(a.a.e.a.id,Ub,{R:a.b,W:a.i}):(c=a.b.Zc,c++,c>Vb&&(c=Wb),Xb(a.b,c)),d=!0):112===c?(Ba(a,0),d=!0):113===c?(Ba(a,1),d=!0):114===c?(Ba(a,2),d=!0):115===c?(Ba(a,3),d=!0):116===c?(Ba(a,4),d=!0):117===c?(Ba(a,5),d=!0):118===c?(Ba(a,6),d=!0):119===c?(Ba(a,7),d=!0):120===c?(Ba(a,8),d=!0):121===c&&(Ba(a,10),d=!0);return d}}function ua(a,b,c){return b>=a.k.O&&b<=a.k.T&&c>=a.k.P&&c<=a.k.U?!0:!1}q.vg=function(){return y.aa.tc};q.Wi=function(){return y.aa.Xc};q.ug=function(){return y.aa.Wc};q.Xi=function(){return y.aa.kd};q.Vi=function(){return y.aa.hd};q.ef=function(){return y.aa.Ic};q.ld=function(){return y.aa.jd};q.Mb=function(){return y.aa.Vc};function Jb(a){Ka(a);var b=a.c.G,c=a.c.B,d=a.a.X.e.a.getContext("2d");d.clearRect(0,0,b,c);for(var f=b/406,e=c/348,g=[207,193,1],h=[{g:0,f:49},{g:0,f:198},{g:71,f:348},{g:178,f:348},{g:318,f:348},{g:406,f:238},{g:406,f:41},{g:247,f:0}],k=[[[162,162,2],[221,125,2],[256,156,2],[250,203,1],[234,231,2],[199,236,0],[177,228,1],[150,195,1]],[[133,141,2],[229,89,1],[283,136,1],[282,210,2],[247,249,0],[195,261,2],[158,250,0],[124,196,0]],[[106,122,0],[238,45,0],[309,115,0],[312,216,2],[260,267,0],[187,300,1],[138,272,0],[96,197,1]],[[72,99,2],[246,10,0],[346,88,1],[344,224,0],[272,291,0],[182,329,0],[115,298,0],[60,197,0]],[[28,67,0],[259,-40,0],[373,66,0],[385,233,0],[298,319,2],[170,380,0],[81,336,0],[14,198]]],l=0,n=h.length;l<n;l++)d.beginPath(),d.moveTo(g[0]*f,g[1]*e),d.lineTo(h[l].g*f,h[l].f*e),d.stroke();h=0;for(l=k.length;h<l;h++){n=k[h];d.beginPath();for(var m=0,u=n.length;m<u;m++){var p=n[m];0===m?d.moveTo(p[0]*f,p[1]*e):d.lineTo(p[0]*f,p[1]*e)}d.closePath();d.stroke()}k.push([g]);a.df(30*f);a.cf();d=a.a.Tc.e.a.getContext("2d");g=a.a.Ca.e.a.getContext("2d");d.clearRect(0,0,b,c);g.clearRect(0,0,b,c);b=(a.c.lb-1)/2;c=a.c.yb;h=0;for(l=k.length;h<l;h++)for(n=k[h],m=0,u=n.length;m<u;m++){var p=n[m],r=(p[0]*f|0)-b,w=(p[1]*e|0)-b;E===p[2]?d.putImageData(a.c.kf,r,w):G===p[2]&&d.putImageData(a.c.re[Math.random()*(a.c.re.length-1)|0],r,w);E!==p[2]&&G!==p[2]||g.putImageData(a.c.Ca,r+c,w+c)}};function Yb(a){this.i=a;this.b=null;this.Aa=this.I=0;this.Ie=16;this.qi=!1;this.c={rj:null,Ej:null,zj:null,ej:null,Mj:null};this.a={e:null,of:{e:null}};this.Ji=new A(217,217,217,255);this.jg=new A(0,0,0,255);this.eg=new A(54,101,179,255);this.Oe=new A(255,255,255,255);this.Ei=new A(54,101,179,255);this.ag=new A(255,255,255,255);this.Hi=new A(217,217,217,255);this.Ii=new A(140,140,140,255);this.F=this.w=0;var b=this;this.ff=function(a){4!==b.Aa&&(ga(a),b.Aa=1,Zb(b),a.stopImmediatePropagation())};this.zg=function(a){if(4!==b.Aa){if(C.Ia!==a.target)return;b.Aa=2;Zb(b);b.Yi();a.stopImmediatePropagation()}b.xg()};this.lm=function(){4!==b.Aa&&(1!==b.Aa&&(b.Aa=2),Zb(b))};this.gf=function(){4!==b.Aa&&(b.Aa=b.qi?8:0,Zb(b))};this.xg=function(){b.b&&20!==b.I&&b.b.wa()};this.Zi=function(a){a.dataTransfer.effectAllowed="all";a.dataTransfer.setData("text/sgf","(;SZ[19];)")}}q=Yb.prototype;q.o=function(a,b,c){this.b=b;this.I=c;if(this.i)switch(this.I){case 1:this.i.C.Eg.push(this);break;case 2:this.i.C.Fg.push(this);break;case 3:this.i.C.ec.push(this);break;case 4:this.i.C.gc.push(this);break;case 5:this.i.C.eh.push(this);break;case 6:this.i.C.dh.push(this);break;case 7:this.i.C.lc.push(this);break;case 8:this.i.C.mc.push(this);break;case 9:this.i.C.Ig.push(this);break;case 10:this.i.C.Kg.push(this);break;case 11:this.i.C.Hg.push(this);break;case 12:this.i.C.Ng.push(this);break;case 13:this.i.C.Lg.push(this);break;case 14:this.i.C.Gg.push(this);break;case 15:this.i.C.Og.push(this);break;case 16:this.i.C.Mg.push(this);break;case 17:this.i.C.Jg.push(this);break;case 18:this.i.Ke=this}this.a.e=D(a);b=this.a.e.a;b.setAttribute("title",$b(this));c=document.createElement("canvas");c.setAttribute("id",a+"_canvas");c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");c.style["-webkit-transition"]="background 2s";c.style.transition="background 2s";b.appendChild(c);this.a.of.e=D(a+"_canvas");a=this.a.of.e;I(a.h,0,0,1E3,1E3,!1,!1,!1,!1,-1,-1);a.m=J|K|O|P;this.a.e.l(a);b.onmousedown=this.ff;b.onmouseup=this.zg;b.onmouseover=this.lm;b.onmouseout=this.gf;b.onfocus=this.xg;b.tabIndex=-1;b.style.outline="none";b.draggable="true";b.Am=this.Zi;this.v()};q.v=function(){var a=this.a.e.a.clientWidth,b=this.a.e.a.clientHeight;if(a!==this.w||b!==this.F)this.w=a,this.F=b,this.a.e.Va(this.w,this.F),this.Nb()};function ac(a,b){!0===b&&4===a.Aa?(a.Aa=0,Zb(a)):!1===b&&4!==a.Aa&&(a.Aa=4,Zb(a))}function bc(a,b){a.Ie!==b&&(a.Ie=b,a.Nb(),a.a.e.a.setAttribute("title",$b(a)))}function cc(a,b){a.qi!==b&&(a.qi=b,!0===b&&0===a.Aa?(a.Aa=8,Zb(a)):!1===b&&8===a.Aa&&(a.Aa=0,Zb(a)))}q.Nb=function(){var a=this.F,b=this.w;if(0!==b&&0!==a){this.c.ej=dc(this,this.Ei,this.ag,b,a);this.c.zj=dc(this,this.eg,this.Oe,b,a);this.c.Ej=dc(this,this.Ji,this.jg,b,a);this.c.rj=dc(this,this.Hi,this.Ii,b,a);this.c.Mj=dc(this,this.eg,this.Oe,b,a);var a=document.getElementsByTagName("head")[0],b=document.createElement("style"),c=document.createTextNode("a#my_link:hover{color:#ff0000 !important;}");b.type="text/css";b.styleSheet?b.styleSheet.cssText=c.nodeValue:b.appendChild(c);a.appendChild(b);Zb(this)}};function dc(a,b,c,d,f){var e=a.a.of.e.a.getContext("2d");e.fillStyle=S(b);e.fillStyle=S(b);e.fillRect(0,0,d,f);e.fillStyle=S(c);e.strokeStyle=S(c);var g=Math.min(d,f),h=(d-g)/2,k=(f-g)/2;switch(a.I){case 1:a.Ga(g,h,k,e,-1);a=Math.ceil(h+g/10+.5);h=Math.ceil(k+g/5+.5);c=Math.floor(g/10+.5);b=Math.floor(3*g/5+.5);e.fillRect(a,h,c,b);break;case 2:a.Ga(g,h-g/10,k,e,-1);a=Math.ceil(h+8*g/10+.5);h=Math.ceil(k+g/5+.5);c=Math.floor(g/10+.5);b=Math.floor(3*g/5+.5);e.fillRect(a,h,c,b);break;case 3:a.Ga(g,h-g/10,k,e,-1);break;case 4:a.Ga(g,h-g/10,k,e,1);break;case 5:a.Ga(g,h+g/10,k,e,1);a=Math.ceil(h+g/10+.5);h=Math.ceil(k+g/5+.5);c=Math.floor(g/10+.5);b=Math.floor(3*g/5+.5);e.fillRect(a,h,c,b);break;case 6:a.Ga(g,h,k,e,1);a=Math.ceil(h+8*g/10+.5);h=Math.ceil(k+g/5+.5);c=Math.floor(g/10+.5);b=Math.floor(3*g/5+.5);e.fillRect(a,h,c,b);break;case 7:c=Math.ceil(h+.2*g+.5);b=Math.ceil(h+.35*g+.5);a=Math.ceil(h+.57*g+.5);var h=Math.ceil(h+.92*g+.5),l=Math.ceil(k+.2*g+.5),n=Math.ceil(k+.38*g+.5),m=Math.ceil(k+.52*g+.5),u=Math.ceil(k+.6*g+.5),p=Math.ceil(k+.68*g+.5),k=Math.ceil(k+.84*g+.5);e.beginPath();e.moveTo(c,l);e.lineTo(b,l);e.lineTo(b,m);e.lineTo(a,m);e.lineTo(a,n);e.lineTo(h,u);e.lineTo(a,k);e.lineTo(a,p);e.lineTo(c,p);e.closePath();e.fill();break;case 8:c=Math.ceil(h+.2*g+.5);b=Math.ceil(h+.35*g+.5);a=Math.ceil(h+.57*g+.5);h=Math.ceil(h+.92*g+.5);l=Math.ceil(k+.8*g+.5);n=Math.ceil(k+.62*g+.5);m=Math.ceil(k+.48*g+.5);u=Math.ceil(k+.4*g+.5);p=Math.ceil(k+(1-.68)*g+.5);k=Math.ceil(k+(1-.84)*g+.5);e.beginPath();e.moveTo(c,l);e.lineTo(b,l);e.lineTo(b,m);e.lineTo(a,m);e.lineTo(a,n);e.lineTo(h,u);e.lineTo(a,k);e.lineTo(a,p);e.lineTo(c,p);e.closePath();e.fill();break;case 9:l=Math.ceil(h+.5*g-g/10+.5);m=Math.ceil(k+.5*g-g/10+.5);b=Math.ceil(.25*g+.5);e.fillStyle=S(new A(255,255,255));e.strokeStyle=S(new A(0,0,0));e.beginPath();e.arc(l,m,b,0,2*Math.PI,!1);e.fill();e.stroke();e.fillStyle=S(new A(0,0,0));l=Math.ceil(h+.5*g+g/10+.5);m=Math.ceil(k+.5*g+g/10+.5);b=Math.ceil(.25*g+.5);e.beginPath();e.arc(l,m,b,0,2*Math.PI,!1);e.fill();break;case 10:n=e.createImageData(g,g);c=g/5|0;l=4*g/5|0;for(m=0;m<g;m++)for(u=0;u<g;u++)a=4*(m*g+u),m>=c&&m<=l&&u>=c&&u<=l?g-m>=u||m===c||m===l||u===c||u===l?(n.data[a+0]=0,n.data[a+1]=0,n.data[a+2]=0):(n.data[a+0]=255,n.data[a+1]=255,n.data[a+2]=255):(n.data[a+0]=b.r,n.data[a+1]=b.t,n.data[a+2]=b.s),n.data[a+3]=255;e.putImageData(n,h,k);break;case 11:l=Math.ceil(h+.75*g+.5);m=Math.ceil(k+.125*g+.5);c=Math.ceil(.25*g+.5);b=Math.ceil(.02*g+.5);e.fillRect(l,m,c,b);l=Math.ceil(h+.875*g+.5);m=Math.ceil(k+.5);c=Math.ceil(.02*g+.5);b=Math.ceil(.25*g+.5);e.fillRect(l,m,c,b);l=Math.ceil(h+.5);m=Math.ceil(k+.875*g+.5);c=Math.ceil(.25*g+.5);b=Math.ceil(.02*g+.5);e.fillRect(l,m,c,b);l=Math.ceil(h+.5*g-g/10+.5);m=Math.ceil(k+.5*g-g/10+.5);b=Math.ceil(.25*g+.5);e.fillStyle=S(new A(255,255,255));e.strokeStyle=S(new A(0,0,0));e.beginPath();e.arc(l,m,b,0,2*Math.PI,!1);e.fill();e.stroke();e.fillStyle=S(new A(0,0,0));l=Math.ceil(h+.5*g+g/10+.5);m=Math.ceil(k+.5*g+g/10+.5);b=Math.ceil(.25*g+.5);e.beginPath();e.arc(l,m,b,0,2*Math.PI,!1);e.fill();break;case 12:b=g/2;a=3*g/4;c=.1*g;n=Math.sqrt(b*b-(a-b)*(a-b))+b;m=-Math.sqrt(b*b-(a-b)*(a-b))+b;e.lineWidth=Math.ceil(.05*g+.5);e.beginPath();e.moveTo(h+g/2,k+2*c);e.lineTo(h+n-c,k+a+c);e.lineTo(h+m+c,k+a+c);e.closePath();e.stroke();break;case 13:b=g/2;c=.05*g;l=-g/2*Math.sqrt(2)/2+g/2;a=g/2*Math.sqrt(2)/2+g/2;n=Math.sqrt(b*b-(l-b)*(l-b))+b;m=-Math.sqrt(b*b-(l-b)*(l-b))+b;b=Math.floor(h+n-c);h=Math.ceil(h+m+c);l=Math.ceil(k+l+c);k=Math.floor(k+a-c);e.lineWidth=Math.ceil(.05*g+.5);e.beginPath();e.moveTo(b,l);e.lineTo(h,l);e.lineTo(h,k);e.lineTo(b,k);e.closePath();e.stroke();break;case 14:a=.05*g;b=g/2;c=4*a;e.lineWidth=Math.ceil(a+.5);e.beginPath();e.arc(h+g/2,k+g/2,b-c,0,2*Math.PI,!1);e.stroke();break;case 15:c=h+.25*g;b=h+.75*g;l=k+.25*g;n=k+.75*g;e.lineWidth=Math.ceil(.05*g+.5);e.beginPath();e.moveTo(c,l);e.lineTo(b,n);e.moveTo(b,l);e.lineTo(c,n);e.stroke();break;case 16:c="A";b=.8*g;e.font=b+"px Arial";l=h+(g-e.measureText(c).width)/2;e.fillText(c,l,k+g/2+b/3);break;case 17:c="1";b=.8*g;e.font=b+"px Helvetica, Arial, Verdana";l=h+(g-e.measureText(c).width)/2;e.fillText(c,l,k+g/2+b/3);break;case 18:16===a.Ie?a.Ga(g,h,k,e,1):(c=Math.floor(h+g/5+g/20+.5),b=Math.ceil(h+4*g/5-g/20+.5),h=Math.ceil(k+g/5+.5),k=Math.ceil(k+4*g/5+.5),a=Math.ceil(c+g/5),g=Math.floor(b-g/5),e.beginPath(),e.moveTo(c,h),e.lineTo(a,h),e.lineTo(a,k),e.lineTo(c,k),e.closePath(),e.fill(),e.beginPath(),e.moveTo(b,h),e.lineTo(g,h),e.lineTo(g,k),e.lineTo(b,k),e.closePath(),e.fill());break;case 19:n=e.createImageData(d,f);e=n.data;h=(d-8)/2|0;k=(f-8)/2|0;for(m=0;m<f;m++)for(l=0;l<d;l++){a=4*(l+m*d);b=c.r;var g=c.t,u=c.s,p=m-k,r=l-h;if(0===p&&(0===r||1===r||6===r||7===r)||1===p&&(1===r||2===r||5===r||6===r)||2===p&&(2===r||3===r||4===r||5===r)||3===p&&(3===r||4===r)||4===p&&(3===r||4===r)||5===p&&(2===r||3===r||4===r||5===r)||6===p&&(1===r||2===r||5===r||6===r)||7===p&&(0===r||1===r||6===r||7===r))u=g=b=255;e[a+0]=b;e[a+1]=g;e[a+2]=u;e[a+3]=255}return n;case 20:a=.02*g;b=g/2;c=4*a;e.lineWidth=Math.ceil(a+.5);e.beginPath();e.arc(h+g/2,k+g/2,b-c,0,2*Math.PI,!1);e.stroke();c="i";b=.9*g;e.font=b+"px Times New Roman, Sans serif";l=h+(g-e.measureText(c).width)/2;e.fillText(c,l,k+g/2+b/3);break;case 21:e.lineWidth=1;e.moveTo(0,0);e.lineTo(0,f);e.lineTo(d,f);e.lineTo(d,0);e.lineTo(0,0);e.stroke();c="OK";b=.6*g;e.fillStyle=S(new A(0,0,0,255));e.font=b+"px Tahoma, Sans serif";l=h+(g-e.measureText(c).width)/2;e.fillText(c,l,k+g/2+b/3);break;case 22:e.lineWidth=1;e.moveTo(0,0);e.lineTo(0,f);e.lineTo(d,f);e.lineTo(d,0);e.lineTo(0,0);e.stroke();c="Cancel";b=.6*g;e.fillStyle=S(new A(0,0,0,255));e.font=b+"px Tahoma, Sans serif";l=h+(g-e.measureText(c).width)/2;e.fillText(c,l,k+g/2+b/3);break;case 23:a=.02*g;c=g/2-g/30;b=g/4;e.lineWidth=Math.ceil(7*a+.5);e.beginPath();e.arc(h+g/2,k+g/2,b,0,2*Math.PI,!1);e.stroke();e.lineWidth=Math.ceil(5*a+.5);for(a=0;9>a;a++)e.beginPath(),l=40*a*Math.PI/180,e.lineTo(h+b*Math.cos(l)+g/2,k-b*Math.sin(l)+g/2),e.lineTo(h+c*Math.cos(l)+g/2,k-c*Math.sin(l)+g/2),e.stroke();break;case 24:c="Pass";b=.9*g;e.font=b+"px Times New Roman, Sans serif";l=h+(g-e.measureText(c).width)/2;e.fillText(c,l,k+g/2+b/3);break;case 25:a=.02*g;b=g/2;c=4*a;e.lineWidth=Math.ceil(a+.5);e.beginPath();e.arc(h+g/2,k+g/2,b-c,0,2*Math.PI,!1);e.stroke();c="?";b=.9*g;e.font=b+"px Times New Roman, Sans serif";l=h+(g-e.measureText(c).width)/2;e.fillText(c,l,k+g/2+b/3);break;case 26:a=Math.ceil(h+3*g/20+.5);l=Math.ceil(h+16*g/20+.5);n=Math.ceil(h+14*g/20+.5);h=Math.ceil(h+11*g/20+.5);c=Math.ceil(k+5*g/20+.5);m=Math.ceil(k+14*g/20+.5);k=Math.ceil(k+18*g/20+.5);e.lineWidth=2;e.beginPath();e.moveTo(a,c);e.lineTo(l,c);e.lineTo(l,m);e.lineTo(n,m);e.lineTo(n,k);e.lineTo(h,m);e.lineTo(a,m);e.closePath();e.stroke();break;case 27:a=h+0,l=h+6*g/20,n=h+14*g/20,h+=g,m=k+6*g/20,k+=14*g/20,b=g/7,e.lineWidth=2,e.strokeStyle=S(c),e.beginPath(),e.moveTo(a,m),e.lineTo(h,m),e.stroke(),e.beginPath(),e.moveTo(l,m),e.lineTo(l,k),e.lineTo(h,k),e.stroke(),e.lineWidth=1,e.strokeStyle=S(new A(0,0,0)),e.fillStyle=S(new A(255,255,255)),e.beginPath(),e.arc(n,m,b,0,2*Math.PI,!1),e.fill(),e.stroke(),e.beginPath(),e.arc(n,k,b,0,2*Math.PI,!1),e.fill(),e.stroke(),e.fillStyle=S(new A(0,0,0)),e.beginPath(),e.arc(l,m,b,0,2*Math.PI,!1),e.fill()}return e.getImageData(0,0,d,f)}q.Ga=function(a,b,c,d,f){var e=Math.ceil(b+a/5+.5);b=Math.ceil(b+4*a/5+.5);var g=Math.ceil(c+a/5+.5),h=Math.ceil(c+a/2+.5);a=Math.ceil(c+4*a/5+.5);0>f?(d.beginPath(),d.moveTo(e,h),d.lineTo(b,g),d.lineTo(b,a)):(d.beginPath(),d.moveTo(e,g),d.lineTo(b,h),d.lineTo(e,a));d.closePath();d.fill()};function Zb(a){var b=a.a.of.e.a.getContext("2d"),c=null;switch(a.Aa){case 2:c=a.c.zj;break;case 1:c=a.c.ej;break;case 4:c=a.c.rj;break;case 8:c=a.c.Mj;break;default:case 0:c=a.c.Ej}c&&b.putImageData(c,0,0)}q.Yi=function(){if(this.b)switch(this.I){case 1:kb(this.b);break;case 2:ib(this.b,5);break;case 3:ib(this.b,1);break;case 4:lb(this.b,1);break;case 5:lb(this.b,5);break;case 6:Hb(this.b);break;case 7:Ib(this.b);break;case 8:Gb(this.b);break;case 9:Ba(this.b.n,0);break;case 10:Ba(this.b.n,1);break;case 11:Ba(this.b.n,2);break;case 12:Ba(this.b.n,3);break;case 13:Ba(this.b.n,4);break;case 14:Ba(this.b.n,5);break;case 15:Ba(this.b.n,6);break;case 16:Ba(this.b.n,7);break;case 17:Ba(this.b.n,8);break;case 18:16===this.Ie?this.b.oe():this.b.Dd();break;case 19:this.b.Ua();break;case 20:wb(this.a.e.a.id,ec,{R:this.b,W:this.i});break;case 21:this.b&&this.b.de();break;case 22:this.b&&this.b.wj();break;case 23:wb(this.a.e.a.id,fc,{R:this.b,W:this.i});break;case 24:this.b.Gj();break;case 25:wb(this.a.e.a.id,gc,{R:this.b,W:this.i});break;case 26:case 27:this.Bk.Bd(this)}};function $b(a){switch(a.I){case 1:return"Back to the start (Ctrl+Shift+Left)";case 2:return"Back 5 moves (Ctrl+Left)";case 3:return"Back (Left)";case 4:return"Forward (Right)";case 5:return"Forward 5 moves (Ctrl+Right)";case 6:return"Go to the end (Ctrl+Shift+Right)";case 7:return"Next variant (Down)";case 8:return"Previous variant (Up)";case 9:return"Moves (F1)";case 10:return"Count Scores (F2)";case 11:return"Editor (F3)";case 12:return"Triangles (F4)";case 13:return"Squares (F5)";case 14:return"Circles (F6)";case 15:return"X marks (F7)";case 16:return"Text labels (F8)";case 17:return"Numeric labels (F9)";case 18:return 16===a.Ie?"Autoplay start":"Autoplay stop";case 19:return"Close";case 20:return"Game info";case 22:return"Cancel";case 21:return"OK";case 23:return"Settings";case 24:return"Pass";case 25:return"About";case 26:return"Comments";case 27:return"Navigator"}};function hc(a){this.i=a;this.b=null;this.a={e:null,Jf:{e:null}};var b=this;this.Qk=function(){b.b.Ef(b.a.Jf.e.a.value)}}hc.prototype.o=function(a,b){this.b=b;this.a.e=D(a);var c=this.a.e.a;c.style.background=S(new A(217,217,217,255));var d=a+"_TextArea",f=document.createElement("textarea");f.setAttribute("id",d);f.setAttribute("style","position:absolute;padding:0;margin:0;resize:none;outline: none;-moz-appearance: none;padding:2px;");c.appendChild(f);f.onchange=this.Qk;f.onblur=this.Qk;f.style.outline="none";f.style.margin="0px";f.style.border="1px solid rgb(172,172,172)";c=this.a.e;this.a.Jf.e=D(d);d=this.a.Jf.e;I(d.h,6,0,12,6,!0,!0,!0,!0,-1,-1);d.m=J|K|O|P;c.l(d);this.i&&this.i.ki.push(this);this.v()};hc.prototype.pc=function(a){this.a.Jf.e.a.value=a};hc.prototype.v=function(){this.a.e.Va(this.a.e.a.clientWidth,this.a.e.a.clientHeight)};function ic(a){this.i=a;this.wk=H;this.b=null;this.a={e:null,kc:null,Df:null,Image:null};this.og=this.ng="";this.ui=0;this.pi=!1}ic.prototype.o=function(a,b,c){this.wk=c;this.b=b;this.a.e=D(a);b=this.a.e.a;b.style.backgroundColor=S(new A(217,217,217,255));this.a.kc=document.createElement("div");this.a.Df=document.createElement("div");this.a.Image=document.createElement("canvas");var d=this.a.Image,f=this.a.kc,e=this.a.Df;b.appendChild(d);b.appendChild(f);b.appendChild(e);f.style.paddingLeft="25px";e.style.paddingLeft="25px";f.style.fontSize="14pt";e.style.paddingLeft="10pt";d.setAttribute("id",a+"_Image");d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.style.left="0px";d.style.top="0px";d.style.width="25px";d.style.height="25px";d.width=25;d.height=25;a=d.getContext("2d");a.clearRect(0,0,25,25);b=Math.ceil(13);d=Math.ceil(13);f=Math.ceil(6.75);G===c?(a.fillStyle=S(new A(255,255,255)),a.strokeStyle=S(new A(0,0,0))):E===c&&(a.fillStyle=S(new A(0,0,0)),a.strokeStyle=S(new A(0,0,0)));a.beginPath();a.arc(b,d,f,0,2*Math.PI,!1);a.fill();a.stroke();this.i&&(E===c?this.i.Zb=this:G===c&&(this.i.cc=this));jc(this)};ic.prototype.v=function(){jc(this);var a=this.El,b=this.a.e.a.clientWidth-25,c=0,c=b<a?0:(b-a)/2;this.a.Image.style.left=c+"px";c+=25;this.a.kc.style.paddingLeft=c+"px";this.a.Df.style.paddingLeft=c+"px";this.a.kc.style.overflow="hidden";this.a.kc.style.textOverflow="ellipsis";this.a.kc.style["-o-text-overflow"]="ellipsis";this.a.kc.style.height="25px"};ic.prototype.pe=function(a){this.pi=!1;this.ui=a;jc(this)};ic.prototype.qe=function(a){this.pi=!0;this.ui=a;jc(this)};function jc(a){var b=a.a.Df,c=(""===a.ng?E===a.wk?"Black ":"White ":a.ng)+(""===a.og?"":"["+a.og+"]"),d=(!0===a.pi?"Scores ":"Captured ")+a.ui;U(a.a.kc,c);U(b,d);b=document.createElement("canvas").getContext("2d");b.font="14pt Times New Roman";a.El=b.measureText(c).width};function kc(){this.sb=this.wb=this.zb=this.vb=0;this.Of=this.Qf=this.Rf=this.Pf=!1;this.Yd=this.Jc=-1}function I(a,b,c,d,f,e,g,h,k,l,n){a.vb=b;a.zb=c;a.wb=d;a.sb=f;a.Pf=e;a.Rf=g;a.Qf=h;a.Of=k;a.Jc=l;a.Yd=n}var K=1,J=2,P=4,O=8;function lc(){this.h=new kc;this.m=K|J;this.a=this.Af=this.wf=null;this.dc=new kc;this.na=[];this.oc=this.height=this.width=0;this.fc=null;this.Sb=400}lc.prototype.kb=function(a,b,c){this.oc=a;(this.fc=b)&&b.fj&&b.fj(this);c&&c.Sb&&(this.Sb=c.Sb)};lc.prototype.l=function(a){a.Af=this;this.na[this.na.length]=a};lc.prototype.Va=function(a,b){this.width=a;this.height=b;if(null==this.Af)this.dc.vb=0,this.dc.zb=0,this.dc.wb=a,this.dc.sb=b,null!==this.a&&mc(this,a,b);else{var c=0,d=0,f=0,e=0,g=this.m&5,h=this.m&10;K==g?(this.h.Pf?c=this.h.vb:c=this.h.vb*a/1E3,-1!=this.h.Jc?f=c+this.h.Jc:f=this.h.Qf?a-this.h.wb:this.h.wb*a/1E3):P==g?(f=this.h.Qf?a-this.h.wb:this.h.wb*a/1E3,-1!=this.h.Jc?c=f-this.h.Jc:this.h.Pf?c=this.h.vb:c=this.h.vb*a/1E3):(K|P)==g?(this.h.Pf?c=this.h.vb:c=this.h.vb*a/1E3,f=this.h.Qf?a-this.h.wb:this.h.wb*a/1E3):(c=this.h.vb,f=this.h.wb);J==h?(this.h.Rf?d=this.h.zb:d=this.h.zb*b/1E3,-1!=this.h.Yd?e=d+this.h.Yd:e=this.h.Of?b-this.h.sb:this.h.sb*b/1E3):O==h?(e=this.h.Of?b-this.h.sb:this.h.sb*b/1E3,-1!=this.h.Yd?d=e-this.h.Yd:this.h.Rf?d=this.h.zb:d=this.h.zb*b/1E3):(J|O)==h?(this.h.Rf?d=this.h.zb:d=this.h.zb*b/1E3,e=this.h.Of?b-this.h.sb:this.h.sb*b/1E3):(d=this.h.zb,e=this.h.sb);f<c&&(f=c);e<d&&(e=d);-2===this.h.Jc?f=c+1*(e-d):-3===this.h.Jc&&(c=1*(e-d));this.dc.vb=c;this.dc.zb=d;this.dc.wb=f;this.dc.sb=e;this.a.style.left=(c+.5|0)+"px";this.a.style.top=(d+.5|0)+"px";this.a.style.width=(f-c+.5|0)+"px";this.a.style.height=(e-d+.5|0)+"px";this.a.width=f-c+.5|0;this.a.height=e-d+.5|0;mc(this,f-c,e-d)}};function mc(a,b,c){var d=a.na.length;if(1===a.oc&&2===d){var f=a.fc?pa(a.fc):1,e=a.na[0],g=a.na[1],h,k=c;h=b-a.Sb;var l=k*f,f=h/f;l<=h?(f=k,h=k=0):(l=h,h=0,k=(k-f)/2);I(e.h,h,k,1E3,1E3,!0,!0,!1,!1,l,f);e.m=K|J;I(g.h,l,0,1E3,1E3,!0,!1,!1,!1,-1,-1);g.m=P|O|J}else 2===a.oc&&1===d?a.fc?(f=pa(a.fc),e=a.na[0],l=c*f,f=b/f,l<=b?(f=c,k=0,h=(b-l)/2):(l=b,h=0,k=(c-f)/2),I(e.h,h,k,1E3,1E3,!0,!0,!1,!1,l,f),e.m=K|J):(e=a.na[0],h=Math.min(b,c),I(e.h,(b-h)/2,(c-h)/2,1E3,1E3,!0,!0,!0,!1,h,h),e.m=K|O|J):3===a.oc&&2===d&&(f=a.fc?pa(a.fc):1,e=a.na[0],g=a.na[1],k=a.Sb,h=b,k=c-k,l=k*f,f=h/f,l<=h?(f=k,k=0,h=(h-l)/2):(l=h,k=h=0),I(e.h,h,k,1E3,1E3,!0,!0,!1,!1,l,f),e.m=K|J,I(g.h,0,f,1E3,1E3,!1,!0,!1,!1,-1,-1),g.m=K|P|O);for(h=0;h<d;h++)a.na[h].Va(b,c)}lc.prototype.va=function(){this.na=[];this.oc=0;this.fc=null;this.Sb=400};function D(a){var b=new lc;b.wf=a;b.a=document.getElementById(a);return b}function nc(){this.a=this.Af=null;this.B=0;this.na=[]}nc.prototype.Set=function(a){this.B=a};nc.prototype.l=function(a){a.Af=this;this.na[this.na.length]=a};nc.prototype.Va=function(a,b){var c=b-this.B,d=a;d!==c&&(c=d=Math.min(d,c));var f=(b-this.B-c)/2;this.a.style.left=parseInt((a-d)/2+.5)+"px";this.a.style.top=parseInt(f+.5)+"px";this.a.style.width=parseInt(d+.5)+"px";this.a.style.height=parseInt(c+this.B+.5)+"px";this.a.width=parseInt(d+.5);this.a.height=parseInt(c+this.B+.5);for(var f=this.na.length,e=0;e<f;e++)this.na[e].Va(d,c+this.B)};function oc(){this.ri=!0;this.aa={tc:!0,Xc:!0,Ic:new A(231,188,95,255),Nf:!0,Wc:!0,kd:new A(255,255,255,255),hd:new A(0,0,0,255),jd:new A(0,0,0,255),Vc:!1};this.ma={tc:!0,Xc:!0,Ic:new A(231,188,95,255),Wc:!0,kd:new A(255,255,255,255),hd:new A(0,0,0,255),jd:new A(0,0,0,255),Vc:!1};this.mi=this.eb=this.ni=!1;this.wi=1;this.vi=3}function pc(){var a=y;a.mi="1"===qc("CycleThroughVariants")?!0:!1;a.ri="0"===qc("Sound")?!1:!0;var b=qc("NavigatorLabels");a.wi=b&&""!==b?parseInt(b):1;var b=1,c=qc("ColorScheme");"BookStyle"===c?b=2:"SimpleColor"===c?b=3:"Dark"===c&&(b=4);rc(a,b);a.ni="1"===qc("LoadUnfinishedFilesOnLastNode")?!0:!1;b=qc("ShowVariants");a.vi=b&&""!==b?parseInt(b):3;a.eb="1"===qc("Rulers")?!0:!1}q=oc.prototype;q.Cd=function(a){this.ri=a;sc("Sound",!0===a?"1":"0")};q.he=function(){return this.ri};q.Ff=function(a){this.eb=a;sc("Rulers",!0===a?"1":"0")};q.Ph=function(a){this.ni=a;sc("LoadUnfinishedFilesOnLastNode",!0===a?"1":"0")};q.fe=function(){return this.ni};q.Mh=function(a){this.mi=a;sc("CycleThroughVariants",!0===a?"1":"0")};q.Qc=function(){return this.mi};function rc(a,b){var c=!0,d=!0,f=null,e=!0,g=!0,h=new A(255,255,255,255),k=new A(0,0,0,255),l=new A(0,0,0,255),n=!1;switch(b){case 1:g=e=d=c=!0;f=new A(231,188,95,255);l=new A(0,0,0,255);sc("ColorScheme","TrueColor");break;case 2:g=e=d=c=!1;f=new A(255,255,255,255);l=new A(0,0,0,255);sc("ColorScheme","BookStyle");break;case 3:g=e=d=c=!1;f=new A(231,188,95,255);l=new A(0,0,0,255);sc("ColorScheme","SimpleColor");break;case 4:g=e=d=c=!1,n=!0,f=new A(30,30,30,255),h=new A(220,220,220,220),l=new A(255,255,255,255),sc("ColorScheme","Dark")}var m=!1,u=!1;if(a.aa.tc!==c||a.aa.Xc!==d||!0!==tc(a.aa.Ic,f)||a.aa.Nf!==e||a.aa.Wc!==g||!0!==tc(a.aa.kd,h)||!0!==tc(a.aa.hd,k)||!0!==tc(a.aa.jd,l)||a.aa.Vc!==n)a.aa.tc=c,a.aa.Xc=d,a.aa.Ic=f,a.aa.Nf=e,a.aa.Wc=g,a.aa.kd=h,a.aa.hd=k,a.aa.jd=l,a.aa.Vc=n,m=!0;if(a.ma.tc!==c||a.ma.Xc!==d||!0!==tc(a.ma.Ic,f)||a.ma.Wc!==g||!0!==tc(a.ma.kd,h)||!0!==tc(a.ma.hd,k)||!0!==tc(a.ma.jd,l)||a.ma.Vc!==n)a.ma.tc=c,a.ma.Xc=d,a.ma.Ic=f,a.ma.Wc=g,a.ma.kd=h,a.ma.hd=k,a.ma.jd=l,a.ma.Vc=n,u=!0;return{Y:m,Navigator:u}}q.sd=function(){return this.wi};q.Qh=function(a){this.wi=a;sc("NavigatorLabels",a)};q.Nc=function(){return this.vi};q.Oh=function(a){this.vi=a;sc("ShowVariants",a)};var y=new oc;function uc(a){if(this.b=a)a.i=this;this.La=this.dg=this.Pe=this.fa=null;this.ca=[];this.C={Eg:[],Fg:[],ec:[],gc:[],eh:[],dh:[],lc:[],mc:[],Gj:null,Ig:[],Kg:[],Hg:[],Ng:[],Lg:[],Gg:[],Og:[],Mg:[],Jg:[]};this.cc=this.Zb=this.Le=this.Ke=this.Ki=this.gg=this.ha=null;this.ki=[];var b=this;this.oi=!0;this.mk=!1;this.Ai=-1;this.zi=400;this.yi=200;this.Pk=function(){vc(b.Pk);var a;if(a=b.gg)a=b.gg,a=a.Xf||a.Yf?!0:!1;if(a){a=b.gg;if(a.Xf&&a.b){var d=a.c.G,f=a.c.B;if(!(0>=d||0>=f)){var e=a.b.j.Sa,g=10+a.V.g+24*e.g,e=10+a.V.f+24*e.f,h=a.a.Lc.e.a.getContext("2d");h.clearRect(0,0,d,f);-24<=g&&g<=d+24&&-24<=e&&e<=f+24&&h.putImageData(a.c.Lc,g,e);a.Xf=!1}}if(a.Yf&&(d=a.c.G,f=a.c.B,0!==d&&0!==f)){if(!(a.hb.G===d&&a.hb.B===f&&1>Math.abs(a.V.g-a.hb.g)&&1>Math.abs(a.V.f-a.hb.f))){a.hb.G=d;a.hb.B=f;a.hb.g=a.V.g;a.hb.f=a.V.f;var g=a.a.X.e.a.getContext("2d"),e=a.a.Sh.e.a.getContext("2d"),h=a.a.Gh.e.a.getContext("2d"),k=a.a.Selection.e.a.getContext("2d");h.clearRect(0,0,d,f);e.clearRect(0,0,d,f);g.clearRect(0,0,d,f);k.clearRect(0,0,d,f);for(var k=10+a.V.g,l=10+a.V.f,n=a.$.ab(),m=a.ug(),u=0;u<=n-1;u++){var p=l+24*u;if(-24<=p&&p<=f+24)for(var r=a.$.$[u].length-1,w=0;w<=r;w++){var t=k+24*w;if(-24<=t&&t<=d+24){var x=a.$.H(w,u);if(!1===x.ge()){var L=x.zd();switch(x.I){case wc:L.sc?g.putImageData(a.c.bi,t,p):g.putImageData(a.c.hi,t,p);break;case xc:L.sc?1===L.Pj?g.putImageData(a.c.ci,t,p):g.putImageData(a.c.di,t,p):g.putImageData(a.c.ei,t,p);break;case yc:L.sc?g.putImageData(a.c.fi,t,p):g.putImageData(a.c.gi,t,p)}}else{var L=x.zd(),M=x.Lb,B=M.I,F=x.Na,Q="",z=0;switch(y.sd()){case 0:Q="";break;case 1:Q=""+x.Sa.zf;2>=Q.length?h.font="bold 10px sans-serif":(h.font="bold 9px sans-serif",z=-1);break;case 2:Q=L?""+x.Sa.zf:"";2>=Q.length?h.font="bold 10px sans-serif":(h.font="bold 9px sans-serif",z=-1);break;case 3:var N=a.b.ha.Z(),Q=N.g,N=N.f,R=T(M.sa()),M=R.f,Q=La(R.g,Q),Q=Q+(N+1-M);h.font=2>=Q.length?"bold 10px sans-serif":"bold 8px sans-serif"}M=h.measureText(Q).width;E===B?(L&&!0===m&&e.putImageData(a.c.Ca,t+2+a.c.yb,p+2+a.c.yb),h.putImageData(L?a.c.nd:a.c.lf,t+2,p+2),""===F?""!==Q&&(h.fillStyle=L?"#CCC":"rgb(192, 192, 192)",h.fillText(Q,t+12-M/2+z,p+12+3)):h.putImageData(L?a.c.Zj:a.c.$j,t+2,p+2)):G===B?(L&&!0===m&&e.putImageData(a.c.Ca,t+2+a.c.yb,p+2+a.c.yb),h.putImageData(L?a.c.Ed:a.c.Lf,t+2,p+2),""===F?""!==Q&&(h.fillStyle=L?"#000":"rgb(56, 56, 56)",h.fillText(Q,t+12-M/2+z,p+12+3)):h.putImageData(L?a.c.bk:a.c.ck,t+2,p+2)):h.putImageData(L?a.c.Yj:a.c.ak,t+2,p+2);F=V(x);x=x.ja;0===w?0!==F&&(1===F?L?g.putImageData(a.c.qh,t,p):g.putImageData(a.c.uh,t,p):L?0==x?g.putImageData(a.c.rh,t,p):g.putImageData(a.c.sh,t,p):g.putImageData(a.c.th,t,p)):0===F?L?g.putImageData(a.c.oh,t,p):g.putImageData(a.c.ph,t,p):1===F?L?g.putImageData(a.c.kh,t,p):g.putImageData(a.c.vh,t,p):L?0===x?g.putImageData(a.c.lh,t,p):g.putImageData(a.c.mh,t,p):g.putImageData(a.c.nh,t,p);E!==B&&G!==B||g.clearRect(t+3,p+3,18,18)}}}}}a.Yf=!1}}b.oi&&zc(b,!1)};this.Pk()}function Ac(a){if(a.fa){var b=document.createElement("div");b.style.width="100%";b.style.height="100%";b.style.position="absolute";b.style.left="0px";b.style.top="0px";b.style.backgroundColor="rgb(0, 0, 0)";b.style.opacity=.4;a.fa.appendChild(b);a.dg=b;if(b=Bc[xb])b=b.a.e.a;var c;a:{if((c=a.fa)&&b)for(var d=0,f=b.parentNode;null!=f;){if(f==c){c=!0;break a}d--;if(0>d)break;f=f.parentNode}c=!1}c&&(a.fa.removeChild(b),a.fa.appendChild(b))}}function Cc(a){a.dg&&(a.fa.removeChild(a.dg),a.dg=null)}q=uc.prototype;q.Qb=function(){return this.fa?parseInt(this.fa.clientWidth):0};q.ab=function(){return this.fa?parseInt(this.fa.clientHeight):0};q.Yg=function(a){Dc(this,a);var b=new aa(this);b.o(a,this.b);b.wa();this.ca.push(b);this.v()};q.Wg=function(a){pc();Dc(this,a);var b=this.b,c=D(a);this.K(c.a,a+"div");var d=a+"div",f=new nc;f.wf=d;f.a=document.getElementById(d);f.Set(25);var e=f.a;c.l(f);d=a+"_Board";a=a+"_Toolbar";this.K(e,d);this.K(e,a);e=D(d);I(e.h,0,0,1E3,25,!1,!1,!1,!0,-1,-1);e.m=J|K|P;f.l(e);e=new aa(this);e.o(d,b);e.wa();d=D(a);I(d.h,0,0,1E3,0,!1,!1,!1,!0,-1,25);d.m=K|O|P;f.l(d);f=new Ec(this);f.o(a,b,{na:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,20,25]});this.La=c;this.ca.push(e);this.ca.push(f);this.v()};q.Xg=function(a){var b=this.b,c=new aa(this);y.aa.Nf=!1;var d=D(a),f=a+"GoBoard";this.K(d.a,f);var e=D(f);I(e.h,0,0,1,1,!1,!1,!0,!0,-1,-1);e.m=J|K|P|O;d.l(e);e.kb(1,c,{Sb:100});var g=a+"_Board",h=a+"_Panel";this.K(e.a,g);this.K(e.a,h);var k=D(g);a=D(h);e.l(k);e.l(a);c.o(g,b);c.wa();e=h+"_Toolbar";g=h+"_Comments";this.K(a.a,g);this.K(a.a,e);h=D(g);I(h.h,0,25,1E3,1E3,!1,!0,!1,!1,-1,-1);h.m=J|K|P|O;a.l(h);h=D(e);I(h.h,0,0,1E3,1E3,!0,!0,!1,!0,-1,25);h.m=K|P|J;a.l(h);a=new hc(this);a.o(g,b);g=new Ec(this);g.o(e,b,{na:[1]});this.ca.push(c);this.ca.push(a);this.ca.push(g);this.La=d;this.v();Fc(b);Dc(this,f)};q.v=function(a){a?zc(this,!0):this.oi=!0};function Dc(a,b,c){a.fa=document.getElementById(b);a.Pe=c;a.fa.style.background="url('"+Gc+"')"}function zc(a,b){if(!0===a.mk){var c=a.La.a.clientWidth,d=a.La.a.clientHeight,f=-1,f=d-(c-a.zi)>a.yi+100?1:0;if(a.Ai!==f){for(a.Ai=f;a.fa.firstChild;)a.fa.removeChild(a.fa.firstChild);a.Pe&&a.Pe.va();Bc={};if(0===a.Ai){var c=a.b,e=a.Pe,f=a.fa.id,d=new aa(a);e.kb(1,d,{Sb:a.zi});var g=f+"_Board",h=f+"_Panel";a.K(e.a,g);a.K(e.a,h);var k=D(g),f=D(h);e.l(k);e.l(f);d.o(g,c);d.wa();e=h+"_CaT";g=h+"_Navigator";a.K(f.a,e);a.K(f.a,g);h=D(e);I(h.h,0,0,1E3,500,!1,!1,!1,!1,-1,-1);h.m=J|K|P|O;f.l(h);k=D(g);I(k.h,0,500,1E3,1E3,!1,!1,!1,!1,-1,-1);k.m=J|K|P|O;f.l(k);f=new Hc(a);f.o(g,c);var l=e+"_Info",n=e+"_Comments",m=e+"_Toolbar",k=e+"_ToolbarSecond",u=e+"_ToolbarAutoPlay",p=e+"_ToolbarTimeLine";a.K(h.a,l);a.K(h.a,n);a.K(h.a,m);a.K(h.a,k);var r=a.K(h.a,u);a.K(h.a,p);e=u+"_Slider";g=u+"_Button";a.K(r,g);a.K(r,e);r=D(l);I(r.h,0,0,1E3,0,!1,!1,!1,!1,-1,50);r.m=J|K|P;h.l(r);var w=l+"_White",l=l+"_Black";a.K(r.a,w);a.K(r.a,l);var t=D(w);I(t.h,0,0,500,1E3,!1,!1,!1,!1,-1,-1);t.m=J|K|P|O;r.l(t);t=D(l);I(t.h,500,0,1E3,1E3,!1,!1,!1,!1,-1,-1);t.m=J|K|P|O;r.l(t);r=new ic(a);r.o(w,c,G);w=new ic(a);w.o(l,c,E);l=D(n);I(l.h,0,50,1E3,100,!1,!0,!1,!0,-1,25);l.m=J|K|P|O;h.l(l);l=D(m);I(l.h,0,0,1E3,75,!1,!1,!1,!0,-1,25);l.m=K|P|O;h.l(l);l=D(k);I(l.h,0,0,1E3,50,!1,!1,!1,!0,-1,25);l.m=K|P|O;h.l(l);l=D(u);I(l.h,0,0,1E3,25,!1,!1,!1,!0,-1,25);l.m=K|P|O;h.l(l);u=D(g);I(u.h,0,0,1E3,1E3,!1,!1,!1,!1,25,-1);u.m=K|J|O;l.l(u);u=D(e);I(u.h,25,0,1E3,1E3,!0,!1,!1,!1,-1,25);u.m=J|P|O;l.l(u);l=D(p);I(l.h,0,0,1E3,0,!1,!1,!1,!0,-1,25);l.m=K|P|O;h.l(l);h=new hc(a);h.o(n,c);n=new Ec(a);n.o(m,c,{na:[1,2,3,4,5,6,24,7,8]});m=new Ec(a);m.o(k,c,{na:[9,10,11,12,13,14,15,16,17,20,23,25]});k=new Ic(a);k.o(p,c,Jc,0);p=new Yb(a);p.o(g,c,18);g=new Ic(a);g.o(e,c,Kc,0);a.ca.push(d);a.ca.push(f);a.ca.push(h);a.ca.push(n);a.ca.push(m);a.ca.push(k);a.ca.push(p);a.ca.push(g);a.ca.push(w);a.ca.push(r)}else c=a.b,h=a.Pe,d=a.fa.id,g=d+"I",a.K(h.a,g),e=D(g),I(e.h,0,0,1E3,0,!1,!1,!1,!1,-1,50),e.m=J|K|P,h.l(e),f=d+"O",a.K(h.a,f),d=D(f),I(d.h,0,50,1E3,1E3,!1,!0,!1,!1,-1,-1),d.m=O|K|P,h.l(d),h=g+"W",a.K(e.a,h),k=D(h),I(k.h,0,0,500,1E3,!1,!1,!1,!1,-1,-1),k.m=J|K|P|O,e.l(k),k=new ic(a),k.o(h,c,G),a.ca.push(k),g+="B",a.K(e.a,g),h=D(g),I(h.h,500,0,1E3,1E3,!1,!1,!1,!1,-1,-1),h.m=J|K|P|O,e.l(h),e=new ic(a),e.o(g,c,E),a.ca.push(e),e=new aa(a),a.ca.push(e),d.kb(3,e,{Sb:a.yi-50}),g=f+"B",a.K(d.a,g),h=D(g),d.l(h),e.o(g,c),e.wa(),f+="N",a.K(d.a,f),e=D(f),d.l(e),d=f+"T",a.K(e.a,d),g=D(d),I(g.h,0,0,1E3,0,!1,!1,!1,!1,-1,25),g.m=K|P|J,e.l(g),g=f+"U",a.K(e.a,g),f=D(g),I(f.h,0,25,1E3,1E3,!1,!0,!1,!1,-1,-1),f.m=K|P|O,e.l(f),e=new Ec(a),e.o(d,c,{na:[1,3,4,6,24,7,8,20,23,25]}),a.ca.push(e),d=g+"L",a.K(f.a,d),e=D(d),I(e.h,0,0,0,1E3,!1,!1,!1,!1,30,-1),e.m=K|J|O,f.l(e),g+="R",a.K(f.a,g),e=D(g),I(e.h,30,0,1E3,1E3,!0,!1,!1,!1,-1,-1),e.m=P|J|O,f.l(e),f=g+"N",a.K(e.a,f),h=D(f),I(h.h,0,0,1E3,1E3,!1,!1,!1,!1,-1,-1),h.m=K|P|J|O,e.l(h),g+="C",a.K(e.a,g),h=D(g),I(h.h,0,0,1E3,1E3,!1,!1,!1,!1,-1,-1),h.m=K|P|J|O,e.l(h),e=new Hc(a),e.o(f,c),a.ca.push(e),e=new hc(a),e.o(g,c),a.ca.push(e),e=new Lc(a),e.o(d,c,f,g),a.ca.push(e);a.v();Fc(c);a.b&&(mb(a.b,a.b.j,!0),a.b.Ab(!0))}}a.oi=!1;a.La&&(c=a.La.a.clientWidth,d=a.La.a.clientHeight,a.La.Va(c,d));c=0;for(d=a.ca.length;c<d;c++)a.ca[c].v(b)}q.K=function(a,b){var c=document.createElement("div");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};q.Lj=function(a){this.ha=a};q.Fj=function(){this.Ke&&bc(this.Ke,0)};q.Hh=function(){this.Ke&&bc(this.Ke,16)};q.Yh=function(a){if(this.Zb){var b=this.Zb;b.ng=a;jc(b)}};q.Zh=function(a){if(this.Zb){var b=this.Zb;b.og=a;jc(b)}};q.$h=function(a){if(this.cc){var b=this.cc;b.ng=a;jc(b)}};q.ai=function(a){if(this.cc){var b=this.cc;b.og=a;jc(b)}};q.pe=function(a,b){this.Zb&&this.Zb.pe(a);this.cc&&this.cc.pe(b)};q.qe=function(a,b){this.Zb&&this.Zb.qe(a);this.cc&&this.cc.qe(b)};q.Ab=function(a){for(var b=0,c=this.C.Eg.length;b<c;b++)ac(this.C.Eg[b],a.ec);b=0;for(c=this.C.Fg.length;b<c;b++)ac(this.C.Fg[b],a.ec);b=0;for(c=this.C.ec.length;b<c;b++)ac(this.C.ec[b],a.ec);b=0;for(c=this.C.gc.length;b<c;b++)ac(this.C.gc[b],a.gc);b=0;for(c=this.C.eh.length;b<c;b++)ac(this.C.eh[b],a.gc);b=0;for(c=this.C.dh.length;b<c;b++)ac(this.C.dh[b],a.gc);b=0;for(c=this.C.lc.length;b<c;b++)ac(this.C.lc[b],a.lc);b=0;for(c=this.C.mc.length;b<c;b++)ac(this.C.mc[b],a.mc);b=0;for(c=this.C.Ig.length;b<c;b++)cc(this.C.Ig[b],0===a.tb);b=0;for(c=this.C.Kg.length;b<c;b++)cc(this.C.Kg[b],1===a.tb);b=0;for(c=this.C.Hg.length;b<c;b++)cc(this.C.Hg[b],2===a.tb);b=0;for(c=this.C.Ng.length;b<c;b++)cc(this.C.Ng[b],3===a.tb);b=0;for(c=this.C.Lg.length;b<c;b++)cc(this.C.Lg[b],4===a.tb);b=0;for(c=this.C.Gg.length;b<c;b++)cc(this.C.Gg[b],5===a.tb);b=0;for(c=this.C.Og.length;b<c;b++)cc(this.C.Og[b],6===a.tb);b=0;for(c=this.C.Mg.length;b<c;b++)cc(this.C.Mg[b],7===a.tb);b=0;for(c=this.C.Jg.length;b<c;b++)cc(this.C.Jg[b],8===a.tb);this.Ki&&(b=this.Ki,!0!==b.xe&&Mc(b,a.Uj,!0));Nc()};q.pc=function(a){for(var b=0,c=this.ki.length;b<c;b++)this.ki[b].pc(a)};function Nc(){var a=Bc[Rb];a&&a.ye&&a.Da()};var Oc=0,Pc=1,hb=2,C=new function(){this.Qg=this.f=this.g=0;this.oc=Pc;this.u=this.q=this.jf=!1;this.Ia=null;this.ie=-1;this.Cj=this.Bj=this.ae=0;this.wh=this.uf=!1},ia=new function(){this.u=this.q=this.jf=!1;this.Ia=null;this.D=this.$k=0};function ha(a){ia.jf=a.altKey;ia.q=void 0!==a.metaKey?a.ctrlKey||a.metaKey:a.ctrlKey;ia.u=a.shiftKey;ia.Ia=a.srcElement?a.srcElement:a.target;ia.$k=a.charCode;ia.D=a.keyCode;ia.wm=a.which}function ba(a){if(!a.uf||a.wh){if(a.pageX||a.pageY)C.g=a.pageX,C.f=a.pageY;else if(a.clientX||a.clientY)C.g=a.clientX,C.f=a.clientY;C.jf=a.altKey;C.u=a.shiftKey;C.q=a.ctrlKey||a.metaKey;C.oc=Pc;C.uf||(C.Ia=a.srcElement?a.srcElement:a.target);if(3<Math.abs(C.g-C.Bj)||3<Math.abs(C.f-C.Cj))C.ie=-1,C.ae=0}}function ga(a){if(a.pageX||a.pageY)C.g=a.pageX,C.f=a.pageY;else if(a.clientX||a.clientY)C.g=a.clientX,C.f=a.clientY;C.Bj=C.g;C.Cj=C.f;C.jf=a.altKey;C.u=a.shiftKey;C.q=a.ctrlKey||a.metaKey;C.oc=Oc;C.Qg=a.button;C.Ia=a.srcElement?a.srcElement:a.target;a=(new Date).getTime();0==C.ae?(C.ae=1,C.ie=a):500>a-C.ie?(C.ie=a,C.ae++):(C.ae=1,C.ie=a);window.ii=!1}window.onmousemove=function(a){C.uf&&void 0!=C.Ia&&null!=C.Ia&&void 0!=C.Ia.onmousemove&&null!=C.Ia.onmousemove&&(C.wh=!0,C.Ia.onmousemove(a),C.wh=!1)};window.onmouseup=function(a){if(!1===window.ii){window.ii=!0;if(C.uf&&C.Ia&&void 0!=C.Ia.onmouseup&&null!=C.Ia.onmouseup)C.Ia.onmouseup(a,!0);C.Ia=null}};function Qc(){this.mc=this.lc=this.gc=this.ec=!0;this.Uj=this.tb=0};var wa=-1,cb=0,bb=1,ab=2,Wa=3,db=4,Xa=5,Ya=6,Za=7,$a=8;function va(a,b,c,d){this.Ck={g:void 0===a?0:a,f:void 0==b?0:b};this.I=void 0===c?cb:c;this.Wd=void 0===d?"":d}va.prototype.td=function(){return this.Ck.g};va.prototype.ud=function(){return this.Ck.f};va.prototype.kb=function(a){this.I=a};function Hc(a){function b(){if(d.vc)d.Hb=null;else{var a=parseFloat(d.a.ta.style.opacity),c=parseFloat(d.a.Ba.style.opacity),a=Math.max(a-.01,0),c=Math.max(c-.01,0);d.a.ta.style.opacity=a;d.a.Ba.style.opacity=c;.001<a?d.Hb=setTimeout(b,10):d.Hb=null}}function c(){if(d.vc)d.Hb=null;else{var a=parseFloat(d.a.pa.style.opacity),b=parseFloat(d.a.ya.style.opacity),a=Math.max(a-.01,0),b=Math.max(b-.01,0);d.a.pa.style.opacity=a;d.a.ya.style.opacity=b;.001<a?d.Yb=setTimeout(c,10):d.Yb=null}}this.i=a;this.b=null;this.$=new Rc;this.Yf=this.Xf=!0;this.a={e:null,Y:{e:null},Selection:{e:null},Lc:{e:null},X:{e:null},Sh:{e:null},Gh:{e:null},dl:{e:null},ta:null,pa:null,Ba:null,ya:null,le:0,ke:0};this.gb=null;this.c={G:0,B:0,Y:null,nd:null,Ed:null,lf:null,Lf:null,qh:null,yj:null,kh:null,xj:null,oh:null,bi:null,ek:null,fi:null,uh:null,rh:null,sh:null,th:null,vh:null,lh:null,mh:null,nh:null,ph:null,hi:null,ci:null,di:null,ei:null,gi:null,Yj:null,ak:null,Zj:null,bk:null,$j:null,ck:null,Tb:null,Lc:null,Ca:null,yb:0};this.V={g:0,f:0};this.vc=!1;this.Dl=!0;this.hb={G:0,B:0,g:0,f:0};this.Yb=this.Hb=this.Sd=this.Pd=null;var d=this;this.bj=function(){return setTimeout(function(){d.Ui()},20)};this.ff=function(a){d.vc||(d.b&&d.b.wa(),ga(a),a=d.Xd(C.g,C.f),a=d.$.H(a.g,a.f),a.ge()&&d.b&&mb(d.b,a))};this.yg=function(a){d.vc||(ba(a),a=d.Xd(C.g,C.f),d.rb(a.g,a.f))};this.gf=function(){d.vc||d.rb(-1,-1)};this.Ok=function(a){if(d.vc)return!1;var b=0,b=void 0!=a.wheelDelta?0<a.wheelDelta?-45:45:0<a.detail?45:-45;a.preventDefault&&a.preventDefault();var g=20+24*(d.$.ab()+1)-d.a.Y.e.a.height;d.V.f-=b;d.V.f=Math.min(0,Math.max(d.V.f,-g));Sc(d);d.yg(a);Tc(d);d.Ri();d.a.ya.style.opacity=.3;d.a.pa.style.opacity=.5;d.Yb=setTimeout(c,500);return!1};this.xg=function(){d.b&&d.b.wa()};this.tg=function(){null!==d.Pd&&(clearTimeout(d.Pd),d.Pd=null)};this.Lk=function(){null!==d.Hb&&(clearTimeout(d.Hb),d.Hb=null)};this.fm=function(a){function c(a){var b=-d.V.g;b!==l?(b=b<l?Math.min(l,b+200):Math.max(l,b-200),d.V.g=-b,Sc(d),Tc(d),b!==l?d.Pd=setTimeout(c,!0===a?300:30):d.Pd=null):d.Pd=null}d.tg();ga(a);a=C.g-Ia(d.a.Ba).g;var b=d.$.Qb()+1,h=d.a.le,k=d.c.G-4;a=Math.max(0,Math.min(k-h,a-h/2));var l=a/(k-h)*(20+24*b-k);c(!0)};this.qm=function(){d.tg()};this.nm=function(){d.Lk();d.a.Ba.style.opacity=.3;d.a.ta.style.opacity=.5};this.im=function(){d.tg();d.Hb=setTimeout(b,10)};this.Si=function(){null!==d.Sd&&(clearTimeout(d.Sd),d.Sd=null)};this.Ri=function(){null!==d.Yb&&(clearTimeout(d.Yb),d.Yb=null)};this.gm=function(a){function c(a){var b=-d.V.f;b!==l?(b=b<l?Math.min(l,b+48):Math.max(l,b-48),d.V.f=-b,Sc(d),Tc(d),b!==l?d.Sd=setTimeout(c,!0===a?300:30):d.Sd=null):d.Sd=null}d.Si();ga(a);a=C.f-Ia(d.a.ya).f;var b=d.$.ab()+1,h=d.a.ke,k=d.c.B-4;a=Math.max(0,Math.min(k-h,a-h/2));var l=a/(k-h)*(20+24*b-k);c(!0)};this.rm=function(){d.Si()};this.pm=function(){d.Ri();d.a.ya.style.opacity=.3;d.a.pa.style.opacity=.5};this.km=function(){d.Si();d.Yb=setTimeout(c,10)};this.mm=function(){d.Lk();d.a.ta.style.opacity=.7;d.a.Ba.style.opacity=.3};this.hm=function(){d.tg();d.Hb=setTimeout(b,10)};this.om=function(){d.Ri();d.a.pa.style.opacity=.7;d.a.ya.style.opacity=.3};this.jm=function(){d.a.pa.style.opacity=.5;d.Yb=setTimeout(c,10)};this.Nk=function(){d.vc=!0};this.Mk=function(){d.vc=!1;var a=C.g,e=C.f,g=Ia(d.a.Ba),h=g.g,g=g.f,k=d.a.Ba.clientWidth,l=d.a.Ba.clientHeight;if(a<h||a>h+k||e<g||e>g+l)d.Hb=setTimeout(b,10);g=Ia(d.a.ya);h=g.g;g=g.f;k=d.a.ya.clientWidth;l=d.a.ya.clientHeight;if(a<h||a>h+k||e<g||e>g+l)d.Yb=setTimeout(c,10)};this.Sl=function(a){var b=d.c.G;d.V.g=-((a-2)/(b-4-d.a.le)*(20+24*(d.$.Qb()+1)-b));Sc(d)};this.$l=function(a,b){var c=d.c.B;d.V.f=-((b-2)/(c-4-d.a.ke)*(20+24*(d.$.ab()+1)-c));Sc(d)}}q=Hc.prototype;q.o=function(a,b){this.i&&(this.i.gg=this);this.b=b;this.b.M=this;this.$.Nh(b);this.a.e=D(a);var c=this.a.e.a,d=this.a.e,f=a+"_Board",e=a+"_Selection",g=a+"_Current",h=a+"_Lines",k=a+"_Shadows",l=a+"_Nodes",n=a+"_Events";this.Ha(c,f);this.Ha(c,e);this.Ha(c,g);this.Ha(c,h);this.Ha(c,k);this.Ha(c,l);var m=this.la(c,n);this.a.Ba=this.la(c,a+"HorScroll_BG");this.a.ta=this.la(c,a+"HorScroll");this.a.ya=this.la(c,a+"VerScroll_BG");this.a.pa=this.la(c,a+"VerScroll");this.a.Ba.style.background="rgb(0,0,0)";this.a.Ba.style.opacity="0";this.a.ya.style.background="rgb(0,0,0)";this.a.ya.style.opacity="0";this.a.Ba.onmousedown=this.fm;this.a.Ba.onmouseup=this.qm;this.a.Ba.onmouseover=this.nm;this.a.Ba.onmouseout=this.im;this.a.ya.onmousedown=this.gm;this.a.ya.onmouseup=this.rm;this.a.ya.onmouseover=this.pm;this.a.ya.onmouseout=this.km;this.a.ta.onmouseover=this.mm;this.a.ta.onmouseout=this.hm;this.a.pa.onmouseover=this.om;this.a.pa.onmouseout=this.jm;c=D(a+"HorScroll_BG");I(c.h,2,0,2,4,!0,!1,!0,!0,-1,8);c.m=K|O|P;d.l(c);c=D(a+"VerScroll_BG");I(c.h,0,2,4,2,!1,!0,!0,!0,8,-1);c.m=J|O|P;d.l(c);this.oa(this.a.Y,d,f);this.oa(this.a.Selection,d,e);this.oa(this.a.Lc,d,g);this.oa(this.a.X,d,h);this.oa(this.a.Sh,d,k);this.oa(this.a.Gh,d,l);this.oa(this.a.dl,d,n);m.onmousedown=this.ff;m.onmousemove=this.yg;m.onmouseout=this.gf;m.onmousewheel=this.Ok;m.addEventListener&&m.addEventListener("DOMMouseScroll",this.Ok,!1);m.onfocus=this.xg;m.tabIndex=-1;m.style.Bl=!0;m.style.outline=0;this.df();this.bf();Uc(this);this.cf()};q.v=function(a){var b=this.a.e.a.clientWidth,c=this.a.e.a.clientHeight;this.a.e.Va(b,c);this.Nb(b,c,a)};q.Da=function(){if(!(0>=this.c.G||0>=this.c.B)){var a=this.c.G,b=this.c.B,c=20+24*(this.$.Qb()+1),d=20+24*(this.$.ab()+1);c>a?(this.a.le=Math.max(50,a*a/c),this.a.ta.style.width=Math.max(50,a*a/c)+"px",this.a.ta.style.display="block",this.a.ta.style.position="absolute",this.a.ta.style.top=b-12+"px",this.a.ta.style.height="8px",this.a.ta.style.background=this.Mb()?"rgb(220, 220, 220)":"rgb(0,0,0)",this.a.ta.style.opacity=0,Vc(this.a.ta,2,a-this.a.le-2,b-12,b-12),this.a.ta.Za=this.Sl,this.a.ta.sg=this.Nk,this.a.ta.rg=this.Mk,this.a.Ba.style.display="block"):(this.a.Ba.style.display="none",this.a.ta.style.display="none");d>b?(this.a.ke=Math.max(50,b*b/d),this.a.pa.style.height=Math.max(50,b*b/d)+"px",this.a.pa.style.display="block",this.a.pa.style.position="absolute",this.a.pa.style.left=a-12+"px",this.a.pa.style.width="8px",this.a.pa.style.background=this.Mb()?"rgb(220, 220, 220)":"rgb(0,0,0)",this.a.pa.style.opacity=0,Vc(this.a.pa,a-12,a-12,2,b-this.a.ke-2),this.a.pa.Za=this.$l,this.a.pa.sg=this.Nk,this.a.pa.rg=this.Mk,this.a.ya.style.display="block"):(this.a.ya.style.display="none",this.a.pa.style.display="none");this.hb.B=-1;this.hb.G=-1;Sc(this);Tc(this)}};q.ub=function(){this.$.ub();this.hb.B=-1;this.hb.G=-1};function Wc(a,b){a.Xf=!0;var c=a.c.G,d=a.c.B;if(!(0>=c||0>=d)){var f=a.b.j.Sa,e=f.g,f=f.f,g=10+a.V.g+24*e,h=10+a.V.f+24*f;if(0!=b&&!0===a.Dl&&(10>=g||g>=c-10||10>=h||h>=d-10)){var k=20+24*(a.$.ab()+1)-d,l=20+24*(a.$.Qb()+1)-c;10>=g?a.V.g=24*-e:g>=c-10&&(a.V.g=c-24-10-10-24*e);10>=h?a.V.f=24*-f:h>=d-10&&(a.V.f=d-24-10-10-24*f);a.V.g=Math.min(0,Math.max(a.V.g,-l));a.V.f=Math.min(0,Math.max(a.V.f,-k));Tc(a);Sc(a)}}}q.Ha=function(a,b){var c=document.createElement("canvas");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};q.la=function(a,b){var c=document.createElement("div");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};q.oa=function(a,b,c){a.e=D(c);a=a.e;I(a.h,0,0,1E3,1E3,!1,!1,!1,!1,-1,-1);a.m=J|K|O|P;b.l(a)};q.Nb=function(a,b,c){var d=this.a.Y.e.a.getContext("2d");a!==this.c.G||b!==this.c.B||null===this.c.Y||null!==this.gb||!0===c?(this.c.G=a,this.c.B=b,d.fillStyle=S(this.ef()),d.fillRect(0,0,a,b),null!==this.gb&&clearTimeout(this.gb),this.gb=this.bj()):d.putImageData(this.c.Y,0,0);this.Da()};q.Ui=function(){this.gb=null;var a=this.c.G,b=this.c.B,c=this.a.Y.e.a.getContext("2d");if(0!==a&&0!==b){for(var d=c.createImageData(a,b),f=this.ef(),e=f.r,g=f.t,f=f.s,h=Array(a),k=0;k<a;k++)h[k]=(Math.tan(300*k/a)+1)/2+(Math.tan(100*k/a)+1)/10;for(var l=Array(b),n=0;n<b;n++)l[n]=.02*Math.tan(n/b);var m,u,p,k=this.ld();if(!0===this.vg())for(p=.9,n=0;n<b;n++)for(k=0;k<a;k++){p=40*(h[k]+l[n])+.5;p-=Math.floor(p);p=.2>p?1-p/2:.4>p?1-(.4-p)/2:1;if(n==b-1||n==b-2&&k<a-2||k>=a-1||k==a-2&&n<b-1)p/=2;0==n||1==n&&1<k||0==k||1==k&&1<n?(m=128+e*p/2,u=128+g*p/2,p=128+f*p/2):(m=e*p,u=g*p,p*=f);var r=4*(k+n*a);d.data[r+0]=m;d.data[r+1]=u;d.data[r+2]=p;d.data[r+3]=255}else for(h=0;h<b;h++)for(l=0;l<a;l++)0==h||0==l||h===b-1||l===a-1?(m=k.r,u=k.t,p=k.s):(m=e,u=g,p=f),r=4*(l+h*a),d.data[r+0]=m,d.data[r+1]=u,d.data[r+2]=p,d.data[r+3]=255;this.c.Y=d;c.putImageData(this.c.Y,0,0)}};q.df=function(){var a=this.a.Gh.e.a.getContext("2d");this.c.nd=a.createImageData(20,20);this.c.Ed=a.createImageData(20,20);this.c.lf=a.createImageData(20,20);this.c.Lf=a.createImageData(20,20);var a=this.c.nd.data,b=this.c.Ed.data,c=this.c.lf.data,d=this.c.Lf.data,f=this.Xi(),e=this.Vi(),g=this.Mb();if(!0===this.Wi())for(var h=9.5,k=h-.2,f=Math.sqrt(3),l=0;20>l;l++)for(var n=0;20>n;n++){var m=l-h,u=n-h,p=k-Math.sqrt(m*m+u*u),r=4*(20*l+20-n-1);if(0<=p){var w=k*k-m*m-u*u,w=0<w?Math.sqrt(w)*f:0,g=m,t=u,e=Math.sqrt(6*(g*g+t*t+w*w)),e=(2*w-g+t)/e,g=0;.9<e&&(g=10*(e-.9));w=255;.8>=p&&(p=(.8-p)/.8,w=.7,m-u<k/3&&(w=1),w=parseInt(255*(1-p*w)));m=parseInt(10+10*e+140*g);a[r+0]=m;a[r+1]=m;a[r+2]=m;a[r+3]=w;c[r+0]=m;c[r+1]=m;c[r+2]=m;c[r+3]=parseInt(.5*w);m=parseInt(200+10*e+45*g);b[r+0]=m;b[r+1]=m;b[r+2]=m;b[r+3]=w;d[r+0]=m;d[r+1]=m;d[r+2]=m;d[r+3]=parseInt(.7*w)}else a[r+0]=0,a[r+1]=0,a[r+2]=0,a[r+3]=0,d[r+0]=0,d[r+1]=0,d[r+2]=0,d[r+3]=0}else for(h=9.5,k=h-.2,l=0;20>l;l++)for(n=0;20>n;n++)if(m=l-h,u=n-h,p=k-Math.sqrt(m*m+u*u),r=4*(20*l+20-n-1),0<=p){w=255;if(.8>=p){var x=(.8-p)/.8,w=.7;m-u<k/3&&(w=1);w=parseInt(255*(1-x*w))}else 1.6>=p&&.8<=p&&!0===g&&(x=(1.6-p)/.8,w=.7,m-u<k/3&&(w=1),w=parseInt(x*w*255));t=!1;1.6>=p&&(t=!0);!1===t||!1===g?(a[r+0]=e.r,a[r+1]=e.t,a[r+2]=e.s,a[r+3]=w,c[r+0]=e.r,c[r+1]=e.t,c[r+2]=e.s):(a[r+0]=f.r,a[r+1]=f.t,a[r+2]=f.s,a[r+3]=w,c[r+0]=f.r,c[r+1]=f.t,c[r+2]=f.s);c[r+3]=parseInt(.5*w);w=255;.8>=p?(x=(.8-p)/.8,w=.7,m-u<k/3&&(w=1),w=parseInt(255*(1-x*w))):1.6>=p&&.8<=p&&!1===g&&(x=(1.6-p)/.8,w=.7,m-u<k/3&&(w=1),w=parseInt(x*w*255));!1===t||!0===g?(b[r+0]=f.r,b[r+1]=f.t,b[r+2]=f.s,b[r+3]=w,d[r+0]=f.r,d[r+1]=f.t,d[r+2]=f.s):(b[r+0]=e.r,b[r+1]=e.t,b[r+2]=e.s,b[r+3]=w,d[r+0]=e.r,d[r+1]=e.t,d[r+2]=e.s);d[r+3]=parseInt(w/2)}else a[r+0]=0,a[r+1]=0,a[r+2]=0,a[r+3]=0,c[r+0]=0,c[r+1]=0,c[r+2]=0,c[r+3]=0,b[r+0]=0,b[r+1]=0,b[r+2]=0,b[r+3]=0,d[r+0]=0,d[r+1]=0,d[r+2]=0,d[r+3]=0};q.bf=function(){var a=this.a.X.e.a.getContext("2d");this.c.qh=a.createImageData(24,24);this.c.yj=a.createImageData(24,24);this.c.kh=a.createImageData(24,24);this.c.xj=a.createImageData(24,24);this.c.oh=a.createImageData(24,24);this.c.bi=a.createImageData(24,24);this.c.ek=a.createImageData(24,24);this.c.fi=a.createImageData(24,24);this.c.uh=a.createImageData(24,24);this.c.rh=a.createImageData(24,24);this.c.sh=a.createImageData(24,24);this.c.th=a.createImageData(24,24);this.c.vh=a.createImageData(24,24);this.c.lh=a.createImageData(24,24);this.c.mh=a.createImageData(24,24);this.c.nh=a.createImageData(24,24);this.c.ph=a.createImageData(24,24);this.c.hi=a.createImageData(24,24);this.c.ci=a.createImageData(24,24);this.c.di=a.createImageData(24,24);this.c.ei=a.createImageData(24,24);this.c.gi=a.createImageData(24,24);for(var a=this.c.qh.data,b=this.c.yj.data,c=this.c.kh.data,d=this.c.xj.data,f=this.c.oh.data,e=this.c.bi.data,g=this.c.ek.data,h=this.c.fi.data,k=this.c.uh.data,l=this.c.rh.data,n=this.c.sh.data,m=this.c.th.data,u=this.c.vh.data,p=this.c.lh.data,r=this.c.mh.data,w=this.c.nh.data,t=this.c.ph.data,x=this.c.hi.data,L=this.c.ci.data,M=this.c.di.data,B=this.c.ei.data,F=this.c.gi.data,Q=!0===this.Mb()?200:28,z=new A(Q,Q,Q,255),N=0;24>N;N++)for(var R=0;24>R;R++){var v=4*(24*N+R);12<=R&&(11===N||12===N)?(a[v+0]=z.r,a[v+1]=z.s,a[v+2]=z.t,a[v+3]=255,k[v+0]=z.r,k[v+1]=z.s,k[v+2]=z.t,k[v+3]=96):(a[v+3]=0,k[v+3]=0);11<=R&&(11===N||12===N)||12<=N&&(11===R||12===R)?(b[v+0]=z.r,b[v+1]=z.s,b[v+2]=z.t,b[v+3]=255,m[v+0]=z.r,m[v+1]=z.s,m[v+2]=z.t,m[v+3]=96):(b[v+3]=0,m[v+3]=0);11<=R&&(11===N||12===N)?(l[v+0]=z.r,l[v+1]=z.s,l[v+2]=z.t,l[v+3]=255):12<=N&&(11===R||12===R)?(l[v+0]=z.r,l[v+1]=z.s,l[v+2]=z.t,l[v+3]=96):l[v+3]=0;12<=N&&(11===R||12===R)?(n[v+0]=z.r,n[v+1]=z.s,n[v+2]=z.t,n[v+3]=255):11<=R&&(11===N||12===N)?(n[v+0]=z.r,n[v+1]=z.s,n[v+2]=z.t,n[v+3]=96):n[v+3]=0;11===N||12===N?(c[v+0]=z.r,c[v+1]=z.s,c[v+2]=z.t,c[v+3]=255,u[v+0]=z.r,u[v+1]=z.s,u[v+2]=z.t,u[v+3]=96):(c[v+3]=0,u[v+3]=0);11===N||12===N||12<=N&&(11===R||12===R)?(d[v+0]=z.r,d[v+1]=z.s,d[v+2]=z.t,d[v+3]=255,w[v+0]=z.r,w[v+1]=z.s,w[v+2]=z.t,w[v+3]=96):(d[v+3]=0,w[v+3]=0);11===N||12===N?(p[v+0]=z.r,p[v+1]=z.s,p[v+2]=z.t,p[v+3]=255):12<=N&&(11===R||12===R)?(p[v+0]=z.r,p[v+1]=z.s,p[v+2]=z.t,p[v+3]=96):p[v+3]=0;(11===N||12===N)&&12>=R||12<=N&&(11===R||12===R)?(r[v+0]=z.r,r[v+1]=z.s,r[v+2]=z.t,r[v+3]=255):(11===N||12===N)&&12<R?(r[v+0]=z.r,r[v+1]=z.s,r[v+2]=z.t,r[v+3]=96):(d[v+3]=0,w[v+3]=0);11>=R&&(11===N||12===N)?(f[v+0]=z.r,f[v+1]=z.s,f[v+2]=z.t,f[v+3]=255,t[v+0]=z.r,t[v+1]=z.s,t[v+2]=z.t,t[v+3]=96):(f[v+3]=0,t[v+3]=0);11===R||12===R?(e[v+0]=z.r,e[v+1]=z.s,e[v+2]=z.t,e[v+3]=255,x[v+0]=z.r,x[v+1]=z.s,x[v+2]=z.t,x[v+3]=96):(e[v+3]=0,x[v+3]=0);11===R||12===R||12<=R&&(11===N||12===N)?(g[v+0]=z.r,g[v+1]=z.s,g[v+2]=z.t,g[v+3]=255,B[v+0]=z.r,B[v+1]=z.s,B[v+2]=z.t,B[v+3]=96):(g[v+3]=0,B[v+3]=0);(11===R||12===R)&&12>=N||12<=R&&(11===N||12===N)?(L[v+0]=z.r,L[v+1]=z.s,L[v+2]=z.t,L[v+3]=255):(11===R||12===R)&&12<N?(L[v+0]=z.r,L[v+1]=z.s,L[v+2]=z.t,L[v+3]=96):L[v+3]=0;11===R||12===R?(M[v+0]=z.r,M[v+1]=z.s,M[v+2]=z.t,M[v+3]=255):12<R&&(11===N||12===N)?(M[v+0]=z.r,M[v+1]=z.s,M[v+2]=z.t,M[v+3]=96):M[v+3]=0;11>=N&&(11===R||12===R)||11<=R&&(11===N||12===N)?(h[v+0]=z.r,h[v+1]=z.s,h[v+2]=z.t,h[v+3]=255,F[v+0]=z.r,F[v+1]=z.s,F[v+2]=z.t,F[v+3]=96):(h[v+3]=0,F[v+3]=0)}this.c.Yj=this.Ga(20,20,20*.07,z,1,null);this.c.ak=this.Ga(20,20,20*.07,new A(Q,Q,Q,96),1,null);this.c.Zj=this.Ga(20,20,1.2,new A(255,255,255,255),1,this.c.nd);this.c.bk=this.Ga(20,20,1.2,new A(0,0,0,255),1,this.c.Ed);this.c.$j=this.Ga(20,20,1.2,new A(255,255,255,96),1,this.c.lf);this.c.ck=this.Ga(20,20,1.2,new A(0,0,0,96),1,this.c.Lf)};function Uc(a){var b=a.a.Selection.e.a.getContext("2d");a.c.Tb=b.createImageData(24,24);a.c.Lc=b.createImageData(24,24);for(var c=a.c.Tb.data,d=a.c.Lc.data,f=0;24>f;f++)for(var e=0;24>e;e++){var g=4*(e+24*f);c[g+3]=255;d[g+3]=255;0===e&&23===f||23===e&&0===f?(c[g+0]=135,c[g+1]=125,c[g+2]=135,d[g+0]=216):23===e||23===f?(c[g+0]=89,c[g+1]=89,c[g+2]=89,d[g+0]=178):(0===f||0===e?(c[g+0]=182,c[g+1]=182,c[g+2]=182):(c[g+0]=128,c[g+1]=128,c[g+2]=128),d[g+0]=255);d[g+1]=0;d[g+2]=0}b.putImageData(a.c.Tb,0,0);b.putImageData(a.c.Lc,0,30)}q.Ga=function(a,b,c,d,f,e){void 0===f&&(f=1);var g=this.a.X.e.a.getContext("2d");g.clearRect(0,0,a,b);null!==e&&g.putImageData(e,0,0);g.globalAlpha=f;g.strokeStyle=S(d);g.fillStyle=S(d);g.lineWidth=c;f=a/2;d=3*b/4;var h=.1*a;c=Math.sqrt(f*f-(d-f)*(d-f))+f-h;f=-Math.sqrt(f*f-(d-f)*(d-f))+f+h;null!==e&&(c=Math.floor(c-.5),f=Math.ceil(f+.5),h=Math.ceil(h+.5),d=Math.floor(d-.5));g.beginPath();g.moveTo(a/2,h);g.lineTo(c,d);g.lineTo(f,d);g.closePath();g.stroke();a=g.getImageData(0,0,a,b);g.putImageData(a,0,0);return a};q.cf=function(){var a=this.a.Sh.e.a.getContext("2d");this.c.Ca=a.createImageData(20,20);a=this.c.Ca.data;this.c.yb=Math.max(3,3);for(var b=0;20>b;b++)for(var c=0;20>c;c++){var d=Math.abs(b-8.5),f=Math.abs(c-8.5),d=Math.sqrt(f*f+d*d)/8.5,d=1>d?.15+.75*(1-d):0,f=4*(20*b+c);a[f+0]=0;a[f+1]=0;a[f+2]=0;a[f+3]=parseInt(255*d)}};function Sc(a){a.Yf=!0;Wc(a,!1)}q.Xd=function(a,b){var c=Ia(this.a.Y.e.a);return{g:(a-c.g-10-this.V.g)/24|0,f:(b-c.f-10-this.V.f)/24|0}};q.rb=function(a,b){var c=this.c.G,d=this.c.B;if(!(0>=c||0>=d)){var f=this.a.Selection.e.a.getContext("2d");f.clearRect(0,0,c,d);0<=a&&0<=b&&(c=10+this.V.g+24*a,d=10+this.V.f+24*b,this.$.H(a,b).ge()&&f.putImageData(this.c.Tb,c,d))}};function Tc(a){var b=a.c.G,c=a.c.B,c=-a.V.f/(20+24*(a.$.ab()+1)-c)*(c-4-a.a.ke)+2;a.a.ta.style.left=-a.V.g/(20+24*(a.$.Qb()+1)-b)*(b-4-a.a.le)+2+"px";a.a.pa.style.top=c+"px"}q.vg=function(){return y.ma.tc};q.Wi=function(){return y.ma.Xc};q.ug=function(){return y.ma.Wc};q.Xi=function(){return y.ma.kd};q.Vi=function(){return y.ma.hd};q.ef=function(){return y.ma.Ic};q.ld=function(){return y.ma.jd};q.Mb=function(){return y.ma.Vc};var wc=-9,xc=-8,yc=-7;function Xc(a,b,c){this.I=a;this.da=b;this.ig=c}Xc.prototype.ge=function(){return!1};Xc.prototype.S=function(){return this.ig};Xc.prototype.zd=function(){if(-10!==this.I)if(wc===this.I){if(this.da.zd()&&0<V(this.da)&&this.da.S().Sa.f>=this.ig.Sa.f)return{sc:!0}}else if(xc===this.I){if(!this.da.zd())return{sc:!1};var a=this.ig.Sa.f,b=this.da.S().Sa.f;if(a<b)return{sc:!0,Pj:0};if(a===b)return{sc:!0,Pj:1}}else if(yc===this.I)return{sc:this.ig.zd()};return{sc:!1}};function Rc(){this.$=[];this.b=null;this.Ya=0}q=Rc.prototype;q.Nh=function(a){this.b=a};q.va=function(){this.$=[];this.Ya=0};q.ub=function(){this.b&&(this.va(),Yc(this,this.b.ea,0,0))};function Yc(a,b,c,d){var f,e=1;for(f=b;0<V(f);)e++,f=f.S(0);for(f=e;!Zc(a,c,d,f);)d++;var e=c,g=d,h=b;for(a.Set(e,g,b);0<V(h);)e++,h=h.S(0),a.Set(e,g,h);e=$c(b);c+=f-1;for(f={dk:d};;){for(var g=d,h=a.Ya,k=V(e),l=1;l<k;l++){a.Ya=h;var n=d,m=Yc(a,e.S(l),c+1,d+1);d=m.f;for(n+=1;n<=d;n++)if(n===m.dk)if(k-1===l){a.Set(c,n,new Xc(yc,e,e.S(l)));break}else a.Set(c,n,new Xc(xc,e,e.S(l)));else n<m.dk?a.Set(c,n,new Xc(wc,e,e.S(l))):a.Set(c,n,new Xc(wc,e,e.S(l+1)))}a.Ya=h;if(e===b)break;e.yd()&&a.Ya--;e=e.da;c--;d=g}f.f=d;return f}q.H=function(a,b){return void 0===this.$[b]||void 0===this.$[b][a]?new Xc(-10,null,null):this.$[b][a]};q.Set=function(a,b,c){void 0===this.$[b]&&(this.$[b]=[]);if(c.ge())if(c.yd()){this.Ya++;var d=this.Ya;c.Sa.g=a;c.Sa.f=b;c.Sa.zf=d}else c.Sa.g=a,c.Sa.f=b,c.Sa.zf=-1;this.$[b][a]=c};function Zc(a,b,c,d){for(var f=0;f<d;f++){var e=b+f;if(!1===(void 0===a.$[c]||void 0===a.$[c][e]||-10===a.$[c][e].I?!0:!1))return!1}return!0}q.ab=function(){return this.$.length};q.Qb=function(){for(var a=0,b=this.ab(),c=0;c<b;c++){var d=this.$[c].length-1;d>a&&(a=d)}return a};function ad(a){if(this.b=a)a.i=this;this.La=null;this.ca=[];this.a={Eh:null,Uc:null,Jj:null,Dj:null,yf:null,Bf:null,nf:null};this.Wb=this.$f=this.ob=0}q=ad.prototype;q.o=function(a,b){bd(this,b);var c=this.b,d=D(a),f=a+"_Board",e=a+"_Message",g=a+"_Next";this.K(d.a,f);var h=this.K(d.a,g),k=this.K(d.a,e);k.style.backgroundColor="rgb(255,255,255)";k.style["border-radius"]="6px";k.style["-webkit-border-radius"]="6px";k.style["-moz-border-radius"]="5px";k.style["-khtml-border-radius"]="10px";k.style.borderColor="#e3e3e3";k.style.borderWidth="5px";k.style.borderStyle="ridge";k.style.display="block";var l=D(f);I(l.h,0,0,1E3,1E3,!1,!1,!1,!1,-1,-1);l.m=J|K|P|O;d.l(l);this.K(l.a,f+"_Centred");var n=D(f);l.kb(2);l.l(n);l=D(e);I(l.h,350,350,650,650,!1,!1,!1,!1,-1,-1);l.m=J|K|P|O;d.l(l);n=new aa(this);n.o(f,c);n.cd=this;var m=D(g);I(m.h,0,0,1E3,1E3,!1,!1,!1,!1,-1,-1);m.m=J|K|P|O;d.l(m);c=g+"_Centred";this.K(m.a,c);f=D(c);m.kb(2);m.l(f);m=c+"_Next";g=cd(f.a,m);g.value="\u0414\u0430\u043b\u0435\u0435";g.style.display="none";var u=c+"_Prev",c=cd(f.a,u);c.value="\u041d\u0430\u0437\u0430\u0434";c.style.display="none";var p=this;g.addEventListener("click",function(){p.a.yf.style.display="none";p.a.Bf.style.display="none";dd(p)},!1);c.addEventListener("click",function(){p.a.yf.style.display="none";p.a.Bf.style.display="none";ed(p)},!1);m=D(m);I(m.h,501,0,2,2,!1,!1,!0,!0,-1,25);m.m=K|P|O;f.l(m);m=D(u);I(m.h,2,0,499,2,!0,!1,!1,!0,-1,25);m.m=K|P|O;f.l(m);var r=e+"_Text",u=e+"_Next",w=e+"_Prev",e=this.K(k,r);e.style.fontFamily="verdana";e.style.textAlign="justify";e.style.xm="center";e.style.overflowY="scroll";f=cd(k,u);m=cd(k,w);m.addEventListener("click",function(){ed(p)},!1);f.addEventListener("click",function(){dd(p)},!1);r=D(r);I(r.h,0,0,1E3,35,!1,!1,!1,!0,-1,-1);r.m=J|K|O|P;l.l(r);u=D(u);I(u.h,0,0,5,5,!1,!1,!0,!0,100,25);u.m=O|P;l.l(u);u=D(w);I(u.h,5,0,0,5,!0,!1,!1,!0,100,25);u.m=O|K;l.l(u);this.a.Eh=k;this.a.Uc=e;this.a.Jj=m;this.a.Dj=f;this.a.yf=g;this.a.Bf=c;this.a.nf=h;this.ca.push(n);this.La=d;this.v();fd(this,0,0)};q.v=function(a){this.La&&this.La.Va(this.La.a.clientWidth,this.La.a.clientHeight);for(var b=0,c=this.ca.length;b<c;b++)this.ca[b].v(a)};function ob(a){return null===a.ga[a.ob].Pa||void 0===a.ga[a.ob].Pa.qj?0:a.ga[a.ob].Pa.qj}function pb(a){null!==a.ga[a.ob].Pa&&!0===a.ga[a.ob].Pa.sl?(a.a.nf.style.display="block",a.a.yf.style.display="block",a.a.Bf.style.display="block"):a.Bm(a.ob,2)}q.Lj=function(){};q.pc=function(){};q.Ab=function(){};q.Yh=function(){};q.$h=function(){};q.Zh=function(){};q.ai=function(){};q.qe=function(){};q.pe=function(){};q.Hh=function(){};q.Fj=function(){};function bd(a,b){var c=b.length;a.$f=c;a.ga=[];for(var d=0;d<c;d++)a.ga[d]={},a.ga[d].Rh=b[d].Sgf,a.ga[d].tm=b[d].Before,a.ga[d].sm=b[d].After,a.ga[d].Dh=b[d].Message,null===b[d].SgfPr?a.ga[d].Pa=null:(a.ga[d].Pa={},a.ga[d].Pa.qj=b[d].SgfPr.Count,a.ga[d].Pa.sl=b[d].SgfPr.WaitOnEnd,a.ga[d].Pa.ce={},b[d].SgfPr.Flags&&(a.ga[d].Pa.ce.xf=b[d].SgfPr.Flags.NewNode,a.ga[d].Pa.ce.vf=b[d].SgfPr.Flags.Move,a.ga[d].Pa.ce.Rg=b[d].SgfPr.Flags.ChangeBoardMode,a.ga[d].Pa.ce.zh=b[d].SgfPr.Flags.LoadFile))}function dd(a){var b=a.ob;0===a.Wb?null!==a.ga[b].Rh?fd(a,b,1):(a.Wb=1,dd(a)):1!==a.Wb||b>=a.$f-1||(null!==a.ga[b+1].Dh?fd(a,b+1,0):(a.ob++,a.Wb=0,dd(a)))}function ed(a){var b=a.ob;0===a.Wb?0>=b||(null!==a.ga[b-1].Rh?fd(a,b-1,1):(a.ob--,a.Wb=1,ed(a))):1===a.Wb&&(null!==a.ga[b].Dh?fd(a,b,0):(a.Wb=0,ed(a)))}function fd(a,b,c){if(!(0>b||b>=a.$f)){a.ob=b;a.Wb=c;var d=a.ga[b].Rh,f=a.ga[b].Pa,e=a.ga[b].Dh;if(0===c)if(a.a.nf.style.display="block",null!==e){c=0===b?null:"\u041d\u0430\u0437\u0430\u0434";b=b===a.$f-1&&null===d?null:"\u0414\u0430\u043b\u0435\u0435";d=a.a.Jj;f=a.a.Dj;for(a.a.Eh.style.display="block";a.a.Uc.firstChild;)a.a.Uc.removeChild(a.a.Uc.firstChild);U(a.a.Uc,"");"string"===typeof e?U(a.a.Uc,e):a.a.Uc.appendChild(e);null===c?d.style.display="none":(d.style.display="block",d.value=c);null===b?f.style.display="none":(f.style.display="block",f.value=b)}else dd(a);else 1===c&&(a.a.nf.style.display="none",null!==d?(a.a.Eh.style.display="none",a.b.J=4294967295,a.b.jc(d),gd(a.b,f.ce),a.b.wa()):dd(a))}}q.K=function(a,b){var c=document.createElement("div");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};function cd(a,b){var c=document.createElement("input");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("type","button");a.appendChild(c);return c};var hd=0,Kc=0,Jc=1;function Ic(a){this.i=a;this.b=null;this.I=hd;this.a={e:null,je:null,Lh:null,Uh:null};this.Gi=new A(217,217,217,255);this.Kl=new A(54,101,179,255);this.Ml=new A(140,140,140,255);this.Nl=new A(0,0,0,255);this.Ra=this.Md=this.w=0;this.yc=7;this.Jb=10;this.xe=!1;var b=this;this.Pl=function(a){var d=b.w-b.Ra;0!==d&&(Mc(b,(a-b.Jb)/d,!1),id(b,!1))};this.Zi=function(){b.xe=!0;id(b,!1)};this.Rl=function(a){b.xe=!1;var d=b.w-b.Ra;0!==d&&(Mc(b,(a-b.Jb)/d,!1),id(b,!0))}}Ic.prototype.o=function(a,b,c,d){this.b=b;this.I=c;switch(c){case Kc:this.i.Le=this;break;case Jc:this.i.Ki=this}this.a.e=D(a);c=this.a.e.a;c.style.backgroundColor=S(this.Gi);c.style.Cm=S(new A(255,255,255,255));var f=a+"_Left";b=a+"_Right";a=a+"_Slider";this.a.je=this.la(c,f);this.a.Lh=this.la(c,b);this.a.Uh=this.la(c,a);a=D(f);I(a.h,this.Jb,this.yc,500,this.yc,!0,!0,!1,!0,-1,-1);a.m=J|K|O|P;this.a.e.l(a);a.a.style.background=S(this.Kl);a=D(b);I(a.h,500,this.yc,this.Jb,this.yc,!1,!0,!0,!0,-1,-1);a.m=J|K|O|P;this.a.e.l(a);a.a.style.background=S(this.Ml);this.v();Mc(this,d)};Ic.prototype.v=function(){var a=this.a.e.a.clientWidth,b=this.a.e.a.clientHeight;this.w=a-2*this.Jb;this.a.e.Va(a,b);this.Nb(a,b);Mc(this,this.Md,!0)};Ic.prototype.Nb=function(a,b){var c=b-2*this.yc;this.Ra=c;var d=this.a.Uh;d.style.width=c+"px";d.style.height=c+"px";d.style.display="block";d.style.position="absolute";d.style.backgroundColor=S(this.Nl);d.style.top=this.yc+"px";d.style.left=this.Jb+"px";Vc(d,this.Jb,a-this.Jb-c,this.yc,this.yc);d.Za=this.Pl;d.sg=this.Zi;d.rg=this.Rl;d=this.a.je;d.style.fontSize=c+"px";d.style.color="rgb(255,255,255)";d.style.textOverflow="clip";d.style.overflow="hidden"};Ic.prototype.la=function(a,b){var c=document.createElement("div");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};function Mc(a,b,c){a.Md=Math.min(1,Math.max(b,0));b=a.Md*a.w;a.a.je.style.width=b+"px";a.a.Lh.style.left=b+a.Jb+"px";a.a.Lh.style.width=a.w-b+"px";!1!==c&&(a.a.Uh.style.left=a.Md*(a.w-a.Ra)+a.Jb+"px")}function id(a,b){if(a.b)switch(a.I){case Kc:var c=a.b,d=a.Md;c.ze=d;if(c.i){var f=c.i;f.Le&&(f=f.Le,!0!==f.xe&&Mc(f,d,!0))}null!==c.Vb&&c.oe();b?U(a.a.je,""):U(a.a.je,((100+6900*(1-a.b.ze))/1E3*1E3|0)/1E3+" seconds for move");break;case Jc:c=a.b;d=c.ea;for(f=1;0<V(d);)f++,d=d.S();d=a.Md*(f-1);for(f=c.ea;0<V(f)&&0<d;)d--,f=f.S();mb(c,f)}};function jd(){this.oj=this.nj=this.mj=this.lj=this.Hj=null;this.lk=!1;this.Jd=!0}jd.prototype.o=function(a){var b=document.getElementsByTagName("body");if(!(0>=b.length)){this.Jd=!0;var c="",d=navigator.userAgent;-1!=d.indexOf("Opera")?c="Opera":-1!=d.indexOf("Chrome")?c="Chrome":-1!=d.indexOf("MSIE")?c="IE":-1!=d.indexOf("Safari")?c="Safari":-1!=d.indexOf("Mozilla")&&(c="Mozilla");"IE"===c&&(this.lk=!0);b=b[0];this.Hj=kd(b,"GoBoardApiSoundPlaceStone",a+"/Stone.mp3");this.lj=kd(b,"GoBoardApiSoundCapture1",a+"/Capture1.mp3");this.mj=kd(b,"GoBoardApiSoundCapture3",a+"/Capture3.mp3");this.nj=kd(b,"GoBoardApiSoundCapture5",a+"/Capture5.mp3");this.oj=kd(b,"GoBoardApiSoundCaptureN",a+"/CaptureN.mp3")}};function ld(a,b){1>=b?md(a,a.lj):3>=b?md(a,a.mj):5>=b?md(a,a.nj):md(a,a.oj)}function kd(a,b,c){var d=document.getElementById(b);d||(d=document.createElement("audio"),d.id=b,d.ii="preload",d.src=c,a.appendChild(d));return d}function md(a,b){if(b&&a.Jd&&y.he())try{a.lk?(b.setActive(),b.click(),b.autoplay="",b.autoplay="autoplay"):b.play()}catch(c){}};function Ec(a){this.i=a;this.b=null;this.a={e:null};this.Fi=new A(217,217,217,255);this.Sf=[]}Ec.prototype.o=function(a,b,c){this.b=b;this.a.e=D(a);var d=this.a.e.a,f=this.a.e;d.style.backgroundColor=S(this.Fi);for(var e=0,g=c.na.length;e<g;e++){var h=c.na[e],k=null;switch(h){case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 20:case 23:case 24:case 25:case 26:case 27:k=new Yb(this.i)}if(null!==k){var l=a+e;this.la(d,l);this.oa(f,l,e/g,(e+1)/g);k.o(l,b,h);this.Sf.push(k)}}this.v()};Ec.prototype.v=function(){this.a.e.Va(this.a.e.a.clientWidth,this.a.e.a.clientHeight);for(var a=0,b=this.Sf.length;a<b;a++)this.Sf[a].v()};Ec.prototype.la=function(a,b){var c=document.createElement("div");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};Ec.prototype.oa=function(a,b,c,d){b=D(b);I(b.h,1E3*c,0,1E3*d,1E3,!1,!1,!1,!1,-1,-1);b.m=J|K|O|P;a.l(b)};function Lc(a){this.i=a;this.b=null;this.a={e:null,um:{e:null},vm:{e:null}};this.Fi=new A(217,217,217,255);this.cg=this.hg=this.Ac=this.bd=null;this.Sf=[]}q=Lc.prototype;q.o=function(a,b,c,d){this.b=b;this.a.e=D(a);var f=this.a.e.a,e=this.a.e;f.style.backgroundColor=S(this.Fi);var g=new Yb(this.i),h=a+"C";this.la(f,h);this.oa(e,h,0,.5);g.o(h,b,26);this.Ac=g;g=new Yb(this.i);a=a+"N";this.la(f,a);this.oa(e,a,1,1);g.o(a,b,27);this.bd=g;this.bd.Bk=this;this.Ac.Bk=this;this.hg=document.getElementById(c);this.cg=document.getElementById(d);this.Bd(this.Ac);this.v()};q.v=function(){this.a.e.Va(this.a.e.a.clientWidth,this.a.e.a.clientHeight);this.bd.v();this.Ac.v()};q.la=function(a,b){var c=document.createElement("div");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};q.oa=function(a,b,c){b=D(b);I(b.h,0,40*c,1E3,0,!1,!0,!1,!1,-1,40);b.m=J|K|P;a.l(b)};q.Bd=function(a){a===this.bd?(cc(this.bd,!0),cc(this.Ac,!1),this.hg.style.visibility="visible",this.cg.style.visibility="hidden"):a===this.Ac?(cc(this.bd,!1),cc(this.Ac,!0),this.hg.style.visibility="hidden",this.cg.style.visibility="visible"):(cc(this.bd,!1),cc(this.Ac,!1),this.hg.style.visibility="hidden",this.cg.style.visibility="hidden")};function nd(){this.Tf=[];this.ac=null;this.Eb=[]}nd.prototype.o=function(a,b,c,d){var f=d?d:200,e=document.getElementById(a);a=document.createElement("div");a.style.position="absolute";a.style.left="0px";a.style.top="0px";a.style.bottom="0px";a.style.width=f-1+"px";a.style.borderRight="1px solid #cbcbcb";e.appendChild(a);d=document.createElement("div");d.style.position="absolute";d.style.left=f+"px";d.style.top="0px";d.style.bottom="0px";d.style.right="0px";e.appendChild(d);f=0;for(e=b.length;f<e;f++)od(this,a,b[f],d);(b=this.Tf[c?c:0])&&pd(this,b)};function od(a,b,c,d){var f=document.createElement("div");b.appendChild(f);f.style.color="rgb(68, 68, 68)";f.addEventListener("mouseenter",function(){a.ac!==this&&(this.style.backgroundColor="rgb(241, 241, 241)")},!1);f.addEventListener("mouseleave",function(){a.ac!==this&&(this.style.backgroundColor="")},!1);f.addEventListener("click",function(){pd(a,this)},!1);b=document.createElement("div");f.appendChild(b);b.style.padding="7px 2px 7px 20px";var e=document.createElement("div");b.appendChild(e);e.style["-webkit-user-select"]="none";e.style.borderCollapse="collapse";e.style.boxSizing="border-box";e.style.cursor="pointer";e.style.display="block";e.style.fontFamily="Helvetica Neue', Helvetica, Arial, sans-serif";e.style.fontSize="16px";e.style.height="17px";e.style.lineHeight="17.142858505249px";e.style.width="177px";U(e,c);e=document.createElement("div");e.style.display="none";e.style.width="100%";e.style.height="100%";d.appendChild(e);a.Eb.push(e);a.Tf.push(f)}function pd(a,b){if(a.ac!==b){if(null!==a.ac){a.ac.style.backgroundColor="";a.ac.style.color="rgb(68, 68, 68)";var c=qd(a,a.ac);a.Eb[c]&&(a.Eb[c].style.display="none")}a.ac=b;b.style.backgroundColor="#7d858c";b.style.color="#fff";c=qd(a,a.ac);a.Eb[c]&&(a.Eb[c].style.display="block")}}function qd(a,b){for(var c=0,d=a.Tf.length;c<d;c++)if(b===a.Tf[c])return c;return-1};function rd(){this.a={e:null,bb:null,Pc:null,pj:null,Kc:null,kj:null,ee:null,wd:null,vd:null,xd:null,Oc:null,ic:null,hc:null,Rb:null};this.Ll=new A(166,166,166,255);this.Il=new A(185,185,185,255);this.Gi=new A(217,217,217,255);this.i=null;this.F=this.w=-1;this.ye=!1;var a=this;this.Ul=function(){var b=parseInt(a.a.e.a.style.left),c=parseInt(a.a.e.a.style.width),d=parseInt(a.a.ee.style.left);60>c-d||(a.a.e.a.style.left=b+d+"px",a.a.e.a.style.width=c-d+"px");a.a.ee.style.left="0px";a.v()};this.Xl=function(){var b=parseInt(a.a.e.a.style.width),c=parseInt(a.a.wd.style.left)+6-b;60>b+c?a.a.wd.style.left=b-6+"px":(a.a.e.a.style.width=b+c+"px",a.a.wd.style.left=b+c-6+"px",a.v())};this.Ql=function(){var b=parseInt(a.a.e.a.style.height),c=parseInt(a.a.vd.style.top)+6-b;60>b+c?a.a.vd.style.top=b-6+"px":(a.a.e.a.style.height=b+c+"px",a.a.vd.style.top=b+c-6+"px",a.v())};this.Zl=function(){var b=parseInt(a.a.e.a.style.top),c=parseInt(a.a.e.a.style.height),d=parseInt(a.a.xd.style.top);60>c-d?a.a.xd.style.top="0px":(a.a.e.a.style.top=b+d+"px",a.a.e.a.style.height=c-d+"px",a.a.xd.style.top="0px",a.v())};this.Vl=function(){var b=parseInt(a.a.e.a.style.top),c=parseInt(a.a.e.a.style.height),d=parseInt(a.a.Oc.style.top);60>c-d||(a.a.e.a.style.top=b+d+"px",a.a.e.a.style.height=c-d+"px");a.a.Oc.style.top="0px";b=parseInt(a.a.e.a.style.left);c=parseInt(a.a.e.a.style.width);d=parseInt(a.a.Oc.style.left);60>c-d||(a.a.e.a.style.left=b+d+"px",a.a.e.a.style.width=c-d+"px");a.a.Oc.style.left="0px";a.v()};this.Yl=function(){var b=parseInt(a.a.e.a.style.top),c=parseInt(a.a.e.a.style.height),d=parseInt(a.a.ic.style.top);60>c-d||(a.a.e.a.style.top=b+d+"px",a.a.e.a.style.height=c-d+"px");a.a.ic.style.top="0px";b=parseInt(a.a.e.a.style.width);c=parseInt(a.a.ic.style.left)+6-b;60>b+c?a.a.ic.style.left=b-6+"px":(a.a.e.a.style.width=b+c+"px",a.a.ic.style.left=b+c-6+"px");a.v()};this.Tl=function(){var b=parseInt(a.a.e.a.style.left),c=parseInt(a.a.e.a.style.width),d=parseInt(a.a.hc.style.left);60>c-d||(a.a.e.a.style.left=b+d+"px",a.a.e.a.style.width=c-d+"px");a.a.hc.style.left="0px";b=parseInt(a.a.e.a.style.height);c=parseInt(a.a.hc.style.top)+6-b;60>b+c?a.a.hc.style.top=b-6+"px":(a.a.e.a.style.height=b+c+"px",a.a.hc.style.top=b+c-6+"px");a.v()};this.Wl=function(){var b=parseInt(a.a.e.a.style.width),c=parseInt(a.a.Rb.style.left)+6-b;60>b+c?a.a.Rb.style.left=b-6+"px":(a.a.e.a.style.width=b+c+"px",a.a.Rb.style.left=b+c-6+"px");b=parseInt(a.a.e.a.style.height);c=parseInt(a.a.Rb.style.top)+6-b;60>b+c?a.a.Rb.style.top=b-6+"px":(a.a.e.a.style.height=b+c+"px",a.a.Rb.style.top=b+c-6+"px");a.v()}}q=rd.prototype;q.o=function(a,b){var c=this;this.ye=!0;this.a.e=D(a);var d=this.a.e.a,f=this.a.e;d.style.border="1px solid "+S(this.Ll);d.style.backgroundColor=S(this.Gi);var e=a+"_Inner",g=sd(d,e),e=D(e);I(e.h,6,29,8,8,!0,!0,!0,!0,-1,-1);e.m=J|K|O|P;f.l(e);g.style.border="1px solid "+S(this.Il);g.style.backgroundColor=S(new A(255,255,255,255));g.style.overflow="hidden";this.a.bb=g;this.a.Pc=e;e=a+"_Caption";sd(d,e);g=D(e);I(g.h,0,0,1E3,1E3,!1,!1,!1,!1,-1,30);g.m=J|K|P;f.l(g);var h=e+"_Text",e=sd(d,h),h=D(h);I(h.h,15,0,55,1E3,!0,!1,!0,!1,-1,30);h.m=J|K|P|O;g.l(h);e.style.fontFamily="Tahoma, Sans serif";e.style.fontSize="13pt";e.style.textAlign="center";e.style.height="29px";e.style.lineHeight="29px";e.style.overflow="hidden";e.style.textOverflow="ellipsis";e.style["-o-text-overflow"]="ellipsis";e.style.cursor="default";U(e,"Caption");this.a.kj=e;e=a+"_Caption2";g=sd(d,e);e=D(e);I(e.h,0,0,1E3,1E3,!1,!1,!1,!1,-1,30);e.m=J|K|P;f.l(e);this.a.Kc=g;Vc(g);g.Za=function(){var a=parseInt(c.a.e.a.style.top),b=parseInt(c.a.Kc.style.top);c.a.e.a.style.left=parseInt(c.a.e.a.style.left)+parseInt(c.a.Kc.style.left)+"px";c.a.e.a.style.top=a+b+"px";c.a.Kc.style.left="0px";c.a.Kc.style.top="0px";c.v()};!1!==b&&(e=a+"_LeftHandler",g=sd(d,e),e=D(e),I(e.h,0,6,1E3,6,!1,!0,!1,!0,6,-1),e.m=J|K|O,f.l(e),g.style.cursor="w-resize",this.a.ee=g,e=a+"_RightHandler",g=sd(d,e),e=D(e),I(e.h,0,6,0,6,!1,!0,!0,!0,6,-1),e.m=J|P|O,f.l(e),g.style.cursor="w-resize",this.a.wd=g,e=a+"_BottomHandler",g=sd(d,e),e=D(e),I(e.h,6,0,6,0,!0,!1,!0,!0,-1,6),e.m=O|P|K,f.l(e),g.style.cursor="s-resize",this.a.vd=g,e=a+"_TopHandler",g=sd(d,e),e=D(e),I(e.h,6,0,6,1E3,!0,!0,!0,!1,-1,6),e.m=J|P|K,f.l(e),g.style.cursor="s-resize",this.a.xd=g,e=a+"_LeftTopHandler",g=sd(d,e),e=D(e),I(e.h,0,0,1E3,1E3,!1,!1,!1,!1,6,6),e.m=J|K,f.l(e),g.style.cursor="se-resize",this.a.Oc=g,e=a+"_RightTopHandler",g=sd(d,e),e=D(e),I(e.h,0,0,0,1E3,!1,!1,!0,!1,6,6),e.m=J|P,f.l(e),g.style.cursor="ne-resize",this.a.ic=g,e=a+"_LeftBottomHandler",g=sd(d,e),e=D(e),I(e.h,0,0,0,1E3,!1,!1,!1,!1,6,6),e.m=O|K,f.l(e),g.style.cursor="ne-resize",this.a.hc=g,e=a+"_RightBottomHandler",g=sd(d,e),e=D(e),I(e.h,0,0,0,1E3,!1,!1,!0,!1,6,6),e.m=O|P,f.l(e),g.style.cursor="se-resize",this.a.Rb=g,Vc(this.a.ee,null,null,null,null),this.a.ee.Za=this.Ul,Vc(this.a.wd,null,null,null,null),this.a.wd.Za=this.Xl,Vc(this.a.xd,null,null,null,null),this.a.xd.Za=this.Zl,Vc(this.a.vd,null,null,null,null),this.a.vd.Za=this.Ql,Vc(this.a.Oc,null,null,null,null),this.a.Oc.Za=this.Vl,Vc(this.a.ic,null,null,null,null),this.a.ic.Za=this.Yl,Vc(this.a.hc,null,null,null,null),this.a.hc.Za=this.Tl,Vc(this.a.Rb,null,null,null,null),this.a.Rb.Za=this.Wl);g=a+"_Close";d=sd(d,g);e=D(g);I(e.h,0,0,6,1E3,!1,!0,!0,!1,45,20);e.m=J|P;f.l(e);d.style.backgroundColor=S(new A(255,0,0,255));f=new Yb(this.i);f.o(g,this,19);f.jg=new A(199,80,80,255);f.Oe=new A(224,67,67,255);f.ag=new A(153,61,61,255);this.a.pj=f};q.v=function(a){var b=this.a.e.a.clientWidth,c=this.a.e.a.clientHeight;if(b!==this.w||c!==this.F||!0===a)this.w=b,this.F=c,this.a.e.Va(b,c),this.a.pj.v()};q.Ua=function(){this.ye=!1;this.a.e.a.style.display="none";this.b&&this.b.wa()};q.Qa=function(a){this.ye=!0;var b=this.a.e.a;b.style.display="block";var c=parseInt(b.style.left),d=parseInt(b.style.top);if(a.W){var f=a.W;a=f.Qb();f=f.ab();d>f-100&&(b.style.top=f-100+"px");c>a-100&&(b.style.left=a-100+"px")}0>c&&(b.style.left="0px");0>d&&(b.style.top="0px")};q.wa=function(){};function Aa(a,b){U(a.a.kj,b)}function sd(a,b){var c=document.createElement("div");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c}function td(a,b){if(b){a.i=b;var c=a.a.e.a,d=a.Mc();null!==d&&void 0!==d&&(c.style.width=d.G+"px",c.style.height=d.B+"px");d=parseInt(c.style.height);c.style.left=(a.i.Qb()-parseInt(c.style.width))/2+"px";c.style.top=(a.i.ab()-d)/2+"px"}}q.Mc=function(){return null};q.Da=function(){};function ud(){ud.Q.constructor.call(this);this.a.Ad=null;this.a.$d=null;this.a.$a=null;this.a.qf=null}vd(ud,rd);ud.prototype.o=function(a,b){ud.Q.o.call(this,a,b);var c=this.a.bb,d=this.a.Pc,f=c.id,e=f+"Content",f=f+"Buttons",g=sd(c,e),c=sd(c,f),e=D(e);I(e.h,0,0,0,40,!0,!0,!0,!0,-1,-1);e.m=K|J|O|P;d.l(e);var h=D(f);I(h.h,0,0,0,0,!0,!1,!0,!0,-1,40);h.m=K|O|P;d.l(h);this.a.qf=e;this.a.$a=g;c.style.borderTop="1px solid rgb(172,172,172)";c.style.backgroundColor="rgb(240,240,240)";g=f+"OK";sd(c,g);e=D(g);I(e.h,0,9,85,1E3,!1,!0,!0,!1,66,21);e.m=J|P;d.l(e);e=new Yb(this.i);e.o(g,this,21);this.a.Ad=e;e.Ji=new A(234,234,234,255);e.jg=new A(172,172,172,255);e.eg=new A(227,240,252,255);e.Oe=new A(126,180,234,255);e.Ei=new A(207,230,252,255);e.ag=new A(86,157,229,255);e.Hi=new A(239,239,239,255);e.Ii=new A(217,217,217,255);f+="Cancel";sd(c,f);c=D(f);I(c.h,0,9,11,1E3,!1,!0,!0,!1,66,21);c.m=J|P;d.l(c);d=new Yb(this.i);d.o(f,this,22);this.a.$d=d;d.Ji=new A(234,234,234,255);d.jg=new A(172,172,172,255);d.eg=new A(227,240,252,255);d.Oe=new A(126,180,234,255);d.Ei=new A(207,230,252,255);d.ag=new A(86,157,229,255);d.Hi=new A(239,239,239,255);d.Ii=new A(217,217,217,255)};ud.prototype.v=function(a){ud.Q.v.call(this,a);this.a.Ad&&this.a.Ad.v();this.a.$d&&this.a.$d.v()};ud.prototype.wj=function(){this.Ua()};ud.prototype.de=function(){this.Ua()};function wd(){wd.Q.constructor.call(this);this.p={};this.b=null;this.pk=10;this.Ci=20;this.Gl=5}vd(wd,ud);q=wd.prototype;q.o=function(a,b){wd.Q.o.call(this,a);td(this,b.W);var c=b.R;this.b=c;!0!==(c.J&16?!0:!1)&&ac(this.a.Ad,!1);Aa(this,"Game info");var d=this.a.qf,f=this.a.$a,e=this.a.$a.id;f.style.overflowX="hidden";f.style.overflowY="scroll";var g=this.Ci,h=10,k=this.Gl,l=this.pk,n=c.J&16?!0:!1;this.p.fl=this.ba(f,d,e,"Game name",c.Ec,h,g,n);h+=g+k;this.p.ll=this.ba(f,d,e,"Result",c.Ta,h,g,n);h+=g+k;this.p.nl=this.ba(f,d,e,"Rules",c.Ze,h,g,n);h+=g+k;this.p.xh=this.ba(f,d,e,"Komi",c.xc,h,g,n);h+=g+k;this.p.jh=this.ba(f,d,e,"Handicap",c.pb,h,g,n);h+=g+k;this.p.ql=this.ba(f,d,e,"Time settings",c.Je+(""===c.Ye?"":" + "+c.Ye),h,g,n);h+=g+k;this.p.Uk=this.ba(f,d,e,"Black",c.Bc,h,g,n);h+=g+k;this.p.Wk=this.ba(f,d,e,"Black rank",c.Re,h,g,n);h+=g+k;this.p.tl=this.ba(f,d,e,"White",c.Fc,h,g,n);h+=g+k;this.p.vl=this.ba(f,d,e,"White rank",c.$e,h,g,n);h+=g+k;this.p.al=this.ba(f,d,e,"Copyright",c.Se,h,g,n);h+=g+k;this.p.Date=this.ba(f,d,e,"Date",c.ed,h,g,n);h+=g+k;this.p.Event=this.ba(f,d,e,"Event",c.Ud,h,g,n);h+=g+k;this.p.ml=this.ba(f,d,e,"Round",c.Ve,h,g,n);h+=g+k;this.p.jl=this.ba(f,d,e,"Place",c.Vd,h,g,n);h+=g+k;this.p.Tk=this.ba(f,d,e,"Annotator",c.Te,h,g,n);h+=g+k;this.p.el=this.ba(f,d,e,"Fuseki",c.Ue,h,g,n);h+=g+k;this.p.pl=this.ba(f,d,e,"Source",c.We,h,g,n);h+=g+k;this.p.Xj=this.ba(f,d,e,"Transcriber",c.Xe,h,g,n);h+=g+k;this.p.Xj=this.Ti(f,d,e,"Game Info",c.Dc,h,g,n);h+=3*g;sd(f,e+"Bottom");c=D(e+"Bottom");I(c.h,0,h,1E3,1E3,!0,!0,!1,!1,0,l);c.m=K|J|P;d.l(c)};q.v=function(a){wd.Q.v.call(this,a);this.a.Ad&&this.a.Ad.v();this.a.$d&&this.a.$d.v();a=parseInt(this.p.rd.style.top)|0;var b=(parseInt(this.a.$a.style.height)|0)-this.pk;this.p.rd.style.height=b-a<3*this.Ci?3*this.Ci+"px":b-a+"px"};q.wj=function(){this.Ua()};q.de=function(){this.b&&(this.b.Ec=this.p.fl.value,this.b.Ta=this.p.ll.value,this.b.Ze=this.p.nl.value,this.b.xc=parseFloat(this.p.xh.value),this.b.pb=this.p.jh.value,this.b.Je=this.p.ql.value,xd(this.b,this.p.Uk.value),yd(this.b,this.p.Wk.value),zd(this.b,this.p.tl.value),Ad(this.b,this.p.vl.value),this.b.Se=this.p.al.value,this.b.Dc=this.p.rd.value,this.b.ed=this.p.Date.value,this.b.Ud=this.p.Event.value,this.b.Ve=this.p.ml.value,this.b.Vd=this.p.jl.value,this.b.Te=this.p.Tk.value,this.b.Ue=this.p.el.value,this.b.We=this.p.pl.value,this.b.Xe=this.p.Xj.value);this.Ua()};q.la=function(a,b,c){var d=document.createElement("div");d.setAttribute("id",b);d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.style.fontFamily="Tahoma, Sans serif";d.style.fontSize=15*c/20+"px";d.style.lineHeight=c+"px";d.style.height=c+"px";a.appendChild(d);return d};q.af=function(a,b,c){var d=document.createElement("input");d.setAttribute("id",b);d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.setAttribute("type","text");d.style.fontFamily="Tahoma, Sans serif";d.style.fontSize="10pt";d.style.outline="none";d.style.border="1px solid rgb(169,169,169)";!1===c&&(d.disabled="disabled");a.appendChild(d);return d};q.ba=function(a,b,c,d,f,e,g,h){var k;k=30;c+=d;var l=this.la(a,c,g),n=D(c);I(n.h,10,e,1E3,1E3,!0,!0,!1,!1,100,g);n.m=K|J;b.l(n);U(l,d);d=c+"Value";a=this.af(a,d,h);h=D(d);I(h.h,110,e+1,k,1E3,!0,!0,!0,!1,-1,g-2);h.m=K|J|P;b.l(h);a.value=f;return a};q.Ti=function(a,b,c,d,f,e,g,h){var k;k=30;c+=d;var l=this.la(a,c,g),n=D(c);I(n.h,10,e,1E3,1E3,!0,!0,!1,!1,100,g);n.m=K|J;b.l(n);U(l,d);c=c+"Value";d=document.createElement("textarea");d.setAttribute("id",c);d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.style.fontFamily="Tahoma, Sans serif";d.style.fontSize="10pt";d.style.resize="none";d.style.outline="none";d.style.border="1px solid rgb(169,169,169)";d.style.height=3*g+"px";this.p.rd=d;!1===h&&(d.disabled="disabled");a.appendChild(d);a=D(c);I(a.h,110,e+1,k,1E3,!0,!0,!0,!1,-1,3*g);a.m=K|J|P;b.l(a);d.value=f;return d};function Bd(){Bd.Q.constructor.call(this);this.w=300;this.F=100;this.Ak=null}vd(Bd,rd);q=Bd.prototype;q.o=function(a,b){Bd.Q.o.call(this,a,!1);td(this,b.W);Aa(this,b.Kc?b.Kc:"Error");this.b=b.R;this.i=b.W;var c=this.a.Pc,d=a+"E",f=this.la(this.a.bb,d,20),d=D(d);I(d.h,10,5,10,5,!0,!0,!0,!0,-1,-1);d.m=K|J|O|P;c.l(d);this.Ak=f;this.Qa(b)};q.Ua=function(){this.i&&Cc(this.i);wd.Q.Ua.call(this)};q.Qa=function(a){Bd.Q.Qa.call(this,a);this.w=a.G;this.F=a.B;U(this.Ak,a.Pb);this.i&&(Ac(this.i),td(this,this.i),this.v(!0))};q.la=function(a,b,c){var d=document.createElement("div");d.setAttribute("id",b);d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.style.fontFamily="Tahoma, Sans serif";d.style.fontSize=15*c/20+"px";d.style.lineHeight=c+"px";d.style.height=c+"px";a.appendChild(d);return d};q.Mc=function(){return{G:this.w,B:this.F}};function Cd(){Cd.Q.constructor.call(this);this.b=null;this.p={cb:{Xh:null,Th:null,Pg:null,$g:null},Vh:null,Bh:null,Fh:null,Zg:null,Ah:null}}vd(Cd,ud);Cd.prototype.o=function(a,b){Cd.Q.o.call(this,a,!1);td(this,b.W);this.b=b.R;Aa(this,"Settings");var c=new nd;c.o(this.a.$a.id,["Appearance","Color Scheme","Loading Settings"],0,150);var d=Dd(c.Eb[0]),f=this.a.$a.id+"A";this.p.Zg=Ed(d,f+"C",this.b.Qc(),"Cycle through variants");this.p.Vh=Ed(d,f+"S",this.b.he(),"Sound");this.p.Fh=Fd(d,this.b.sd(),["No labels","Move numbers","Move numbers current variant only","Move coordinates"],"Labels in navigator");d=Dd(c.Eb[1]);f=this.a.$a.id+"CS";this.p.cb.Xh=Gd(d,f+"TC","TrueColor");this.p.cb.Th=Gd(d,f+"SC","SimpleColor");this.p.cb.Pg=Gd(d,f+"BS","BookStyle");this.p.cb.$g=Gd(d,f+"D","Dark");Hd(this);c=Dd(c.Eb[2]);this.p.Bh=Ed(c,this.a.$a.id+"LSU",this.b.fe(),"Load unfinished files on the last node");this.p.Ah=Fd(c,this.b.Nc(),["Don't show variants","Show variations of successor node (children)","Show variations of current node   (siblings)","Load option from file"],"Show variants")};Cd.prototype.Mc=function(){return{G:400,B:180}};Cd.prototype.Qa=function(a){Cd.Q.Qa.call(this,a);this.p.Zg.checked=this.b.Qc();this.p.Vh.checked=this.b.he();this.p.Fh.selectedIndex=this.b.sd();Hd(this);this.p.Bh.checked=this.b.fe();this.p.Ah.selectedIndex=this.b.Nc()};function Dd(a){var b=document.createElement("div");a.appendChild(b);b.style.margin="0";b.style.padding="10px 20px";b.style.fontFamily="Tahoma, Arial, Verdana";b.style.fontSize="10px";b.style.color="#666";b.style.background="#fff";return b}Cd.prototype.de=function(){var a=1,a=this.p.cb.Th.checked?3:this.p.cb.Pg.checked?2:this.p.cb.$g.checked?4:1,a=rc(y,a);this.p.Vh.checked?y.Cd(!0):y.Cd(!1);this.b.Ph(this.p.Bh.checked?!0:!1);this.b.Qh(this.p.Fh.selectedIndex);this.b.Mh(this.p.Zg.checked?!0:!1);this.b.Oh(this.p.Ah.selectedIndex);var b=this.b.n,c=this.b.M;b&&!0===a.Y&&b.v(!0);c&&!0===a.Navigator&&(c.df(),c.bf(),Uc(c),c.cf(),c.v(!0));this.Ua()};function Gd(a,b,c){var d=document.createElement("div");d.style.paddingLeft="10px";d.style.paddingBottom="5px";a.appendChild(d);var f=document.createElement("input");f.type="radio";f.name="ThemeId";f.value=c;f.setAttribute("id",b);d.appendChild(f);a=document.createElement("span");a.setAttribute("oncontextmenu","return false;");a.style.fontFamily="Tahoma, Sans serif";U(a,c);a.style.fontFamily="Tahoma, Sans serif";a.style.fontSize="12pt";a.style.height="15px";a.style.lineHeight="15px";a.style.cursor="default";d.appendChild(a);a.addEventListener("click",function(){f.checked=!0},!1);return f}function Ed(a,b,c,d){var f=document.createElement("div");f.style.paddingLeft="10px";f.style.paddingBottom="5px";a.appendChild(f);var e=document.createElement("input");e.type="checkbox";e.checked=c;e.setAttribute("id",b);f.appendChild(e);a=document.createElement("span");a.setAttribute("oncontextmenu","return false;");a.style.fontFamily="Tahoma, Sans serif";U(a,d);a.style.fontFamily="Tahoma, Sans serif";a.style.fontSize="12pt";a.style.height="15px";a.style.lineHeight="15px";a.style.cursor="default";f.appendChild(a);a.addEventListener("click",function(){e.checked=!e.checked},!1);return e}function Fd(a,b,c,d){var f=document.createElement("div");f.style.paddingLeft="10px";f.style.paddingBottom="5px";f.style.fontFamily="Tahoma, Sans serif";f.style.fontSize="9pt";f.style.height="12px";f.style.lineHeight="12px";a.appendChild(f);a=document.createElement("div");U(a,d);a.style.paddingBottom="5px";f.appendChild(a);d=document.createElement("select");d.style.width="170px";a=0;for(var e=c.length;a<e;a++){var g=document.createElement("option");g.value=c[a];U(g,c[a]);d.appendChild(g)}d.selectedIndex=b;f.appendChild(d);return d}function Hd(a){var b=y.aa.Ic.r;231===b?y.aa.tc?a.p.cb.Xh.checked=!0:a.p.cb.Th.checked=!0:255===b?a.p.cb.Pg.checked=!0:30===b?a.p.cb.$g.checked=!0:a.p.cb.Xh.checked=!0}function Id(){Id.Q.constructor.call(this);this.n=null}vd(Id,rd);Id.prototype.o=function(a,b){Id.Q.o.call(this,a,!0);td(this,b.W);this.b=b.R;Aa(this,"Score estimate");var c=this.a.bb,d=this.a.Pc,f=this.a.bb.id;c.style.background="url('"+Gc+"')";var e=new aa;d.kb(2,e);var f=f+"B",c=sd(c,f),g=D(f);I(g.h,0,0,1E3,1E3,!0,!0,!1,!1,-1,-1);g.m=J|K|O|P;d.l(g);this.$b=c;this.Me=g;e.o(f,Jd(this.b));e.Td=this;Ba(e,9);this.n=e};Id.prototype.v=function(a){Id.Q.v.call(this,a);this.n&&this.n.v(a)};Id.prototype.Qa=function(a){for(;this.$b.firstChild;)this.$b.removeChild(this.$b.firstChild);this.Me&&this.Me.va();var b=new aa;b.o(this.$b.id,Jd(a.R));var c=b;c.Td=this;Ba(c,9);this.n=b;Id.Q.Qa.apply(this,arguments);this.v(!0)};function Kd(){Kd.Q.constructor.call(this)}vd(Kd,rd);q=Kd.prototype;q.o=function(a,b){Kd.Q.o.call(this,a,!1);this.b=b.R;this.n=b.ah;td(this,b.W);Aa(this,"Colors counter");var c=this.a.bb,d=this.a.Pc,f=this.a.bb.id;c.style.overflowX="hidden";c.style.overflowY="scroll";var e=10,g=b.ah.Ka,h=[0,0,0,0],k=[0,0,0,0],l=[0,0,0,0],n=[0,0,0,0],m;for(m in g){var u=g[m],p=-1;0!==u.r&&0!==u.t&&0!==u.s?p=3:0!==u.r?p=0:0!==u.t?p=1:0!==u.s&&(p=2);var r=0,r=50>=u.Ea?0:100>=u.Ea?1:150>=u.Ea?2:3;switch(p){case 0:h[r]++;break;case 1:k[r]++;break;case 2:l[r]++;break;case 3:n[r]++}}this.kl=this.ba(c,d,f,"Red","4 x "+h[3]+"+ 3 x "+h[2]+" + 2 x "+h[1]+" + 1 x "+h[0]+" ="+(4*h[3]+3*h[2]+2*h[1]+h[0]),e,20);e+=25;this.hl=this.ba(c,d,f,"Green","4 x "+k[3]+"+ 3 x "+k[2]+" + 2 x "+k[1]+" + 1 x "+k[0]+" ="+(4*k[3]+3*k[2]+2*k[1]+k[0]),e,20);e+=25;this.Xk=this.ba(c,d,f,"Blue","4 x "+l[3]+"+ 3 x "+l[2]+" + 2 x "+l[1]+" + 1 x "+l[0]+" ="+(4*l[3]+3*l[2]+2*l[1]+l[0]),e,20);e+=25;this.gl=this.ba(c,d,f,"Gray","4 x "+n[3]+"+ 3 x "+n[2]+" + 2 x "+n[1]+" + 1 x "+n[0]+" ="+(4*n[3]+3*n[2]+2*n[1]+n[0]),e,20);e+=25;sd(c,f+"Bottom");c=D(f+"Bottom");I(c.h,0,e,1E3,1E3,!0,!0,!1,!1,0,10);c.m=K|J|P;d.l(c)};q.la=function(a,b,c){var d=document.createElement("div");d.setAttribute("id",b);d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.style.fontFamily="Tahoma, Sans serif";d.style.fontSize=15*c/20+"px";d.style.lineHeight=c+"px";d.style.height=c+"px";a.appendChild(d);return d};q.af=function(a,b){var c=document.createElement("input");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");c.setAttribute("type","text");c.style.fontFamily="Tahoma, Sans serif";c.style.fontSize="10pt";c.style.outline="none";c.disabled="disabled";a.appendChild(c);return c};q.ba=function(a,b,c,d,f,e,g,h){var k;k=30;c+=d;var l=this.la(a,c,g),n=D(c);I(n.h,10,e,1E3,1E3,!0,!0,!1,!1,100,g);n.m=K|J;b.l(n);U(l,d);d=c+"Value";a=this.af(a,d,h);h=D(d);I(h.h,110,e+1,k,1E3,!0,!0,!0,!1,-1,g-2);h.m=K|J|P;b.l(h);a.value=f;return a};q.Qa=function(a){Kd.Q.Qa.call(this,a);this.b=a.R;this.n=a.ah;this.Da()};q.Da=function(){if(this.ye&&this.n){var a=this.n.Ka,b=[0,0,0,0],c=[0,0,0,0],d=[0,0,0,0],f=[0,0,0,0],e;for(e in a){var g=a[e],h=-1;0!==g.r&&0!==g.t&&0!==g.s?h=3:0!==g.r?h=0:0!==g.t?h=1:0!==g.s&&(h=2);var k=0,k=50>=g.Ea?0:100>=g.Ea?1:150>=g.Ea?2:3;switch(h){case 0:b[k]++;break;case 1:c[k]++;break;case 2:d[k]++;break;case 3:f[k]++}}this.kl.value="4 x "+b[3]+"+ 3 x "+b[2]+" + 2 x "+b[1]+" + 1 x "+b[0]+" ="+(4*b[3]+3*b[2]+2*b[1]+b[0]);this.hl.value="4 x "+c[3]+"+ 3 x "+c[2]+" + 2 x "+c[1]+" + 1 x "+c[0]+" ="+(4*c[3]+3*c[2]+2*c[1]+c[0]);this.Xk.value="4 x "+d[3]+"+ 3 x "+d[2]+" + 2 x "+d[1]+" + 1 x "+d[0]+" ="+(4*d[3]+3*d[2]+2*d[1]+d[0]);this.gl.value="4 x "+f[3]+"+ 3 x "+f[2]+" + 2 x "+f[1]+" + 1 x "+f[0]+" ="+(4*f[3]+3*f[2]+2*f[1]+f[0])}};q.Mc=function(){return{G:410,B:160}};function Ld(){Ld.Q.constructor.call(this);this.b=this.i=this.Ek=this.Dk=null}vd(Ld,rd);Ld.prototype.o=function(a,b){Ld.Q.o.call(this,a,!1);td(this,b.W);Aa(this,"Creating Gif file...");b.R&&(this.b=b.R);var c=this.a.bb,d=this.a.Pc,f=this.a.bb.id,e=f+"PB",g=sd(c,e),e=D(e);I(e.h,6,30,8,8,!0,!0,!0,!0,-1,-1);e.m=J|K|O|P;d.l(e);g.style.border="1px solid rgb(221,221,221)";g.style.backgroundColor="rgb(140, 140, 140)";e=f+"P";g=sd(c,e);e=D(e);I(e.h,7,31,0,7,!0,!0,!1,!0,10,-1);e.m=J|K|O;d.l(e);g.style.backgroundColor="rgb(54, 101, 179)";this.Dk=g;f=f+"PV";c=sd(c,f);f=D(f);I(f.h,0,7,1E3,32,!1,!1,!1,!0,-1,-1);f.m=J|K|O;d.l(f);c.style.fontFamily="Tahoma, Sans serif";c.style.fontSize="15px";c.style.lineHeight="20px";c.style.height="20px";c.style.color="rgb(0, 0, 0)";c.style.textAlign="center";this.Ek=c};Ld.prototype.Mc=function(){return{G:240,B:100}};function Md(a,b){a.Dk.style.width=b/100*214+"px";U(a.Ek,(100*b|0)/100+"%")}function Nd(a){Md(a,0);a.i&&Ac(a.i)}function Od(a){Md(a,100);setTimeout(function(){a.Ua(!0)},300)}Ld.prototype.Ua=function(a){!0!==a&&this.b&&(this.b.Od=null);this.i&&Cc(this.i);Ld.Q.Ua.apply(this)};function Pd(){Pd.Q.constructor.call(this);this.n=null}vd(Pd,rd);Pd.prototype.o=function(a,b){Ld.Q.o.call(this,a,!0);td(this,b.W);Aa(this,"About");this.b=b.R;var c=new nd;c.o(this.a.bb.id,["About Web Go Board","Keyboard Shortcuts"],0);var d=document.createElement("div");c.Eb[0].appendChild(d);d.style.margin="0";d.style.padding="10px 20px";d.style.fontFamily="Tahoma, Arial, Verdana";d.style.fontSize="12px";d.style.color="#666";d.style.background="#fff";var f=document.createElement("img");f.src=Qd;f.width=100;f.height=100;f.style["float"]="left";d.appendChild(f);f=document.createElement("div");f.style.width="10px";f.style.height="100px";f.style["float"]="left";d.appendChild(f);f=document.createElement("h1");d.appendChild(f);U(f,"Web Go/Baduk Board");f=document.createElement("div");d.appendChild(f);U(f,"Version "+GoBoardApi.tf());f=document.createElement("div");f.style.paddingTop="40px";d.appendChild(f);U(f,"Visit our Github project for feedback and issue reports:");f=document.createElement("a");f.target="_blank";f.href="https://github.com/IlyaKirillov/GoProject";d.appendChild(f);U(f,"https://github.com/IlyaKirillov/GoProject");f=document.createElement("div");f.style.paddingTop="20px";d.appendChild(f);U(f,"Our site:");f=document.createElement("a");f.target="_blank";f.href="http://goban.org/";d.appendChild(f);U(f,"http://goban.org/");f=document.createElement("div");f.style.paddingTop="20px";d.appendChild(f);U(f,"Discussions:");f=document.createElement("a");f.target="_blank";f.href="http://www.lifein19x19.com/forum/viewtopic.php?f=18&t=11239";d.appendChild(f);U(f,"http://www.lifein19x19.com/");d.appendChild(document.createElement("br"));f=document.createElement("a");f.target="_blank";f.href="http://kido.com.ru/253-web-go-doska";d.appendChild(f);U(f,"http://kido.com.ru/");f=document.createElement("div");f.style.paddingTop="20px";d.appendChild(f);U(f,"Browsers extension:");f=document.createElement("a");f.target="_blank";f.href="https://chrome.google.com/webstore/detail/web-go-board/cdmhoehokaoghadonjfdbhieajggfbmd";d.appendChild(f);U(f,"Chrome and OperaNext");d.appendChild(document.createElement("br"));f=document.createElement("a");f.target="_blank";f.href="https://addons.mozilla.org/ru/firefox/addon/web-gobaduk-board/";d.appendChild(f);U(f,"FireFox");f=document.createElement("div");f.style.paddingTop="30px";d.appendChild(f);U(f,"\u00a9 Ilya Kirillov, 2014-2015. All rights reserved.");d=c.Eb[1];d.style.overflowX="hidden";d.style.overflowY="scroll";c=document.createElement("div");d.appendChild(c);c.style.margin="0";c.style.padding="10px 20px";c.style.fontFamily="Tahoma, Arial, Verdana";c.style.fontSize="12px";c.style.color="#666";c.style.background="#fff";d=document.createElement("h1");c.appendChild(d);U(d,"Keyboard Shortcuts");d.style.fontSize="16px";d.style.fontWeight="bold";d=document.createElement("table");c.appendChild(d);d.style.margin="20px 0";d.style.width="100%";c=document.createElement("tbody");d.appendChild(c);this.n=null;b.R&&(this.n=b.R.n);Rd(c,"Working with Files");W(this,c,{q:!0,D:79,u:!1},"Open Sgf/Gib/Ngf","Ctrl+O","Open the Sgf/Gib/Ngf file from disk. (Not in color mode, see below)");W(this,c,{q:!0,D:79,u:!0},"Open Sgf","Ctrl+Shift+O","Open the Sgf file from source. (Not in color mode, see below)");W(this,c,{q:!0,D:67,u:!1},"Create new","Ctrl+C","Create new empty board. (not in color mode see below)");W(this,c,{q:!0,D:83,u:!1},"Save Sgf","Ctrl+S","Save Sgf file.");W(this,c,{q:!0,D:72,u:!1},"Save png shot","Ctrl+H","Save board shot in png format.");W(this,c,{q:!0,D:72,u:!0},"Save gif shot","Ctrl+Shift+H","Save board shot in gif format.");W(this,c,{q:!0,D:73,u:!1},"Save multipage gif file.","Ctrl+I","Save gif file for current variant.");W(this,c,{q:!0,D:73,u:!0},"Save multipage gif file.","Ctrl+Shift+I","Save gif file for all branches with comment RIGHT (for problem mode).");Rd(c,"Navigation");W(this,c,{q:!1,D:39,u:!1},"Next node","Right arrow","Jump to next node.");W(this,c,{q:!0,D:39,u:!1},"Next 5 node","Ctrl+Right arrow","Jump over 5 nodes.");W(this,c,{q:!0,D:39,u:!0},"End of the variant","Ctrl+Shift+Right arrow","Jump to the end of the current variant.");W(this,c,{q:!1,D:37,u:!1},"Previous node","Left arrow","Jump to previous node.");W(this,c,{q:!0,D:37,u:!1},"Previous 5 node","Shift+Left arrow","Jump back over 5 nodes.");W(this,c,{q:!0,D:37,u:!0},"Start of the file","Ctrl+Shift+Right arrow","Jump to the start of the file.");W(this,c,{q:!1,D:38,u:!1},"Previous variant","Up arrow","Jump to previous variant.");W(this,c,{q:!1,D:40,u:!1},"Next variant","Down arrow","Jump to next variant.");W(this,c,{q:!0,D:36,u:!0},"Start node","Ctrl+Shift+Home",'Jump to the start node of the file. This node can be different from the first node. See "load unfinished files" checkbox in settings.');Sd(this,c,{q:!1,D:112,u:!1},"Play mode","F1");W(this,c,{},"Add move","Left mouse click","Set sequentially stones.");W(this,c,{},"Add alternative move","Right mouse click","Create new brunch and add alternative move.");W(this,c,{},"Go to the point","Shift+Left mouse click onto a board position","Teleports you to the moment of the game forth or back, when the stone on this position has been played.");W(this,c,{},"Change move order","Ctrl+Shift+Left mouse click","When sequentially stones are entered: changes the colour of the next stone to be set. What stone will appear on the board is shown by the tools field (useful e.g. after a problem has been set up).");W(this,c,{},"Add comment with coordinates","Ctrl+Left mouse click","Add comment with coordinates.");Sd(this,c,{q:!1,D:113,u:!1},"Count scores","F2");W(this,c,{},"Mark dead groups","Left mouse click","Mark dead groups.");W(this,c,{},"End count scores","Ctrl+Left mouse click onto board","Return to play mode.");Sd(this,c,{q:!1,D:114,u:!1},"Set up a board position","F3");W(this,c,{},"Add black stone or remove stone","Left mouse click","Add black stone or remove stone.");W(this,c,{},"Add white stone or remove stone","Shift+Left mouse click","Add white stone or remove stone.");Td(this,c,{q:!1,D:115,u:!1},"Triangles","F4","Add triangles.");Td(this,c,{q:!1,D:116,u:!1},"Squares","F5","Add squares.");Td(this,c,{q:!1,D:117,u:!1},"Circles","F6","Add circles.");Td(this,c,{q:!1,D:118,u:!1},"X mark","F7",'Add "X" mark.');Sd(this,c,{q:!1,D:119,u:!1},"Text label","F8");W(this,c,{},"Letter","Left mouse click","Add letter.");W(this,c,{},"Text","Shift+Left mouse click","Add text entered by the user.");Sd(this,c,{q:!1,D:120,u:!1},"Numeric label","F9");W(this,c,{},"Number","Left mouse click","Add the smallest positive number.");W(this,c,{},"Move number","Shift+Left mouse click","Add number of the first move which was played here.");Sd(this,c,{q:!1,D:121,u:!1},"Color mode","F10");W(this,c,{},"Blue region","Left mouse click","Add blue region.");W(this,c,{},"Green region","Shift+Left mouse click","Add green region.");W(this,c,{},"Red region","Ctrl+Left mouse click","Add red region.");W(this,c,{},"Gray region","Ctrl+Shift+Left mouse click","Add gray region.");W(this,c,{},"Clear region","Right mouse click","Clear region.");W(this,c,{q:!0,D:67,u:!1},"Continue","Ctrl+C","Copy all colors from previous node.");W(this,c,{q:!0,D:79,u:!1},"Count colors","Ctrl+O","Count all colors with depth.");W(this,c,{q:!0,D:82,u:!1},"Clear colors","Ctrl+R","Clear all colors in the current node.");Rd(c,"Miscellaneous");W(this,c,{q:!1,D:8,u:!1},"Remove node","Backspace/Delete","Deletes the current node and all of the following brunches.");W(this,c,{q:!0,D:69,u:!1},"Score estimator","Ctrl+E","Show window with score estimator (you can mark dead groups by click on them).");W(this,c,{q:!0,D:86,u:!1},"View mode change of the next move","Ctrl+V","There are 3 mods: Show all next move variants, show all alternative variants of the current move, show nothing.");W(this,c,{q:!0,D:82,u:!1},"Show/Hide coordinates","Ctrl+R","Show/Hide coordinates. (Not in color mode, see above)");W(this,c,{q:!0,D:77,u:!0},"Make the current variant mainly","Ctrl+Shift+M","Make the current variant mainly by uplifting it to the root of the game tree.");W(this,c,{q:!0,D:86,u:!0},"Setting up view port","Ctrl+Shift+V","Setting up visible part of the board.");W(this,c,{q:!0,D:68,u:!1},"Ascii Diagram","Ctrl+D","Make ascii diagram by current position.")};Pd.prototype.Mc=function(){if(this.i){var a=this.i.ab(),b=Math.max(100,Math.min(700,.9*this.i.Qb())),a=Math.max(100,Math.min(600,.9*a));return{G:b,B:a}}return null};function Ud(a){var b=document.createElement("tr");a.appendChild(b);b.style.borderLeft="0";b.style.borderRight="0";b.style.borderBottom="solid 1px #E4E4E4";b.style.borderCollapse="collapse";b.style.padding="8px";b.style.fontSize="12px";b.style.textAlign="left";b.style.cursor="default";return b}function Vd(a,b){var c=document.createElement("td");a.appendChild(c);U(c,b);c.style.borderLeft="0";c.style.borderRight="0";c.style.borderBottom="solid 1px #E4E4E4";c.style.borderCollapse="collapse";c.style.padding="8px";c.style.fontSize="12px";c.style.textAlign="left";c.style.cursor="default";return c}function Wd(a,b,c){var d=a.n;d&&c.D&&(b.title="Click to do it",b.style.cursor="pointer",b.style.textDecoration="underline",b.addEventListener("click",function(){ja(d,c)},!1))}function Rd(a,b){var c=Ud(a),c=Vd(c,b);c.colSpan="3";c.style.fontSize="14px";c.style.fontWeight="bold";c.style.paddingTop="20px"}function Sd(a,b,c,d,f){b=Ud(b);Vd(b,d).style.fontWeight="bold";d=Vd(b,f);Wd(a,d,c);d.colSpan="2"}function Td(a,b,c,d,f,e){b=Ud(b);Vd(b,d).style.fontWeight="bold";d=Vd(b,f);Wd(a,d,c);Vd(b,e)}function W(a,b,c,d,f,e){b=Ud(b);Vd(b,d).style.width="35%";d=Vd(b,f);d.style.width="15%";Wd(a,d,c);Vd(b,e).style.width="50%"}function Xd(){Xd.Q.constructor.call(this);this.Qe=null}vd(Xd,rd);Xd.prototype.o=function(a,b){Xd.Q.o.call(this,a,!0);Aa(this,"Ascii Diagram");var c=this.a.bb,d=this.a.Pc,f=this.a.bb.id;this.b=b.R;this.Ti(c,d,f);Yd(this,b.R);this.Qe.select()};Xd.prototype.Qa=function(a){Xd.Q.Qa.call(this,a);Yd(this,a.R);this.Qe.select()};Xd.prototype.Ti=function(a,b,c){var d=document.createElement("textarea");c=c+"TA";d.setAttribute("id",c);d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.style.fontFamily="Courier New, monospacef";d.style.fontSize="10pt";d.style.resize="none";d.style.outline="none";d.style.border="1px solid rgb(169,169,169)";d.style.height="100%";d.style.width="100%";this.Qe=d;a.appendChild(d);a=D(c);I(a.h,0,0,1E3,1E3,!1,!1,!1,!1,-1,-1);a.m=K|J|P|O;b.l(a);return d};function Yd(a,b){a.Qe.value="";if(void 0!==b){var c=b.n,d=b.ha;if(c&&d){for(var f="",e=c.k,g=e.O,h=e.P,k=e.T,e=e.U,l=0==g?!0:!1,n=d.Z().g-1==k?!0:!1,m=0==h?!0:!1,u=d.Z().f-1==e?!0:!1,p=[],r=h;r<e;r++)for(var w=g;w<k;w++){var t=xa(c,w+1,r+1),x=null!=t?t.I:wa,t=null!=t?t.Wd:"";x==Wa&&Ma(t)&&(x=parseInt(t),t={Number:x,Bb:d.H(w+1,r+1)},H!=t.Bb&&p.push(t))}var r=!0,x=c.eb,L=-1;if(0<p.length){for(var w=-1,M=H,B=-1,F=0,Q=p.length;F<Q;F++){t=p[F];if(-1==w||t.Number<w)w=t.Number,M=t.Bb;if(-1==B||t.Number>B)B=t.Number}if(10>B-w){B=!0;F=0;for(Q=p.length;F<Q;F++){var t=p[F],z=(t.Number-w)%2;if(0==z&&M!=t.Bb||1==z&&M==t.Bb){B=!1;break}}!0===B&&(L=w,r=E===M?!0:!1)}}p=l?"$$  --":"$$ -";for(w=g+1;w<=k;w++)p+="--";p+=n?"- \n":"\n";l=l?"$$ |":"$$";n=n?" |\n":"\n";f=r?f+"$$B":f+"$$W";x&&(f+="c");-1!=L&&(f+="m"+L);f+="\n";m&&(f+=p);for(r=h;r<=e;r++){f+=l;for(w=g;w<=k;w++)if(t=xa(c,w+1,r+1),x=null!=t?t.I:wa,t=null!=t?t.Wd:"",h=d.H(w+1,r+1),H==h)if(cb===x)f=f+" T";else if(ab===x)f=f+" C";else if(bb===x)f=f+" S";else if(db===x)f=f+" M";else if(Wa===x&&1===t.length&&97<=t.charCodeAt(0)&&122>=t.charCodeAt(0))f=f+String.fromCharCode(32,t.charCodeAt(0));else if(Wa===x&&1===t.length&&65<=t.charCodeAt(0)&&90>=t.charCodeAt(0))f=f+String.fromCharCode(32,t.charCodeAt(0)+32);else{a:{h=w+1;m=r+1;if(d.w===d.F)for(x=Ja(d),t=0,M=x.length;t<M;t++)if(h-1===x[t][0]&&m-1===x[t][1]){h=!0;break a}h=!1}f=h?f+" ,":f+" ."}else-1!==L&&x==Wa&&Ma(t)?(x=parseInt(t)-L+1,f=10==x?f+" 0":f+(" "+x)):E==h?f=cb===x?f+" Y":ab===x?f+" B":bb===x?f+" #":db===x?f+" Z":f+" X":G==h&&(f=cb===x?f+" Q":ab===x?f+" W":bb===x?f+" @":db===x?f+" P":f+" O");f+=n}u&&(f+=p);a.Qe.value=f}}}function Zd(){Zd.Q.constructor.call(this)}vd(Zd,ud);Zd.prototype.o=function(a,b){Zd.Q.o.call(this,a,!0);td(this,b.W);this.b=b.R;this.i=b.W;Aa(this,"Setting up view port...");var c=this.a.$a,d=this.a.qf,f=this.a.$a.id;c.style.background="url('"+Gc+"')";var e=new aa;d.kb(2,e);var f=f+"B",c=sd(c,f),g=D(f);I(g.h,0,0,1E3,1E3,!0,!0,!1,!1,-1,-1);g.m=J|K|O|P;d.l(g);this.$b=c;this.Me=g;e.o(f,Jd(this.b));Ba(e,11);this.n=e};Zd.prototype.v=function(a){Zd.Q.v.call(this,a);this.n&&this.n.v(a)};Zd.prototype.Qa=function(a){for(;this.$b.firstChild;)this.$b.removeChild(this.$b.firstChild);this.Me&&this.Me.va();var b=new aa;b.o(this.$b.id,Jd(a.R));Ba(b,11);this.n=b;Zd.Q.Qa.apply(this,arguments);this.v(!0)};Zd.prototype.de=function(){if(this.b){var a=this.b.n;if(a){var b=this.n,c=Math.min(b.ka.Hf,b.ka.pd),d=Math.max(b.ka.Hf,b.ka.pd),f=Math.min(b.ka.If,b.ka.qd),b=Math.max(b.ka.If,b.ka.qd);if(d===c&&b===f)sa(a);else{if(3>d-c||3>b-f){a=this.b;(c=this.i)&&wb(c.fa.id,xb,{R:a,W:c,Pb:"Sorry, viewport can't be so small.",G:270,B:80});return}ra(a,c-1,f-1,d-1,b-1)}this.i.v(!0)}}this.Ua()};function $d(){$d.Q.constructor.call(this)}vd($d,ud);q=$d.prototype;q.o=function(a,b){Zd.Q.o.call(this,a,!1);td(this,b.W);this.b=b.R;this.i=b.W;Aa(this,"Create new");var c=this.a.$a,d=this.a.qf,f=this.a.$a.id,e=5;this.Vk=this.ba(c,d,f,"Black","Black",e,20);e+=50;this.ul=this.ba(c,d,f,"White","White",e,20);e+=50;this.Yk=this.ba(c,d,f,"Board size","19",e,20);e+=50;this.jh=this.ba(c,d,f,"Handicap","0",e,20);this.xh=this.ba(c,d,f,"Komi","6.5",e+50,20)};q.la=function(a,b,c){var d=document.createElement("div");d.setAttribute("id",b);d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.style.fontFamily="Tahoma, Sans serif";d.style.fontSize=15*c/20+"px";d.style.lineHeight=c+"px";d.style.height=c+"px";d.style.fontWeight=550;a.appendChild(d);return d};q.af=function(a,b){var c=document.createElement("input");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");c.setAttribute("type","text");c.style.fontFamily="Tahoma, Sans serif";c.style.fontSize="10pt";c.style.outline="none";c.style.border="1px solid rgb(169,169,169)";a.appendChild(c);return c};q.ba=function(a,b,c,d,f,e,g){c+=d;var h=this.la(a,c,g),k=D(c);I(k.h,20,e,10,1E3,!0,!0,!1,!1,-1,g);k.m=K|J|P;b.l(k);U(h,d);e+=g;d=c+"Value";a=this.af(a,d);d=D(d);I(d.h,10,e+1,10,1E3,!0,!0,!0,!1,-1,g-2);d.m=K|J|P;b.l(d);a.value=f;return a};q.Mc=function(){return{G:195,B:340}};q.de=function(){var a=this.Yk.value,b=19,c=19,d=-1;-1==(d=a.indexOf(":"))?c=b=Math.min(52,Math.max(parseInt(a),2)):(b=parseInt(a.substr(0,d)),c=parseInt(a.substr(d+1,a.length-d-1)));if(isNaN(b)||2>b||52<b||isNaN(c)||2>c||52<c)wb(this.i.fa.id,xb,{R:this.b,W:this.i,Pb:"Size value must be an integer number from 2 to 52, or pair of such numbers separated by ':' character.",G:300,B:115});else{var f=parseInt(this.jh.value);if(isNaN(f)||0>f||9<f)wb(this.i.fa.id,xb,{R:this.b,W:this.i,Pb:"Handicap value must be an integer number from 0 to 9.",G:300,B:95});else if(0!=f&&(6>=c||6>=b||b!==c))wb(this.i.fa.id,xb,{R:this.b,W:this.i,Pb:"Handicap value must be 0 for this board size.",G:300,B:95});else if(5<f&&(10>=b||10>=c))wb(this.i.fa.id,xb,{R:this.b,W:this.i,Pb:"Handicap value must be an integer number from 0 to 5 for this board size.",G:300,B:95});else if(a=parseFloat(this.xh.value),isNaN(a)||.001<Math.abs(2*a-(2*a|0)))wb(this.i.fa.id,xb,{R:this.b,W:this.i,Pb:"Invalid komi value.",G:175,B:85});else{if(this.b){a="(;FF[4]"+("SZ["+(b===c?b:b+":"+c)+"]")+("KM["+a+"]");a+="PB["+this.Vk.value+"]";a+="PW["+this.ul.value+"]";a+="HA["+f+"]";d=[];if(b===c){var e=b,b=10>e?2:3,c=((e+1)/2|0)-1,e=10>e?e-3:e-4;switch(f){case 2:d.push([e,b]);d.push([b,e]);break;case 3:d.push([e,e]);d.push([b,e]);d.push([e,b]);break;case 4:d.push([b,b]);d.push([e,e]);d.push([b,e]);d.push([e,b]);break;case 5:d.push([b,b]);d.push([b,e]);d.push([e,b]);d.push([e,e]);d.push([c,c]);break;case 6:d.push([b,b]);d.push([b,e]);d.push([e,b]);d.push([e,e]);d.push([b,c]);d.push([e,c]);break;case 7:d.push([b,b]);d.push([b,e]);d.push([e,b]);d.push([e,e]);d.push([b,c]);d.push([e,c]);d.push([c,c]);break;case 8:d.push([b,b]);d.push([b,e]);d.push([e,b]);d.push([e,e]);d.push([b,c]);d.push([e,c]);d.push([c,b]);d.push([c,e]);break;case 9:d.push([b,b]),d.push([b,e]),d.push([e,b]),d.push([e,e]),d.push([b,c]),d.push([e,c]),d.push([c,b]),d.push([c,e]),d.push([c,c])}}if(0<d.length)for(a+="AB",f=0,b=d.length;f<b;f++)c=d[f][0],e=d[f][1],c+=25>=c?97:39,e+=25>=e?97:39,a+=String.fromCharCode(91,c,e,93);a+=")";this.b.jc(a,null,null,"sgf")}this.Ua()}}};var xb=2,ec=3,fc=4,Mb=5,Rb=6,ae=7,gc=8,Lb=9,Ub=10,Kb=11,Bc={};function wb(a,b,c){if(Bc[b]){var d=Bc[b];d.Qa(c);return d}d="unknownwindow";switch(b){case ec:d="Info";break;case fc:d="Settings";break;case xb:d="Error";break;case Mb:d="ScoreEstimate";break;case Rb:d="CountColors";break;case ae:d="GifWriter";break;case gc:d="About";break;case Lb:d="DiagramSL";break;case Ub:d="ViewPort";break;case Kb:d="CreateNew"}a=a+d+GoBoardApi.tf();d=document.createElement("div");d.setAttribute("id",a);d.setAttribute("style","position:absolute;padding:0;margin:0;width:500px;height:500px;left:300px;top:300px;");d.setAttribute("oncontextmenu","return false;");if(c.W){c.W.fa.appendChild(d);d=null;switch(b){case ec:d=new wd;break;case fc:d=new Cd;break;case xb:d=new Bd;break;case Mb:d=new Id;break;case Rb:d=new Kd;break;case ae:d=new Ld;break;case gc:d=new Pd;break;case Lb:d=new Xd;break;case Ub:d=new Zd;break;case Kb:d=new $d}Bc[b]=d;null!==d&&(d.o(a,c),d.v(!0));return d}return null};function Z(){}q=Z.prototype;q.bl=function(){return new be};q.Yg=function(a,b){(new uc(a)).Yg(b)};q.Wg=function(a,b){(new uc(a)).Wg(b)};q.Zk=function(a,b){var c=new uc(a);c.mk=!0;c.zi=400;c.yi=200;pc();var d=D(b);c.La=d;var f=b+"GB";c.K(d.a,f);var e=D(f);I(e.h,0,0,1,1,!1,!1,!0,!0,-1,-1);e.m=J|K|P|O;d.l(e);Dc(c,f,e);zc(c,!0)};q.cl=function(a,b,c){(new ad(a)).o(b,c)};q.Xg=function(a,b,c){(new uc(a)).Xg(b);b=.3;c.TutorTime&&(b=parseFloat(c.TutorTime));c.TutorColor&&"Black"===c.TutorColor?ce(a,!1,E,b):c.TutorColor&&"White"===c.TutorColor?ce(a,!1,G,b):ce(a,!0,H,b);a.J=0;void 0!==c.NewNode&&(gd(a,{xf:!0}),(b=c.NewNode)&&""!==b||(b="Wrong.\nOut of variants."),a.Oi=b);b=void 0!==c.WrongCallback?c.WrongCallback:null;var d=void 0!==c.ResetCallback?c.ResetCallback:null;a.Mi=void 0!==c.RightCallback?c.RightCallback:null;a.Ni=b;a.Li=d};q.bh=function(a){return a.bh()};q.oe=function(a){a.oe(!0)};q.Dd=function(a){a.Dd()};q.ol=function(a,b){var c={};c.xf=b.NewNode;c.vf=b.Move;c.Rg=b.ChangeBoardMode;c.zh=b.LoadFile;c.rd=b.GameInfo;gd(a,c)};q.jc=function(a,b,c,d,f){var e={};c&&!0===c.Auto?e.gj=!0:c&&void 0!==c.X0&&void 0!==c.X1&&void 0!==c.Y0&&void 0!==c.Y1?(e.gj=!1,e.O=c.X0,e.T=c.X1,e.P=c.Y0,e.U=c.Y1):e=null;c=a.J;a.J=4294967295;a.jc(b,e,d,f);a.J=c};q.Cf=function(a){return a.Cf()};q.gh=function(a){return a.gh()};q.v=function(a){a.v()};q.fh=function(a){return a?a.fh():"White vs. Black"};q.Cd=function(a,b){a.Cd(b)};q.wa=function(a){a&&a.wa()};q.tf=function(){return this.rl};q.Wh=function(a){a&&a.Wh()};window.GoBoardApi=new Z;Z.prototype.Create_GameTree=Z.prototype.bl;Z.prototype.Create_SimpleBoard=Z.prototype.Yg;Z.prototype.Create_BoardWithNavigateButtons=Z.prototype.Wg;Z.prototype.Create_BoardCommentsButtonsNavigator=Z.prototype.Zk;Z.prototype.Create_Presentation=Z.prototype.cl;Z.prototype.Create_Problems=Z.prototype.Xg;Z.prototype.Set_Permissions=Z.prototype.ol;Z.prototype.Load_Sgf=Z.prototype.jc;Z.prototype.Save_Sgf=Z.prototype.Cf;Z.prototype.Get_MoveReference=Z.prototype.gh;Z.prototype.Update_Size=Z.prototype.v;Z.prototype.Set_Sound=Z.prototype.Cd;Z.prototype.Find_ProblemRightVariant=Z.prototype.bh;Z.prototype.Start_AutoPlay=Z.prototype.oe;Z.prototype.Stop_AutoPlay=Z.prototype.Dd;Z.prototype.Focus=Z.prototype.wa;Z.prototype.Get_MatchName=Z.prototype.fh;Z.prototype.Get_Version=Z.prototype.tf;Z.prototype.Toggle_Rulers=Z.prototype.Wh;function de(a,b,c){this.I=void 0===a?0:a;this.Gk=void 0===b?null:b;this.Wa=void 0===c?0:c}de.prototype.sa=function(){return this.Gk};de.prototype.kb=function(a){this.I=a};de.prototype.Gf=function(a){this.Gk=a};function ee(){Y=X=0}function A(a,b,c,d){this.r=a;this.t=b;this.s=c;this.Ea="undefined"===typeof d?255:d}A.prototype={od:function(){return new A(this.r,this.t,this.s,this.Ea)}};function fe(a){return a.r<<24&4278190080|a.t<<16&16711680|a.s<<8&65280|a.Ea&255}function tc(a,b){return a.r!==b.r||a.t!==b.t||a.s!==b.s||a.Ea!==b.Ea?!1:!0}function S(a){return"rgba("+a.r+","+a.t+","+a.s+","+a.Ea/255+")"}function T(a){var b=new ee;b.g=a&255;b.f=a>>8&255;return b}function ge(a){for(var b=[],c=0,d=a.length;c<d;c++)b.push(a[c]);return b}function Ia(a){if("undefined"!=typeof a.offsetParent){for(var b=0,c=0;a;a=a.offsetParent)b+=a.offsetLeft,c+=a.offsetTop;return{g:b,f:c}}return{g:a.x,f:a.y}}function La(a,b){var c=Math.max(0,Math.min(a-1,b-1));return 8>c?String.fromCharCode(65+c):24>=c?String.fromCharCode(65+c+1):33>c?String.fromCharCode(65+c-25,65+c-25):50>c?String.fromCharCode(65+c-24,65+c-24):String.fromCharCode(65+c-50,65+c-50,65+c-50)}function Ma(a){if("string"!=typeof a)return!1;for(var b=0;b<a.length;b++){var c=a.charCodeAt(b);if(48>c||57<c)return!1}return!0}function yb(a,b){return a>b?1:b>a?-1:0}var he=null;function Vc(a,b,c,d,f){a.onmousedown=ie;a.Cb=!0;a.Ob=!0;a.root=a;a.Cb&&isNaN(parseInt(a.root.style.left))&&(a.root.style.left="0px");a.Ob&&isNaN(parseInt(a.root.style.top))&&(a.root.style.top="350px");!a.Cb&&isNaN(parseInt(a.root.style.right))&&(a.root.style.right="0px");!a.Ob&&isNaN(parseInt(a.root.style.bottom))&&(a.root.style.bottom="0px");a.Gc="undefined"!=typeof b?b:null;a.Hc="undefined"!=typeof d?d:null;a.fd="undefined"!=typeof c?c:null;a.gd="undefined"!=typeof f?f:null;a.Rk=null;a.Sk=null;a.root.sg=function(){};a.root.rg=function(){};a.root.Za=function(){}}function ie(a){var b=he=this;a=je(a);var c=parseInt(b.Ob?b.root.style.top:b.root.style.bottom),d=parseInt(b.Cb?b.root.style.left:b.root.style.right);b.root.sg(d,c);b.jk=a.clientX;b.kk=a.clientY;b.Cb?(null!=b.Gc&&(b.pg=a.clientX-d+b.Gc),null!=b.fd&&(b.Pi=b.pg+b.fd-b.Gc)):(null!=b.Gc&&(b.Pi=-b.Gc+a.clientX+d),null!=b.fd&&(b.pg=-b.fd+a.clientX+d));b.Ob?(null!=b.Hc&&(b.qg=a.clientY-c+b.Hc),null!=b.gd&&(b.Qi=b.qg+b.gd-b.Hc)):(null!=b.Hc&&(b.Qi=-b.Hc+a.clientY+c),null!=b.gd&&(b.qg=-b.gd+a.clientY+c));document.onmousemove=ke;document.onmouseup=le;return!1}function ke(a){ba(a);a=je(a);var b=he,c=a.clientY;a=a.clientX;var d=parseInt(b.Ob?b.root.style.top:b.root.style.bottom),f=parseInt(b.Cb?b.root.style.left:b.root.style.right),e,g;null!=b.Gc&&(a=b.Cb?Math.max(a,b.pg):Math.min(a,b.Pi));null!=b.fd&&(a=b.Cb?Math.min(a,b.Pi):Math.max(a,b.pg));null!=b.Hc&&(c=b.Ob?Math.max(c,b.qg):Math.min(c,b.Qi));null!=b.gd&&(c=b.Ob?Math.min(c,b.Qi):Math.max(c,b.qg));e=f+(a-b.jk)*(b.Cb?1:-1);g=d+(c-b.kk)*(b.Ob?1:-1);b.Rk?e=b.Rk(d):b.Sk&&(g=b.Sk(f));null!=b.Gc&&(e=Math.max(e,b.Gc));null!=b.fd&&(e=Math.min(e,b.fd));null!=b.Hc&&(g=Math.max(g,b.Hc));null!=b.gd&&(g=Math.min(g,b.gd));he.root.style[b.Cb?"left":"right"]=e+"px";he.root.style[b.Ob?"top":"bottom"]=g+"px";he.jk=a;he.kk=c;he.root.Za(e,g);return!1}function le(){document.onmousemove=null;document.onmouseup=null;he.root.rg(parseInt(he.root.style[he.Cb?"left":"right"]),parseInt(he.root.style[he.Ob?"top":"bottom"]));he=null}function je(a){"undefined"==typeof a&&(a=window.event);"undefined"==typeof a.layerX&&(a.layerX=a.offsetX);"undefined"==typeof a.layerY&&(a.layerY=a.offsetY);return a}function vd(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Q=b.prototype}var vc=window.requestAnimationFrame?window.requestAnimationFrame:window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1E3/60)};function Tb(a,b,c){if("undefined"!==typeof navigator&&navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(a,b);else{var d=document.createElementNS("http://www.w3.org/1999/xhtml","a");a=(window.URL||window.webkitURL||window).createObjectURL(a);d.href=a;d.download=b;c&&(d.type=c);Sb(d)}}function Sb(a){var b=document.createEvent("MouseEvents");b.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null);a.dispatchEvent(b)}function qc(a){return void 0!==window.localStorage?localStorage.getItem("HTMLGoBoard"+a):""}function sc(a,b){void 0!==window.localStorage&&localStorage.setItem("HTMLGoBoard"+a,b)}function me(a){var b="",c,d,f=0,e,g,h=0,k=0;do c=a[k++],d=a[k++],f=a[k++],e=c>>2,c=(c&3)<<4|d>>4,g=(d&15)<<2|f>>6,h=f&63,isNaN(d)?g=h=64:isNaN(f)&&(h=64),b=b+ne.charAt(e)+ne.charAt(c)+ne.charAt(g)+ne.charAt(h);while(k<a.length);return b}function oe(a){var b,c,d=0,f="",e=0,g=a.replace(/[^A-Za-z0-9\+\/\=]/g,""),h=[];do b=ne.indexOf(g.charAt(e++)),d=ne.indexOf(g.charAt(e++)),a=ne.indexOf(g.charAt(e++)),f=ne.indexOf(g.charAt(e++)),b=b<<2|d>>4,c=(d&15)<<4|a>>2,d=(a&3)<<6|f,h.push(b),64!=a&&h.push(c),64!=f&&h.push(d);while(e<g.length);return h}function U(a,b){a.innerText?a.innerText=b:a.textContent=b}var ne="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var H=0,E=1,G=2,pe=2,Wb=0,Vb=2,Fa=23.61,Ga=17.51,Ha=Fa/2,Gc="data:image/png;base64,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",Qd="data:image/png;base64,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";var Ca=4,qe=4294967295^Ca;function be(a){this.Ma=new jd;this.i=a;this.Jl=new Qc;this.ha=new re;this.M=this.n=null;this.Fk=this.j=this.ea=new se;this.ad=this.$c=0;this.Ib=E;this.De=this.Qd=this.zk=this.ok=this.pb=this.xc=0;this.Ye=this.Ue=this.Dc=this.Ec=this.Ud=this.ed=this.Se=this.Ik=this.Re=this.Te="";this.Bc="Black";this.Vd="";this.Fc="White";this.We=this.Ze=this.Ve=this.Ta="";this.Je=0;this.Kk=this.$e=this.Xe="";this.Zc=pe;this.J=4294967295;this.Vb=null;this.ze=.75;this.nk=-1;this.si=!1;this.zc=H;this.yk=300;this.Oi="";this.Od=this.Li=this.Ni=this.Mi=this.Di=null}function Jd(a){var b=new be;b.ha=a.ha.od();b.ea=te(a.ea,a.j);b.j=b.ea;Hb(b);return b}function ce(a,b,c,d){!0===b?(a.si=!0,a.zc=H):(a.si=!1,a.zc=c);void 0!==d&&(a.yk=1E3*d)}q=be.prototype;q.bh=function(){var a=[];ue(this.ea,a);if(0<a.length){var b=Math.max(0,Math.min(a.length-1,Math.floor(Math.random()*a.length)));ve(a[b]);return!0}return!1};q.oe=function(a){if(2&this.J||!0===a){this.Dd();this.i&&this.i.Fj();var b=this,c=function(){0<V(b.j)&&(b.Vb=0,lb(b,1,a));0<V(b.j)?(b.nk=(new Date).getTime(),b.Vb=setTimeout(c,100+6900*(1-b.ze))):(b.Vb=null,b.i&&b.i.Hh())},d=100+6900*(1-this.ze)-((new Date).getTime()-this.nk);0>=d?c():this.Vb=setTimeout(c,d)}};q.Dd=function(){this.i&&this.i.Hh();null!==this.Vb&&(clearTimeout(this.Vb),this.Vb=null)};function Fc(a){a.M&&a.M.ub();if(a.i){a.Ab();var b=a.i;b.Le&&(b=b.Le,!0!==b.xe&&Mc(b,a.ze,!0))}}q.v=function(){this.i&&this.i.v()};q.wa=function(){this.n&&this.n.wa()};q.jc=function(a,b,c,d){if(this.J&8){we.nc();var f=this.J;this.J=4294967295;var e=null,e="gib"===d?new xe(this):"ngf"===d?new ye(this):new ze(this);e.yh(a);this.si&&(this.zc=this.Ib===E?G:E);a=this.ha.Z().g;d=this.ha.Z().f;this.n&&b?!0===b.gj?ra(this.n,4>=e.k.O?0:e.k.O-2,4>=e.k.P?0:e.k.P-2,3>=a-e.k.T?a-1:e.k.T,3>=d-e.k.U?d-1:e.k.U):void 0!==b.O&&void 0!==b.T&&void 0!==b.P&&void 0!==b.U&&ra(this.n,b.O,b.P,b.T,b.U):this.n&&ra(this.n,0,0,a-1,d-1);this.M&&(this.M.ub(),this.M.Da());if(c)if(b=this.ea,c=c.replace(RegExp("~","g"),"+"),c=c.replace(RegExp("-","g"),"/"),c=c.replace(RegExp("_","g"),"="),c=oe(c),c=new Ae(c,c.length),"GBMR"!==Be(c,4))mb(this,b);else if(Ce(c),e=De(c),e=Be(c,e),a=Ee(b,e),null!==a){b=c.d>=c.Ra?0:c.ia[c.d++];this.j=a;if(1===b)for(b=De(c),e=0;e<b&&1===Ce(c);e++){tb(this,!1,!1);a=De(c);for(d=0;d<a;d++){var g=Ce(c),h=De(c);switch(g){case 16:h=T(De(c));this.ib(h.g,h.f,E);break;case 17:h=T(De(c));this.ib(h.g,h.f,G);break;case 32:case 33:case 34:h=E;switch(g){case 32:h=E;break;case 33:h=G;break;case 34:h=H}for(var g=De(c),k=[],l=0;l<g;l++)k.push(De(c));this.md(h,k);break;default:c.d+=h}}Ce(c);a=this.j;this.M&&(this.M.ub(),this.M.Da())}mb(this,a,!0)}else mb(this,b,!0);else this.Fk=c=!this.fe()||""!==this.Ta&&null!==this.Ta&&void 0!==this.Ta?this.ea:$c(this.ea),mb(this,c);c=this.Nc();3!==this.Nc()&&(this.Zc=c);this.J=f;this.n&&(f=this.n,null!==f.cd&&nb(f.b.j)>=ob(f.cd)&&pb(f.cd));this.i&&this.i.v(!0)}};q.Cf=function(){var a=new Fe;a.b=this;a.Cc="";a.fb=null;Ge(a,this.ea);return a.Cc};q.nc=function(){this.ea=new se;this.Ze=this.Ta=this.Ec="";this.xc=0;this.pb="0";this.Ye=this.Je="";xd(this,"Black");yd(this,"");zd(this,"White");Ad(this,"");this.Xe=this.We=this.Ue=this.Te=this.Vd=this.Ve=this.Ud=this.ed=this.Dc=this.Se="";this.Zc=0;He(this)};function Fb(a){mb(a,a.Fk)}function kb(a){var b=a.J;H!==a.zc&&gd(a,{vf:!0});mb(a,a.ea);a.J=b;H!==a.zc&&a.Li&&Ie(a,a.Li)}function ib(a,b){for(var c=a.j;null!=c.da&&0<b&&!(c=c.da,b--,1<V(c)););mb(a,c)}function lb(a,b,c){if(1===b)Je(a,c)&&ub(a);else{for(c=0;c<b&&!(Je(a),1<V(a.j));c++);mb(a,a.j)}}function Hb(a){for(;Je(a););mb(a,a.j)}q.Gj=function(){!0===Db(this,0,0,this.Ib)&&ub(this)};function Gb(a){var b=a.j.da;if(null!==b){var c=b.ja,d=V(b);1<d&&(a.Qc()?(b=0<c?b.S(c-1):b.S(d-1),mb(a,b)):0<c&&(b=b.S(c-1),mb(a,b)))}}function Ib(a){var b=a.j.da;if(null!==b){var c=b.ja,d=V(b);1<d&&(a.Qc()?(b=c<d-1?b.S(c+1):b.S(0),mb(a,b)):c<d-1&&(b=b.S(c+1),mb(a,b)))}}q.ih=function(){for(var a=this.j;!Ke(a);){var b=a.da;if(null===b&&a!==this.ea)return;a=b}a.ih();mb(this,a)};q.me=function(a){this.Ib=a;this.j.me(a)};q.ib=function(a,b,c){this.j.ib(a,b,c)};function tb(a,b,c){if(!(a.J&1))return!1;var d=new se,f=d.da=a.j;f.xa.push(d);if(!0===c||-1===f.ja)f.ja=f.xa.length-1;a.j=d;a.De++;!0===b&&a.M&&(a.M.ub(),a.M.Da());return!0}function Db(a,b,c,d){for(var f=(c<<8)+b,e=0,g=V(a.j);e<g;e++){var h=a.j.S(e),k=h.Lb,l=k.I;if(f===k.sa()&&d===l&&(E===d||G===d))return b=a.j.ja,Le(a.j,e),a.j=h,a.De++,a.M&&b!==e&&a.M.Da(),!0}if(!(a.J&1))return!1;tb(a,!1,!0);a.j.ib(b,c,d);a.M&&(a.M.ub(),a.M.Da());H!==a.zc&&""!==a.Oi&&a.j.Ef(a.Oi);return!0}q.md=function(a,b){this.j.md(a,b)};q.hf=function(a){var b=this.j.Na;this.j.hf(a);this.i&&this.i.pc(this.j.Na);this.M&&""===b&&""!==a&&this.M.Da()};q.Ef=function(a){var b=this.j.Na;this.j.Ef(a);this.M&&(""===b&&""!==a||""!==b&&""===a)&&this.M.Da()};q.Oa=function(a,b){this.j.Oa(a,b)};q.xb=function(a){this.j.Oa(513,a)};q.Zd=function(a,b){this.j.Zd(a,b)};q.Cg=function(a,b){this.j.qb.Yc||(this.j.qb.Yc=!0);for(var c=0,d=b.length;c<d;c++)this.j.Cg(b[c],a)};q.Ag=function(a){this.j.Ag(a)};q.Dg=function(a){this.j.Dg(a)};q.Sg=function(){!0===this.j.qb.Yc&&(this.j.qb.Yc=!1,this.j.Sg());this.n&&(this.n.Fa={},Qa(this.n))};function Eb(a){var b=a.j.da;if(null===b)a.j.va(),a.M&&(a.M.ub(),a.M.Da()),mb(a,a.j);else for(var c=0,d=V(b);c<d;c++)if(a.j===b.S(c)){d=b;d.xa.splice(c,1);d.ja>=c&&d.ja--; -1===d.ja&&0<d.xa.length&&(d.ja=0);a.j=b;a.M&&(a.M.ub(),a.M.Da());mb(a,b);break}}q.yd=function(){return this.j.yd()};function ub(a){a.n&&(1===a.n.ra&&Ba(a.n,0),a.n.Fa={},a.ne());for(var b=0,c=a.j.qa.length;b<c;b++){var d=a.j.qa[b],f=d.sa(),e=d.Wa;switch(d.I){case 1:d=T(f);Me(a,d.g,d.f,E,!1);break;case 2:d=T(f);Me(a,d.g,d.f,G,!1);break;case 257:for(var g=0;g<e;g++)d=T(f[g]),Ne(a,d.g,d.f,E,-1);break;case 258:for(g=0;g<e;g++)d=T(f[g]),Ne(a,d.g,d.f,G,-1);break;case 259:for(g=0;g<e;g++)d=T(f[g]),Ne(a,d.g,d.f,H,-1);break;case 260:a.Ib=f;break;case 529:if(a.n)for(g=0;g<e;g++)d=T(f[g]),a.n.Oa(new va(d.g,d.f,ab,""));break;case 530:if(a.n)for(g=0;g<e;g++)d=T(f[g]),a.n.Oa(new va(d.g,d.f,db,""));break;case 531:if(a.n)for(g=0;g<e;g++)d=T(f[g]),a.n.Oa(new va(d.g,d.f,bb,""));break;case 532:if(a.n)for(g=0;g<e;g++)d=T(f[g]),a.n.Oa(new va(d.g,d.f,cb,""));break;case 533:a.n&&(d=T(f.Ij),a.n.Oa(new va(d.g,d.f,Wa,f.Text)));break;case 513:if(a.n)for(g=0;g<e;g++)d=T(f[g]),a.n.xb(d.g,d.f)}}a.n&&(a.j.yd()?(c=a.j.Lb,b=c.td(),c=c.ud(),Ua(a.n,b,c)):Ua(a.n,-1,-1),a.j.qb.Yc&&Ba(a.n,1),Qa(a.n),Oe(a.j,a.n));a.i&&(b=a.j.Na,c=!0,H!==a.zc?(-1!==b.indexOf("CHOICE")&&(b=b.replace("CHOICE","")),0>=V(a.j)&&(-1!==b.indexOf("RIGHT")&&null!==a.Mi?(a.i.pc(b.replace("RIGHT","")),Ie(a,a.Mi),c=!1):-1===b.indexOf("RIGHT")&&null!==a.Ni&&(a.i.pc(b),Ie(a,a.Ni),c=!1)),c&&a.i.pc(b)):a.i.pc(b));a.M&&Wc(a.M,!0);a.Ab();if(a.Ib===a.zc&&null===a.Di&&null===a.Vb&&null===a.Od&&0<=V(a.j)){var h=a.J;a.Di=setTimeout(function(){a.J=4294967295;for(var b=a.j,c=[],d=0,e=V(b);d<e;d++)-1!==b.S(d).Na.indexOf("CHOICE")&&c.push(d);0<c.length?(d=Math.max(0,Math.min(c.length-1,Math.floor(Math.random()*c.length))),Le(b,c[d])):0<V(b)&&Le(b,0);lb(a,1);a.J=h;a.Di=null},a.yk);a.J=0}}function Me(a,b,c,d,f){if(0!=b||0!=c){if(a.Ma&&!0!==f){var e=a.Ma;md(e,e.Hj)}Ne(a,b,c,d,a.Qd+1,f);e=null;if(null!==(e=Bb(a.ha,b,c,d,!1))&&0<e.Z()){b=e.Z();for(c=0;c<b;c++){var g=T(e.sa(c));Ne(a,g.g,g.f,H,-1)}a.Ma&&!0!==f&&ld(a.Ma,e.Z());E===d?a.$c+=b:a.ad+=b}else if(null!==(e=Cb(a.ha,b,c,d))&&0<e.Z()){b=e.Z();for(c=0;c<b;c++)g=T(e.sa(c)),Ne(a,g.g,g.f,H,-1);a.Ma&&!0!==f&&ld(a.Ma,e.Z());E===d?a.ad+=b:a.$c+=b}else a.ha.bc.nc()}a.Ib=E===d?G:E;a.Qd++}function Je(a,b){if(!(a.J&2)&&!0!==b||0===V(a.j)||-1===a.j.ja)return!1;a.j=a.j.S(a.j.ja);a.De++;return!0}q.ne=function(){this.n&&this.j.ne(this.Zc,this.n)};q.rf=function(){if(this.n){var a=this.ha.rf(this.n);Qa(this.n);this.j.qb.Yc||(this.j.qb.Yc=!0);var b=this.ha,c=this.j.qb;c.mb={};for(var d=b.Z(),f=1;f<=d.f;f++)for(var e=1;e<=d.g;e++){var g=b.Ub[Da(b,e,f)],h=(f<<8)+e;if(E===g||G===g)c.mb[""+h]=g}this.ok=a.nd+this.$c;this.zk=a.Ed+this.ad+this.xc;this.Ab()}};q.Cd=function(a){this.Ma.o(a)};function mb(a,b,c){if(a.J&2||!0===c){a.Dd();He(a);a.ha.va();a.Ma&&(a.Ma.Jd=!1);var d=ve(b);for(a.j=a.ea;a.j!=b&&0<V(a.j);){for(var f=a.j.qa.length,e=0;e<f;e++){var g=a.j.qa[e],h=g.sa(),k=g.Wa;switch(g.I){case 1:g=T(h);Me(a,g.g,g.f,E,!0);break;case 2:g=T(h);Me(a,g.g,g.f,G,!0);break;case 257:for(var l=0;l<k;l++)g=T(h[l]),a.ha.Set(g.g,g.f,E,-1);break;case 258:for(l=0;l<k;l++)g=T(h[l]),a.ha.Set(g.g,g.f,G,-1);break;case 259:for(l=0;l<k;l++)g=T(h[l]),a.ha.Set(g.g,g.f,H,-1)}}if(!Je(a,c))break}a.n&&Oa(a.n);ub(a);a.M&&!0===d&&a.M.Da();a.Ma&&(a.Ma.Jd=!0)}}function Xb(a,b){b!==a.Zc&&(a.Zc=b,a.ne())}function yd(a,b){a.Re=b;a.i&&a.i.Zh(a.Re)}q.fh=function(){var a=this.Ec;""===a&&(a=this.Fc+" vs. "+this.Bc);""===a&&(a="White vs. Black");return a};function xd(a,b){a.Bc=b;a.i&&a.i.Yh(a.Bc)}function zd(a,b){a.Fc=b;a.i&&a.i.$h(a.Fc)}function Ad(a,b){a.$e=b;a.i&&a.i.ai(a.$e)}function Pe(a,b,c){b=Math.min(52,Math.max(b,2));c=Math.min(52,Math.max(c,2));var d=a.ha.Z();if(b!==d.g||c!==d.f)d=a.ha,d.w=b,d.F=c,Qe(d),d.bc.nc(),a.n&&(a=a.n,qa(a),a.Nb(!0))}function He(a){a.j=a.ea;a.$c=0;a.ad=0;a.Qd=0;a.De=0;a.Ib=E}function Ne(a,b,c,d,f,e){a.ha.Set(b,c,d,f);a.n&&!0!==e&&ta(a.n,b,c,d)}q.Ab=function(a){if(this.i){var b=this.Jl,c=this.j.da;b.ec=null===this.j.da?!1:!0;b.gc=0>=V(this.j)?!1:!0;if(null!==c){var d=c.ja,c=V(c);this.Qc()?(b.lc=1<c?!0:!1,b.mc=1<c?!0:!1):(b.lc=d<c-1?!0:!1,b.mc=0<d?!0:!1)}else b.lc=!1,b.mc=!1;this.n&&(b.tb=this.n.ra);for(var d=this.ea,f=c=1;0<V(d);)c++,d=d.S(),d===this.j&&(f=c);b.Uj=0<c?(f-1)/(c-1):1;this.i.Ab(b);this.n&&1===this.n.ra?this.i.qe(this.ok,this.zk):this.i.pe(this.$c,this.ad);a&&(this.i.Zh(this.Re),this.i.ai(this.$e),this.i.Yh(this.Bc),this.i.$h(this.Fc))}};function gd(a,b){b&&(!0===b.xf?a.J|=1:!1===b.xf&&(a.J&=-2),!0===b.vf?a.J|=2:!1===b.vf&&(a.J&=-3),!0===b.Rg?a.J|=Ca:!1===b.Rg&&(a.J&=qe),!0===b.zh?a.J|=8:!1===b.zh&&(a.J&=-9),!0===b.rd?a.J|=16:!1===b.rd&&(a.J&=-17))}function Ob(a){if(a=a.n){a=oa(a,!0).toDataURL("image/png");var b=document.createElement("a");b.download="BoardShot.png";b.href="data:image/png;base64"+a;Sb(b)}}function Qb(a){var b=[],c=a.ea;for(b.push(c);0<V(c);)c=c.S(c.ja),b.push(c);Re(a,b)}function Pb(a){var b=[],c=[];ue(a.ea,c);for(var d=0,f=c.length;d<f;d++){var e=c[d];ve(e);var g=a.ea;for(b.push(g);g!==e&&0<V(g);)g=g.S(g.ja),b.push(g)}Re(a,b)}function Nb(a){Re(a,[a.j])}function Re(a,b){var c=a.n;if(c){var d=a.j,f=c.c.G,e=c.c.B,g=b.length,h=Math.max(1,Math.ceil(2E6/f/e)),k=0,l=null,n=null,m=5<Math.ceil(g/h)?!0:!1,u=!0===m?wb(c.a.e.a.id,ae,{W:a.i,R:a}):null;c.Uf=!0;var p=new Se;p.sk=Math.floor(150);p.Sc();e=f=0;null!==u&&Nd(u);a.Od=!0;var r=function(){var w,t;if(null===a.Od)c.Uf=!1,mb(a,d,!0);else{for(var x=Math.min(k+h,g);k<x;k++){mb(a,b[k],!0);oCanvas=oa(c,!1);oContext=oCanvas.getContext("2d");w=c;var L={};t={};var M=void 0;for(M in w.Ne)L[M]=w.Ne[M];var B=void 0;for(B in w.Fa){var M=parseInt(B),F=w.Fa[B];Wa===F.I&&H===w.L.H(F.td(),F.ud())?t[M]=!1:t[M]=!0}L=w=L;B=t;if(0===f||0===e)f=oCanvas.width,e=oCanvas.height;if(null===l||null===n)Te(p,0,0,f,e,[{O:0,P:0,T:f,U:e}]);else{var M={},Q;for(Q in B)M[Q]=B[Q];for(Q in n)M[Q]=void 0===M[Q]||!1!==M[Q]&&!1!==n[Q]?n[Q]:!1;for(Q in l)l[Q]!==L[Q]&&!1!==M[Q]&&(M[Q]=!0);L=[];for(Q in M){B=T(Q);var z=B.g,F=B.f;if(!0!==ua(c,z-1,F-1))B=null;else if(B=c.c.X,!0===M[Q])var N=c.c.lb,R=(N-1)/2,v=c.ug()?c.c.yb:0,z=B[z-1].g-R,B=B[F-1].f-R,B={O:z,P:B,T:z+N+v,U:B+N+v};else N=B[z-1].qc,F=B[F-1].rc,B={O:N,P:F,T:N+(B[1].g-B[0].g+2),U:F+(B[1].f-B[0].f+2)};null!==B&&L.push(B)}if(0<L.length){M=f;F=e;z=v=N=0;for(R=L.length;z<R;z++)B=L[z],B.O<M&&(M=B.O),B.P<F&&(F=B.P),B.T>N&&(N=B.T),B.U>v&&(v=B.U);Te(p,M,F,N-M,v-F,L)}else Te(p,0,0,f,e,[])}l=w;n=t}null!==u&&Md(u,Math.min(100,k/g*100));k<g?!0===m?setTimeout(r,10):r():(u&&Od(u),Ue(p.N,59),x=a.Ec,""===x&&(x=a.Fc+" vs. "+a.Bc),""===x&&(x="download"),x+=".gif",Q=new Blob([Ve(p.N)],{type:"image/gif"}),Tb(Q,x),a.Od=null,c.Uf=!1,mb(a,d,!0))}};!0===m?setTimeout(r,10):r()}}function Ie(a,b){null===a.Od&&b&&b()}q.he=function(){return y.he()};q.Ph=function(a){y.Ph(a)};q.fe=function(){return y.fe()};q.Qc=function(){return y.Qc()};q.Mh=function(a){y.Mh(a);this.Ab()};q.sd=function(){return y.sd()};q.Qh=function(a){a!==this.sd()&&(y.Qh(a),this.M&&this.M.Da())};q.Nc=function(){return y.Nc()};q.Oh=function(a){a!==this.Nc()&&y.Oh(a)};q.Bg=function(a,b,c){this.j.Bg(a,b,c);this.i&&Nc()};q.Jh=function(a,b){this.j.Jh(a,b);this.i&&Nc()};q.Ih=function(){this.j.Ih();this.i&&Nc()};q.Tg=function(){this.j.Tg();this.n&&Oe(this.j,this.n);this.i&&Nc()};q.gh=function(){for(var a=this.j,b=a;!a.Wf;){var c=a.da;if(null===c)return"";a=c}c=new We;Xe(c,"GBMR");Ye(c,1);var d=a.Jk;Ze(c,d.length);Xe(c,d);if(a!==b){Ue(c,1);for(d=[];b!==a;)d.splice(0,0,b),b=b.da;Ze(c,d.length);a=0;for(b=d.length;a<b;a++){var f=d[a];Ye(c,1);var e=c.d;c.d+=4;for(var g=0,h=0,k=f.qa.length;h<k;h++){var l=f.qa[h],n=l.I,m=l.sa(),l=l.Wa;switch(n){case 1:Ye(c,16);Ze(c,4);Ze(c,m);g++;break;case 2:Ye(c,17);Ze(c,4);Ze(c,m);g++;break;case 257:case 258:case 259:switch(n){case 257:Ye(c,32);break;case 258:Ye(c,33);break;case 259:Ye(c,34)}Ze(c,4*(l+1));Ze(c,l);for(n=0;n<l;n++)Ze(c,m[n]);g++}}f=c.d;c.d=e;Ze(c,g);c.d=f;Ye(c,0)}}else Ue(c,0);c=Ve(c);c=me(c);c=c.replace(RegExp("\\+","g"),"~");c=c.replace(RegExp("\\/","g"),"-");return c=c.replace(RegExp("=","g"),"_")};q.Ch=function(){this.ea.Ch();this.M&&(this.M.ub(),this.M.Da(),Wc(this.M,!0))};q.Wh=function(){this.n&&this.n.Ff(!this.n.eb)};function Se(){this.N=null;this.Vf=!0;this.dd=this.Hk=null;this.Ja={};this.xk=0;this.Na=String.fromCharCode(71,101,110,101,114,97,116,101,100,32,98,121,32,103,111,98,97,110,46,111,114,103);this.sk=0;this.mg=null;this.tk=this.Hl=this.F=this.w=0}function Te(a,b,c,d,f,e){var g=oContext;a.Vf&&(a.w=g.canvas.width,a.F=g.canvas.height);a.Hk=g.getImageData(0,0,g.canvas.width,g.canvas.height).data;if(a.Vf){a.dd=Array(768);for(var h=g=0;768>g;g+=3,h+=6)a.dd[g+0]=parseInt("ff0000e0b65ce0b65ce0b65ce0b65ce0b75ce0b75ce1b75ce0b75ce0b75de1b75de1b75de1b85de2b85de2b85de2b85de2b85de3b85de3b85de3b95de3b95de3b95de3b95ee3b95ee3b95ee4b95ee4ba5ee4ba5ee4ba5ee4ba5ee5ba5ee5ba5ee5ba5ee5ba5ee5bb5ee5bb5ee5ba5ee5bb5ee5bb5ee5ba5ee5ba5fe1bc6dddbc75e1bb6ae4bb64e5bb5fe6bb5fe6bb5fe6bb5ee6bb5ee6bb5fe6bb5edeb65cdeb55cdfb55cdeb55cdeb55bdeb45bddb45bddb45bddb45bddb35bddb35bdcb35bdcb35bdbb35ddcb35adcb35adbb35adbb25adbb25adab25adab25adab15ad9b15ad9b15adab159d9b159d9b159d9b059d9b059d8b059d8b059d8af58d8b059d7b059d7af59d7af58d7af58d7ae58d6af58d6ae58d6ae58d5ae58d5ae58d5ae58d4ae5ad4ad58d5ad57d5ad57d4ad57d4ad57d4ac57d3ac57d4ac57d4ac57d3ac57d3ac57d3ac57d2ac57d2ac57d3ab56d2ab56d2ab56d2ab56d2ab56d2aa56d1aa56d1aa56d1aa56d1aa55d0aa55cfa956d0a955cfa855cfa855cba554c9a65bbea87ac5b38cd5c197cdc4b0e2d0aaead6abeed9adf1dcaef3ddaff3ddaffaf0dbfefefefdfdfdfafafaf8f8f8f5f5f5f1f1f1eeeeeeebebebe8e8e8e4e4e4e1e1e1dedededadadad6d6d6d3d3d3d0d0d0d0d0d0cfcfcfcecececececdcdcdcdcdcdcccfccc5cccbcbcacacacacac9c8c8c8cac8c3c7c7c7c6c6c5c4c4c4c3c3c2c2c1c1c0c0c0bfbebebdbdbdbbbbbab3b3b2bcb6a9b4ad9da7a49d9c9c9c9494948e8e8e8888888282827c7c7c7474746e6e6e6767677b756aa39370b99a59c29e50c09c4ebc994db9964bb6944ab29149af8e48ac8b47a88945a68744a28443a082429d7f40997c3f967a3d91753b876e387a6434735d2f6f5b2e6b572c64522a6359435e5e5e5757575050504a4a4a404040363636413c31524324423821352d1a2c2c2c2725212222221f1d191c171016161413131212121112111111111111111011101010101010100f0f0f0f0f0f0f0f0e0e0e0e0d0d0d0d0d0d0d0c0c0b0b0b0a0909090d0a07640909ef02023e0000000000000000000000000000"[h+0]+"ff0000e0b65ce0b65ce0b65ce0b65ce0b75ce0b75ce1b75ce0b75ce0b75de1b75de1b75de1b85de2b85de2b85de2b85de2b85de3b85de3b85de3b95de3b95de3b95de3b95ee3b95ee3b95ee4b95ee4ba5ee4ba5ee4ba5ee4ba5ee5ba5ee5ba5ee5ba5ee5ba5ee5bb5ee5bb5ee5ba5ee5bb5ee5bb5ee5ba5ee5ba5fe1bc6dddbc75e1bb6ae4bb64e5bb5fe6bb5fe6bb5fe6bb5ee6bb5ee6bb5fe6bb5edeb65cdeb55cdfb55cdeb55cdeb55bdeb45bddb45bddb45bddb45bddb35bddb35bdcb35bdcb35bdbb35ddcb35adcb35adbb35adbb25adbb25adab25adab25adab15ad9b15ad9b15adab159d9b159d9b159d9b059d9b059d8b059d8b059d8af58d8b059d7b059d7af59d7af58d7af58d7ae58d6af58d6ae58d6ae58d5ae58d5ae58d5ae58d4ae5ad4ad58d5ad57d5ad57d4ad57d4ad57d4ac57d3ac57d4ac57d4ac57d3ac57d3ac57d3ac57d2ac57d2ac57d3ab56d2ab56d2ab56d2ab56d2ab56d2aa56d1aa56d1aa56d1aa56d1aa55d0aa55cfa956d0a955cfa855cfa855cba554c9a65bbea87ac5b38cd5c197cdc4b0e2d0aaead6abeed9adf1dcaef3ddaff3ddaffaf0dbfefefefdfdfdfafafaf8f8f8f5f5f5f1f1f1eeeeeeebebebe8e8e8e4e4e4e1e1e1dedededadadad6d6d6d3d3d3d0d0d0d0d0d0cfcfcfcecececececdcdcdcdcdcdcccfccc5cccbcbcacacacacac9c8c8c8cac8c3c7c7c7c6c6c5c4c4c4c3c3c2c2c1c1c0c0c0bfbebebdbdbdbbbbbab3b3b2bcb6a9b4ad9da7a49d9c9c9c9494948e8e8e8888888282827c7c7c7474746e6e6e6767677b756aa39370b99a59c29e50c09c4ebc994db9964bb6944ab29149af8e48ac8b47a88945a68744a28443a082429d7f40997c3f967a3d91753b876e387a6434735d2f6f5b2e6b572c64522a6359435e5e5e5757575050504a4a4a404040363636413c31524324423821352d1a2c2c2c2725212222221f1d191c171016161413131212121112111111111111111011101010101010100f0f0f0f0f0f0f0f0e0e0e0e0d0d0d0d0d0d0d0c0c0b0b0b0a0909090d0a07640909ef02023e0000000000000000000000000000"[h+1],16),a.dd[g+1]=parseInt("ff0000e0b65ce0b65ce0b65ce0b65ce0b75ce0b75ce1b75ce0b75ce0b75de1b75de1b75de1b85de2b85de2b85de2b85de2b85de3b85de3b85de3b95de3b95de3b95de3b95ee3b95ee3b95ee4b95ee4ba5ee4ba5ee4ba5ee4ba5ee5ba5ee5ba5ee5ba5ee5ba5ee5bb5ee5bb5ee5ba5ee5bb5ee5bb5ee5ba5ee5ba5fe1bc6dddbc75e1bb6ae4bb64e5bb5fe6bb5fe6bb5fe6bb5ee6bb5ee6bb5fe6bb5edeb65cdeb55cdfb55cdeb55cdeb55bdeb45bddb45bddb45bddb45bddb35bddb35bdcb35bdcb35bdbb35ddcb35adcb35adbb35adbb25adbb25adab25adab25adab15ad9b15ad9b15adab159d9b159d9b159d9b059d9b059d8b059d8b059d8af58d8b059d7b059d7af59d7af58d7af58d7ae58d6af58d6ae58d6ae58d5ae58d5ae58d5ae58d4ae5ad4ad58d5ad57d5ad57d4ad57d4ad57d4ac57d3ac57d4ac57d4ac57d3ac57d3ac57d3ac57d2ac57d2ac57d3ab56d2ab56d2ab56d2ab56d2ab56d2aa56d1aa56d1aa56d1aa56d1aa55d0aa55cfa956d0a955cfa855cfa855cba554c9a65bbea87ac5b38cd5c197cdc4b0e2d0aaead6abeed9adf1dcaef3ddaff3ddaffaf0dbfefefefdfdfdfafafaf8f8f8f5f5f5f1f1f1eeeeeeebebebe8e8e8e4e4e4e1e1e1dedededadadad6d6d6d3d3d3d0d0d0d0d0d0cfcfcfcecececececdcdcdcdcdcdcccfccc5cccbcbcacacacacac9c8c8c8cac8c3c7c7c7c6c6c5c4c4c4c3c3c2c2c1c1c0c0c0bfbebebdbdbdbbbbbab3b3b2bcb6a9b4ad9da7a49d9c9c9c9494948e8e8e8888888282827c7c7c7474746e6e6e6767677b756aa39370b99a59c29e50c09c4ebc994db9964bb6944ab29149af8e48ac8b47a88945a68744a28443a082429d7f40997c3f967a3d91753b876e387a6434735d2f6f5b2e6b572c64522a6359435e5e5e5757575050504a4a4a404040363636413c31524324423821352d1a2c2c2c2725212222221f1d191c171016161413131212121112111111111111111011101010101010100f0f0f0f0f0f0f0f0e0e0e0e0d0d0d0d0d0d0d0c0c0b0b0b0a0909090d0a07640909ef02023e0000000000000000000000000000"[h+2]+"ff0000e0b65ce0b65ce0b65ce0b65ce0b75ce0b75ce1b75ce0b75ce0b75de1b75de1b75de1b85de2b85de2b85de2b85de2b85de3b85de3b85de3b95de3b95de3b95de3b95ee3b95ee3b95ee4b95ee4ba5ee4ba5ee4ba5ee4ba5ee5ba5ee5ba5ee5ba5ee5ba5ee5bb5ee5bb5ee5ba5ee5bb5ee5bb5ee5ba5ee5ba5fe1bc6dddbc75e1bb6ae4bb64e5bb5fe6bb5fe6bb5fe6bb5ee6bb5ee6bb5fe6bb5edeb65cdeb55cdfb55cdeb55cdeb55bdeb45bddb45bddb45bddb45bddb35bddb35bdcb35bdcb35bdbb35ddcb35adcb35adbb35adbb25adbb25adab25adab25adab15ad9b15ad9b15adab159d9b159d9b159d9b059d9b059d8b059d8b059d8af58d8b059d7b059d7af59d7af58d7af58d7ae58d6af58d6ae58d6ae58d5ae58d5ae58d5ae58d4ae5ad4ad58d5ad57d5ad57d4ad57d4ad57d4ac57d3ac57d4ac57d4ac57d3ac57d3ac57d3ac57d2ac57d2ac57d3ab56d2ab56d2ab56d2ab56d2ab56d2aa56d1aa56d1aa56d1aa56d1aa55d0aa55cfa956d0a955cfa855cfa855cba554c9a65bbea87ac5b38cd5c197cdc4b0e2d0aaead6abeed9adf1dcaef3ddaff3ddaffaf0dbfefefefdfdfdfafafaf8f8f8f5f5f5f1f1f1eeeeeeebebebe8e8e8e4e4e4e1e1e1dedededadadad6d6d6d3d3d3d0d0d0d0d0d0cfcfcfcecececececdcdcdcdcdcdcccfccc5cccbcbcacacacacac9c8c8c8cac8c3c7c7c7c6c6c5c4c4c4c3c3c2c2c1c1c0c0c0bfbebebdbdbdbbbbbab3b3b2bcb6a9b4ad9da7a49d9c9c9c9494948e8e8e8888888282827c7c7c7474746e6e6e6767677b756aa39370b99a59c29e50c09c4ebc994db9964bb6944ab29149af8e48ac8b47a88945a68744a28443a082429d7f40997c3f967a3d91753b876e387a6434735d2f6f5b2e6b572c64522a6359435e5e5e5757575050504a4a4a404040363636413c31524324423821352d1a2c2c2c2725212222221f1d191c171016161413131212121112111111111111111011101010101010100f0f0f0f0f0f0f0f0e0e0e0e0d0d0d0d0d0d0d0c0c0b0b0b0a0909090d0a07640909ef02023e0000000000000000000000000000"[h+3],16),a.dd[g+2]=parseInt("ff0000e0b65ce0b65ce0b65ce0b65ce0b75ce0b75ce1b75ce0b75ce0b75de1b75de1b75de1b85de2b85de2b85de2b85de2b85de3b85de3b85de3b95de3b95de3b95de3b95ee3b95ee3b95ee4b95ee4ba5ee4ba5ee4ba5ee4ba5ee5ba5ee5ba5ee5ba5ee5ba5ee5bb5ee5bb5ee5ba5ee5bb5ee5bb5ee5ba5ee5ba5fe1bc6dddbc75e1bb6ae4bb64e5bb5fe6bb5fe6bb5fe6bb5ee6bb5ee6bb5fe6bb5edeb65cdeb55cdfb55cdeb55cdeb55bdeb45bddb45bddb45bddb45bddb35bddb35bdcb35bdcb35bdbb35ddcb35adcb35adbb35adbb25adbb25adab25adab25adab15ad9b15ad9b15adab159d9b159d9b159d9b059d9b059d8b059d8b059d8af58d8b059d7b059d7af59d7af58d7af58d7ae58d6af58d6ae58d6ae58d5ae58d5ae58d5ae58d4ae5ad4ad58d5ad57d5ad57d4ad57d4ad57d4ac57d3ac57d4ac57d4ac57d3ac57d3ac57d3ac57d2ac57d2ac57d3ab56d2ab56d2ab56d2ab56d2ab56d2aa56d1aa56d1aa56d1aa56d1aa55d0aa55cfa956d0a955cfa855cfa855cba554c9a65bbea87ac5b38cd5c197cdc4b0e2d0aaead6abeed9adf1dcaef3ddaff3ddaffaf0dbfefefefdfdfdfafafaf8f8f8f5f5f5f1f1f1eeeeeeebebebe8e8e8e4e4e4e1e1e1dedededadadad6d6d6d3d3d3d0d0d0d0d0d0cfcfcfcecececececdcdcdcdcdcdcccfccc5cccbcbcacacacacac9c8c8c8cac8c3c7c7c7c6c6c5c4c4c4c3c3c2c2c1c1c0c0c0bfbebebdbdbdbbbbbab3b3b2bcb6a9b4ad9da7a49d9c9c9c9494948e8e8e8888888282827c7c7c7474746e6e6e6767677b756aa39370b99a59c29e50c09c4ebc994db9964bb6944ab29149af8e48ac8b47a88945a68744a28443a082429d7f40997c3f967a3d91753b876e387a6434735d2f6f5b2e6b572c64522a6359435e5e5e5757575050504a4a4a404040363636413c31524324423821352d1a2c2c2c2725212222221f1d191c171016161413131212121112111111111111111011101010101010100f0f0f0f0f0f0f0f0e0e0e0e0d0d0d0d0d0d0d0c0c0b0b0b0a0909090d0a07640909ef02023e0000000000000000000000000000"[h+4]+"ff0000e0b65ce0b65ce0b65ce0b65ce0b75ce0b75ce1b75ce0b75ce0b75de1b75de1b75de1b85de2b85de2b85de2b85de2b85de3b85de3b85de3b95de3b95de3b95de3b95ee3b95ee3b95ee4b95ee4ba5ee4ba5ee4ba5ee4ba5ee5ba5ee5ba5ee5ba5ee5ba5ee5bb5ee5bb5ee5ba5ee5bb5ee5bb5ee5ba5ee5ba5fe1bc6dddbc75e1bb6ae4bb64e5bb5fe6bb5fe6bb5fe6bb5ee6bb5ee6bb5fe6bb5edeb65cdeb55cdfb55cdeb55cdeb55bdeb45bddb45bddb45bddb45bddb35bddb35bdcb35bdcb35bdbb35ddcb35adcb35adbb35adbb25adbb25adab25adab25adab15ad9b15ad9b15adab159d9b159d9b159d9b059d9b059d8b059d8b059d8af58d8b059d7b059d7af59d7af58d7af58d7ae58d6af58d6ae58d6ae58d5ae58d5ae58d5ae58d4ae5ad4ad58d5ad57d5ad57d4ad57d4ad57d4ac57d3ac57d4ac57d4ac57d3ac57d3ac57d3ac57d2ac57d2ac57d3ab56d2ab56d2ab56d2ab56d2ab56d2aa56d1aa56d1aa56d1aa56d1aa55d0aa55cfa956d0a955cfa855cfa855cba554c9a65bbea87ac5b38cd5c197cdc4b0e2d0aaead6abeed9adf1dcaef3ddaff3ddaffaf0dbfefefefdfdfdfafafaf8f8f8f5f5f5f1f1f1eeeeeeebebebe8e8e8e4e4e4e1e1e1dedededadadad6d6d6d3d3d3d0d0d0d0d0d0cfcfcfcecececececdcdcdcdcdcdcccfccc5cccbcbcacacacacac9c8c8c8cac8c3c7c7c7c6c6c5c4c4c4c3c3c2c2c1c1c0c0c0bfbebebdbdbdbbbbbab3b3b2bcb6a9b4ad9da7a49d9c9c9c9494948e8e8e8888888282827c7c7c7474746e6e6e6767677b756aa39370b99a59c29e50c09c4ebc994db9964bb6944ab29149af8e48ac8b47a88945a68744a28443a082429d7f40997c3f967a3d91753b876e387a6434735d2f6f5b2e6b572c64522a6359435e5e5e5757575050504a4a4a404040363636413c31524324423821352d1a2c2c2c2725212222221f1d191c171016161413131212121112111111111111111011101010101010100f0f0f0f0f0f0f0f0e0e0e0e0d0d0d0d0d0d0d0c0c0b0b0b0a0909090d0a07640909ef02023e0000000000000000000000000000"[h+5],16)}a.mg=[];for(var g=a.Ja,h=a.Hk,k=c;k<c+f;k++)for(var l=b;l<b+d;l++){var n=l-b+(k-c)*d,m;a:{m=0;for(var u=e.length;m<u;m++){var p=e[m];if(l>=p.O&&l<=p.T&&k>=p.P&&k<=p.U){m=!0;break a}}m=!1}if(!0===m){p=4*(l+k*a.w);m=h[p+0]&255;var u=h[p+1]&255,p=h[p+2]&255,r=m<<16|u<<8|p;if(void 0===g[r]){for(var w=a.dd,t=0,x=16777216,L=1;256>L;L++){var M=3*L,B=m-(w[M+0]&255),F=u-(w[M+1]&255),M=p-(w[M+2]&255),B=B*B+F*F+M*M;B<x&&(x=B,t=L)}g[r]=t}a.mg[n]=g[r]}else a.mg[n]=a.xk}a.Vf&&(Ye(a.N,a.w),Ye(a.N,a.F),Ue(a.N,247),Ue(a.N,0),Ue(a.N,0),a.cj(),Ue(a.N,33),Ue(a.N,255),Ue(a.N,11),Xe(a.N,"NETSCAPE2.0"),Ue(a.N,3),Ue(a.N,1),Ye(a.N,a.Hl),Ue(a.N,0),Ue(a.N,33),Ue(a.N,254),Ue(a.N,a.Na.length),Xe(a.N,a.Na),Ue(a.N,0));Ue(a.N,33);Ue(a.N,249);Ue(a.N,4);Ue(a.N,5);Ye(a.N,a.sk);Ue(a.N,a.xk);Ue(a.N,0);Ue(a.N,44);Ye(a.N,void 0!==b?b:0);Ye(a.N,void 0!==c?c:0);Ye(a.N,void 0!==d?d:a.w);Ye(a.N,void 0!==f?f:a.F);Ue(a.N,0);b=new $e(a.w,a.F,a.mg);c=a.N;Ue(c,b.vk);b.Bi=b.w*b.F;b.rk=0;d=b.vk+1;b.uk=d;b.ve=!1;b.wc=d;b.Fe=(1<<b.wc)-1;d=1<<d-1;b.xi=d+1;b.Ee=d+2;b.Wa=0;f=af(b);e=0;for(g=5003;65536>g;g*=2)++e;e=8-e;bf(b);cf(b,d,c);for(k=[];-1!==(h=af(b));)if(g=(h<<12)+f,l=h<<e^f,g===b.Hd[l])f=k[l];else{if(0<=b.Hd[l]){n=5003-l;m=!1;0===l&&(n=1);do if(0>(l-=n)&&(l+=5003),g===b.Hd[l]){f=k[l];m=!0;break}while(0<=b.Hd[l]);if(m)continue}cf(b,f,c);f=h;4096>b.Ee?(k[l]=b.Ee++,b.Hd[l]=g):(bf(b),b.Ee=d+2,b.ve=!0,cf(b,d,c))}cf(b,f,c);cf(b,b.xi,c);Ue(c,0);a.Vf=!1;console.log("Frame "+a.tk);a.tk++}Se.prototype.Sc=function(){this.N=new We;Xe(this.N,"GIF89a")};Se.prototype.cj=function(){df(this.N,this.dd);for(var a=768-this.dd.length,b=0;b<a;b++)Ue(this.N,0)};function $e(a,b,c){this.w=a;this.F=b;this.ia=c;this.vk=Math.max(2,8);this.rk=this.Bi=0;this.Hd=[];this.uk=0;this.ve=!1;this.nb=this.Gb=this.Ee=this.xi=this.Fe=this.wc=0;this.Cl=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535];this.Wa=0;this.ji=[]}function af(a){if(0===a.Bi)return-1;--a.Bi;return a.ia[a.rk++]&255}function bf(a){for(var b=0;5003>b;b++)a.Hd[b]=-1}function cf(a,b,c){a.Gb&=a.Cl[a.nb];a.Gb=0<a.nb?a.Gb|b<<a.nb:b;for(a.nb+=a.wc;8<=a.nb;){var d=a,f=a.Gb&255,e=c;d.ji[d.Wa++]=f;254<=d.Wa&&ef(d,e);a.Gb>>=8;a.nb-=8}if(a.Ee>a.Fe||a.ve)a.ve?(a.wc=a.uk,a.Fe=(1<<a.wc)-1,a.ve=!1):(a.wc++,12==a.wc?a.Fe=4096:a.Fe=(1<<a.wc)-1);if(b===a.xi){for(;0<a.nb;)b=a,d=a.Gb&255,f=c,b.ji[b.Wa++]=d,254<=b.Wa&&ef(b,f),a.Gb>>=8,a.nb-=8;ef(a,c)}}function ef(a,b){0<a.Wa&&(Ue(b,a.Wa),df(b,a.ji,0,a.Wa),a.Wa=0)};"use strict;";function ff(){this.Ce=this.Ya=0}ff.prototype.nc=function(){this.Ce=this.Ya=0};ff.prototype.od=function(){var a=new ff;a.be(this);return a};ff.prototype.be=function(a){this.Ya=a.Ya;this.Ce=a.Ce};ff.prototype.Set=function(a,b){this.Ya=a;this.Ce=b};function gf(a,b){this.Be=void 0===a?H:a;this.Ge=void 0===b?-1:b}q=gf.prototype;q.be=function(a){this.Be=a.Be;this.Ge=a.Ge};q.va=function(){this.Be=H;this.Ge=-1};q.Gf=function(a){this.Be=a};q.sa=function(){return this.Be};q.hh=function(){return this.Ge};function hf(){this.ue=[];this.Id=[]}hf.prototype.Z=function(){return this.Id.length};hf.prototype.sa=function(a){return this.Id[a]};function jf(a,b,c){b=(c<<8)+b;c=0;for(var d=a.Id.length;c<d;c++)if(a.Id[c]==b)return!0;return!1}function kf(){this.mb={}}kf.prototype.va=function(){this.mb={}};kf.prototype.Rc=function(a,b){var c=(b<<8)+a;if(void 0!==this.mb[c])return!0;this.mb[c]=1;return!1};function zb(){this.kg={};this.Xb=null}zb.prototype.Rc=function(a,b,c){if(H===c)return null;a=(b<<8)+a;if(null===this.Xb)return this.Xb=c,this.kg[a]=1,!1;if(c!==this.Xb)return null;if(void 0!==this.kg[a])return!0;this.kg[a]=1;return!1};zb.prototype.sa=function(){return this.Xb};function lf(){this.ua={};this.He=H}lf.prototype.va=function(){this.ua={};this.He=H};lf.prototype.Rc=function(a,b){var c=(b<<8)+a;if(void 0!==this.ua[c])return!0;this.ua[c]=1;return!1};function sb(a,b,c){c=void 0===c?a.He:c;for(var d in a.ua)a=T(d|0),b.Ub[Da(b,a.g,a.f)]=c}function re(a,b){this.w=void 0===a?19:a;this.F=void 0===b?19:b;this.Db=null;Qe(this);this.bc=new ff;this.Ub=null;this.ua=new lf;this.bg=new kf}q=re.prototype;q.od=function(){for(var a=new re(this.w,this.F),b=0,c=this.Db.length;b<c;b++)a.Db[b].be(this.Db[b]);a.bc.be(this.bc);return a};q.va=function(){for(var a=this.w*this.F,b=0;b<a;b++)this.Db[b].va()};q.Z=function(){return{g:this.w,f:this.F}};q.Set=function(a,b,c,d){a=Da(this,a,b);this.Db[a].Gf(c);void 0!==d&&null!==d&&-1!==d&&(this.Db[a].Ge=d)};q.H=function(a,b){return this.Db[Da(this,a,b)].sa()};q.hh=function(a,b){return this.Db[Da(this,a,b)].hh()};function Ja(a){for(var b=[],c=mf(a.w),d=mf(a.F),f=0;f<c.length;f++)for(var e=0;e<d.length;e++)b.push([c[f],d[e]]);(9!=a.w&&11!=a.w||1!=a.F%2)&&(9!=a.F&&11!=a.F||1!=a.w%2)||b.push([(a.w-1)/2,(a.F-1)/2]);return b}function mf(a){var b=[];5==a?b=[2]:7==a?b=[3]:8==a?b=[2,5]:9==a?b=[2,6]:10==a?b=[3,6]:11==a?b=[3,7]:12<=a&&(b=1==a%2?[3,(a-1)/2,a-4]:[3,a-4]);return b}function Cb(a,b,c,d){var f=new hf;nf(a,b,c,d,f);return 0<f.Z()?f:null}function Bb(a,b,c,d,f){var e;switch(d){case E:e=G;break;case G:e=E;break;default:return null}d=new hf;!0!==jf(d,b+1,c)&&nf(a,b+1,c,e,d);!0!==jf(d,b-1,c)&&nf(a,b-1,c,e,d);!0!==jf(d,b,c+1)&&nf(a,b,c+1,e,d);!0!==jf(d,b,c-1)&&nf(a,b,c-1,e,d);e=d.Z();if(1==e){b=(c<<8)+b;c=d.sa(0);e=a.bc;if(c===e.Ya&&b===e.Ce&&1==f)return null;a.bc.Set(b,c)}else if(1<e)a.bc.nc();else if(0>=e)return null;return d}function Qe(a){var b=a.w*a.F;a.Db=Array(b);for(var c=0;c<b;c++)a.Db[c]=new gf}function Da(a,b,c){return(c-1)*a.w+(b-1)}function of(a,b,c,d,f){if(b>a.w||1>b||c>a.F||1>c)return!1;var e=a.H(b,c);return H===e?!0:d===e?pf(a,b,c,d,f):!1}function pf(a,b,c,d,f){var e;a:{e=(c<<8)+b;for(var g=0,h=f.ue.length;g<h;g++)if(f.ue[g]==e){e=!0;break a}f.ue.push(e);e=!1}return!0===e?!1:!0===of(a,b+1,c,d,f)||!0===of(a,b-1,c,d,f)||!0===of(a,b,c+1,d,f)||!0===of(a,b,c-1,d,f)?!0:!1}function nf(a,b,c,d,f){b>a.w||1>b||c>a.F||1>c||d!==a.H(b,c)||(!0!==pf(a,b,c,d,f)&&(f.Id=f.Id.concat(f.ue)),f.ue=[])}q.rf=function(a){for(var b=0,c=0,d=1;d<=this.F;d++)for(var f=1;f<=this.w;f++){var e=null,g=this.Ub[Da(this,f,d)];E===g?(e=new va(f,d,Xa,""),G===this.H(f,d)?b+=2:b++):G===g&&(e=new va(f,d,Ya,""),E===this.H(f,d)?c+=2:c++);null===e?a.xb(f,d):a.Oa(e)}return{nd:b,Ed:c}};function qf(a,b,c){if(!(b>a.w||1>b||c>a.F||1>c)){var d=a.H(b,c);if(H!==a.H(b,c))switch(b=a.ua.He,b){case H:a.ua.He=d;break;case E:case G:b!==d&&(a.ua.He=3)}else!1===a.ua.Rc(b,c)&&(qf(a,b+1,c),qf(a,b-1,c),qf(a,b,c+1),qf(a,b,c-1))}}function qb(a,b,c,d){b>a.w||1>b||c>a.F||1>c||(3-d===a.H(b,c)?d===a.Ub[Da(a,b,c)]&&a.bg.Rc(b,c):!0!==a.ua.Rc(b,c)&&(qb(a,b+1,c,d),qb(a,b-1,c,d),qb(a,b,c+1,d),qb(a,b,c-1,d)))}function rb(a,b,c,d){if(!(b>a.w||1>b||c>a.F||1>c)&&3-d!==a.H(b,c)){if(d===a.H(b,c)){var f=a.bg,e=(c<<8)+b;void 0!==f.mb[e]&&delete f.mb[e]}!0!==a.ua.Rc(b,c)&&(rb(a,b+1,c,d),rb(a,b-1,c,d),rb(a,b,c+1,d),rb(a,b,c-1,d))}}function Ea(a,b){for(var c=1;c<=a.F;c++)for(var d=1;d<=a.w;d++)H===a.H(d,c)&&(H===a.Ub[Da(a,d,c)]||!0===b&&3===a.Ub[Da(a,d,c)])&&(a.ua.va(),qf(a,d,c),sb(a.ua,a))}q.sf=function(a){var b;this.za=[];for(var c=0;c<=this.F+1;c++){this.za[c]=[];for(var d=0;d<=this.w+1;d++)if(0===d||this.w+1===d||0===c||this.F+1===c){this.za[c][d]=0;b=d;for(var f=c,e=100,g=[],h=b-4;h<=b+4;h++)for(var k=f-4;k<=f+4;k++)if(!(1>h||h>this.w||1>k||k>this.F||4<Math.abs(b-h)+Math.abs(f-k))){var l=Sa(this,h,k);if(H!==l){var n=Math.abs(b-h)+Math.abs(f-k);n<e?(e=n,g=[],g.push({g:h,f:k,Bb:l})):n===e&&g.push({g:h,f:k,Bb:l})}}b=g;f=b.length;if(0<f){g=e=!1;for(h=0;h<f;h++)E===b[h].Bb&&(g=!0),G===b[h].Bb&&(e=!0);if(!0!==e||!0!==g)this.za[c][d]=e?-128:128}}else b=Sa(this,d,c),this.za[c][d]=E===b?128:G===b?-128:0}for(c=0;5>c;c++){d=[];for(b=0;b<=this.F+1;b++)for(d[b]=[],f=0;f<=this.w+1;f++){k=[];k[0]=0<f?this.za[b][f-1]:0;k[1]=f<this.w+1?this.za[b][f+1]:0;k[2]=0<b?this.za[b-1][f]:0;k[3]=b<this.F+1?this.za[b+1][f]:0;e=0;h=g=!1;for(l=0;4>l;l++)0<k[l]?(g=!0,e++):0>k[l]&&(h=!0,e--);k=this.za[b][f];d[b][f]=0<=k&&!1===h||0>=k&&!1===g?k+e:k}this.za=d}for(c=0;3>c;c++)rf(this);b=d=0;for(c=1;c<=this.F;c++)for(f=1;f<=this.w;f++)e=null,g=this.za[c][f],0<g&&E!==this.H(f,c)?(e=new va(f,c,Xa,""),G===this.H(f,c)?d+=2:d++):0>g&&G!==this.H(f,c)&&(e=new va(f,c,Ya,""),E===this.H(f,c)?b+=2:b++),null===e?a.xb(f,c):a.Oa(e);for(c=0;23>c;c++)rf(this);k=h=0;for(c=1;c<=this.F;c++)for(f=1;f<=this.w;f++)e=null,g=this.za[c][f],0<g&&E!==this.H(f,c)?(e=new va(f,c,Za,""),G===this.H(f,c)?h+=2:h++):0>g&&G!==this.H(f,c)&&(e=new va(f,c,$a,""),E===this.H(f,c)?k+=2:k++),null!==e&&a.Oa(e);return{jj:h,ij:d,hk:k,gk:b}};function Ab(a,b,c,d){1>b||b>a.w||1>c||c>a.F||!1!==d.Rc(b,c,a.H(b,c))||(Ab(a,b+1,c,d),Ab(a,b-1,c,d),Ab(a,b,c+1,d),Ab(a,b,c-1,d),1<b&&1<c&&H===a.H(b-1,c)&&H===a.H(b,c-1)&&Ab(a,b-1,c-1,d),b<a.w&&1<c&&H===a.H(b+1,c)&&H===a.H(b,c-1)&&Ab(a,b+1,c-1,d),b<a.w&&c<a.F&&H===a.H(b+1,c)&&H===a.H(b,c+1)&&Ab(a,b+1,c+1,d),1<b&&c<a.F&&H===a.H(b-1,c)&&H===a.H(b,c+1)&&Ab(a,b-1,c+1,d))}function Sa(a,b,c){return void 0===a.uc||void 0===a.uc[c]||void 0===a.uc[c][b]?H:a.uc[c][b]}function za(a,b,c,d){void 0===a.uc&&(a.uc=[]);void 0===a.uc[c]&&(a.uc[c]=[]);a.uc[c][b]=d}function rf(a){for(var b=[],c=0;c<=a.F+1;c++){b[c]=[];for(var d=0;d<=a.w+1;d++){var f=[];f[0]=0<d?a.za[c][d-1]:null;f[1]=d<a.w+1?a.za[c][d+1]:null;f[2]=0<c?a.za[c-1][d]:null;f[3]=c<a.F+1?a.za[c+1][d]:null;for(var e=0,g=0,h=0;4>h;h++)null!==f[h]&&(0<=f[h]&&e++,0>=f[h]&&g--);f=a.za[c][d];b[c][d]=0<f&&0!==g?Math.max(f+g,0):0>f&&0!==e?Math.min(f+e,0):f}}a.za=b};function We(){this.lg=this.ia=null;this.d=this.Xa=0;this.o()}We.prototype.o=function(){var a=document.createElement("canvas").getContext("2d");this.Xa=5242880;this.lg=a.createImageData(this.Xa/4,1);this.ia=this.lg.data;this.d=0};function sf(a,b){if(a.d+b>=a.Xa){var c=document.createElement("canvas").getContext("2d"),d=a.ia;a.Xa*=2;a.lg=c.createImageData(a.Xa/4,1);a.ia=a.lg.data;for(var c=a.ia,f=0;f<a.zm;f++)c[f]=d[f]}}function Ve(a){for(var b=new Uint8Array(a.d),c=0;c<a.d;c++)b[c]=a.ia[c];return b}function Ue(a,b){sf(a,1);a.ia[a.d++]=b}function Xe(a,b){var c=b.length;sf(a,c);for(var d=0;d<c;d++)a.ia[a.d++]=b.charCodeAt(d)}function df(a,b,c,d){c=c||0;d=d||b.length;for(sf(a,d-c);c<d;c++)a.ia[a.d++]=b[c]}function Ye(a,b){sf(a,2);a.ia[a.d++]=b&255;a.ia[a.d++]=b>>8&255}function Ze(a,b){sf(a,4);a.ia[a.d++]=b&255;a.ia[a.d++]=b>>8&255;a.ia[a.d++]=b>>16&255;a.ia[a.d++]=b>>24&255}function Ae(a,b){this.ia=a;this.Ra=b;this.d=0}function Ce(a){return a.d+1>=a.Ra?0:a.ia[a.d++]|a.ia[a.d++]<<8}function De(a){return a.d+3>=a.Ra?0:a.ia[a.d++]|a.ia[a.d++]<<8|a.ia[a.d++]<<16|a.ia[a.d++]<<24}function Be(a,b){if(a.d+b>a.Ra)return"";for(var c=[],d=0;d<b;d++)c.push(String.fromCharCode(a.ia[a.d+d]));a.d+=b;return c.join("")};function tf(a,b){this.Xb=a;this.I=b}q=tf.prototype;q.td=function(){return T(this.Xb).g};q.ud=function(){return T(this.Xb).f};q.sa=function(){return this.Xb};q.Gf=function(a){this.Xb=a};q.kb=function(a){this.I=a};function uf(){this.qk=0}uf.prototype.nc=function(){this.qk=0};var we=new uf;function se(){this.Jk=++we.qk+"";this.xa=[];this.ja=-1;this.da=null;this.qa=[];this.Lb=new tf(0,H);this.Na="";this.qb=new vf;this.Sa={g:-1,f:-1,zf:-1};this.Wf=!1;this.Ja={}}function Ee(a,b){if(b===a.Jk)return a;for(var c=0,d=V(a);c<d;c++){var f=Ee(a.xa[c],b);if(null!==f)return f}return null}function te(a,b){var c=new se;c.qa=a.qa;0<a.xa.length&&a!==b&&(c.xa[0]=te(a.xa[a.ja],b),c.ja=0,c.xa[0].da=c);return c}q=se.prototype;q.ge=function(){return!0};q.va=function(){this.xa=[];this.ja=-1;this.qa=[];this.Lb=new tf(0,H);this.Na="";this.qb=new vf};q.S=function(a){return void 0!==this.xa[a]?this.xa[a]:this.xa[this.ja]};function Le(a,b){a.ja=b>=a.xa.length?a.xa.length-1:b}function V(a){return a.xa.length}q.yd=function(){return H===this.Lb.I?!1:!0};q.hf=function(a){this.Na+=a};q.Ef=function(a){this.Na=a};q.Cg=function(a,b){this.qb.mb[""+a]=b};q.Sg=function(){this.qb.mb={}};q.ih=function(){for(var a=this;0<V(a);)Le(a,0),a=a.S(0)};function $c(a){for(;0<V(a);)a=a.S(0);return a}function ve(a){for(var b=!1,c=a.da;null!=c;){for(var d=!1,f=0,e=V(c);f<e;f++)if(a===c.S(f)){f!==c.ja&&(b=!0);Le(c,f);d=!0;break}if(!d)return!1;a=c;c=c.da}return b}function Ke(a){for(var b=null;null!==(b=a.da);){if(0!=b.ja)return!1;a=b}return!0}q.zd=function(){for(var a=this,b=null;null!=(b=a.da);){if(b.S(b.ja)!=a)return!1;a=b}return!0};q.ib=function(a,b,c){a=(b<<8)+a;this.qa.push(new de(E===c?1:2,a));H===this.Lb.I&&(this.Lb.Gf(a),this.Lb.kb(c))};q.md=function(a,b){var c=new de(E===a?257:G===a?258:259,ge(b),b.length);this.qa.push(c)};q.Oa=function(a,b){var c=0;switch(a){case ab:c=529;break;case wa:return;case bb:c=531;break;case cb:c=532;break;case Wa:c=533;break;case db:c=530;break;case 513:c=513}c=new de(c,ge(b),b.length);this.qa.push(c)};q.Zd=function(a,b){this.qa.push(new de(533,{Text:a,Ij:b}))};q.me=function(a){this.qa.push(new de(260,a))};q.Ag=function(a){this.qa.push(new de(769,a))};q.Dg=function(a){this.qa.push(new de(770,a))};q.ne=function(a,b){b.a.Kf.e.a.getContext("2d").clearRect(0,0,b.c.G,b.c.B);switch(a){case pe:wf(this,b,-1);break;case 1:var c=this.da;null!==c&&wf(c,b,this.Lb.sa())}};function nb(a){for(var b=1,c=null;null!==(c=a.da);)b++,a=c;return b}function wf(a,b,c){if(b)for(var d=0,f=V(a);d<f;d++){var e=a.S(d).Lb;if(H!==e.I&&c!==e.sa()){var g=T(e.sa()),e=b,h=g.g,k=g.f;if(e.c.X){var g=(e.c.lb/2-1)/2,l=e.c.X;!0===ua(e,h-1,k-1)&&(h=l[h-1].g,k=l[k-1].f,l=e.a.Kf.e.a.getContext("2d"),l.fillStyle=S(e.Ol),l.beginPath(),l.arc(h,k,g,0,2*Math.PI,!1),l.fill())}}}}function ue(a,b){-1!==a.Na.indexOf("RIGHT")&&b.push(a);for(var c=0,d=V(a);c<d;c++)ue(a.S(c),b)}q.Bg=function(a,b,c){this.Ja[(b<<8)+a]=c};q.Jh=function(a,b){delete this.Ja[(b<<8)+a]};q.Ih=function(){this.Ja={}};function Oe(a,b){fb(b);for(var c in a.Ja)b.Ka[c]=a.Ja[c];Pa(b)}q.Tg=function(){this.Ja={};if(null!==this.da){var a=this.da.Ja,b;for(b in a)this.Ja[b]=a[b].od()}};function xf(a,b){for(var c in a.Ja)b[fe(a.Ja[c])]=!0;c=0;for(var d=V(a);c<d;c++)xf(a.xa[c],b)}q.Ch=function(){for(var a=this,b=this.ja,c=this.S(b);null!==c&&void 0!==c;)0!==b&&(a.xa.splice(b,1),a.xa.splice(0,0,c),Le(a,0)),a=c,b=a.ja,c=a.S(b)};var yf=0;function ze(a){this.b=a;this.A=[];this.Rd=this.d=0;this.li=[];this.Fb=!0;this.Xa=0;this.k={O:100,P:100,T:-1,U:-1};this.Fl=yf;this.fb=null}ze.prototype.yh=function(a){if(void 0!==a&&""!==a&&(this.A=[],this.Rd=this.d=0,this.li=[],this.Fb=!0,this.Xa=0,this.wg(a),!zf(this)&&this.b&&this.b.i)){a=this.b;var b=a.i;wb(b.fa.id,xb,{R:a,W:b,Pb:"File cannot be read. Invalid SGF file.",G:275,B:80})}};ze.prototype.wg=function(a){for(var b=0,c=a.length,d=[],f=!1;b<c;){(f||32<a.charCodeAt(b))&&d.push(a.charAt(b));if(3<=d.length&&"["==d[d.length-1]){var e=d[d.length-3]+d[d.length-2];if("C"==d[d.length-2]&&"UC"!=e||"AN"==e||"BR"==e||"BT"==e||"CP"==e||"DT"==e||"EV"==e||"GN"==e||"GC"==e||"ON"==e||"OT"==e||"PB"==e||"PC"==e||"PW"==e||"RE"==e||"RO"==e||"RU"==e||"SO"==e||"TM"==e||"US"==e||"WR"==e||"WT"==e)f=!0}else f&&1<=d.length&&"]"==d[d.length-1]&&(2>d.length||"\\"!=d[d.length-2])&&(f=!1);b++}this.A=d;this.Xa=this.A.length};function zf(a){a.b.nc();if("("===a.A[0]&&";"===a.A[1])for(a.d++;a.d<a.Xa&&(")"!==a.A[a.d]||0!==a.Rd);){var b=a.A[a.d];if(";"===b){1!=a.d?tb(a.b,!1,!1):a.b.j=a.b.ea;a.b.j.Wf=!0;a:{b=a;b.d++;for(var c=b.A[b.d],d=b.A[b.d+1];void 0!==c&&")"!==c&&";"!==c&&"("!==c;){switch(c){case "A":switch(d){case "B":Af(b,E);break;case "E":Af(b,H);break;case "W":Af(b,G);break;case "N":c=b;c.d+=3;d=Bf(c);c.b.Te=d;break;case "P":c=b;c.d+=3;Bf(c);break;default:Cf(b)}break;case "B":switch(d){case "[":Df(b,E);break;case "R":c=b;c.d+=3;yd(c.b,Bf(c));break;case "T":c=b;c.d+=3;d=Bf(c);c.b.Ik=d;break;case "L":c=b;c.d+=3;c.b.Ag(Ef(c));break;default:Cf(b)}break;case "C":switch(d){case "[":d=b;d.d+=2;for(c="";"]"!==d.A[d.d]||"\\"===d.A[d.d-1];)"]"===d.A[d.d+1]&&"\\"===d.A[d.d]?(c+="]",d.d++):c+=d.A[d.d],d.d++;d.d++;switch(d.Fl){case 1:for(var f="",e=0,g=0,h=0,k=0,l=c.length;e<l;)g=c.charCodeAt(e),128>g?(f+=String.fromCharCode(g),e++):191<g&&224>g?(h=c.charCodeAt(e+1),f+=String.fromCharCode((g&31)<<6|h&63),e+=2):(h=c.charCodeAt(e+1),k=c.charCodeAt(e+2),f+=String.fromCharCode((g&15)<<12|(h&63)<<6|k&63),e+=3);c=f}(d=d.b.j)&&d.hf(c);break;case "A":c=b;c.d+=3;Bf(c);break;case "P":c=b;c.d+=3;d=Bf(c);c.b.Se=d;break;case "R":Ff(b,ab);break;case "T":c=b;c.d+=3;d=Bf(c);if(""!==d&&(d=oe(d),d=new Ae(d,d.length),"SGFCT"===Be(d,5)))for(Ce(d),f=De(d),c.fb=[],e=0;e<f;e++)h=De(d),c.fb[e]=new A(0,0,0,0),g=c.fb[e],g.r=h>>24&255,g.t=h>>16&255,g.s=h>>8&255,g.Ea=h&255;break;case "M":c=b;c.d+=3;d=Bf(c);if(""!==d&&(d=oe(d),d=new Ae(d,d.length),"SGFCM"===Be(d,5)))for(Ce(d),f=Ce(d),e=Ce(d),g=c.b.j,g.Ja={},h=0;h<e;h++)for(k=0;k<f;k++)l=d.d>=d.Ra?0:d.ia[d.d++],void 0!==c.fb[l]&&0!==c.fb[l].Ea&&(g.Ja[(h+1<<8)+(k+1)]=c.fb[l].od());break;default:Cf(b)}break;case "D":switch(d){case "T":c=b;c.d+=3;d=Bf(c);c.b.ed=d;break;default:Cf(b)}break;case "E":switch(d){case "V":c=b;c.d+=3;d=Bf(c);c.b.Ud=d;break;default:Cf(b)}break;case "F":switch(d){case "F":Cf(b);break;default:Cf(b)}break;case "G":switch(d){case "N":c=b;c.d+=3;d=Bf(c);c.b.Ec=d;break;case "C":c=b;c.d+=3;d=Bf(c);c.b.Dc=d;break;case "M":c=b;c.d+=3;1!==Gf(c)&&(c.Fb=!1);break;default:Cf(b)}break;case "H":switch(d){case "A":c=b;c.d+=3;d=Gf(c);c.b.pb=d;break;default:Cf(b)}break;case "K":switch(d){case "M":c=b;c.d+=3;d=Ef(c);c.b.xc=d;break;default:Cf(b)}break;case "L":switch(d){case "B":c=b;for(c.d+=3;;){d=c.A[c.d];c.d++;f=c.A[c.d];c.d++;d=Hf(c,d);f=Hf(c,f);c.d++;for(e="";"]"!==c.A[c.d]&&c.d<c.Xa;)e+=c.A[c.d],c.d++;If(c,d,f);c.b.Zd(e,(f<<8)+d);if("]"!==c.A[c.d]){c.Fb=!1;break}c.d++;if("["!==c.A[c.d])break;c.d++}break;default:Cf(b)}break;case "M":switch(d){case "A":Ff(b,db);break;default:Cf(b)}break;case "O":switch(d){case "N":c=b;c.d+=3;d=Bf(c);c.b.Ue=d;break;case "T":c=b;c.d+=3;d=Bf(c);c.b.Ye=d;break;default:Cf(b)}break;case "P":switch(d){case "B":c=b;c.d+=3;xd(c.b,Bf(c));break;case "C":c=b;c.d+=3;d=Bf(c);c.b.Vd=d;break;case "W":c=b;c.d+=3;zd(c.b,Bf(c));break;case "L":c=b;c.d+=3;"W"===Bf(c)?c.b.me(G):c.b.me(E);break;default:Cf(b)}break;case "R":switch(d){case "E":c=b;c.d+=3;d=Bf(c);c.b.Ta=d;break;case "O":c=b;c.d+=3;d=Bf(c);c.b.Ve=d;break;case "U":c=b;c.d+=3;d=Bf(c);c.b.Ze=d;break;default:Cf(b)}break;case "S":switch(d){case "Q":Ff(b,bb);break;case "T":c=b;c.d+=3;switch(Gf(c)){case 0:Xb(c.b,pe);break;case 1:Xb(c.b,1);break;default:Xb(c.b,0)}break;case "Z":c=b;c.d+=3;d=Bf(c);e=f=19;e=-1;-1==(e=d.indexOf(":"))?e=f=Math.min(52,Math.max(parseInt(d),2)):(f=parseInt(d.substr(0,e)),e=parseInt(d.substr(e+1,d.length-e-1)));Pe(c.b,f,e);break;case "O":c=b;c.d+=3;d=Bf(c);c.b.We=d;break;default:Cf(b)}break;case "T":switch(d){case "R":Ff(b,cb);break;case "M":c=b;c.d+=3;d=Bf(c);c.b.Je=d;break;case "B":Jf(b,E);break;case "W":Jf(b,G);break;default:Cf(b)}break;case "U":switch(d){case "S":c=b;c.d+=3;d=Bf(c);c.b.Xe=d;break;default:Cf(b)}break;case "W":switch(d){case "[":Df(b,G);break;case "R":c=b;c.d+=3;Ad(c.b,Bf(c));break;case "T":c=b;c.d+=3;d=Bf(c);c.b.Kk=d;break;case "L":c=b;c.d+=3;c.b.Dg(Ef(c));break;default:Cf(b)}break;default:Cf(b)}if(!b.Fb){b=!1;break a}c=b.A[b.d];d=b.A[b.d+1]}b=!0}if(!b)return!1}else if("("===b)a.li[a.Rd]=a.b.j,a.Rd++,a.d++;else if(")"===b)a.Rd--,a.b.j=a.li[a.Rd],a.d++;else return!1}else return!1;return!0}function Bf(a,b){void 0===b&&(b="]");for(var c="";void 0!==a.A[a.d]&&b!==a.A[a.d];)c+=a.A[a.d],a.d++;void 0===a.A[a.d]&&(a.Fb=!1);a.d++;return c}function Ef(a){a=parseFloat(Bf(a,void 0));return isNaN(a)?0:a}function Gf(a){a=parseInt(Bf(a,void 0));return isNaN(a)?0:a}function Cf(a){for(;;){for(;void 0!==a.A[a.d]&&"]"!==a.A[a.d]&&a.d<a.Xa;)for(a.d++;"]"===a.A[a.d]&&"\\"===a.A[a.d-1];)a.d++;a.d++;if("["!==a.A[a.d])break}}function Hf(a,b){var c=b.charCodeAt(0);if(97<=c&&122>=c)return c-96;if(65<=c&&90>=c)return c-64+26;a.Fb=!1;return 0}function Af(a,b){a.d+=3;var c=[];if("]"!==a.A[a.d]){for(;;){var d=a.A[a.d];a.d++;var f=a.A[a.d];a.d++;var e=Hf(a,d),g=Hf(a,f);if(":"===a.A[a.d])for(a.d++,d=a.A[a.d],a.d++,f=a.A[a.d],a.d++,d=Hf(a,d),f=Hf(a,f);g<=f;g++)for(var h=e;h<=d;h++)If(a,h,g),c.push((g<<8)+h);else If(a,e,g),c.push((g<<8)+e);if("]"!==a.A[a.d]){a.Fb=!1;return}a.d++;if("["!==a.A[a.d])break;a.d++}a.b.md(b,c)}}function Df(a,b){a.d+=2;if("]"==a.A[a.d])a.b.ib(0,0,b);else{var c=a.A[a.d];a.d++;var d=a.A[a.d];a.d++;var f=a.b.ha.Z();if("t"===c&&"t"===d&&19>=f.g&&19>=f.f)a.b.ib(0,0,b);else for(c=Hf(a,c),d=Hf(a,d),If(a,c,d),a.b.ib(c,d,b);"]"!==a.A[a.d];)if(a.d++,a.d>=a.Xa){a.Fb=!1;break}}a.d++}function Ff(a,b){a.d+=3;var c=[];if("]"!==a.A[a.d]){for(;;){var d=a.A[a.d];a.d++;var f=a.A[a.d];a.d++;var e=Hf(a,d),g=Hf(a,f);if(":"===a.A[a.d])for(a.d++,d=a.A[a.d],a.d++,f=a.A[a.d],a.d++,d=Hf(a,d),f=Hf(a,f);g<=f;g++)for(var h=e;h<=d;h++)If(a,h,g),c.push((g<<8)+h);else If(a,e,g),c.push((g<<8)+e);if("]"!==a.A[a.d]){a.Fb=!1;return}a.d++;if("["!==a.A[a.d])break;a.d++}a.b.Oa(b,c)}}function Jf(a,b){a.d+=3;var c=[];if("]"!==a.A[a.d]){for(;;){var d=a.A[a.d];a.d++;var f=a.A[a.d];a.d++;var e=Hf(a,d),g=Hf(a,f);if(":"===a.A[a.d])for(a.d++,d=a.A[a.d],a.d++,f=a.A[a.d],a.d++,d=Hf(a,d),f=Hf(a,f);g<=f;g++)for(var h=e;h<=d;h++)c.push((g<<8)+h);else c.push((g<<8)+e);if("]"!==a.A[a.d]){a.Fb=!1;return}a.d++;if("["!==a.A[a.d])break;a.d++}a.b.Cg(b,c)}}function If(a,b,c){b<a.k.O&&(a.k.O=b);b>a.k.T&&(a.k.T=b);c<a.k.P&&(a.k.P=c);c>a.k.U&&(a.k.U=c)}function Kf(a){this.b=a;this.Cc=[];this.Ra=this.d=0}Kf.prototype.wg=function(a){for(var b=a.length,c=[],d=0;d<b;)c.push(a.charAt(d++));this.d=0;this.Cc=c;this.Ra=this.Cc.length};function Lf(a){a.b.nc();a.b.j=a.b.ea;a.b.j.Wf=!0}function Mf(a){return a.d>=a.Ra?-1:a.Cc[a.d++]}function Nf(a){for(var b="",c=null;-1!==c&&"\n"!==c;)c=Mf(a),b+=c;return b}function Of(a){return a.d>=a.Ra?!0:!1}function ye(a){ye.Q.constructor.call(this,a);this.Qd=this.pb=0;this.Nd=19}vd(ye,Kf);ye.prototype.yh=function(a){this.wg(a);Lf(this);this.aj();if(!(1>=this.pb)){a=[];var b=[];19===this.Nd?b=[4,10,16]:13===this.Nd?b=[4,7,10]:9===this.Nd&&(b=[3,5,7]);if(3===b.length)switch(this.pb){case 2:a=[[b[2],b[0]],[b[0],b[2]]];break;case 3:a=[[b[2],b[0]],[b[0],b[2]],[b[2],b[2]]];break;case 4:a=[[b[2],b[0]],[b[0],b[2]],[b[2],b[2]],[b[0],b[0]]];break;case 5:a=[[b[2],b[0]],[b[0],b[2]],[b[2],b[2]],[b[0],b[0]],[b[1],b[1]]];break;case 6:a=[[b[2],b[0]],[b[0],b[2]],[b[2],b[2]],[b[0],b[0]],[b[0],b[1]],[b[2],b[1]]];break;case 7:a=[[b[2],b[0]],[b[0],b[2]],[b[2],b[2]],[b[0],b[0]],[b[0],b[1]],[b[2],b[1]],[b[1],b[1]]];break;case 8:a=[[b[2],b[0]],[b[0],b[2]],[b[2],b[2]],[b[0],b[0]],[b[0],b[1]],[b[2],b[1]],[b[1],b[0]],[b[1],b[2]]];break;case 9:a=[[b[2],b[0]],[b[0],b[2]],[b[2],b[2]],[b[0],b[0]],[b[0],b[1]],[b[2],b[1]],[b[1],b[0]],[b[1],b[2]],[b[1],b[1]]]}if(0<a.length){for(var b=[],c=0,d=a.length;c<d;c++)b.push((a[c][1]<<8)+a[c][0]);this.b.md(E,b)}}this.$i()};ye.prototype.aj=function(){var a=Nf(this);this.b.Dc=a;this.Nd=Nf(this)|0;Pe(this.b,this.Nd,this.Nd);Pf(this,!1);Pf(this,!0);Nf(this);a=Nf(this);this.pb=Math.min(9,Math.max(a|0,0));this.b.pb=this.pb;Nf(this);a=Nf(this);this.b.xc=parseFloat(a);a=Nf(this);this.b.ed=a;Nf(this);a=Nf(this);this.b.Ta=a;this.Qd=Nf(this)|0};ye.prototype.$i=function(){if(!Of(this))for(var a=0;a<this.Qd;a++){tb(this.b,!1,!1);this.b.j.Wf=!0;if("PM"===Mf(this)+Mf(this)){Mf(this);Mf(this);var b="B"===Mf(this)?E:G,c=Mf(this),d=Mf(this),c=c.charCodeAt(0)-65,d=d.charCodeAt(0)-65;0>c||0>d?this.b.ib(0,0,b):this.b.ib(c,d,b)}Nf(this);if(Of(this))break}};function Pf(a,b){var c=Nf(a),d=c.indexOf(" "),f="",e="";-1!==d?(f=c.substr(0,d).replace(/\s+/g,""),e=c.substr(d).replace(/\s+/g,"")):f=c.replace(/\s+/g,"");!0===b?(xd(a.b,f),yd(a.b,e)):(zd(a.b,f),Ad(a.b,e))}function xe(a){xe.Q.constructor.call(this,a)}vd(xe,Kf);xe.prototype.yh=function(a){this.wg(a);Lf(this);!1!==this.aj()&&this.$i()};xe.prototype.aj=function(){for(var a=-1;"\\"!==a;){if(Of(this))return!1;a=Mf(this)}a=Mf(this)+Mf(this);if("GS"===a)return this.d-=3,!0;if("HS"!==a)return!1;for(;;){for(a=-1;"\\"!==a;){if(Of(this))return!1;a=Mf(this)}a=Mf(this);if("H"===a){if("E"!==Mf(this))break;return!0}if("["!==a)break;for(var b="";;){if(Of(this))return!1;a=Mf(this);if("="===a)break;b+=a}for(var c="";;){if(Of(this))return!1;a=Mf(this);if("\\"===a){if("]"===Mf(this))break;return!1}c+=a}switch(b){case "WUSERINFO":case "BUSERINFO":case "GAMEINFOMAIN":case "GAMEINFOSUB":for(var b=a=null,d=[],f=-1;-1!==(f=c.indexOf(","));){var e=c.substr(0,f),g=e,h="",k=-1;-1!==(k=e.indexOf(":"))&&(g=e.substr(0,k),h=e.substr(k+1));d.push({wf:g,Bb:h});c=c.substr(f+1)}f=0;for(c=d.length;f<c;f++)switch(e=d[f].Bb,d[f].wf){case "WNICK":zd(this.b,e);break;case "BNICK":xd(this.b,e);break;case "WLV":Ad(this.b,Qf(e));break;case "BLV":yd(this.b,Qf(e));break;case "GNAME":this.b.Ud=e;break;case "GDATE":this.b.ed=e;break;case "GPLC":this.b.Vd=e;break;case "GCMT":this.b.Dc=e;break;case "GONGJE":this.b.xc=(e|0)/10;break;case "GRLT":a=e;break;case "ZIPSU":b=e}if(null!==a)switch(a){case "0":this.b.Ta="Black "+(b|0)/10+" win";break;case "1":this.b.Ta="White "+(b|0)/10+" win";break;case "3":this.b.Ta="Black wins by resignation";break;case "4":this.b.Ta="White wins by resignation";break;case "255":this.b.Ta="Unfinished"}}}return!1};xe.prototype.$i=function(){for(var a=-1;"\\"!==a;){if(Of(this))return!1;a=Mf(this)}a=Mf(this)+Mf(this);if("GS"!==a)return!1;Nf(this);Nf(this);for(Nf(this);!Of(this);){var b=Nf(this);if(-1!==b.indexOf("\\GE"))return!0;var c,a=[];for(c=-1;-1!==(c=b.indexOf(" "));)a.push(b.substr(0,c)),b=b.substr(c+1);c=a;if(0>=c.length)return!1;a=c[0];if("INI"===a)5<=c.length&&(this.b.Dc=c[4]);else if("STO"===a){if(6!==c.length)return!1;tb(this.b,!1,!1);this.b.j.ym=!0;this.b.ib((c[4]|0)+1,(c[5]|0)+1,"1"===c[3]?E:G)}}};function Qf(a){a=a|0;return 18>a?18-a+"k":26<a?a-26+"p":a-17+"d"};function Fe(){this.fb=this.b=this.Cc=null}function Rf(a,b){a.Cc+=b}function Sf(a){return 26>=a?96+a:64+a-26}function Tf(a,b){var c=T(b);Rf(a,String.fromCharCode(91,Sf(c.g),Sf(c.f),93))}function Uf(a,b){for(var c=0,d=b.length;c<d;c++)Tf(a,b[c])}function Vf(a,b,c){Rf(a,b);Rf(a,"["+c+"]")}function Wf(a,b,c){c&&""!==c&&Vf(a,b,c)}function Ge(a,b){var c=b.da,d=!1;if(null===c||1<V(c))d=!0;d&&Rf(a,"(");Rf(a,";");if(b===a.b.ea){var c=a.b,f=c.ha.Z();Vf(a,"GM",1);Vf(a,"FF",4);Vf(a,"CA","UTF-8");Vf(a,"AP","WebGoBoard:"+GoBoardApi.tf());Vf(a,"ST",c.Zc);Wf(a,"RU",c.Ze);Vf(a,"SZ",f.g==f.f?f.g:f.g+":"+f.f);Vf(a,"KM",c.xc);Vf(a,"HA",c.pb);Wf(a,"TM",c.Je);Wf(a,"OT",c.Ye);Wf(a,"RE",c.Ta);Wf(a,"GN",c.Ec);Wf(a,"DT",c.ed);Wf(a,"CP",c.Se);Wf(a,"GC",c.Dc);Wf(a,"PB",c.Bc);Wf(a,"BR",c.Re);Wf(a,"BT",c.Ik);Wf(a,"PW",c.Fc);Wf(a,"WR",c.$e);Wf(a,"WT",c.Kk);Wf(a,"EV",c.Ud);Wf(a,"RO",c.Ve);Wf(a,"PC",c.Vd);Wf(a,"AN",c.Te);Wf(a,"ON",c.Ue);Wf(a,"SO",c.We);Wf(a,"US",c.Xe);c={};xf(a.b.ea,c);var f=1,e=[],g;for(g in c)c[g]=f,e[f++]=g|0;1<f&&(c[0]=0,e[0]=0,a.fb=c,a.cj(e))}g=[];for(var c=[],f=[],e=0,h=b.qa.length;e<h;e++){var k=b.qa[e],l=k.I,k=k.sa();switch(l){case 257:case 258:case 259:for(var n=0,m=k.length;n<m;n++){for(var u=k[n],p=0,r=g.length;p<r;p++)u===g[p]&&(g.splice(p,1),r--,p--);p=0;for(r=c.length;p<r;p++)u===c[p]&&(c.splice(p,1),r--,p--);p=0;for(r=f.length;p<r;p++)u===f[p]&&(f.splice(p,1),r--,p--);257===l?g.push(u):258===l?c.push(u):259===l&&f.push(u)}}}0<g.length&&(Rf(a,"AB"),Uf(a,g));0<c.length&&(Rf(a,"AW"),Uf(a,c));0<f.length&&(Rf(a,"AE"),Uf(a,f));g=[[],[],[],[],[],[]];c=[];h=0;for(f=b.qa.length;h<f;h++){l=b.qa[h];k=l.sa();n=-1;switch(l.I){case 533:n=0;k=[k.Ij];break;case 529:n=1;break;case 530:n=2;break;case 531:n=3;break;case 532:n=4;break;case 513:n=5}e=0;for(m=k.length;e<m;e++)for(u=k[e],p=0,r=g.length;p<r;p++)if(p===n)g[p].push(u),0==p&&c.push(l.sa().Text);else for(var w=0,t=g[p].length;w<t;w++)u===g[p][w]&&(g[p].splice(w,1),0===p&&c.splice(w,1),t--,w--)}if(0<g[0].length)for(Rf(a,"LB"),e=0,f=g[0].length;e<f;e++)Rf(a,"["),h=a,l=T(g[0][e]),Rf(h,String.fromCharCode(Sf(l.g),Sf(l.f))),Rf(a,":"+c[e]+"]");0<g[1].length&&(Rf(a,"CR"),Uf(a,g[1]));0<g[2].length&&(Rf(a,"MA"),Uf(a,g[2]));0<g[3].length&&(Rf(a,"SQ"),Uf(a,g[3]));0<g[4].length&&(Rf(a,"TR"),Uf(a,g[4]));g=0;for(c=b.qa.length;g<c;g++)switch(e=b.qa[g],f=e.sa(),e.I){case 1:Rf(a,"B");e=a;0!=f?Tf(e,f):Rf(e,String.fromCharCode(91,93));break;case 2:Rf(a,"W");e=a;0!=f?Tf(e,f):Rf(e,String.fromCharCode(91,93));break;case 769:Rf(a,"BL");Rf(a,"["+f+"]");break;case 770:Rf(a,"WL");Rf(a,"["+f+"]");break;case 260:Rf(a,"PL"),Rf(a,"["+(f===G?"W":"B")+"]")}g=b.Na;""!==g&&(g=g.replace(RegExp("]","g"),"\\]"),Rf(a,"C"),Rf(a,"["),Rf(a,g),Rf(a,"]"));if(null!==a.fb){g=new We;Xe(g,"SGFCM");Ye(g,1);f=a.b.ha.Z();c=f.g;f=f.f;Ye(g,c);Ye(g,f);e=!1;for(h=0;h<f;h++)for(l=0;l<c;l++)(k=b.Ja[(h+1<<8)+(l+1)])?(k=fe(k),void 0!==a.fb[k]?(Ue(g,a.fb[k]),e=!0):Ue(g,0)):Ue(g,0);!0===e&&(g=me(Ve(g)),Vf(a,"CM",g))}g=0;for(c=V(b);g<c;g++)Ge(a,b.S(g));d&&Rf(a,")")}Fe.prototype.cj=function(a){var b=new We;Xe(b,"SGFCT");Ye(b,1);Ze(b,a.length);for(var c=0,d=a.length;c<d;c++)Ze(b,a[c]);a=me(Ve(b));Vf(this,"CT",a)};function vf(){this.Yc=!1;this.mb={}};Z.prototype.rl="0.9.60";}());