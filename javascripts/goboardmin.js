/*
 * Copyright (C) 2014-2015  Ilya Kirillov 
 * email: ilya_kirillov@inbox.ru
 *  
 * This library is free software; you can redistribute it and/or
 * modify it under the terms of the GNU Lesser General Public
 * License as published by the Free Software Foundation; either
 * version 3.0 of the License, or (at your option) any later version.
 * 
 * This library is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 * Lesser General Public License for more details.
 * 
 * Version 0.10.3
*/
(function(){var l;function aa(a){this.g=a;this.P=this.b=null;this.sa=0;this.Fb=y.Fb;this.Uj=this.yf=this.Ce=this.Pd=this.Qd=0;this.Qf={};this.Hb=null;this.$g=!1;this.c={J:0,D:0,$l:0,gl:0,Qb:0,ic:0,il:2,ca:null,hl:null,V:null,og:null,of:[],cm:Array(361),Sh:null,Hj:null,Zi:null,Ij:null,Jj:null,Nl:null,Ol:null,El:null,Fl:null,Hl:null,Jl:null,Il:null,Kl:null,nl:null,ii:null,ji:null,xl:null,dl:null,Rk:null,Mk:null};this.po=new z(255,0,0,128);this.a={d:null,V:{d:null},ca:{d:null},Ed:{d:null},sg:{d:null},Qa:{d:null},Rg:{d:null},Nb:{d:null},Bd:{d:null},Fd:{d:null},Event:{d:null},An:[]};this.ub=new ba(this.c,this);this.ab={};this.Ta={};this.nh=-1;this.l={S:0,T:0,X:18,Y:18};this.ra={Dd:!1,Og:-1,Pg:-1,ke:-1,le:-1};this.Yd=this.Ke=null;this.uf=!1;var b=this;this.Jh=function(a){ca(a);a=b.Se(C.h,C.f);a=da(b,a.h,a.f);var d=a.h,e=a.f,f=C,g=!1;if(!1===ea(b,d-1,e-1))fa(b.ub);else if(null===b.Hb&&null!==b.c.ca){void 0===g&&(g=!1);var h;h=b.ub;d==h.Ef&&e==h.Ff&&1!=g?h=!0:(h.Ef=d,h.Ff=e,h.Ra(),h=!1);!1===h&&(10===b.sa&&b.uf&&!g&&ga(b,d,e,f),f=(b.c.Qb-1)/2,g=b.c.ca,d=g[d-1].h-f,e=g[e-1].f-f,b.ub.Ra(),b.ub.Cl(d,e),ha(b))}11===b.sa&&(e=a.f,!0===b.ra.Dd&&(b.ra.ke=a.h,b.ra.le=e));ia(b)};this.lg=function(a){ca(a);!0===b.uf&&(b.uf=!1,b.Kh(a));fa(b.ub)};this.kg=function(a){ka(a);b.uf=!0;b.a.Event.d.a.focus();var d=b.Se(C.h,C.f),d=da(b,d.h,d.f);b.aa(d.h,d.f,C);a.preventDefault();return!1};this.Kh=function(a){ca(a);b.uf=!1;var d=b.Se(C.h,C.f),d=da(b,d.h,d.f);11===b.sa&&(a=d.h,d=d.f,!0===b.ra.Dd&&(b.ra.Dd=!1,b.ra.ke=a,b.ra.le=d));ia(b)};this.Eo=function(a){la(a);var d=!1;16===ma.F&&2===b.sa?(C.t=!0,ha(b),d=!0):16!==ma.F&&17!==ma.F||10!==b.sa?(d=na(b,ma),!0===d&&112<=ma.F&&121>=ma.F?ha(b):!0===d&&fa(b.ub)):(16===ma.F?C.t=!0:17===ma.F&&(C.s=!0),ha(b),d=!0);!0===d&&a.preventDefault();return d?!1:!0};this.Go=function(a){la(a);16===ma.F&&2===b.sa?(C.t=!1,ha(b)):16!==ma.F&&17!==ma.F||10!==b.sa||(16===ma.F?C.t=!1:17===ma.F&&(C.s=!1),ha(b))};this.Fo=function(){};this.Kk=function(){return setTimeout(function(){b.Dk();b.gg();b.ig();b.hg();if(b.c.ca){var a=b.Gh(),d=b.tc(),e=b.c.Qb;b.c.Ij=oa(b,e,e,.05*e,new z(0,0,0,255));b.c.Jj=oa(b,e,e,.05*e,new z(255,255,255,255));b.c.Nl=b.bc(e,e,.05*e,new z(0,0,0,255));b.c.Ol=b.bc(e,e,.05*e,new z(255,255,255,255));b.c.El=pa(b,e,e,.05*e,new z(0,0,0,255));b.c.Fl=pa(b,e,e,.05*e,new z(255,255,255,255));b.c.Hl=qa(b,e,e,!1,new z(0,0,0,255),a?new z(0,0,0,255):d?new z(255,255,255,255):new z(0,0,0,255));b.c.Jl=qa(b,e,e,!1,new z(255,255,255,255),a?new z(255,255,255,255):d?new z(255,255,255,255):new z(0,0,0,255));b.c.Il=qa(b,e,e,!0,new z(0,0,0,255),a?new z(0,0,0,255):d?new z(255,255,255,255):new z(0,0,0,255));b.c.Kl=qa(b,e,e,!0,new z(255,255,255,255),a?new z(255,255,255,255):d?new z(255,255,255,255):new z(0,0,0,255));b.c.nl=ra(b,e,e,.05*e,new z(255,0,0,255));b.c.ii=ra(b,e,e,.05*e,new z(0,0,0,255));b.c.ji=ra(b,e,e,.05*e,new z(255,255,255,255));b.c.xl=pa(b,e,e,.05*e,new z(200,0,0,255));b.c.dl=pa(b,e,e,.05*e,new z(0,128,0,255));b.c.Rk=pa(b,e,e,.05*e,new z(0,0,200,255));b.c.Mk=pa(b,e,e,.05*e,new z(128,128,128,255))}b.cc();b.c.Zi=sa(b,!0)},20)};this.Co=function(a){a.preventDefault();return!1};this.Do=function(a){a.preventDefault();if(0<a.dataTransfer.files.length&&FileReader){a=a.dataTransfer.files[0];var d=a.name.split(".").pop().toLowerCase(),e=new FileReader;e.onload=function(a){b.b.xc(a.target.result,null,null,d)};e.readAsText(a);b.Ba()}}}l=aa.prototype;l.o=function(a,b){this.g&&this.g.yl(this);this.bj(b);this.a.d=D(a);var c=this.a.d.a,d=a+"_BoardCanvas",e=a+"_LinesCanvas",f=a+"_ColorCanvas",g=a+"_ShadowsCanvas",h=a+"_StonesCanvas",k=a+"_VariantsCanvas",m=a+"_MarksCanvas",n=a+"_TargetCanvas",p=a+"_SelectCanvas",t=a+"_CursorCanvas",q=a+"_EventDiv";this.Xa(c,d);this.Xa(c,e);this.Xa(c,f);this.Xa(c,g);this.Xa(c,h);this.Xa(c,k);this.Xa(c,m);this.Xa(c,p);this.Xa(c,n);this.qa(c,t);c=this.qa(c,q);this.ub.o(t);t=this.a.d;this.ta(this.a.V,t,d);this.ta(this.a.ca,t,e);this.ta(this.a.sg,t,f);this.ta(this.a.Qa,t,g);this.ta(this.a.Ed,t,h);this.ta(this.a.Rg,t,k);this.ta(this.a.Nb,t,m);this.ta(this.a.Bd,t,p);this.ta(this.a.Fd,t,n);this.ta(this.a.Event,t,q);c.onmousemove=this.Jh;c.onmouseout=this.lg;c.onmousedown=this.kg;c.onmouseup=this.Kh;c.onkeydown=this.Eo;c.onkeyup=this.Go;c.onkeypress=this.Fo;c.tabIndex=-1;c.style.Vn=!0;c.style.outline=0;c.ondragover=this.Co;c.ondrop=this.Do;return t};l.Ok=function(a){this.a.An.push(a)};l.Ba=function(){this.a.Event.d.a.focus()};l.Mg=function(a){a!==this.Fb&&(y.Mg(a),this.Fb=a,this.g.p(!0))};function sa(a,b){var c=document.createElement("canvas"),d=c.getContext("2d");c.width=a.a.V.d.a.width;c.height=a.a.V.d.a.height;d.drawImage(a.a.V.d.a,0,0);d.drawImage(a.a.ca.d.a,0,0);!0===b&&d.drawImage(a.a.sg.d.a,0,0);d.drawImage(a.a.Qa.d.a,0,0);d.drawImage(a.a.Ed.d.a,0,0);d.drawImage(a.a.Nb.d.a,0,0);return c}l.p=function(a){var b=this.a.d.a.clientWidth,c=this.a.d.a.clientHeight,d=ta(this),e=c*d;e<=b?b=e:c=b/d;if(b!==this.c.$l||c!==this.c.gl||!0===a)this.c.$l=b,this.c.gl=c,this.a.d.fb(b,c),ua(this),this.cc(a)};function va(a,b,c,d,e){var f=a.P.ea(),g=f.h,f=f.f;a.l.S=Math.max(0,Math.min(g-1,b));a.l.T=Math.max(0,Math.min(f-1,c));a.l.X=Math.max(0,Math.min(g-1,d));a.l.Y=Math.max(0,Math.min(f-1,e));a.l.X<=a.l.S&&(a.l.S=0,a.l.X=g-1);a.l.Y<=a.l.T&&(a.l.T=0,a.l.Y=f-1)}function wa(a){var b=a.P.ea(),c=b.h,b=b.f;a.l.S=0;a.l.T=0;a.l.X=c-1;a.l.Y=b-1}function xa(a,b,c,d){if(a.c.ca&&d!==a.Qf[(c<<8)+b]){var e=a.a.Ed.d.a.getContext("2d"),f=a.a.Qa.d.a.getContext("2d"),g=a.c.Qb,h=(g-1)/2,k=a.c.ca,m=a.c.ic,n=a.Fh();if(!0===ea(a,b-1,c-1)){var p=k[b-1].h-h,h=k[c-1].f-h;switch(d){case E:e.putImageData(a.c.og,p,h);!0===n&&f.putImageData(a.c.Qa,p+m,h+m);break;case G:e.putImageData(a.c.of[a.c.cm[b-1+(c-1)*a.P.ea().h]],p,h);!0===n&&f.putImageData(a.c.Qa,p+m,h+m);break;default:e.clearRect(p,h,g,g),!0===n&&f.clearRect(p+m,h+m,g,g)}}a.Qf[(c<<8)+b]=d;d=a.ub;!0===(b==d.Ef&&c==d.Ff?!0:!1)&&ha(a)}}l.Ob=function(a,b){var c=(b<<8)+a;delete this.Ta[""+c];c===this.nh&&(this.Ta[""+c]=new ya(a,b,za,""))};function Aa(a,b,c){return(a=a.Ta[""+((c<<8)+b)])?a:null}l.Ea=function(a){Ba(this,a.vd(),a.wd(),a)};l.bj=function(a){this.b=a;this.P=a.oa;a.j=this;wa(this)};l.yg=function(){for(var a=this.P,b=1;b<=a.G;b++)for(var c=1;c<=a.A;c++)Ca(a,c,b,a.K(c,b));a=this.P.yg(this);this.Ke&&Da(this.Ke,"B "+a.Tk+"("+a.Sk+") W "+a.bm+"("+a.am+")");this.b.kc()};function Ea(a,b){if((a.b.H&Fa||9===b||11===b)&&a.sa!==b){1===a.sa&&a.b.fi();a.sa=b;ha(a);if(1===b){var c=a.P;c.Ac=[];for(var d=1;d<=c.G;d++)for(var e=1;e<=c.A;e++)c.Ac[Ga(c,e,d)]=H;Ha(c,!1);a.b.ug()}else 9===b&&a.yg();a.b.kc()}}function ta(a){var b=a.P.ea(),c=b.h,b=b.f,d=(a.l.X-a.l.S)*Ia+2*Ja,e=(a.l.Y-a.l.T)*Ia+2*Ja;!0===a.Fb&&(d+=Ia,e+=Ia);0<a.l.S&&(d+=Ka/2);a.l.X<c-1&&(d+=Ka/2);0<a.l.T&&(e+=Ka/2);a.l.Y<b-1&&(e+=Ka/2);return d/e}l.Xa=function(a,b){var c=document.createElement("canvas");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};l.qa=function(a,b){var c=document.createElement("div");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};l.ta=function(a,b,c){a.d=D(c);a=a.d;J(a.i,0,0,1E3,1E3,!1,!1,!1,!1,-1,-1);a.n=L|M|O|P;b.k(a)};l.Se=function(a,b){var c=La(this.a.V.d.a);return{h:a-c.h,f:b-c.f}};function ua(a){var b=a.P.ea(),c=b.h,b=b.f;a.l.S=Math.max(0,Math.min(c-1,a.l.S));a.l.T=Math.max(0,Math.min(b-1,a.l.T));a.l.X=Math.max(0,Math.min(c-1,a.l.X));a.l.Y=Math.max(0,Math.min(b-1,a.l.Y));a.l.X<=a.l.S&&(a.l.S=0,a.l.X=c-1);a.l.Y<=a.l.T&&(a.l.T=0,a.l.Y=b-1);var d=(a.l.X-a.l.S)*Ia+2*Ja,e=(a.l.Y-a.l.T)*Ia+2*Ja,f=Ja,g=Ja;!0===a.Fb&&(d+=Ia,e+=Ia,f+=Ka,g+=Ka);0<a.l.S&&(d+=Ka/2,f+=Ka/2);a.l.X<c-1&&(d+=Ka/2);0<a.l.T&&(e+=Ka/2,g+=Ka/2);a.l.Y<b-1&&(e+=Ka/2);a.yf=Ia/e;a.Ce=Ia/d;a.Pd=f/d;a.Qd=g/e;a.Uj=4/d}l.cc=function(a){var b=this.a.V.d.a.width,c=this.a.V.d.a.height;if(b!=this.c.J||c!=this.c.D||null===this.c.V||null!==this.Hb||!0===a){if(null!==this.Hb&&clearTimeout(this.Hb),this.Hb=this.Kk(),this.gg(),0!==b&&0!==c)if(null!==this.c.Zi)this.a.V.d.a.getContext("2d").drawImage(this.c.Zi,0,0,b,c);else{a=this.a.V.d.a.getContext("2d");a.fillStyle=Q(this.jg());a.fillRect(0,0,b,c);var d=this.a.ca.d.a.getContext("2d");a=this.Ce*b;var e=this.yf*c,f=this.Pd*b-this.l.S*a,g=this.Qd*c-this.l.T*e,h=this.P.ea();d.clearRect(0,0,b,c);d.strokeStyle=Q(this.fe());for(var k=f+(h.h-1)*a,m=0;m<h.f;m++){var n=g+m*e;d.beginPath();d.moveTo(f,n);d.lineTo(k,n);d.stroke()}for(var k=g+(h.f-1)*e,p=0;p<h.h;p++)n=f+p*a,d.beginPath(),d.moveTo(n,g),d.lineTo(n,k),d.stroke();d.fillStyle=Q(this.fe());for(var m=Math.max(2,this.Uj*b/2),p=Ma(this.P),t=0,q=p.length;t<q;t++)k=f+p[t][0]*a,n=g+p[t][1]*a,d.beginPath(),d.arc(k,n,m,0,2*Math.PI,!1),d.fill();d=this.a.Ed.d.a.getContext("2d");d.clearRect(0,0,b,c);d.strokeStyle=Q(this.fe());d.lineWidth=1;t=Q(new z(0,0,0,255));q=Q(new z(255,255,255,255));for(m=1;m<=h.f;m++)for(p=1;p<=h.h;p++){k=this.P.K(p,m);if(E===k)d.fillStyle=t;else if(G===k)d.fillStyle=q;else continue;k=f+(p-1)*a;n=g+(m-1)*e;d.beginPath();d.arc(k,n,a/2,0,2*Math.PI,!1);d.fill();d.stroke()}this.a.Qa.d.a.getContext("2d").clearRect(0,0,b,c);this.a.Rg.d.a.getContext("2d").clearRect(0,0,b,c);this.a.Nb.d.a.getContext("2d").clearRect(0,0,b,c);this.a.Fd.d.a.getContext("2d").clearRect(0,0,b,c);this.a.Bd.d.a.getContext("2d").clearRect(0,0,b,c)}}else{Na(this);if(!0===this.Fb&&this.c.ca){b=this.a.V.d.a.getContext("2d");c=this.c.J;m=this.c.D;a=this.P.ea();e=2*this.c.Qb/3;f=(e-1)/2;g=this.c.ca;h=2*e/3;b.fillStyle=this.tc()?"rgb(255,255,255)":"rgb(0,0,0)";for(p=this.l.S;p<=this.l.X;p++)d=g[p].h-f,k=this.Qd*m/3-f,n=Oa(p+1,a.h),t=Pa(n)?"Arial":"Helvetica, Arial, Verdana",t=h+"px "+t,b.font=t,t=e/2+h/3,q=(e-b.measureText(n).width)/2,b.fillText(n,d+q,k+t),k=m-this.Qd*m/3-f,b.fillText(n,d+q,k+t);for(m=this.l.T;m<=this.l.Y;m++)d=this.Pd*c/3-f,k=g[m].f-f,n=a.f-m+"",t=Pa(n)?"Arial":"Helvetica, Arial, Verdana",t=h+"px "+t,b.font=t,t=e/2+h/3,q=(e-b.measureText(n).width)/2,b.fillText(n,d+q,k+t),d=c-this.Pd*c/3-f,b.fillText(n,d+q,k+t)}Qa(this);b=this.c.J;c=this.c.D;this.a.Ed.d.a.getContext("2d").clearRect(0,0,b,c);this.a.Qa.d.a.getContext("2d").clearRect(0,0,b,c);this.Qf={};Ra(this);Sa(this);Ta(this);this.b&&this.b.lf()}};l.Dk=function(){var a=this.a.V.d.a.width,b=this.a.V.d.a.height,c=this.a.V.d.a.getContext("2d");if(0!==a&&0!==b){for(var c=c.createImageData(a,b),d=.9,e=this.jg(),f=e.u,g=e.w,e=e.v,h=100/a,k=1.6,m=2.72,d=2432/150,n=Array(a),p=0,t=0;p<a;p++,t+=h)n[p]=.6+k*t+m*t*t*t+d*t*t*t*t*t;for(var h=Array(b),p=1/b,k=.02,m=.004,d=.04/15,q=0,t=0;q<b;q++,t+=p)h[q]=k*t+m*t*t*t+d*t*t*t*t*t;if(!0===this.Gh())for(q=0;q<b;q++)for(p=0;p<a;p++){d=40*(n[p]+h[q])+.5;d-=Math.floor(d);d=.2>d?1-d/2:.4>d?1-(.4-d)/2:1;if(q==b-1||q==b-2&&p<a-2||p>=a-1||p==a-2&&q<b-1)d/=2;0==q||1==q&&1<p||0==p||1==p&&1<q?(k=128+f*d/2,m=128+g*d/2,d=128+e*d/2):(k=f*d,m=g*d,d*=e);t=4*(p+q*a);c.data[t+0]=k;c.data[t+1]=m;c.data[t+2]=d;c.data[t+3]=255}else for(q=0;q<b;q++)for(p=0;p<a;p++)0==q||1==q&&1<p||0==p||1==p&&1<q?(k=128+f/2,m=128+g/2,d=128+e/2):(k=f,m=g,d=e),t=4*(p+q*a),c.data[t+0]=k,c.data[t+1]=m,c.data[t+2]=d,c.data[t+3]=255;this.c.V=c;this.c.J=a;this.c.D=b;this.Hb=null}};function Na(a){a.a.V.d.a.getContext("2d").putImageData(a.c.V,0,0)}l.gg=function(){var a=this.c.J,b=this.c.D;if(0!==a&&0!==b){for(var c=this.Pd*a,d=this.Qd*b,b=this.yf*b,e=this.Ce*a,f=this.P.ea(),g=Math.max(f.h,f.f),f=Array(f.h),c=c-e*this.l.S,d=d-b*this.l.T,h,k,m,n,p,t,q,u,v,r,x=0;x<g;x++)h=c+x*e,m=c+x*e+.6*e,p=c+x*e-.6*e,q=c+x*e+.5*e,v=c+x*e-.5*e,k=d+x*b,n=d+x*b+.6*b,t=d+x*b-.6*b,u=d+x*b+.5*b,r=d+x*b-.5*b,f[x]={h:Math.floor(h+.5),Rn:Math.floor(m+.5),Sn:Math.floor(p+.5),pf:Math.floor(q+.5),$c:Math.floor(v+.5),f:Math.floor(k+.5),Tn:Math.floor(n+.5),Un:Math.floor(t+.5),qf:Math.floor(u+.5),ad:Math.floor(r+.5)};this.c.ca=f;a=Math.max(2,Math.ceil(this.Uj*a/2));g=2*a+1;b=this.c;e=g+2;f=g+2;g=this.fe();f=document.createElement("canvas").getContext("2d").createImageData(e,f);c=f.data;Math.max(e/2,2);d=e/2-.5;h=d-.2;for(k=0;k<e;k++)for(m=0;m<e;m++)n=k-d,p=m-d,n=h-Math.sqrt(n*n+p*p),p=4*(k*e+e-m-1),0<=n?(t=255,.8>=n&&(t=parseInt(255*(1-(.8-n)/.8))),c[p+0]=g.u,c[p+1]=g.w,c[p+2]=g.v,c[p+3]=t):(c[p+0]=0,c[p+1]=0,c[p+2]=0,c[p+3]=0);b.hl=f;this.c.il=a+1}};function Qa(a,b){if(a.c.ca){var c=a.c.J,d=a.c.D,e=a.a.ca.d.a.getContext("2d"),f=a.P.ea(),g=a.c.ca;e.clearRect(0,0,c,d);for(var h=a.c.hl,k=a.c.il,m=Ma(a.P),n=0,p=m.length;n<p;n++)!0===ea(a,m[n][0],m[n][1])&&e.putImageData(h,g[m[n][0]].h-k,g[m[n][1]].f-k);for(var m=0===a.l.S?g[a.l.S].h:g[a.l.S].Sn,n=f.h-1===a.l.X?g[a.l.X].h:g[a.l.X].Rn,t=0===a.l.T?g[a.l.T].f:g[a.l.T].Un,q=f.f-1===a.l.Y?g[a.l.Y].f:g[a.l.Y].Tn,k=e.createImageData(1,d),p=e.createImageData(c,1),u=a.fe(),v=0;v<d;v++)h=4*v,v>=t&&v<=q&&(k.data[h+0]=u.u,k.data[h+1]=u.w,k.data[h+2]=u.v,k.data[h+3]=u.Ja);for(v=0;v<c;v++)h=4*v,m<=v&&v<=n&&(p.data[h+0]=u.u,p.data[h+1]=u.w,p.data[h+2]=u.v,p.data[h+3]=u.Ja);for(c=0;c<f.h;c++)!0===(c>=a.l.S&&c<=a.l.X?!0:!1)&&e.putImageData(k,g[c].h,0);for(c=0;c<f.f;c++)!0===(c>=a.l.T&&c<=a.l.Y?!0:!1)&&e.putImageData(p,0,g[c].f);if(void 0!==b)for(f=g[1].h-g[0].h+2,c=g[1].f-g[0].f+2,h=0,p=b.length;h<p;h++)d=b[h].h,k=b[h].f,!0===ea(a,d-1,k-1)&&H===a.P.K(d,k)&&e.clearRect(g[d-1].$c,g[k-1].ad,f,c)}}l.ig=function(a){if(this.c.ca){var b=this.a.V.d.a.width,c=this.a.Ed.d.a.getContext("2d");a=2*Math.floor((a?a:Math.floor(this.Ce*b))/2)+1;this.c.Qb=a;this.ub.p(a);this.c.og=c.createImageData(a,a);this.c.Qn=c.createImageData(a,a);this.c.Sh=c.createImageData(a,a);this.c.Hj=c.createImageData(a,a);var d=this.c.og.data,b=this.c.Qn.data,e=this.c.Sh.data,f=this.c.Hj.data,g=this.Gk(),h=this.Ek(),k=this.tc();if(!0===this.Fk())for(var m=a/2-.5,n=m-.2,g=Math.sqrt(3),p=0;p<a;p++)for(var t=0;t<a;t++){var q=p-m,u=t-m,v=n-Math.sqrt(q*q+u*u),r=4*(p*a+a-t-1);if(0<=v){var x=n*n-q*q-u*u,x=0<x?Math.sqrt(x)*g:0,k=q,I=u,h=Math.sqrt(6*(k*k+I*I+x*x)),h=(2*x-k+I)/h,k=0;.9<h&&(k=10*(h-.9));x=255;.8>=v&&(v=(.8-v)/.8,x=.7,q-u<n/3&&(x=1),x=parseInt(255*(1-v*x)));q=parseInt(10+10*h+140*k);d[r+0]=q;d[r+1]=q;d[r+2]=q;d[r+3]=x;e[r+0]=q;e[r+1]=q;e[r+2]=q;e[r+3]=parseInt(x/2);q=parseInt(200+10*h+45*k);b[r+0]=q;b[r+1]=q;b[r+2]=q;b[r+3]=x;f[r+0]=q;f[r+1]=q;f[r+2]=q;f[r+3]=parseInt(x/2)}else d[r+0]=0,d[r+1]=0,d[r+2]=0,d[r+3]=0,e[r+0]=0,e[r+1]=0,e[r+2]=0,e[r+3]=0,b[r+0]=0,b[r+1]=0,b[r+2]=0,b[r+3]=0,f[r+0]=0,f[r+1]=0,f[r+2]=0,f[r+3]=0}else for(m=a/2-.5,n=m-.2,p=0;p<a;p++)for(t=0;t<a;t++)if(q=p-m,u=t-m,v=n-Math.sqrt(q*q+u*u),r=4*(p*a+a-t-1),0<=v){x=255;if(.8>=v){var K=(.8-v)/.8,x=.7;q-u<n/3&&(x=1);x=parseInt(255*(1-K*x))}else 1.6>=v&&.8<=v&&!0===k&&(K=(1.6-v)/.8,x=.7,q-u<n/3&&(x=1),x=parseInt(K*x*255));I=!1;1.6>=v&&(I=!0);!1===I||!1===k?(d[r+0]=h.u,d[r+1]=h.w,d[r+2]=h.v,d[r+3]=x,e[r+0]=h.u,e[r+1]=h.w,e[r+2]=h.v,e[r+3]=parseInt(x/2)):(d[r+0]=g.u,d[r+1]=g.w,d[r+2]=g.v,d[r+3]=x,e[r+0]=g.u,e[r+1]=g.w,e[r+2]=g.v,e[r+3]=x);x=255;.8>=v?(K=(.8-v)/.8,x=.7,q-u<n/3&&(x=1),x=parseInt(255*(1-K*x))):1.6>=v&&.8<=v&&!1===k&&(K=(1.6-v)/.8,x=.7,q-u<n/3&&(x=1),x=parseInt(K*x*255));!1===I||!0===k?(b[r+0]=g.u,b[r+1]=g.w,b[r+2]=g.v,b[r+3]=x,f[r+0]=g.u,f[r+1]=g.w,f[r+2]=g.v,f[r+3]=parseInt(x/2)):(b[r+0]=h.u,b[r+1]=h.w,b[r+2]=h.v,b[r+3]=x,f[r+0]=h.u,f[r+1]=h.w,f[r+2]=h.v,f[r+3]=x)}else d[r+0]=0,d[r+1]=0,d[r+2]=0,d[r+3]=0,e[r+0]=0,e[r+1]=0,e[r+2]=0,e[r+3]=0,b[r+0]=0,b[r+1]=0,b[r+2]=0,b[r+3]=0,f[r+0]=0,f[r+1]=0,f[r+2]=0,f[r+3]=0;d=[];e=[];for(r=0;28>r;r++)for(d[r]=c.createImageData(a,a),e[r]=d[r].data,p=0;p<a;p++)for(t=0;t<a;t++)m=4*(p*a+t),e[r][m+0]=b[m+0],e[r][m+1]=b[m+1],e[r][m+2]=b[m+2],e[r][m+3]=b[m+3];e.push(f);e.push(b);c=this.b.wa;if(!0===(null===c.I.Hd?y.I.Hd:c.I.Hd)){c=a/51*978|0;b=.9;r=Array(c);for(f=0;f<c;f++)r[f]=(Math.sin(18*f/c)+1)/20+(Math.sin(3*f/c)+1)/10;m=Array(c);for(p=0;p<c;p++)m[p]=.2*Math.cos(5*p/c)+.1*Math.sin(11*p/c);t=Array(c*c);for(p=0;p<c;p++)for(f=0;f<c;f++)b=90*(r[f]+m[p])+.5,b-=Math.floor(b),b=.2>b?1-b/2:.4>b?1-(.4-b)/2:1,t[f+p*c]=b;r=e.length;for(m=0;m<r;m++){var n=e[m],B,F;switch(m){case 0:B=12*c/978|0;F=163*c/978|0;break;case 1:B=12*c/978|0;F=213*c/978|0;break;case 2:B=12*c/978|0;F=263*c/978|0;break;case 3:B=12*c/978|0;F=313*c/978|0;break;case 4:B=62*c/978|0;F=163*c/978|0;break;case 5:B=62*c/978|0;F=213*c/978|0;break;case 6:B=62*c/978|0;F=263*c/978|0;break;case 7:B=62*c/978|0;F=313*c/978|0;break;case 8:B=113*c/978|0;F=163*c/978|0;break;case 9:B=113*c/978|0;F=213*c/978|0;break;case 10:B=113*c/978|0;F=263*c/978|0;break;case 11:B=113*c/978|0;F=313*c/978|0;break;case 12:B=163*c/978|0;F=163*c/978|0;break;case 13:B=163*c/978|0;F=213*c/978|0;break;case 14:B=163*c/978|0;F=263*c/978|0;break;case 15:B=163*c/978|0;F=313*c/978|0;break;case 16:B=213*c/978|0;F=163*c/978|0;break;case 17:B=213*c/978|0;F=213*c/978|0;break;case 18:B=213*c/978|0;F=263*c/978|0;break;case 19:B=213*c/978|0;F=313*c/978|0;break;case 20:B=263*c/978|0;F=163*c/978|0;break;case 21:B=263*c/978|0;F=213*c/978|0;break;case 22:B=263*c/978|0;F=263*c/978|0;break;case 23:B=263*c/978|0;F=313*c/978|0;break;case 24:B=313*c/978|0;F=163*c/978|0;break;case 25:B=313*c/978|0;F=213*c/978|0;break;case 26:B=313*c/978|0;F=263*c/978|0;break;case 27:B=313*c/978|0;F=313*c/978|0;break;case 28:B=12*c/978|0;F=12*c/978|0;break;case 29:B=12*c/978|0,F=12*c/978|0}for(p=0;p<a;p++)for(f=0;f<a;f++)b=t[B+f+(F+p)*c],q=4*(f+p*a),n[q+0]*=Math.pow(b,.8),n[q+1]*=Math.pow(b,.8),n[q+2]*=Math.pow(b,.8)}}this.c.of=d;B=this.P.ea();for(F=0;F<B.f;F++)for(a=0;a<B.h;a++)this.c.cm[a+F*B.h]=Math.floor(Math.random()*(this.c.of.length-1))}};function Ra(a){for(var b=a.P.ea(),c=1;c<=b.f;c++)for(var d=1;d<=b.h;d++)xa(a,d,c,a.P.K(d,c))}l.hg=function(){if(this.c.ca){var a=this.a.Qa.d.a.getContext("2d"),b=this.c.Qb;this.c.Qa=a.createImageData(b,b);a=this.c.Qa.data;this.c.ic=Math.max(parseInt(.15*b),3);for(var c=(b-5)/2+1,d=0;d<b;d++)for(var e=0;e<b;e++){var f=Math.abs(d-c),g=Math.abs(e-c),f=Math.sqrt(g*g+f*f)/c,f=1>f?.15+.75*(1-f):0,g=4*(b*d+e);a[g+0]=0;a[g+1]=0;a[g+2]=0;a[g+3]=parseInt(255*f)}}};function ha(a){var b,c=a.ub;b=c.Ef;var d=c.Ff;if(!1===ea(a,b-1,d-1))fa(a.ub);else{var c=Ua,e=a.P.K(b,d);switch(a.sa){case 0:H===e&&(c=E===a.b.rc?Va:Wa);break;case 1:E===e?c=Xa:G===e&&(c=Ya);break;case 2:c=E===e?Xa:G===e?Ya:C.t?Wa:Va;break;case 9:b=Za(a.P,b,d);E===b?c=Xa:G===b&&(c=Ya);break;case 10:c=C.s&&!C.t?$a:!C.s&&C.t?ab:C.s&&C.t?bb:cb;break;default:c=E===e||H===e&&!0===a.tc()?Xa:Ya}Ua==c?fa(a.ub):a.ub.Wa(c)}}function da(a,b,c){for(var d=a.c.J,e=a.c.D,f=a.yf*e,g=a.Ce*d,d=a.Pd*d-f*a.l.S,h=a.Qd*e-g*a.l.T,e=0,k=a.P.ea(),e=0;e<k.f-1&&c>h+f*e+f/2;e++);for(c=c=0;c<k.h-1&&b>d+g*c+g/2;c++);c=Math.max(a.l.S,Math.min(a.l.X,c));e=Math.max(a.l.T,Math.min(a.l.Y,e));return{h:c+1,f:e+1}}function db(a,b,c){var d=a.c.J,e=a.c.D;return{h:a.Pd*d+(b-1)*a.Ce*d,f:a.Qd*e+(c-1)*a.yf*e}}function oa(a,b,c,d,e){a=a.a.Nb.d.a.getContext("2d");a.clearRect(0,0,b,c);a.strokeStyle=Q(e);a.fillStyle=Q(e);a.lineWidth=d;a.beginPath();a.moveTo(1*b/4,1*c/4);a.lineTo(3*b/4,3*c/4);a.moveTo(3*b/4,1*c/4);a.lineTo(1*b/4,3*c/4);a.stroke();return a.getImageData(0,0,b,c)}l.bc=function(a,b,c,d,e){void 0===e&&(e=1);var f=this.a.Nb.d.a.getContext("2d");f.clearRect(0,0,a,b);f.globalAlpha=e;f.strokeStyle=Q(d);f.fillStyle=Q(d);f.lineWidth=c;var g=a/2;c=3*b/4;d=.1*a;e=Math.sqrt(g*g-(c-g)*(c-g))+g;g=-Math.sqrt(g*g-(c-g)*(c-g))+g;f.beginPath();f.moveTo(a/2,d);f.lineTo(e-d,c);f.lineTo(g+d,c);f.closePath();f.stroke();return f.getImageData(0,0,a,b)};function pa(a,b,c,d,e){var f=a.a.Nb.d.a.getContext("2d");f.clearRect(0,0,b,c);f.strokeStyle=Q(e);f.fillStyle=Q(e);f.lineWidth=Math.floor(d+.5);var g=b/2,h=-c/2*Math.sqrt(2)/2+c/2;a=Math.floor(-Math.sqrt(g*g-(h-g)*(h-g))+g);var g=Math.ceil(+Math.sqrt(g*g-(h-g)*(h-g))+g),h=Math.ceil(h),k=Math.floor(c/2*Math.sqrt(2)/2+c/2);d=Math.floor(d);for(var f=f.createImageData(b,c),m=0;m<c;m++)for(var n=0;n<b;n++){var p=4*(m*b+n);(a<=n&&n<=a+d||g-d<=n&&n<=g)&&h<=m&&m<=k||(h<=m&&m<=h+d||k-d<=m&&m<=k)&&a<=n&&n<=g?(f.data[p+0]=e.u,f.data[p+1]=e.w,f.data[p+2]=e.v,f.data[p+3]=255):(f.data[p+0]=0,f.data[p+1]=0,f.data[p+2]=0,f.data[p+3]=0)}return f}function qa(a,b,c,d,e,f){a=a.a.Nb.d.a.getContext("2d").createImageData(b,c);var g=d?c/4|0:c/3|0,h=d?3*c/4|0:2*c/3|0,k=d?b/4|0:b/3|0;d=d?3*b/4|0:2*b/3|0;for(var m=0;m<c;m++)for(var n=0;n<b;n++){var p=4*(m*b+n);(m===g||m===h)&&n>=k&&n<=d||(n===k||n===d)&&m>=g&&m<=h?(a.data[p+0]=f.u,a.data[p+1]=f.w,a.data[p+2]=f.v,a.data[p+3]=255):m>g&&m<h&&n>k&&n<d?(a.data[p+0]=e.u,a.data[p+1]=e.w,a.data[p+2]=e.v,a.data[p+3]=255):a.data[p+3]=0}return a}function ra(a,b,c,d,e){a=a.a.Nb.d.a.getContext("2d");a.clearRect(0,0,b,c);var f=b/2,g=4*d;a.strokeStyle=Q(e);a.fillStyle=Q(e);a.lineWidth=d;a.beginPath();a.arc(b/2,c/2,f-g,0,2*Math.PI,!1);a.stroke();return a.getImageData(0,0,b,c)}function eb(a,b,c){a=a.Ta[""+((c<<8)+b)];return void 0!==a?a:null}function Ba(a,b,c,d){za===d.O?fb(a,b,c):a.Ta[""+((c<<8)+b)]=d}function fb(a,b,c){if(0>=b||0>=c)a.nh=0;else{var d=(c<<8)+b;void 0===a.Ta[""+d]&&(a.Ta[""+d]=new ya(b,c,za,""));a.nh=d}}function Ta(a){a.a.Nb.d.a.getContext("2d").clearRect(0,0,a.c.J,a.c.D);var b=[],c;for(c in a.Ta){var d=a.Ta[c];gb(a,d);hb===d.O&&b.push({h:d.vd(),f:d.wd()})}Qa(a,b)}function gb(a,b){if(a.c.ca){var c=b.vd(),d=b.wd(),e=b.O,f=a.a.Nb.d.a.getContext("2d"),g=a.tc();if(!0===ea(a,c-1,d-1)){var h=a.c.Qb,k=(h-1)/2,m=a.c.ca,n=m[c-1].h-k,k=m[d-1].f-k,c=a.P.K(c,d);switch(e){case ib:f.putImageData(a.c.Hl,n,k);break;case jb:f.putImageData(a.c.Jl,n,k);break;case kb:f.putImageData(a.c.Il,n,k);break;case lb:f.putImageData(a.c.Kl,n,k);break;case za:!0===a.$g?E===c?f.putImageData(a.c.ji,n,k):f.putImageData(a.c.ii,n,k):f.putImageData(a.c.nl,n,k);break;case mb:f.putImageData(c===E||c==H&&1==g?a.c.ji:a.c.ii,n,k);break;case nb:f.putImageData(c===E||c==H&&1==g?a.c.Fl:a.c.El,n,k);break;case ob:f.putImageData(c===E||c==H&&1==g?a.c.Ol:a.c.Nl,n,k);break;case pb:f.putImageData(c===E||c==H&&1==g?a.c.Jj:a.c.Ij,n,k);break;case hb:e=b.Re,d=2>=e.length?2*h/3:h/2,m=d+"px "+(Pa(e)?"Arial":"Helvetica, Arial, Verdana"),f.fillStyle=c===E||c==H&&1==g?"rgb(255,255,255)":"rgb(0,0,0)",f.font=m,f.fillText(e,n+(h-f.measureText(e).width)/2,k+(h/2+d/3))}}}}function Sa(a){for(var b in a.ab){var c=qb(b);rb(a,c.h,c.f)}}function sb(a){for(var b in a.ab){var c=qb(b);tb(a,c.h,c.f)}a.ab={}}function ga(a,b,c,d){var e=(c<<8)+b;if(ub===d.di)void 0!==a.ab[e]&&(delete a.ab[e],tb(a,b,c),a.b.Yi(b,c));else{d=d.s&&!d.t?new z(200,0,0,50):d.t&&!d.s?new z(0,100,0,50):d.t&&d.s?new z(80,80,80,50):new z(0,0,200,50);if(void 0!==a.ab[e]){var f=a.ab[e];d.u===f.u&&d.w===f.w&&d.v===f.v?(d=f.Ja,a.ab[e].Ja=50>d?50:100>d?100:150>d?150:200):a.ab[e]=d}else a.ab[e]=d;rb(a,b,c);a.b.Mh(b,c,a.ab[e])}}function rb(a,b,c){tb(a,b,c);var d=a.a.sg.d.a.getContext("2d"),e=a.c.ca,f=b-1,g=c-1;d.fillStyle=Q(a.ab[(c<<8)+b]);d.beginPath();d.moveTo(e[f].$c,e[g].ad);d.lineTo(e[f].pf,e[g].ad);d.lineTo(e[f].pf,e[g].qf);d.lineTo(e[f].$c,e[g].qf);d.closePath();d.fill()}function tb(a,b,c){var d=a.a.sg.d.a.getContext("2d");a=a.c.ca;b=b-1;c=c-1;d.clearRect(a[b].$c,a[c].ad,a[b].pf-a[b].$c,a[c].qf-a[c].ad)}l.aa=function(a,b,c){switch(this.sa){case 0:if(ub==c.di)1<=this.b.Bf&&(vb(this.b,1),wb(this,a,b));else if(c.t&&c.s)this.b.jf(E===this.b.rc?G:E),ha(this);else if(!0===c.s){var d=this.P.ea(),e=d.f;a=Oa(a,d.h);this.b.mg(a+(e+1-b))}else if(c.t){e=this.b;e.bb&&(e.bb.Be=!1);d=e.m;xb(e);for(var f=0;1E3>f&&H===e.oa.K(a,b);)yb(e,1),f++;H===e.oa.K(a,b)&&e.ka(d);e.bb&&(e.bb.Be=!0)}else wb(this,a,b),null!==this.Yd&&zb(this.b.m)>=Ab(this.Yd)&&Bb(this.Yd);break;case 1:if(!0===c.s)Ea(this,0);else{e=this.P;f=e.K(a,b);if(H!==f)if(e.kh.Fa(),c=e.Ac[Ga(e,a,b)],E!==c&&G!==c){e.Da.Fa();Cb(e,a,b,f);for(d in e.kh.Sb)c=qb(d|0),e.Da.Fa(),Db(e,c.h,c.f,3-f),Eb(e.Da,e,3);Ha(e,!0);e.Da.Fa();Cb(e,a,b,f);Eb(e.Da,e,3-f)}else e.Da.Fa(),Cb(e,a,b,f),Eb(e.Da,e,3),Ha(e,!0);this.b.ug()}break;case 2:!0===this.b.m.Uc()&&!0===this.b.Oc(!0,!0)&&Gb(this.b);e=E;H!==this.P.K(a,b)?e=H:c.t&&(e=G);xa(this,a,b,e);this.P.Set(a,b,e,-1);this.b.ge(e,[(b<<8)+a]);break;case 3:Hb(this,ob,a,b);break;case 4:Hb(this,nb,a,b);break;case 5:Hb(this,mb,a,b);break;case 6:Hb(this,pb,a,b);break;case 7:Ib(this,a,b,c);break;case 8:a:{d=eb(this,a,b);if(null!==d&&hb===d.O)this.b.Ob([(b<<8)+a]),this.Ob(a,b);else{d="";if(c.t){d=this.P.ui(a,b);if(-1==d){b=this.b;(a=b.g)&&Jb(a.Z.id,Kb,{W:b,ba:a,vc:"Sorry, no move has been made at that location, so you can't mark it with the move number.",J:305,D:115});break a}d=""+d}if(void 0===d||""===d||null===d){d=[];f=0;for(e in this.Ta)c=this.Ta[e],hb===c.O&&Pa(c.Re)&&(d[f]=parseInt(c.Re),f++);if(0>=f)d="1";else{d.sort(Lb);c=e=0;for(var g=!1,h=0;h<f;h++){if(d[h]>e+1){c=e+1;g=!0;break}e=d[h]}g||(c=e+1);d=""+c}}e=new ya(a,b,hb,d);this.b.he(d,(b<<8)+a);Ba(this,a,b,e)}Ta(this)}break;case 9:e=this.P;c=e.K(a,b);if(H!==c){g=new Mb;Nb(e,a,b,g);d=[];for(f in g.th)d.push(f);b=Za(e,a,b)!==c?c:E===c?G:E;a=0;for(f=d.length;a<f;a++)c=qb(d[a]),Ca(e,c.h,c.f,b)}b=this.P.yg(this);this.Ke&&Da(this.Ke,"B "+b.Tk+"("+b.Sk+") W "+b.bm+"("+b.am+")");Ta(this);ha(this);break;case 10:ga(this,a,b,c);break;case 11:this.ra.Dd=!0,this.ra.Og=a,this.ra.Pg=b,this.ra.ke=a,this.ra.le=b,ia(this)}};function ia(a){if(11===a.sa&&!0===a.ra.Dd){var b=a.c.J,c=a.c.D,d=a.c.ca,e=a.a.Bd.d.a.getContext("2d");e.clearRect(0,0,b,c);var b=a.ra.Og-1,c=a.ra.Pg-1,f=a.ra.ke-1;a=a.ra.le-1;if(b>f)var g=f,f=b,b=g;c>a&&(g=a,a=c,c=g);e.fillStyle=Q(new z(107,112,122,128));e.beginPath();e.moveTo(d[b].$c,d[c].ad);e.lineTo(d[f].pf,d[c].ad);e.lineTo(d[f].pf,d[a].qf);e.lineTo(d[b].$c,d[a].qf);e.closePath();e.fill()}}function Hb(a,b,c,d){var e=eb(a,c,d);if(null!==e&&b===e.O){if(a.b.Ob([(d<<8)+c]),a.Ob(c,d),a.c.ca&&!0===ea(a,c-1,d-1)){b=(a.c.Qb-1)/2;var f=a.c.ca,e=f[c-1].h-b,f=f[d-1].f-b;a.a.Nb.d.a.getContext("2d").clearRect(e,f,2*b,2*b);b=qb(a.nh);c===b.h&&d===b.f&&(fb(a,c,d),gb(a,eb(a,c,d)))}}else e=new ya(c,d,b,""),a.b.Ea(b,[(d<<8)+c]),Ba(a,c,d,e),gb(a,e)}function Ib(a,b,c,d){var e=eb(a,b,c);if(null!==e&&hb===e.O)a.b.Ob([(c<<8)+b]),a.Ob(b,c);else{var f="";if(d.t){if(!a.g||!a.a.d||!a.a.d.a)return;d=a.g.Z;if(!d)return;var e=db(a,b,c),g=Ob(a.g,a.a.d.a),h=document.createElement("input");h.style.position="absolute";h.style.top=g.f+e.f-10+"px";h.style.left=g.h+e.h-25+"px";h.style.width="50px";h.style.height="20px";h.style.fontFamily='"Times New Roman", Times, serif';h.style.fontSize="16px";h.type="text";h.placeholder="Label...";h.style.outline=0;h.style.border="1px solid rgb(166, 166, 166)";h.style.boxShadow="rgba(0, 0, 0, 0.8) 0px 1px 15px";h.style.padding="3px";d.appendChild(h);h.focus();h.onblur=function(){Pb(a.g)};h.onkeydown=function(d){27===d.keyCode?Pb(a.g):13===d.keyCode&&(f=this.value,d=new ya(b,c,hb,f),a.b.he(f,(c<<8)+b),Ba(a,b,c,d),Ta(a),Pb(a.g))};Rb(a.g,h);return}if(void 0==f||""===f||null===f)if(f=Sb(a),null===f){d=a.b;(e=d.g)&&Jb(e.Z.id,Kb,{W:d,ba:e,vc:"Sorry, all standard labels are used up! To add more labels, use shift and click on the board to make up ur own labels.",J:305,D:115});return}d=new ya(b,c,hb,f);a.b.he(f,(c<<8)+b);Ba(a,b,c,d)}Ta(a)}function Sb(a){var b=[],c=-1,d;for(d in a.Ta){var e=a.Ta[d];if(hb==e.O){var e=e.Re,f=e.charCodeAt(0);1==e.length&&65<=f&&90>=f&&(b[f]=1)}}for(a=65;90>=a;a++)if(void 0===b[a]||""==b[a]){c=a;break}return-1==c?null:String.fromCharCode(c)}function wb(a,b,c){if(H===a.P.K(b,c)){var d=E===a.b.rc?E:G,e=!1,f=a.P.Lc.je();a.P.Set(b,c,d,-1);e=null!==Tb(a.P,b,c,d,!0)?!0:null!==Ub(a.P,b,c,d)?!1:!0;a.P.Set(b,c,H,-1);a.P.Lc.We(f);1==e&&!0===Vb(a.b,b,c,d)&&Gb(a.b)}}function na(a,b){if(9!==a.sa&&11!==a.sa){var c=b.F,d=!1;8===c||46===c?(Wb(a.b),d=!0):36===c?!0===b.s&&!0===b.t&&(Xb(a.b),d=!0):37===c?(b.s&&b.t?xb(a.b):b.s?vb(a.b,5):vb(a.b,1),d=!0):38===c?(b.s?a.b.vi():Yb(a.b),d=!0):39===c?(b.s&&b.t?Zb(a.b):b.s?yb(a.b,5):yb(a.b,1),d=!0):40===c?($b(a.b),d=!0):65===c&&!0===b.s&&!0===b.t?(ac(a),d=!0):67===c&&!0===b.s?(10===a.sa?a.b.gi():Jb(a.a.d.a.id,bc,{W:a.b,ba:a.g}),d=!0):68===c&&!0===b.s?(!0===b.t?a.b.Cg(-1):Jb(a.a.d.a.id,cc,{W:a.b,ba:a.g}),d=!0):69===c&&!0===b.s?(Jb(a.a.d.a.id,dc,{W:a.b,ba:a.g}),d=!0):72===c&&!0===b.s?(!0===b.t?ec(a.b):fc(a.b),d=!0):73===c&&!0===b.s?(!0===b.t?gc(a.b):hc(a.b),d=!0):77===c&&!0===b.s&&!0===b.t?(a.b.Qi(),d=!0):79===c&&!0===b.s?(10===a.sa?Jb(a.a.d.a.id,ic,{ni:a,ba:a.g}):a.b&&a.b.H&jc&&(!0===b.t?(c=prompt("Enter here code of ur sgf file",""),a.b.xc(c)):(c=document.getElementsByTagName("body"),0<c.length&&(c=c[0],d=document.createElement("input"),c.appendChild(d),d.type="file",d.multiple=!1,d.accept=".sgf,.gib,.ngf",d.style.display="none",d.addEventListener("change",function(b){b=b.target.files;if(0<b.length){b=b[0];var c=b.name.split(".").pop().toLowerCase(),d=new FileReader;d.onload=function(b){a.b.xc(b.target.result,null,null,c);a.Ba()};d.readAsText(b);a.Ba()}},!1),kc(d),c.removeChild(d)))),d=!0):82===c&&!0===b.s?(10===a.sa?(sb(a),a.b.Xi()):a.Mg(!0===a.Fb?!1:!0),d=!0):83===c&&!0===b.s?(c=a.b.Jg(),FileReader&&Blob&&(d=a.b.md,""===d&&(d=a.b.nd+" vs. "+a.b.kd),""===d&&(d="download"),lc(new Blob([c],{type:"text/plain;charset=utf-8"}),d+".sgf","application/x-go-sgf")),d=!0):85===c&&!0===b.s?!0===b.t&&(a.b.Cg(1),d=!0):86===c&&!0===b.s?(!0===b.t?a.b&&a.b.H&mc&&Jb(a.a.d.a.id,nc,{W:a.b,ba:a.g}):(c=a.b.Rd,c++,c>oc&&(c=pc),qc(a.b,c)),d=!0):112===c?(Ea(a,0),d=!0):113===c?(Ea(a,1),d=!0):114===c?(Ea(a,2),d=!0):115===c?(Ea(a,3),d=!0):116===c?(Ea(a,4),d=!0):117===c?(Ea(a,5),d=!0):118===c?(Ea(a,6),d=!0):119===c?(Ea(a,7),d=!0):120===c?(Ea(a,8),d=!0):121===c&&(Ea(a,10),d=!0);return d}}function ea(a,b,c){return b>=a.l.S&&b<=a.l.X&&c>=a.l.T&&c<=a.l.Y?!0:!1}l.Gh=function(){var a=this.b.wa;return null===a.I.ib?y.I.ib:a.I.ib};l.Fk=function(){var a=this.b.wa;return null===a.I.rb?y.I.rb:a.I.rb};l.Fh=function(){var a=this.b.wa;return null===a.I.qb?y.I.qb:a.I.qb};l.Gk=function(){var a=this.b.wa;return null===a.I.xb?y.I.xb:a.I.xb};l.Ek=function(){var a=this.b.wa;return null===a.I.vb?y.I.vb:a.I.vb};l.jg=function(){var a=this.b.wa;return null===a.I.lb?y.I.lb:a.I.lb};l.fe=function(){var a=this.b.wa;return null===a.I.wb?y.I.wb:a.I.wb};l.tc=function(){var a=this.b.wa;return null===a.I.pb?y.I.pb:a.I.pb};function ac(a){Na(a);var b=a.c.J,c=a.c.D,d=a.a.ca.d.a.getContext("2d");d.clearRect(0,0,b,c);for(var e=b/406,f=c/348,g=[207,193,1],h=[{h:0,f:49},{h:0,f:198},{h:71,f:348},{h:178,f:348},{h:318,f:348},{h:406,f:238},{h:406,f:41},{h:247,f:0}],k=[[[162,162,2],[221,125,2],[256,156,2],[250,203,1],[234,231,2],[199,236,0],[177,228,1],[150,195,1]],[[133,141,2],[229,89,1],[283,136,1],[282,210,2],[247,249,0],[195,261,2],[158,250,0],[124,196,0]],[[106,122,0],[238,45,0],[309,115,0],[312,216,2],[260,267,0],[187,300,1],[138,272,0],[96,197,1]],[[72,99,2],[246,10,0],[346,88,1],[344,224,0],[272,291,0],[182,329,0],[115,298,0],[60,197,0]],[[28,67,0],[259,-40,0],[373,66,0],[385,233,0],[298,319,2],[170,380,0],[81,336,0],[14,198]]],m=0,n=h.length;m<n;m++)d.beginPath(),d.moveTo(g[0]*e,g[1]*f),d.lineTo(h[m].h*e,h[m].f*f),d.stroke();h=0;for(m=k.length;h<m;h++){n=k[h];d.beginPath();for(var p=0,t=n.length;p<t;p++){var q=n[p];0===p?d.moveTo(q[0]*e,q[1]*f):d.lineTo(q[0]*e,q[1]*f)}d.closePath();d.stroke()}k.push([g]);a.ig(30*e);a.hg();d=a.a.Ed.d.a.getContext("2d");g=a.a.Qa.d.a.getContext("2d");d.clearRect(0,0,b,c);g.clearRect(0,0,b,c);b=(a.c.Qb-1)/2;c=a.c.ic;h=0;for(m=k.length;h<m;h++)for(n=k[h],p=0,t=n.length;p<t;p++){var q=n[p],u=(q[0]*e|0)-b,v=(q[1]*f|0)-b;E===q[2]?d.putImageData(a.c.og,u,v):G===q[2]&&d.putImageData(a.c.of[Math.random()*(a.c.of.length-1)|0],u,v);E!==q[2]&&G!==q[2]||g.putImageData(a.c.Qa,u+c,v+c)}};var Ua=-1,Va=0,Wa=1,Ya=2,Xa=3,$a=4,ab=5,cb=6,bb=7;function ba(a,b){this.j=b;this.Ff=this.Ef=-1;this.Yb=null;this.Yj=Ua;this.Ma=-1;this.c=a}l=ba.prototype;l.o=function(a){this.Yb=document.getElementById(a);this.Yb.style.position="absolute";fa(this)};l.p=function(a){this.Yb.width=a;this.Yb.height=a;this.Yb.style.width=a+"px";this.Yb.style.height=a+"px";this.Ma=a;this.Yj=Ua};function fa(a){a.Yb.style.display="none";a.Ef=-1;a.Ff=-1}l.Ra=function(){var a=this.j.b;a&&!0===a.wa.ve()&&(this.Yb.style.display="block")};l.Cl=function(a,b){this.Yb.style.left=a+"px";this.Yb.style.top=b+"px"};l.Wa=function(a){if(a!=this.Yj&&(this.Yj=a,Ua!==a)){var b=document.createElement("canvas");b.width=this.Ma;b.height=this.Ma;var c=b.getContext("2d");switch(a){case Va:c.putImageData(this.c.Sh,0,0);break;case Wa:c.putImageData(this.c.Hj,0,0);break;case Ya:c.putImageData(this.c.Ij,0,0);break;case Xa:c.putImageData(this.c.Jj,0,0);break;case $a:c.putImageData(this.c.xl,0,0);break;case ab:c.putImageData(this.c.dl,0,0);break;case cb:c.putImageData(this.c.Rk,0,0);break;case bb:c.putImageData(this.c.Mk,0,0)}a=b.toDataURL("image/png");this.Yb.style.backgroundImage="url('"+a+"')"}};function rc(a){this.b=(this.g=a)?a.b:null;this.Na=0;this.Jf=16;this.Rj=!1;this.c={cl:null,sl:null,ml:null,Nk:null,zl:null};this.a={d:null,rg:{d:null}};this.nk=new z(0,0,0,51);this.rh=new z(255,255,255,255);this.mk=new z(0,0,0,102);this.Rf=new z(255,255,255,255);this.hk=new z(0,0,0,153);this.ih=new z(255,255,255,255);this.kk=new z(0,0,0,0);this.lk=new z(140,140,140,255);this.lo=new z(0,0,0,77);this.gh=this.G=this.A=0;var b=this;this.kg=function(a){4!==b.Na&&(ka(a),b.Na=1,tc(b),a.stopImmediatePropagation(),b.Eh())};this.Kh=function(a){if(4!==b.Na){if(C.Ya!==a.target)return;b.Na=2;tc(b);b.aa();a.stopImmediatePropagation()}b.Ih();b.eg()};this.Oo=function(){4!==b.Na&&(1!==b.Na&&(b.Na=2),tc(b))};this.lg=function(){4!==b.Na&&(b.Na=b.Rj?8:0,tc(b),b.eg())};this.Ih=function(){!b.b||b instanceof vc||b.b.Ba()};this.Hk=function(a){a.dataTransfer.effectAllowed="all";a.dataTransfer.setData("text/sgf","(;SZ[19];)")}}l=rc.prototype;l.o=function(a,b){this.b=b;this.ya();this.a.d=D(a);var c=this.a.d.a;c.setAttribute("title",this.da());c.style.backgroundColor="rgba(217,217,217,1)";var d=document.createElement("canvas");d.setAttribute("id",a+"_canvas");d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.style["-webkit-transition"]="background 2s";d.style.transition="background 2s";d.draggable="false";d.ondragstart=function(a){a.preventDefault();return!1};c.appendChild(d);this.a.rg.d=D(a+"_canvas");d=this.a.rg.d;J(d.i,0,0,1E3,1E3,!1,!1,!1,!1,-1,-1);d.n=L|M|O|P;this.a.d.k(d);c.onmousedown=this.kg;c.onmouseup=this.Kh;c.onmouseover=this.Oo;c.onmouseout=this.lg;c.onfocus=this.Ih;c.tabIndex=-1;c.style.outline="none";c.draggable="true";c.cp=this.Hk;this.p()};l.p=function(a){if(!0===(0>this.gh?!1:!0)){var b=this.a.d.a.clientWidth,c=this.a.d.a.clientHeight;if(b!==this.A||c!==this.G||!0===a)this.A=b,this.G=c,this.a.d.fb(this.A,this.G),this.cc()}};function wc(a,b){!0===b&&4===a.Na?(a.Na=0,tc(a)):!1===b&&4!==a.Na&&(a.Na=4,tc(a))}function xc(a,b){a.Jf!==b&&(a.Jf=b,a.cc(),a.a.d.a.setAttribute("title",a.da()))}function yc(a,b){a.Rj!==b&&(a.Rj=b,!0===b&&0===a.Na?(a.Na=8,tc(a)):!1===b&&8===a.Na&&(a.Na=0,tc(a)))}l.cc=function(){var a=this.G,b=this.A;0!==b&&0!==a&&(this.c.Nk=zc(this,this.hk,this.ih,b,a),this.c.ml=zc(this,this.mk,this.Rf,b,a,!1,!0),this.c.sl=zc(this,this.nk,this.rh,b,a),this.c.cl=zc(this,this.kk,this.lk,b,a,!0),this.c.zl=zc(this,this.lo,this.Rf,b,a,!1,!0),tc(this))};function zc(a,b,c,d,e,f,g){var h=a.a.rg.d.a.getContext("2d");h.clearRect(0,0,d,e);h.fillStyle=Q(b);h.fillRect(0,0,d,e);h.fillStyle=Q(c);h.strokeStyle=Q(c);var k=.8*Math.min(d,e)|0;a.ga(h,k,(d-k)/2,(e-k)/2,f,d,e,b,c);!0!==g||a instanceof Ac||a instanceof Bc||a instanceof Cc||(h.beginPath(),h.lineWidth=1,h.strokeStyle=Q(new z(0,0,0,255)),h.moveTo(0,0),h.lineTo(d,0),h.lineTo(d,e),h.lineTo(0,e),h.lineTo(0,0),h.stroke(),h.beginPath());return h.getImageData(0,0,d,e)}l.ga=function(){};l.bc=function(a,b,c,d,e){var f=Math.ceil(b+a/5+.5);b=Math.ceil(b+4*a/5+.5);var g=Math.ceil(c+a/5+.5),h=Math.ceil(c+a/2+.5);a=Math.ceil(c+4*a/5+.5);0>e?(d.beginPath(),d.moveTo(f,h),d.lineTo(b,g),d.lineTo(b,a)):(d.beginPath(),d.moveTo(f,g),d.lineTo(b,h),d.lineTo(f,a));d.closePath();d.fill()};function tc(a){var b=a.a.rg.d.a.getContext("2d"),c=null;switch(a.Na){case 2:c=a.c.ml;break;case 1:c=a.c.Nk;break;case 4:c=a.c.cl;break;case 8:c=a.c.zl;break;default:case 0:c=a.c.sl}c&&b.putImageData(c,0,0)}l.aa=function(){};l.da=function(){return""};l.ya=function(){};function Dc(a,b){a.gh--;var c=new Image;c.onload=function(){a.gh++;0<=a.gh&&a.p(!0)};c.src=b;return c}l.Eh=function(){this.a.d.a.style.transition="transform 0.1s ease-out";this.a.d.a.style.transform="scale(0.9)"};l.eg=function(){this.a.d.a.style.transition="transform 0.2s ease-out";this.a.d.a.style.transform="scale(1)"};function Ec(a){Ec.r.constructor.call(this,a);this.jb=Dc(this,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wwTDRIczM2u5QAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAA80lEQVRYw+3XMYqFMBQF0JshlYgg8hqXIELERrfgAmaVA65DYQrTuASbIIKIVSBTDQy/m59A/od3+8AhvNxHBACM44hXyQdeLAxiEIMY9HYgIvoehsG1beve4oaklOi6ztV17aKDpJTo+96VZYk8z5GmaTzQL4aIsO87tNbiuq44oEfMsiziPM84MxQS4w0KjfEGKaUcEeG+b6zr+uWL8QZprYUxBkmSoKqqzyzL4oKstZimSRhjUBQFmqZxvijvoQ6NCvLsQ6KCFeMjSinlojb1X9S2bTiOA880tQy9XK21mOdZPHte8EeRQQxiEIMY9L/8AMSPglq/uMNKAAAAAElFTkSuQmCC");this.Zb=Dc(this,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wwTDRcMrA1KxAAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAA6UlEQVRYw+3XPQqEMBAF4Jdgr52VYBpvIlZWoodUUll5Ae+gjYKVnb1gttrFakGdJYGd1Al8+XvDAI4NAQDDMDgDkq6dEIMYxKC/A3lXF+z7bvq+h1IKaZqKb3PvBK73i122bWt83/9UAqtXprU24zhiXVccx2H3DWmtzTzPiKIIZVkKKaU90BlTVZWw+suoMCQgSsxjUNd1ZpomBEFAgnkMyrJMKKWwbRvqujZOJHVRFCKOYyzLQoIiedSUKLJvT4UiDcYzqmkaYz2p36gkSRCGIe4k9U+Ka57nt9sr7ssYxCAGMYhBF8cLoc5sGgK/ZxQAAAAASUVORK5CYII=")}Fc(Ec,rc);Ec.prototype.ga=function(a,b,c,d,e){(b=e?this.Zb:this.jb)&&a.drawImage(b,0,0)};Ec.prototype.aa=function(){xb(this.b)};Ec.prototype.da=function(){return"Back to the start (Ctrl+Shift+Left)"};Ec.prototype.ya=function(){this.g.B.Qh.push(this)};function Gc(a){Gc.r.constructor.call(this,a);this.jb=Dc(this,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wwTDRwVK5I7zwAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAcUlEQVRYw+3VwQnAIAyFYVu6UJbqDB0vh9xFcA7xHALpCAptpbXvO77TDwENAQAAfkBECjPvvfujYoyuql5r9Z59SIyqekrJW/uwmJyzt3bETBuzfv7NedXJEDVV1F1fx3Y1iIgWESlmdvTsAAAAszsB2vBQahKN40YAAAAASUVORK5CYII=");this.Zb=Dc(this,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wwTDSMBaZbFjgAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAA80lEQVRYw+3XvQqDMBQF4HNtcBOsc0fBB9DB53dScHB1cepWcMkWxNulFilU1Cb9457xLPlIokkIt7Rti08mSRIAgIcvi4AEJCAB/QXIGMPDMPCsOj7pn+VkDaS15qIo0DQNmO9jH+b9ipytgLTWXFUVmBlxHIOIpv4y79+yZBNmHEekaYowDGmpXxu1F1OWJZgZWZYhiiJa6p3OkEvMZpBrzO//h4IgoDzPQUSo6xp93/NS/5YZco3atWQuUbv3kCvUS5t6PnjXdfej47HfErLxDDLGsOd5UErRmn7pGaRsfKq+79OWXi5oAhKQgAQkIIu5AvJV2EqdOHDMAAAAAElFTkSuQmCC")}Fc(Gc,rc);Gc.prototype.ga=function(a,b,c,d,e){(b=e?this.Zb:this.jb)&&a.drawImage(b,0,0)};Gc.prototype.aa=function(){vb(this.b,5)};Gc.prototype.da=function(){return"Back 5 moves (Ctrl+Left)"};Gc.prototype.ya=function(){this.g.B.Rh.push(this)};function Hc(a){Hc.r.constructor.call(this,a);this.jb=Dc(this,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wwTDSUz9xsziAAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAxUlEQVRYw+3VIQ7DMAwF0J+ppHABQSEhISVBPdLOsKvsEr1NSKQoKi0oq0IqdbQabN0lquwTPNnfthiGATXVA5UVgxjEIAbdDqSUmqWUrypAxpit7/unc+7Ttm1ZkDFm67oOADCOI3LO5UB7TAgBMUZRbGS/mBCCKBZqaswp0BWYe92hlJLw3gMArLWw1m7FO3QF6vTIqFEkGaJEkYV6j9Ja4+jraCg3JKUklmWZ13V9H30dDfXaTtMk+Q4xiEEMYhCD/lhfy3RcBznfWwkAAAAASUVORK5CYII=");this.Zb=Dc(this,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wwTDSgeB2oRsAAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAx0lEQVRYw+3XMQqEMBAF0D8h2AniGbyBFp7fSiGFrY1HsEkXxL/VwtY6bkTmHyA8kskPEQBYlgVPicPDYiADGchArwOllLjvOx8BijFyGAbM8wySeUExRk7TBJJomgYikg/0xRzHgbZtUVWVnF3La2DGcQRJdF2Huq4l21BrYy6B7sC8q4fKspS+7yEiCCFg2zZm36E7UJePTBulMkOaKLWh/kWt63r66RDtb1BKic45eO9P1YDXvrZFUYj1kIEMZCADGeiP+QAy+XDf76BlKwAAAABJRU5ErkJggg==")}Fc(Hc,rc);Hc.prototype.ga=function(a,b,c,d,e){(b=e?this.Zb:this.jb)&&a.drawImage(b,0,0)};Hc.prototype.aa=function(){vb(this.b,1)};Hc.prototype.da=function(){return"Back (Left)"};Hc.prototype.ya=function(){this.g.B.Pc.push(this)};function Ic(a){Ic.r.constructor.call(this,a);this.jb=Dc(this,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wwTDSkJnaKlNgAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAxUlEQVRYw+3WIQ7DIBQG4L8NBiQCVVODqeFU21V6he0QPUsNhqQh2AossrsDvKVseb8n+QL8D4Zt29BTRnQWBjGIQQz6WZDW+mGMydQgUbNISgnn3EspBe/9FWMcbt2hUgpSSgCAZVkwz/N1+5EdxzGEEMhRTZc6hECOam4ZNYqk9pSo/xyM1trLWgsA8N6jZQyMPWGaQdSYJtA3MNUgKSWmaSLHVL9lpRTs+/4UQqzneeouWpZzflNj+IPGIAYxiEEMqsgHyjhf9O2e3l4AAAAASUVORK5CYII=");this.Zb=Dc(this,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wwTDSgxrLss6QAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAyUlEQVRYw+3VsQqDUAwF0JvycBPEbxBcBR38ficFB1cXP8HFTSS3U3/Al9LXNtkDB5KbyLquSKXqusYDiZWDHOQgB30t6LounufJJEAksSwLhmHAcRz8OEhEUFUVSGKaJlPU7ZEVRSFt20JVTVFRS12WpXRdB1XFOI4mqOiUvVAkTVAmsbdE/eZh3Ped8zxDRND3PfI8l4+BLDHRIGtMFOgdmKjXsW2bOQYAwt3X0TQNVBVZlollysLtxhAk2dg7yEEOcpCD/gn0BPdVbmFsgto0AAAAAElFTkSuQmCC")}Fc(Ic,rc);Ic.prototype.ga=function(a,b,c,d,e){(b=e?this.Zb:this.jb)&&a.drawImage(b,0,0)};Ic.prototype.aa=function(){yb(this.b,1)};Ic.prototype.da=function(){return"Forward (Right)"};Ic.prototype.ya=function(){this.g.B.Rc.push(this)};function Jc(a){Jc.r.constructor.call(this,a);this.jb=Dc(this,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wwTDSQ2nmr2RgAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAZUlEQVRYw+3VMQrAIAyFYelhe84M7kHwHMU5S3qAVnCxpOH/xrfkQdCUAgBIRETOWuu1mm83xnAzc1X1lXy71pqb2WP4LP9E7/11+CynVPpSR5o/KdTKKPOblxXudIQ7rgAABHQDS2dNsnKXx6sAAAAASUVORK5CYII=");this.Zb=Dc(this,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wwTDSQYQrz7iQAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAxElEQVRYw+2VPQuDMBCG30j/QIduHQP5AQr6/5cQyBAQBxenbl0C2b0uOhQSxI8ULfdM4eXgHnJHAjAMwzAXoe/751JN13XUti1N9fdYvpfbfFBKvZaKnXPw3sNaSwAesbyqKrFHqFhTLKUEEcEYgxDCO5ZPsr8RqutalGWJcRy/mqfyLWy6Xq01WWshhEDTNJjHlMqzC+WU2rWAOaSKsz0//zGyUy11TpnVQrllVi/1MAzRpqk8O6lP9MjPlWEYhmGuzgcvy8ThfV4IDQAAAABJRU5ErkJggg==")}Fc(Jc,rc);Jc.prototype.ga=function(a,b,c,d,e){(b=e?this.Zb:this.jb)&&a.drawImage(b,0,0)};Jc.prototype.aa=function(){yb(this.b,5)};Jc.prototype.da=function(){return"Forward 5 moves (Ctrl+Right)"};Jc.prototype.ya=function(){this.g.B.qi.push(this)};function Kc(a){Kc.r.constructor.call(this,a);this.jb=Dc(this,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wwTDRAjSJ3hWgAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAABBElEQVRYw+3WwYmFMBAG4D8PvUgIiKYJERQv2oJXYatcsA4Pqxh42EQQIQQPImRr2DyzesgUMHyZyUwCPCxI3/ePwXRdh9fTKuRBHuRBHnRFVFVl2rY1nPOffwHleW7qujZBEFx+mD9npJQijmOkaYowDM0wDOQ8z/taprWGEIKs6wrOOZqmubRSVi1TSmGeZyco60vtCvXRlLlAfTz2Siksy/K97zs45yiKwtwKYowhy7KvKIogpYQQgtwGYoyhLEuTJAmklLhiBbyehLEGucJYgSilKIrCCcbq6dBaY9s2HMeBcRwvxViBAOD9fhM4isBF0mmayG17yP8YPciDPMiDHMcvBCGFxBHbK9gAAAAASUVORK5CYII=");this.Zb=Dc(this,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wwTDQ4kArhLJgAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAA9UlEQVRYw+3WsY6FIBAF0CtQWNjTEWw0Uf+/9x/URBsNVnQmdhqZ1+wPLMo+s2H6S85MYALwskrGcXwNpixLsLdNKIIiKIIi6IkyxlDbtnSe59+ArLU0TROFaEb8NuCcg7UWxhgcx0FN0yRfBTHGUNd1QkS0LAsAPIoSPiHOOX4Qj6OEbzAUStwJh0CJux1xzlFVVbLvO83zjCzLiDH2vT10XReGYaBt25DnObTWtybE7mK6rqN1XaG1xhN3iL0J4w0KhfECOefQ930QjPemllIiTVMURfEoxvvZSykTKWWQ74cIcahSKlFKxQ9aBEVQBEXQv6wPn1Z3S2AlDhEAAAAASUVORK5CYII=")}Fc(Kc,rc);Kc.prototype.ga=function(a,b,c,d,e){(b=e?this.Zb:this.jb)&&a.drawImage(b,0,0)};Kc.prototype.aa=function(){Zb(this.b)};Kc.prototype.da=function(){return"Go to the end (Ctrl+Shift+Right)"};Kc.prototype.ya=function(){this.g.B.pi.push(this)};function Lc(a){Lc.r.constructor.call(this,a)}Fc(Lc,rc);Lc.prototype.ga=function(a,b,c,d){var e=Math.ceil(c+.2*b+.5),f=Math.ceil(c+.35*b+.5),g=Math.ceil(c+.57*b+.5);c=Math.ceil(c+.92*b+.5);var h=Math.ceil(d+.2*b+.5),k=Math.ceil(d+.38*b+.5),m=Math.ceil(d+.52*b+.5),n=Math.ceil(d+.6*b+.5),p=Math.ceil(d+.68*b+.5);b=Math.ceil(d+.84*b+.5);a.beginPath();a.moveTo(e,h);a.lineTo(f,h);a.lineTo(f,m);a.lineTo(g,m);a.lineTo(g,k);a.lineTo(c,n);a.lineTo(g,b);a.lineTo(g,p);a.lineTo(e,p);a.closePath();a.fill()};Lc.prototype.aa=function(){$b(this.b)};Lc.prototype.da=function(){return"Next variant (Down)"};Lc.prototype.ya=function(){this.g.B.Vc.push(this)};function Mc(a){Mc.r.constructor.call(this,a)}Fc(Mc,rc);Mc.prototype.ga=function(a,b,c,d){var e=Math.ceil(c+.2*b+.5),f=Math.ceil(c+.35*b+.5),g=Math.ceil(c+.57*b+.5);c=Math.ceil(c+.92*b+.5);var h=Math.ceil(d+.8*b+.5),k=Math.ceil(d+.62*b+.5),m=Math.ceil(d+.48*b+.5),n=Math.ceil(d+.4*b+.5),p=Math.ceil(d+(1-.68)*b+.5);b=Math.ceil(d+(1-.84)*b+.5);a.beginPath();a.moveTo(e,h);a.lineTo(f,h);a.lineTo(f,m);a.lineTo(g,m);a.lineTo(g,k);a.lineTo(c,n);a.lineTo(g,b);a.lineTo(g,p);a.lineTo(e,p);a.closePath();a.fill()};Mc.prototype.aa=function(){Yb(this.b)};Mc.prototype.da=function(){return"Previous variant (Up)"};Mc.prototype.ya=function(){this.g.B.Wc.push(this)};function Nc(a){Nc.r.constructor.call(this,a)}Fc(Nc,rc);Nc.prototype.ga=function(a,b,c,d){var e=Math.ceil(c+.5*b-b/10+.5),f=Math.ceil(d+.5*b-b/10+.5),g=Math.ceil(.25*b+.5);a.fillStyle=Q(new z(255,255,255));a.strokeStyle=Q(new z(0,0,0));a.beginPath();a.arc(e,f,g,0,2*Math.PI,!1);a.fill();a.stroke();a.fillStyle=Q(new z(0,0,0));e=Math.ceil(c+.5*b+b/10+.5);f=Math.ceil(d+.5*b+b/10+.5);g=Math.ceil(.25*b+.5);a.beginPath();a.arc(e,f,g,0,2*Math.PI,!1);a.fill()};Nc.prototype.aa=function(){Ea(this.b.j,0)};Nc.prototype.da=function(){return"Moves (F1)"};Nc.prototype.ya=function(){this.g.B.Wh.push(this)};function Oc(a){Oc.r.constructor.call(this,a)}Fc(Oc,rc);Oc.prototype.ga=function(a,b,c,d,e,f,g,h){e=a.createImageData(b,b);f=b/5|0;g=4*b/5|0;for(var k=0;k<b;k++)for(var m=0;m<b;m++){var n=4*(k*b+m);k>=f&&k<=g&&m>=f&&m<=g?(b-k>=m||k===f||k===g||m===f||m===g?(e.data[n+0]=0,e.data[n+1]=0,e.data[n+2]=0):(e.data[n+0]=255,e.data[n+1]=255,e.data[n+2]=255),e.data[n+3]=255):(e.data[n+0]=h.u,e.data[n+1]=h.w,e.data[n+2]=h.v,e.data[n+3]=h.Ja)}a.putImageData(e,c,d)};Oc.prototype.aa=function(){Ea(this.b.j,1)};Oc.prototype.da=function(){return"Count Scores (F2)"};Oc.prototype.ya=function(){this.g.B.Yh.push(this)};function Pc(a){Pc.r.constructor.call(this,a)}Fc(Pc,rc);Pc.prototype.ga=function(a,b,c,d){var e=Math.ceil(c+.75*b+.5),f=Math.ceil(d+.125*b+.5),g=Math.ceil(.25*b+.5),h=Math.ceil(.02*b+.5);a.fillRect(e,f,g,h);e=Math.ceil(c+.875*b+.5);f=Math.ceil(d+.5);g=Math.ceil(.02*b+.5);h=Math.ceil(.25*b+.5);a.fillRect(e,f,g,h);e=Math.ceil(c+.5);f=Math.ceil(d+.875*b+.5);g=Math.ceil(.25*b+.5);h=Math.ceil(.02*b+.5);a.fillRect(e,f,g,h);e=Math.ceil(c+.5*b-b/10+.5);f=Math.ceil(d+.5*b-b/10+.5);g=Math.ceil(.25*b+.5);a.fillStyle=Q(new z(255,255,255));a.strokeStyle=Q(new z(0,0,0));a.beginPath();a.arc(e,f,g,0,2*Math.PI,!1);a.fill();a.stroke();a.fillStyle=Q(new z(0,0,0));e=Math.ceil(c+.5*b+b/10+.5);f=Math.ceil(d+.5*b+b/10+.5);g=Math.ceil(.25*b+.5);a.beginPath();a.arc(e,f,g,0,2*Math.PI,!1);a.fill()};Pc.prototype.aa=function(){Ea(this.b.j,2)};Pc.prototype.da=function(){return"Editor (F3)"};Pc.prototype.ya=function(){this.g.B.Vh.push(this)};function Qc(a){Qc.r.constructor.call(this,a)}Fc(Qc,rc);Qc.prototype.ga=function(a,b,c,d){var e=b/2,f=3*b/4,g=.1*b,h=Math.sqrt(e*e-(f-e)*(f-e))+e,e=-Math.sqrt(e*e-(f-e)*(f-e))+e;a.lineWidth=Math.ceil(.05*b+.5);a.beginPath();a.moveTo(c+b/2,d+2*g);a.lineTo(c+h-g,d+f+g);a.lineTo(c+e+g,d+f+g);a.closePath();a.stroke()};Qc.prototype.aa=function(){Ea(this.b.j,3)};Qc.prototype.da=function(){return"Triangles (F4)"};Qc.prototype.ya=function(){this.g.B.ai.push(this)};function Rc(a){Rc.r.constructor.call(this,a)}Fc(Rc,rc);Rc.prototype.ga=function(a,b,c,d){var e=b/2,f=.05*b,g=-b/2*Math.sqrt(2)/2+b/2,h=Math.floor(c+(Math.sqrt(e*e-(g-e)*(g-e))+e)-f);c=Math.ceil(c+(-Math.sqrt(e*e-(g-e)*(g-e))+e)+f);g=Math.ceil(d+g+f);d=Math.floor(d+(b/2*Math.sqrt(2)/2+b/2)-f);a.lineWidth=Math.ceil(.05*b+.5);a.beginPath();a.moveTo(h,g);a.lineTo(c,g);a.lineTo(c,d);a.lineTo(h,d);a.closePath();a.stroke()};Rc.prototype.aa=function(){Ea(this.b.j,4)};Rc.prototype.da=function(){return"Squares (F5)"};Rc.prototype.ya=function(){this.g.B.Zh.push(this)};function Sc(a){Sc.r.constructor.call(this,a)}Fc(Sc,rc);Sc.prototype.ga=function(a,b,c,d){var e=.05*b,f=b/2,g=4*e;a.lineWidth=Math.ceil(e+.5);a.beginPath();a.arc(c+b/2,d+b/2,f-g,0,2*Math.PI,!1);a.stroke()};Sc.prototype.aa=function(){Ea(this.b.j,5)};Sc.prototype.da=function(){return"Circles (F6)"};Sc.prototype.ya=function(){this.g.B.Uh.push(this)};function Tc(a){Tc.r.constructor.call(this,a)}Fc(Tc,rc);Tc.prototype.ga=function(a,b,c,d){var e=c+.25*b;c+=.75*b;var f=d+.25*b;d+=.75*b;a.lineWidth=Math.ceil(.05*b+.5);a.beginPath();a.moveTo(e,f);a.lineTo(c,d);a.moveTo(c,f);a.lineTo(e,d);a.stroke()};Tc.prototype.aa=function(){Ea(this.b.j,6)};Tc.prototype.da=function(){return"X marks (F7)"};Tc.prototype.ya=function(){this.g.B.bi.push(this)};function Uc(a){Uc.r.constructor.call(this,a)}Fc(Uc,rc);Uc.prototype.ga=function(a,b,c,d){var e=.8*b;a.font=e+"px Arial";a.fillText("A",c+(b-a.measureText("A").width)/2,d+b/2+e/3)};Uc.prototype.aa=function(){Ea(this.b.j,7)};Uc.prototype.da=function(){return"Text labels (F8)"};Uc.prototype.ya=function(){this.g.B.$h.push(this)};function Vc(a){Vc.r.constructor.call(this,a)}Fc(Vc,rc);Vc.prototype.ga=function(a,b,c,d){var e=.8*b;a.font=e+"px Helvetica, Arial, Verdana";a.fillText("1",c+(b-a.measureText("1").width)/2,d+b/2+e/3)};Vc.prototype.aa=function(){Ea(this.b.j,8)};Vc.prototype.da=function(){return"Numeric labels (F9)"};Vc.prototype.ya=function(){this.g.B.Xh.push(this)};function Wc(a){Wc.r.constructor.call(this,a)}Fc(Wc,rc);Wc.prototype.ga=function(a,b,c,d){if(16===this.Jf)this.bc(b,c,d,a,1);else{var e=Math.floor(c+b/5+b/20+.5);c=Math.ceil(c+4*b/5-b/20+.5);var f=Math.ceil(d+b/5+.5);d=Math.ceil(d+4*b/5+.5);var g=Math.ceil(e+b/5);b=Math.floor(c-b/5);a.beginPath();a.moveTo(e,f);a.lineTo(g,f);a.lineTo(g,d);a.lineTo(e,d);a.closePath();a.fill();a.beginPath();a.moveTo(c,f);a.lineTo(b,f);a.lineTo(b,d);a.lineTo(c,d);a.closePath();a.fill()}};Wc.prototype.aa=function(){16===this.Jf?this.b.mf():this.b.xe()};Wc.prototype.da=function(){return 16===this.Jf?"Autoplay start":"Autoplay stop"};Wc.prototype.ya=function(){this.g.Mf=this};function Ac(a){Ac.r.constructor.call(this,a)}Fc(Ac,rc);l=Ac.prototype;l.ga=function(a,b,c,d,e,f,g,h,k){b=a.createImageData(f,g);e=b.data;c=(f-8)/2|0;d=(g-8)/2|0;for(h=0;h<g;h++)for(var m=0;m<f;m++){var n=4*(m+h*f),p=k.u,t=k.w,q=k.v,u=h-d,v=m-c;if(0===u&&(0===v||1===v||6===v||7===v)||1===u&&(1===v||2===v||5===v||6===v)||2===u&&(2===v||3===v||4===v||5===v)||3===u&&(3===v||4===v)||4===u&&(3===v||4===v)||5===u&&(2===v||3===v||4===v||5===v)||6===u&&(1===v||2===v||5===v||6===v)||7===u&&(0===v||1===v||6===v||7===v))q=t=p=255;e[n+0]=p;e[n+1]=t;e[n+2]=q;e[n+3]=255}a.putImageData(b,0,0)};l.aa=function(){this.b.mb()};l.da=function(){return"Close"};l.Eh=function(){};l.eg=function(){};function vc(a){vc.r.constructor.call(this,a)}Fc(vc,rc);vc.prototype.ga=function(a,b,c,d){var e=.02*b,f=b/2,g=4*e;a.lineWidth=Math.ceil(e+.5);a.beginPath();a.arc(c+b/2,d+b/2,f-g,0,2*Math.PI,!1);a.stroke();e=.9*b;a.font=e+"px Times New Roman, Sans serif";a.fillText("i",c+(b-a.measureText("i").width)/2,d+b/2+e/3)};vc.prototype.aa=function(){Jb(this.a.d.a.id,Xc,{W:this.b,ba:this.g})};vc.prototype.da=function(){return"Game info"};function Bc(a){Bc.r.constructor.call(this,a)}Fc(Bc,rc);l=Bc.prototype;l.ga=function(a,b,c,d,e,f,g){a.lineWidth=1;a.moveTo(0,0);a.lineTo(0,g);a.lineTo(f,g);a.lineTo(f,0);a.lineTo(0,0);a.stroke();e=.8*b;a.fillStyle=Q(new z(0,0,0,255));a.font=e+"px Tahoma, Sans serif";a.fillText("OK",c+(b-a.measureText("OK").width)/2,d+b/2+e/3)};l.aa=function(){this.b.$e()};l.da=function(){return"OK"};l.Eh=function(){};l.eg=function(){};function Cc(a){Cc.r.constructor.call(this,a)}Fc(Cc,rc);l=Cc.prototype;l.ga=function(a,b,c,d,e,f,g){a.lineWidth=1;a.moveTo(0,0);a.lineTo(0,g);a.lineTo(f,g);a.lineTo(f,0);a.lineTo(0,0);a.stroke();e=.8*b;a.fillStyle=Q(new z(0,0,0,255));a.font=e+"px Tahoma, Sans serif";a.fillText("Cancel",c+(b-a.measureText("Cancel").width)/2,d+b/2+e/3)};l.aa=function(){this.b.jl()};l.da=function(){return"Cancel"};l.Eh=function(){};l.eg=function(){};function Yc(a){Yc.r.constructor.call(this,a);this.Ua=null}Fc(Yc,rc);Yc.prototype.o=function(a,b){Zc.r.o.apply(this,arguments);var c=this.a.d.a,d=document.createElement("canvas");d.setAttribute("id",a+"_transform");d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.width=36;d.height=36;d.draggable="false";d.ondragstart=function(a){a.preventDefault();return!1};c.appendChild(d);c=D(a+"_canvas");J(c.i,0,0,1E3,1E3,!1,!1,!1,!1,-1,-1);c.n=L|M|O|P;this.a.d.k(c);this.Ua=d};Yc.prototype.ga=function(a,b,c,d){var e=this.Ua.getContext("2d");e.fillStyle=a.fillStyle;e.strokeStyle=a.strokeStyle;var f=.02*b;a=b/2-b/30;var g=b/4;e.lineWidth=Math.ceil(7*f+.5);e.beginPath();e.arc(c+b/2,d+b/2,g,0,2*Math.PI,!1);e.stroke();e.lineWidth=Math.ceil(5*f+.5);for(f=0;9>f;f++){e.beginPath();var h=40*f*Math.PI/180;e.lineTo(c+g*Math.cos(h)+b/2,d-g*Math.sin(h)+b/2);e.lineTo(c+a*Math.cos(h)+b/2,d-a*Math.sin(h)+b/2);e.stroke()}};Yc.prototype.aa=function(){Jb(this.a.d.a.id,$c,{W:this.b,ba:this.g});"rotate(90deg)"!==this.Ua.style.transform?(this.Ua.style.transition="transform 0.5s linear",this.Ua.style.transform="rotate(90deg)"):(this.Ua.style.transition="transform 0.5s linear",this.Ua.style.transform="rotate(0deg)")};Yc.prototype.da=function(){return"Settings"};function ad(a){ad.r.constructor.call(this,a)}Fc(ad,rc);ad.prototype.ga=function(a,b,c,d){var e=.9*b;a.font=e+"px Times New Roman, Sans serif";a.fillText("Pass",c+(b-a.measureText("Pass").width)/2,d+b/2+e/3)};ad.prototype.aa=function(){this.b.ul()};ad.prototype.da=function(){return"Pass"};function bd(a){bd.r.constructor.call(this,a)}Fc(bd,rc);bd.prototype.ga=function(a,b,c,d){var e=.02*b,f=b/2,g=4*e;a.lineWidth=Math.ceil(e+.5);a.beginPath();a.arc(c+b/2,d+b/2,f-g,0,2*Math.PI,!1);a.stroke();e=.9*b;a.font=e+"px Times New Roman, Sans serif";a.fillText("?",c+(b-a.measureText("?").width)/2,d+b/2+e/3)};bd.prototype.aa=function(){Jb(this.a.d.a.id,cd,{W:this.b,ba:this.g})};bd.prototype.da=function(){return"About"};function dd(a){dd.r.constructor.call(this,a)}Fc(dd,rc);dd.prototype.ga=function(a,b,c,d){var e=Math.ceil(c+3*b/20+.5),f=Math.ceil(c+16*b/20+.5),g=Math.ceil(c+14*b/20+.5);c=Math.ceil(c+11*b/20+.5);var h=Math.ceil(d+5*b/20+.5),k=Math.ceil(d+14*b/20+.5);b=Math.ceil(d+18*b/20+.5);a.lineWidth=2;a.beginPath();a.moveTo(e,h);a.lineTo(f,h);a.lineTo(f,k);a.lineTo(g,k);a.lineTo(g,b);a.lineTo(c,k);a.lineTo(e,k);a.closePath();a.stroke()};dd.prototype.aa=function(){this.ok.Bd(this)};dd.prototype.da=function(){return"Comments"};function ed(a){ed.r.constructor.call(this,a)}Fc(ed,rc);ed.prototype.ga=function(a,b,c,d){var e=c+0,f=c+5*b/20,g=c+15*b/20;c+=b;var h=d+6*b/20;d+=16*b/20;b=b/6+1|0;a.lineWidth=2;a.lineJoin="miter";a.strokeStyle="rgba(0,0,0, 1)";a.beginPath();a.moveTo(e-2|0,h|0);a.lineTo(c+2|0,h|0);a.stroke();a.beginPath();a.moveTo(f|0,h|0);a.lineTo(f|0,d|0);a.lineTo(c+2|0,d|0);a.stroke();a.lineWidth=1;a.strokeStyle=Q(new z(0,0,0));a.fillStyle=Q(new z(255,255,255));a.beginPath();a.arc(g,h,b,0,2*Math.PI,!1);a.fill();a.stroke();a.beginPath();a.arc(g,d,b,0,2*Math.PI,!1);a.fill();a.stroke();a.fillStyle=Q(new z(0,0,0));a.beginPath();a.arc(f,h,b,0,2*Math.PI,!1);a.fill()};ed.prototype.aa=function(){this.ok.Bd(this)};ed.prototype.da=function(){return"Navigator"};function fd(a){fd.r.constructor.call(this,a);var b=a.Z,c=this;this.Wb=373;this.Cc=40;var d=document.createElement("div");d.id=b.id+"ButtonBoardModeToolbarWrapper";d.style.position="absolute";d.style.top="100px";d.style.left="100px";d.style.width=this.Wb+"px";d.style.height=this.Cc+"px";d.style.background="rgb(217, 217, 217)";d.style.display="block";d.style.border="1px solid rgb(166, 166, 166)";d.style.boxShadow="0px 1px 15px rgba(0,0,0,0.8)";d.style.opacity=0;d.style.overflowY="hidden";d.style.boxSizing="border-box";d.onclick=function(){id(c)};b.appendChild(d);var e=document.createElement("div");e.id=b.id+"ButtonBoardModeToolbar";e.style.position="absolute";e.style.top="1px";e.style.left="1px";e.style.right="1px";e.style.bottom="1px";d.appendChild(e);this.Lm=new Nc(a);this.Nm=new Oc(a);this.Im=new Pc(a);this.Qm=new Qc(a);this.Om=new Rc(a);this.Km=new Sc(a);this.Rm=new Tc(a);this.Pm=new Uc(a);this.Mm=new Vc(a);this.Jm=new jd(a);b=new kd(a);R(b,this.Lm,36,S);R(b,this.Nm,36,S);R(b,this.Im,36,S);R(b,this.Qm,36,S);R(b,this.Om,36,S);R(b,this.Km,36,S);R(b,this.Rm,36,S);R(b,this.Pm,36,S);R(b,this.Mm,36,S);R(b,this.Jm,36,S);b.o(e.id,a.b);b.p();d.style.display="none";this.cb=d;this.Aa=null;this.Lf=0;d.style.transitionProperty="opacity,top,height";d.style.transitionDuration="1s";d.style.transitionTimingFunction="cubic-bezier(0,0,0,1)";d.style.transitionDelay="0s";this.ek=this.sa=null}Fc(fd,rc);l=fd.prototype;l.p=function(){fd.r.p.apply(this,arguments);var a=Ob(this.g,this.a.d.a),b=a.h-this.Wb/2+18,a=a.f-50,c=this.g.Mb(),d=this.g.Ga();b+this.Wb>c-5&&(b=c-5-this.Wb);5>b&&(b=5);a+this.Cc>d-5&&(a=d-5-this.Cc);5>a&&(a=5);this.Lf=a;this.cb.style.left=b+"px";this.cb.style.top=a+"px"};l.ga=function(){};l.aa=function(){if("none"===this.cb.style.display){if(null===this.ek){var a=this;this.ek=setTimeout(function(){null!==a.Aa&&(clearTimeout(a.Aa),a.Aa=null);a.cb.style.display="block";a.cb.style.opacity=0;a.cb.style.top=a.Lf+50+"px";a.cb.style.height="0px";a.Aa=setTimeout(function(){a.cb.style.opacity=1;a.cb.style.top=a.Lf+"px";a.cb.style.height=a.Cc+"px";a.Aa=null;a.ek=null},20)},20)}}else id(this)};l.da=function(){return"Select Edit mode (F1-F10)"};l.ya=function(){this.g.Sf=this};l.cc=function(){tc(this)};function id(a){"none"!==a.cb.style.display&&(null!==a.Aa&&(clearTimeout(a.Aa),a.Aa=null),a.cb.style.opacity=0,a.cb.style.top=a.Lf+50+"px",a.cb.style.height="0px",a.Aa=setTimeout(function(){a.cb.style.display="none";a.Aa=null},500))}function jd(a){Uc.r.constructor.call(this,a)}Fc(jd,rc);jd.prototype.ga=function(a){a.lineWidth=2;a.strokeStyle="rgb(0, 0, 200)";a.beginPath();a.moveTo(18,12);a.lineTo(18,6);a.lineTo(6,6);a.lineTo(6,18);a.lineTo(12,18);a.stroke();a.strokeStyle="rgb(0, 100, 0)";a.beginPath();a.moveTo(24,18);a.lineTo(24,12);a.lineTo(12,12);a.lineTo(12,24);a.lineTo(18,24);a.stroke();a.strokeStyle="rgb(200, 0, 0)";a.beginPath();a.moveTo(30,30);a.lineTo(30,18);a.lineTo(18,18);a.lineTo(18,30);a.closePath();a.stroke()};jd.prototype.aa=function(){Ea(this.b.j,10)};jd.prototype.da=function(){return"Color marks (F10)"};jd.prototype.ya=function(){this.g.B.Th.push(this)};function Zc(a,b){Uc.r.constructor.call(this,a);this.jb=Dc(this,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAICAYAAADJEc7MAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wwVDQAZ4Th1ZQAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAkUlEQVQY033PsRHDIAwF0A+nitILUHCnhoapklW8QrZhBBo1NDRULEEak3OwsSpO0pOEijG+QgifWityzgoP4Zzr1lqklN5ERLsxBswMAH2FmbkfPSCiXbfWNhEZRTBzf0IigtbapgGglKJWeEalFAUANBqORPfe/84eg2b0Bxf4FgGAnv9zPnuFLhvnzaf3Jb5oPFaLEyr1tgAAAABJRU5ErkJggg==");this.Ua=null;this.Jb=b;var c=a.Z;this.Wb=160;this.Cc=114;var d=document.createElement("div");d.id=c.id+"ToolbarCustomizeWrapper";d.style.position="absolute";d.style.top="100px";d.style.left="100px";d.style.width=this.Wb+"px";d.style.height=this.Cc+"px";d.style.background="rgb(255, 255, 255)";d.style.display="block";d.style.border="1px solid rgb(166, 166, 166)";d.style.boxShadow="0px 1px 15px rgba(0,0,0,0.8)";d.style.overflowY="hidden";c.appendChild(d);d.style.transitionProperty="height";d.style.transitionDuration="0.2s";d.style.transitionDelay="0s";d.style.display="none";this.Xb=d;this.dk=this.Aa=null;c=document.createElement("ul");c.style.padding="5px 0";c.style.margin="2px 0 0";c.style.listStyle="none";c.style.fontSize="16px";c.style.Tg="padding-box";c.style.lineHeight="20px";this.io=ld(this,c,"Main navigation",function(){a.qj()},y.Kd);this.oo=ld(this,c,"Tree navigation",function(){a.sj()},y.Md);this.Sm=ld(this,c,"General toolbar",function(){a.pj()},y.Jd);this.co=ld(this,c,"Autoplay toolbar",function(){a.oj()},y.Id);this.no=ld(this,c,"Timeline toolbar",function(){a.rj()},y.Ld);d.appendChild(c)}Fc(Zc,rc);l=Zc.prototype;l.o=function(a,b){Zc.r.o.apply(this,arguments);var c=this.a.d.a,d=document.createElement("canvas");d.setAttribute("id",a+"_transform");d.setAttribute("style","position:absolute;padding:0;margin:0;top:14px;left:11px;width:14px;height:8px;");d.width=14;d.height=8;d.setAttribute("oncontextmenu","return false;");d.draggable="false";d.ondragstart=function(a){a.preventDefault();return!1};c.appendChild(d);this.Ua=d};l.p=function(){Zc.r.p.apply(this,arguments);var a=Ob(this.g,this.a.d.a),b=a.h+36-this.Wb,a=a.f+36+5,c=this.g.Mb(),d=this.g.Ga();b+this.Wb>c-5&&(b=c-5-this.Wb);5>b&&(b=5);a+this.Cc>d-5&&(a=d-5-this.Cc);5>a&&(a=5);this.Lf=a;this.Xb.style.left=b+"px";this.Xb.style.top=a+"px"};l.ga=function(){this.Ua&&this.Ua.getContext("2d").drawImage(this.jb,0,0)};l.aa=function(){if("none"===this.Xb.style.display){if(null===this.dk){var a=this;this.dk=setTimeout(function(){null!==a.Aa&&(clearTimeout(a.Aa),a.Aa=null);a.Xb.style.display="block";a.Xb.style.height="0px";a.Aa=setTimeout(function(){a.Xb.style.height=a.Cc+"px";a.Aa=null;a.dk=null;a.Ua.style.transition="transform 0.2s ease";a.Ua.style.transform="rotate(180deg)";yc(a,!0)},20)},20)}}else md(this)};l.da=function(){return""};l.ya=function(){this.g.B.ob=this};function md(a,b){"none"!==a.Xb.style.display&&(!0===b?(a.Xb.style.height="0px",a.Xb.style.display="none",a.Ua.style.transition="transform 0.2s ease",a.Ua.style.transform="rotate(0deg)",yc(a,!1)):(null!==a.Aa&&(clearTimeout(a.Aa),a.Aa=null),a.Xb.style.height="0px",a.Aa=setTimeout(function(){a.Xb.style.display="none";a.Aa=null;a.Ua.style.transition="transform 0.2s ease";a.Ua.style.transform="rotate(0deg)";yc(a,!1)},200)))}function ld(a,b,c,d,e){var f=document.createElement("li");f.style.fontFamily='"Times New Roman", Times, serif';f.style.width=a.Wb-10+"px";f.style.height="20px";f.style.color="#444444";f.style.margin="0px 5px 0px 5px";f.style.cursor="pointer";var g=document.createElement("div");g.style.paddingLeft="3px";g.style.width="20px";g.style.height="20px";g.style["float"]="left";nd(g,e?"\u2714":"");f.appendChild(g);e=document.createElement("div");e.style.paddingLeft="5px";e.style.height="20px";e.style.width=a.Wb-10-20-10+"px";e.style["float"]="left";e.style.overflow="hidden";nd(e,c);f.appendChild(e);f.onmouseover=function(){f.style.background="#d8dadc";f.style.color="#373737"};f.onmouseout=function(){f.style.background="transparent";f.style.color="#444444"};f.onclick=function(){d&&d();md(a,!0)};b.appendChild(f);return g}l.ej=function(a){this.Jb&&this.Jb.ej(a);od(this.io,a)};l.hj=function(a){this.Jb&&this.Jb.hj(a);od(this.oo,a)};l.hf=function(a){this.Jb&&this.Jb.hf(a);od(this.Sm,a)};l.$i=function(a){this.Jb&&this.Jb.$i(a);od(this.co,a)};l.gj=function(a){this.Jb&&this.Jb.gj(a);od(this.no,a)};l.hf=function(a){this.Jb&&this.Jb.hf(a);od(this.Sm,a)};function od(a,b){a&&(!0===b?nd(a,"\u2714"):nd(a,""))}function pd(a){pd.r.constructor.call(this,a)}Fc(pd,rc);pd.prototype.ga=function(a){a.lineWidth=2;a.strokeStyle="rgb(0, 0, 200)";a.beginPath();a.moveTo(18,12);a.lineTo(18,6);a.lineTo(6,6);a.lineTo(6,18);a.lineTo(12,18);a.stroke();a.strokeStyle="rgb(0, 100, 0)";a.beginPath();a.moveTo(24,18);a.lineTo(24,12);a.lineTo(12,12);a.lineTo(12,24);a.lineTo(18,24);a.stroke();a.strokeStyle="rgb(200, 0, 0)";a.beginPath();a.moveTo(30,30);a.lineTo(30,18);a.lineTo(18,18);a.lineTo(18,30);a.closePath();a.stroke()};pd.prototype.aa=function(){};pd.prototype.da=function(){return""};function qd(a){this.g=a;this.b=null;this.a={d:null,Qg:{d:null}};var b=this;this.fn=function(){b.b.Lg(b.a.Qg.d.a.value)}}qd.prototype.o=function(a,b){this.b=b;this.a.d=D(a);var c=this.a.d.a;c.style.background=Q(new z(217,217,217,255));c.style.boxSizing="content-box";var d=a+"_TextArea",e=document.createElement("textarea");e.setAttribute("id",d);e.setAttribute("style","position:absolute;padding:0;margin:0;resize:none;outline: none;-moz-appearance: none;padding:2px;");c.appendChild(e);e.onchange=this.fn;e.onblur=this.fn;e.style.outline="none";e.style.margin="0px";e.style.border="1px solid rgb(172,172,172)";c=this.a.d;this.a.Qg.d=D(d);d=this.a.Qg.d;J(d.i,6,0,12,6,!0,!0,!0,!0,-1,-1);d.n=L|M|O|P;c.k(d);this.g&&this.g.Lj.push(this);this.p()};qd.prototype.Yc=function(a){this.a.Qg.d.a.value=a};qd.prototype.p=function(){this.a.d.fb(this.a.d.a.clientWidth,this.a.d.a.clientHeight)};function rd(a){this.g=a;this.ym=H;this.b=null;this.a={d:null,fc:null,hc:null,Image:null};this.jb=null;this.yh=this.xh="";this.Vj=0;this.Qj=!1}l=rd.prototype;l.o=function(a,b,c){this.ym=c;this.b=b;this.a.d=D(a);b=this.a.d.a;b.style.backgroundColor=Q(new z(217,217,217,255));this.a.fc=document.createElement("div");this.a.hc=document.createElement("div");this.a.Image=document.createElement("canvas");var d=this.a.Image,e=this.a.fc,f=this.a.hc;b.appendChild(d);b.appendChild(e);b.appendChild(f);e.style.paddingLeft="25px";f.style.paddingLeft="25px";e.style.fontSize="14pt";f.style.paddingLeft="10pt";d.setAttribute("id",a+"_Image");d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.style.left="0px";d.style.top="0px";d.style.width="25px";d.style.height="25px";d.width=25;d.height=25;a=d.getContext("2d");a.clearRect(0,0,25,25);b=Math.ceil(13);d=Math.ceil(13);e=Math.ceil(6.75);G===c?(a.fillStyle=Q(new z(255,255,255)),a.strokeStyle=Q(new z(0,0,0))):E===c&&(a.fillStyle=Q(new z(0,0,0)),a.strokeStyle=Q(new z(0,0,0)));a.beginPath();a.arc(b,d,e,0,2*Math.PI,!1);a.fill();a.stroke();this.g&&(E===c?this.g.Hc=this:G===c&&(this.g.Mc=this));this.ua()};l.p=function(){this.ua();var a=this.Yn,b=this.a.d.a.clientWidth-25,c=0,c=b<a?0:(b-a)/2;this.a.Image.style.left=c+"px";c+=25;this.a.fc.style.paddingLeft=c+"px";this.a.hc.style.paddingLeft=c+"px";this.a.fc.style.overflow="hidden";this.a.fc.style.textOverflow="ellipsis";this.a.fc.style["-o-text-overflow"]="ellipsis";this.a.fc.style.height="25px";this.a.fc.style.lineHeight="25px";this.a.fc.style.fontFamily='"Times New Roman", Times, serif';this.a.hc.style.overflow="hidden";this.a.hc.style.textOverflow="ellipsis";this.a.hc.style["-o-text-overflow"]="ellipsis";this.a.hc.style.height="25px";this.a.hc.style.lineHeight="25px";this.a.hc.style.fontFamily='"Times New Roman", Times, serif'};l.nf=function(a){this.Qj=!1;this.Vj=a;this.ua()};l.Zc=function(a){this.Qj=!0;this.Vj=a;this.ua()};l.ua=function(){var a=this.a.hc,b=(""===this.xh?E===this.ym?"Black ":"White ":this.xh)+(""===this.yh?"":"["+this.yh+"]"),c=(!0===this.Qj?"Scores ":"Captured ")+this.Vj;nd(this.a.fc,b);nd(a,c);a=document.createElement("canvas").getContext("2d");a.font="14pt Times New Roman";this.Yn=a.measureText(b).width};function sd(a){this.g=a;this.b=null;this.a={d:null,nb:null,Pb:null,te:null,se:null};this.mm=this.nm=0}sd.prototype.o=function(a,b){this.b=b;this.a.d=D(a);var c=this.a.d.a;c.style.backgroundColor=Q(new z(217,217,217,255));this.a.nb=document.createElement("div");this.a.te=document.createElement("canvas");this.a.Pb=document.createElement("div");this.a.se=document.createElement("canvas");c.appendChild(this.a.nb);c.appendChild(this.a.te);c.appendChild(this.a.Pb);c.appendChild(this.a.se);this.a.te.style.position="absolute";this.a.te.style.left="0px";this.a.te.style.top="0px";this.a.nb.style.position="absolute";this.a.nb.style.left="25px";this.a.nb.style.top="0px";this.a.nb.style.overflow="hidden";this.a.nb.style.textOverflow="ellipsis";this.a.nb.style.height="25px";this.a.nb.style.fontFamily='"Times New Roman", Times, serif';this.a.nb.style.fontSize="16px";this.a.nb.style.lineHeight="25px";this.a.se.style.position="absolute";this.a.se.style.left="61px";this.a.se.style.top="0px";this.a.Pb.style.position="absolute";this.a.Pb.style.left="86px";this.a.nb.style.top="0px";this.a.Pb.style.overflow="hidden";this.a.Pb.style.textOverflow="ellipsis";this.a.Pb.style.height="25px";this.a.Pb.style.fontFamily='"Times New Roman", Times, serif';this.a.Pb.style.fontSize="16px";this.a.Pb.style.lineHeight="25px";td(this.a.te,!1);td(this.a.se,!0);this.ua()};function td(a,b){a.setAttribute("oncontextmenu","return false;");a.style.padding="0px";a.style.margin="0px";a.style.width="25px";a.style.height="25px";a.width=25;a.height=25;var c=a.getContext("2d");c.clearRect(0,0,25,25);var d=Math.ceil(13),e=Math.ceil(13),f=Math.ceil(6.75);c.fillStyle=b?Q(new z(0,0,0)):Q(new z(255,255,255));c.strokeStyle=Q(new z(0,0,0));c.beginPath();c.arc(d,e,f,0,2*Math.PI,!1);c.fill();c.stroke()}sd.prototype.p=function(){this.ua()};sd.prototype.Zc=function(a,b){this.nm=a;this.mm=b;this.ua()};sd.prototype.ua=function(){nd(this.a.nb,""+this.nm);nd(this.a.Pb,""+this.mm)};function ud(a){this.g=a;this.b=null;this.a={d:null,hb:null};this.wk="White vs. Black"}ud.prototype.o=function(a,b){this.b=b;this.a.d=D(a);var c=this.a.d.a;c.style.backgroundColor=Q(new z(217,217,217,255));this.a.hb=document.createElement("div");c.appendChild(this.a.hb);this.a.hb.style.position="absolute";this.a.hb.style.left="0px";this.a.hb.style.top="0px";this.a.hb.style.overflow="hidden";this.a.hb.style.textOverflow="ellipsis";this.a.hb.style.fontFamily='"Times New Roman", Times, serif';this.a.hb.style.fontSize="16px";this.a.hb.style.height="25px";this.a.hb.style.lineHeight="25px";this.a.hb.style.width="100%";this.a.hb.style.textAlign="center";this.ua()};ud.prototype.p=function(){this.ua()};ud.prototype.ua=function(){nd(this.a.hb,""+this.wk)};function vd(){this.dc=this.gc=this.jc=this.ec=0;this.Ug=this.Wg=this.Xg=this.Vg=!1;this.Te=this.qd=-1}function J(a,b,c,d,e,f,g,h,k,m,n){a.ec=b;a.jc=c;a.gc=d;a.dc=e;a.Vg=f;a.Xg=g;a.Wg=h;a.Ug=k;a.qd=m;a.Te=n}var M=1,L=2,P=4,O=8;function wd(){this.i=new vd;this.n=M|L;this.a=this.Hg=this.Dg=null;this.Nc=new vd;this.Va=[];this.zc=this.height=this.width=0;this.Qc=null;this.Cb=400}wd.prototype.Wa=function(a,b,c){this.zc=a;(this.Qc=b)&&b.Ok&&b.Ok(this);c&&void 0!==c.Cb&&(this.Cb=c.Cb)};wd.prototype.k=function(a){a.Hg=this;this.Va[this.Va.length]=a};wd.prototype.fb=function(a,b){this.width=a;this.height=b;if(null==this.Hg)this.Nc.ec=0,this.Nc.jc=0,this.Nc.gc=a,this.Nc.dc=b,null!==this.a&&xd(this,a,b);else{var c=0,d=0,e=0,f=0,g=this.n&5,h=this.n&10;M==g?(this.i.Vg?c=this.i.ec:c=this.i.ec*a/1E3,-1!=this.i.qd?e=c+this.i.qd:e=this.i.Wg?a-this.i.gc:this.i.gc*a/1E3):P==g?(e=this.i.Wg?a-this.i.gc:this.i.gc*a/1E3,-1!=this.i.qd?c=e-this.i.qd:this.i.Vg?c=this.i.ec:c=this.i.ec*a/1E3):(M|P)==g?(this.i.Vg?c=this.i.ec:c=this.i.ec*a/1E3,e=this.i.Wg?a-this.i.gc:this.i.gc*a/1E3):(c=this.i.ec,e=this.i.gc);L==h?(this.i.Xg?d=this.i.jc:d=this.i.jc*b/1E3,-1!=this.i.Te?f=d+this.i.Te:f=this.i.Ug?b-this.i.dc:this.i.dc*b/1E3):O==h?(f=this.i.Ug?b-this.i.dc:this.i.dc*b/1E3,-1!=this.i.Te?d=f-this.i.Te:this.i.Xg?d=this.i.jc:d=this.i.jc*b/1E3):(L|O)==h?(this.i.Xg?d=this.i.jc:d=this.i.jc*b/1E3,f=this.i.Ug?b-this.i.dc:this.i.dc*b/1E3):(d=this.i.jc,f=this.i.dc);e<c&&(e=c);f<d&&(f=d);-2===this.i.qd?e=c+1*(f-d):-3===this.i.qd&&(c=1*(f-d));this.Nc.ec=c;this.Nc.jc=d;this.Nc.gc=e;this.Nc.dc=f;this.a.style.left=(c+.5|0)+"px";this.a.style.top=(d+.5|0)+"px";this.a.style.width=(e-c+.5|0)+"px";this.a.style.height=(f-d+.5|0)+"px";this.a.width=e-c+.5|0;this.a.height=f-d+.5|0;xd(this,e-c,f-d)}};function xd(a,b,c){var d=a.Va.length;if(1===a.zc&&2===d){var e=a.Qc?ta(a.Qc):1,f=a.Va[0],g=a.Va[1],h,k=c;h=b-a.Cb;var m=k*e,e=h/e;m<=h?(e=k,h=k=0):(m=h,h=0,k=(k-e)/2);J(f.i,h,k,1E3,1E3,!0,!0,!1,!1,m,e);f.n=M|L;J(g.i,m,0,1E3,1E3,!0,!1,!1,!1,-1,-1);g.n=P|O|L}else 2===a.zc&&1===d?a.Qc?(e=ta(a.Qc),f=a.Va[0],m=c*e,e=b/e,m<=b?(e=c,k=0,h=(b-m)/2):(m=b,h=0,k=(c-e)/2),J(f.i,h,k,1E3,1E3,!0,!0,!1,!1,m,e),f.n=M|L):(f=a.Va[0],h=Math.min(b,c),J(f.i,(b-h)/2,(c-h)/2,1E3,1E3,!0,!0,!0,!1,h,h),f.n=M|O|L):3===a.zc&&2===d&&(e=a.Qc?ta(a.Qc):1,f=a.Va[0],g=a.Va[1],k=a.Cb,h=b,k=c-k,m=k*e,e=h/e,m<=h?(e=k,k=0,h=(h-m)/2):(m=h,k=h=0),J(f.i,h,k,1E3,1E3,!0,!0,!1,!1,m,e),f.n=M|L,J(g.i,0,e,1E3,1E3,!1,!0,!1,!1,-1,-1),g.n=M|P|O);for(h=0;h<d;h++)a.Va[h].fb(b,c)}wd.prototype.Fa=function(){this.Va=[];this.zc=0;this.Qc=null;this.Cb=400};function D(a){var b=new wd;b.Dg=a;b.a=document.getElementById(a);return b}function yd(){this.a=this.Hg=null;this.D=0;this.Va=[]}yd.prototype.Set=function(a){this.D=a};yd.prototype.k=function(a){a.Hg=this;this.Va[this.Va.length]=a};yd.prototype.fb=function(a,b){var c=b-this.D,d=a;d!==c&&(c=d=Math.min(d,c));var e=(b-this.D-c)/2;this.a.style.left=parseInt((a-d)/2+.5)+"px";this.a.style.top=parseInt(e+.5)+"px";this.a.style.width=parseInt(d+.5)+"px";this.a.style.height=parseInt(c+this.D+.5)+"px";this.a.width=parseInt(d+.5);this.a.height=parseInt(c+this.D+.5);for(var e=this.Va.length,f=0;f<e;f++)this.Va[f].fb(d,c+this.D)};function zd(){this.I={ib:!0,rb:!0,lb:new z(231,188,95,255),Hd:!0,qb:!0,xb:new z(255,255,255,255),vb:new z(0,0,0,255),wb:new z(0,0,0,255),pb:!1};this.N={ib:!0,rb:!0,lb:new z(231,188,95,255),qb:!0,xb:new z(255,255,255,255),vb:new z(0,0,0,255),wb:new z(0,0,0,255),pb:!1}}function Ad(a,b){var c=!0,d=!0,e=null,f=!0,g=!0,h=new z(255,255,255,255),k=new z(0,0,0,255),m=new z(0,0,0,255),n=!1;switch(b){default:case 1:g=f=d=c=!0;e=new z(231,188,95,255);m=new z(0,0,0,255);break;case 2:g=f=d=c=!1;e=new z(255,255,255,255);m=new z(0,0,0,255);break;case 3:g=f=d=c=!1;e=new z(231,188,95,255);m=new z(0,0,0,255);break;case 4:g=f=d=c=!1,n=!0,e=new z(30,30,30,255),h=new z(220,220,220,220),m=new z(255,255,255,255)}var p=!1,t=!1;if(a.I.ib!==c||a.I.rb!==d||!0!==Bd(a.I.lb,e)||a.I.Hd!==f||a.I.qb!==g||!0!==Bd(a.I.xb,h)||!0!==Bd(a.I.vb,k)||!0!==Bd(a.I.wb,m)||a.I.pb!==n)a.I.ib=c,a.I.rb=d,a.I.lb=e,a.I.Hd=f,a.I.qb=g,a.I.xb=h,a.I.vb=k,a.I.wb=m,a.I.pb=n,p=!0;if(a.N.ib!==c||a.N.rb!==d||!0!==Bd(a.N.lb,e)||a.N.qb!==g||!0!==Bd(a.N.xb,h)||!0!==Bd(a.N.vb,k)||!0!==Bd(a.N.wb,m)||a.N.pb!==n)a.N.ib=c,a.N.rb=d,a.N.lb=e,a.N.qb=g,a.N.xb=h,a.N.vb=k,a.N.wb=m,a.N.pb=n,t=!0;return{V:p,Navigator:t}}function Cd(){Cd.r.constructor.call(this);this.Sj=!0;this.Nj=this.Fb=this.Oj=!1;this.Xj=1;this.Wj=3;this.Ld=this.Id=this.Jd=this.Md=this.Kd=this.Nd=!0}Fc(Cd,zd);function Dd(){var a=y;a.Nd="0"===Ed("ShowTarget")?!1:!0;a.Nj="1"===Ed("CycleThroughVariants")?!0:!1;a.Sj="0"===Ed("Sound")?!1:!0;var b=Ed("NavigatorLabels");a.Xj=b&&""!==b?parseInt(b):1;var b=1,c=Ed("ColorScheme");"BookStyle"===c?b=2:"SimpleColor"===c?b=3:"Dark"===c&&(b=4);a.Kg(b);a.Oj="1"===Ed("LoadUnfinishedFilesOnLastNode")?!0:!1;b=Ed("ShowVariants");a.Wj=b&&""!==b?parseInt(b):3;a.Fb="1"===Ed("Rulers")?!0:!1;a.Kd="0"==Ed("MultiLevelToolbarMainNavigation")?!1:!0;a.Md="0"==Ed("MultiLevelToolbarTreeNavigation")?!1:!0;a.Jd="0"==Ed("MultiLevelToolbarGeneral")?!1:!0;a.Id="1"==Ed("MultiLevelToolbarAutoPlay")?!0:!1;a.Ld="1"==Ed("MultiLevelToolbarTimeline")?!0:!1}l=Cd.prototype;l.kf=function(a){this.Sj=a;Fd("Sound",!0===a?"1":"0")};l.df=function(){return this.Sj};l.Mg=function(a){this.Fb=a;Fd("Rulers",!0===a?"1":"0")};l.dj=function(a){this.Oj=a;Fd("LoadUnfinishedFilesOnLastNode",!0===a?"1":"0")};l.bf=function(){return this.Oj};l.aj=function(a){this.Nj=a;Fd("CycleThroughVariants",!0===a?"1":"0")};l.zd=function(){return this.Nj};l.yc=function(a){this.Nd=a;Fd("ShowTarget",!0===a?"1":"0")};l.ve=function(){return this.Nd};l.Kg=function(a){switch(a){case 1:Fd("ColorScheme","TrueColor");break;case 2:Fd("ColorScheme","BookStyle");break;case 3:Fd("ColorScheme","SimpleColor");break;case 4:Fd("ColorScheme","Dark")}return Ad(this,a)};l.oe=function(){return this.Xj};l.fj=function(a){this.Xj=a;Fd("NavigatorLabels",a)};l.ud=function(){return this.Wj};l.cj=function(a){this.Wj=a;Fd("ShowVariants",a)};l.qj=function(){this.Kd=!this.Kd;Fd("MultiLevelToolbarMainNavigation",!0===this.Kd?"1":"0");return this.Kd};l.sj=function(){this.Md=!this.Md;Fd("MultiLevelToolbarTreeNavigation",!0===this.Md?"1":"0");return this.Md};l.pj=function(){this.Jd=!this.Jd;Fd("MultiLevelToolbarGeneral",!0===this.Jd?"1":"0");return this.Jd};l.oj=function(){this.Id=!this.Id;Fd("MultiLevelToolbarAutoPlay",!0===this.Id?"1":"0");return this.Id};l.rj=function(){this.Ld=!this.Ld;Fd("MultiLevelToolbarTimeline",!0===this.Ld?"1":"0");return this.Ld};var y=new Cd;function Gd(a){Gd.r.constructor.call(this);this.I={ib:null,rb:null,lb:null,Hd:null,qb:null,xb:null,vb:null,wb:null,pb:null};this.N={ib:null,rb:null,lb:null,qb:null,xb:null,vb:null,wb:null,pb:null};this.b=a;this.Nd=null;this.gm=!1}Fc(Gd,zd);Gd.prototype.Kg=function(a){return null!==a?Ad(this,a):{V:!0,Navigator:!0}};Gd.prototype.ve=function(){return null===this.Nd?y.ve():this.Nd};Gd.prototype.yc=function(a){this.Nd=a};function Hd(a){if(this.b=a)a.g=this;this.Sa=this.mh=this.Me=this.Z=null;this.U=[];this.B={Qh:[],Rh:[],Pc:[],Rc:[],qi:[],pi:[],Vc:[],Wc:[],ul:null,Wh:[],Yh:[],Vh:[],ai:[],Zh:[],Uh:[],bi:[],$h:[],Xh:[],Th:[],ob:null};this.$d=this.Zd=this.Mc=this.Hc=this.Sf=this.Nf=this.Mf=this.pk=this.oh=this.oa=this.jh=null;this.Lj=[];var b=this;this.Pj=!0;this.Sd=0;this.dh=!1;this.ak=-1;this.gd=400;this.Ud=200;this.Dc=-1;this.Cm=this.Em=this.Dm=this.Gm=this.Fm=0;this.Ho=function(){b.Sf&&id(b.Sf);b.B.ob&&md(b.B.ob,!1)};this.en=function(){Id(b.en);var a;if(a=b.oh)a=b.oh,a=a.eh||a.fh?!0:!1;if(a){a=b.oh;if(a.eh&&a.b){var d=a.c.J,e=a.c.D;if(!(0>=d||0>=e)){var f=a.b.m.kb,g=10+a.$.h+24*f.h,f=10+a.$.f+24*f.f,h=a.a.sd.d.a.getContext("2d");h.clearRect(0,0,d,e);-24<=g&&g<=d+24&&-24<=f&&f<=e+24&&h.putImageData(a.c.sd,g,f);a.eh=!1}}if(a.fh&&(d=a.c.J,e=a.c.D,0!==d&&0!==e)){if(!(a.Ib.J===d&&a.Ib.D===e&&1>Math.abs(a.$.h-a.Ib.h)&&1>Math.abs(a.$.f-a.Ib.f))){a.Ib.J=d;a.Ib.D=e;a.Ib.h=a.$.h;a.Ib.f=a.$.f;var g=a.a.ca.d.a.getContext("2d"),f=a.a.kj.d.a.getContext("2d"),h=a.a.Ui.d.a.getContext("2d"),k=a.a.Selection.d.a.getContext("2d");h.clearRect(0,0,d,e);f.clearRect(0,0,d,e);g.clearRect(0,0,d,e);k.clearRect(0,0,d,e);for(var k=10+a.$.h,m=10+a.$.f,n=a.fa.Ga(),p=a.Fh(),t=0;t<=n-1;t++){var q=m+24*t;if(-24<=q&&q<=e+24)for(var u=a.fa.fa[t].length-1,v=0;v<=u;v++){var r=k+24*v;if(-24<=r&&r<=d+24){var x=a.fa.K(v,t);if(!1===x.cf()){var I=x.ue();switch(x.O){case Jd:I.bd?g.putImageData(a.c.Aj,r,q):g.putImageData(a.c.Gj,r,q);break;case Kd:I.bd?1===I.Gl?g.putImageData(a.c.Bj,r,q):g.putImageData(a.c.Cj,r,q):g.putImageData(a.c.Dj,r,q);break;case Ld:I.bd?g.putImageData(a.c.Ej,r,q):g.putImageData(a.c.Fj,r,q)}}else{var I=x.ue(),K=x.$b,B=K.O,F=x.eb,V="",A=0;switch(y.oe()){case 0:V="";break;case 1:V=""+x.kb.Gg;2>=V.length?h.font="bold 10px sans-serif":(h.font="bold 9px sans-serif",A=-1);break;case 2:V=I?""+x.kb.Gg:"";2>=V.length?h.font="bold 10px sans-serif":(h.font="bold 9px sans-serif",A=-1);break;case 3:var N=a.b.oa.ea(),V=N.h,N=N.f,T=qb(K.za()),K=T.f,V=Oa(T.h,V),V=V+(N+1-K);h.font=2>=V.length?"bold 10px sans-serif":"bold 8px sans-serif"}K=h.measureText(V).width;E===B?(I&&!0===p&&f.putImageData(a.c.Qa,r+2+a.c.ic,q+2+a.c.ic),h.putImageData(I?a.c.ie:a.c.pg,r+2,q+2),""===F?""!==V&&(h.fillStyle=I?"#CCC":"rgb(192, 192, 192)",h.fillText(V,r+12-K/2+A,q+12+3)):h.putImageData(I?a.c.Sl:a.c.Tl,r+2,q+2)):G===B?(I&&!0===p&&f.putImageData(a.c.Qa,r+2+a.c.ic,q+2+a.c.ic),h.putImageData(I?a.c.ye:a.c.Sg,r+2,q+2),""===F?""!==V&&(h.fillStyle=I?"#000":"rgb(56, 56, 56)",h.fillText(V,r+12-K/2+A,q+12+3)):h.putImageData(I?a.c.Vl:a.c.Wl,r+2,q+2)):h.putImageData(I?a.c.Rl:a.c.Ul,r+2,q+2);F=Md(x);x=x.la;0===v?0!==F&&(1===F?I?g.putImageData(a.c.Di,r,q):g.putImageData(a.c.Hi,r,q):I?0==x?g.putImageData(a.c.Ei,r,q):g.putImageData(a.c.Fi,r,q):g.putImageData(a.c.Gi,r,q)):0===F?I?g.putImageData(a.c.Bi,r,q):g.putImageData(a.c.Ci,r,q):1===F?I?g.putImageData(a.c.xi,r,q):g.putImageData(a.c.Ii,r,q):I?0===x?g.putImageData(a.c.yi,r,q):g.putImageData(a.c.zi,r,q):g.putImageData(a.c.Ai,r,q);E!==B&&G!==B||g.clearRect(r+3,q+3,18,18)}}}}}a.fh=!1}}b.Pj&&Nd(b,!1)};this.en()}function Od(a){if(a.Z){var b=document.createElement("div");b.style.width="100%";b.style.height="100%";b.style.position="absolute";b.style.left="0px";b.style.top="0px";b.style.backgroundColor="rgb(0, 0, 0)";b.style.opacity=.4;a.Z.appendChild(b);a.mh=b;if(b=Pd[Kb])b=b.a.d.a;var c;a:{if((c=a.Z)&&b)for(var d=0,e=b.parentNode;null!=e;){if(e==c){c=!0;break a}d--;if(0>d)break;e=e.parentNode}c=!1}c&&(a.Z.removeChild(b),a.Z.appendChild(b))}}function Qd(a){a.mh&&(a.Z.removeChild(a.mh),a.mh=null)}l=Hd.prototype;l.Mb=function(){return this.Z?parseInt(this.Z.clientWidth):0};l.Ga=function(){return this.Z?parseInt(this.Z.clientHeight):0};function Ob(a,b){for(var c=0,d=0,e=b;e!=a.Z&&e;)c+=e.offsetLeft-e.scrollLeft+e.clientLeft,d+=e.offsetTop-e.scrollTop+e.clientTop,e=e.offsetParent;return{h:c,f:d}}l.wg=function(a){this.Sd=1;Rd(this,a);var b=new aa(this);b.o(a,this.b);b.Ba();this.U.push(b);this.p()};l.xg=function(a){this.Sd=2;se(this,a);this.Dc=295;a=this.b;var b=this.Me,c=this.Z.id;this.Fm=25;this.Gm=36;var d=c+"I";this.L(b.a,d);var e=D(d);J(e.i,0,0,1E3,0,!1,!1,!1,!1,-1,25);e.n=L|M|P;b.k(e);var f=d+"S";this.L(e.a,f);var g=D(f);J(g.i,0,0,1E3,1E3,!1,!1,!1,!1,122,-1);g.n=L|M|O;e.k(g);this.Zd=new sd(this);this.Zd.o(f,a);this.U.push(this.Zd);d+="T";this.L(e.a,d);f=D(d);J(f.i,122,0,1E3,1E3,!0,!1,!1,!1,-1,-1);f.n=L|P|O;e.k(f);this.$d=new ud(this);this.$d.o(d,a);this.U.push(this.$d);e=c+"T";this.L(b.a,e);d=D(e);J(d.i,0,0,1E3,0,!1,!1,!1,!0,-1,36);d.n=O|M|P;b.k(d);d=new kd(this);R(d,new Ec(this),36,S);R(d,new Gc(this),36,S);R(d,new Hc(this),36,S);R(d,new Ic(this),36,S);R(d,new Jc(this),36,S);R(d,new Kc(this),36,S);R(d,new bd(this),36,te);R(d,new vc(this),36,te);d.o(e,a);this.U.push(d);d=c+"B";e=this.L(b.a,d);c=D(d);J(c.i,0,25,1E3,36,!1,!0,!1,!0,-1,-1);c.n=M|P|L|O;b.k(c);b=d+"B";this.L(e,b);f=D(b);c.k(f);d+="N";this.L(e,d);e=D(d);c.k(e);e=new aa(this);e.o(b,this.b);e.Ba();this.U.push(e);c.Wa(3,e,{Cb:0});this.p();ue(a)};l.ki=function(a){Dd();this.Dc=739;Rd(this,a);var b=this.b,c=D(a);this.L(c.a,a+"div");var d=a+"div",e=new yd;e.Dg=d;e.a=document.getElementById(d);e.Set(38);var f=e.a;c.k(e);var d=a+"_Board",g=a+"_ToolbarPanel";a=a+"_Toolbar";this.L(f,d);f=this.L(f,g);f.style.background="rgb(217, 217, 217)";this.L(f,a);f=D(d);J(f.i,0,0,1E3,38,!1,!1,!1,!0,-1,-1);f.n=L|M|P;e.k(f);f=new aa(this);f.o(d,b);f.Ba();d=D(g);J(d.i,0,0,1E3,0,!1,!1,!1,!0,-1,38);d.n=M|O|P;e.k(d);e=D(a);J(e.i,0,1,1E3,1,!1,!0,!1,!0,-1,-1);e.n=M|O|P;d.k(e);e=new kd(this);R(e,new Ec(this),36,S);R(e,new Gc(this),36,S);R(e,new Hc(this),36,S);R(e,new Ic(this),36,S);R(e,new Jc(this),36,S);R(e,new Kc(this),36,S);R(e,new Lc(this),36,S);R(e,new Mc(this),36,S);R(e,new Nc(this),36,S);R(e,new Oc(this),36,S);R(e,new Pc(this),36,S);R(e,new Qc(this),36,S);R(e,new Rc(this),36,S);R(e,new Sc(this),36,S);R(e,new Tc(this),36,S);R(e,new Uc(this),36,S);R(e,new Vc(this),36,S);R(e,new vc(this),36,S);R(e,new bd(this),36,te);R(e,new Yc(this),36,te);e.o(a,b);this.Sa=c;this.U.push(f);this.U.push(e);this.p()};function se(a,b){Dd();var c=D(b);a.Sa=c;var d=b+"GB";a.L(c.a,d);var e=D(d);J(e.i,0,0,1,1,!1,!1,!0,!0,-1,-1);e.n=L|M|P|O;c.k(e);Rd(a,d,e)}function ve(a){var b=a.b,c=a.Me,d=a.Z.id;a.gd=344;var e=new aa(a);c.Wa(1,e,{Cb:a.gd});var f=d+"_Board",g=d+"_Panel";a.L(c.a,f);a.L(c.a,g);var h=D(f),d=D(g);c.k(h);c.k(d);e.o(f,b);e.Ba();h=g+"_CaT";f=g+"_Navigator";a.L(d.a,h);a.L(d.a,f);c=D(h);J(c.i,0,0,1E3,500,!1,!1,!1,!1,-1,-1);c.n=L|M|P|O;d.k(c);c.a.style.background="rgb(217, 217, 217)";g=D(f);J(g.i,0,500,1E3,1E3,!1,!1,!1,!1,-1,-1);g.n=L|M|P|O;d.k(g);d=new we(a);d.o(f,b);var k=h+"_Info",f=h+"_Comments",h=h+"_Toolbar";a.L(c.a,k);a.L(c.a,f);a.L(c.a,h);var m=D(k);J(m.i,0,0,1E3,0,!1,!1,!1,!1,-1,50);m.n=L|M|P;c.k(m);g=k+"_White";k+="_Black";a.L(m.a,g);a.L(m.a,k);var n=D(g);J(n.i,0,0,500,1E3,!1,!1,!1,!1,-1,-1);n.n=L|M|P|O;m.k(n);n=D(k);J(n.i,500,0,1E3,1E3,!1,!1,!1,!1,-1,-1);n.n=L|M|P|O;m.k(n);m=new rd(a);m.o(g,b,G);g=new rd(a);g.o(k,b,E);var p=new xe(a);p.o(h);var t=p.Ga(),q=D(h);J(q.i,6,0,6,0,!0,!1,!0,!0,-1,t);q.n=M|P|O;c.k(q);var u=D(f);J(u.i,0,50,1E3,t+1,!1,!0,!1,!0,-1,-1);u.n=L|M|P|O;c.k(u);ye(p,function(){t=p.Ga();J(q.i,6,0,6,0,!0,!1,!0,!0,-1,t);J(u.i,0,50,1E3,t+1,!1,!0,!1,!0,-1,-1);a.p(!1)});c=new qd(a);c.o(f,b);a.U.push(e);a.U.push(d);a.U.push(c);a.U.push(p);a.U.push(g);a.U.push(m);a.p();ue(b)}function ze(a){a.Dc=332;var b=a.b,c=a.Me,d=a.Z.id,e=d+"I";a.L(c.a,e);var f=D(e);J(f.i,0,0,1E3,0,!1,!1,!1,!1,-1,50);f.n=L|M|P;c.k(f);d=d+"O";a.L(c.a,d);var g=D(d);J(g.i,0,50,1E3,1E3,!1,!0,!1,!1,-1,-1);g.n=O|M|P;c.k(g);c=e+"W";a.L(f.a,c);var h=D(c);J(h.i,0,0,500,1E3,!1,!1,!1,!1,-1,-1);h.n=L|M|P|O;f.k(h);h=new rd(a);h.o(c,b,G);a.U.push(h);e+="B";a.L(f.a,e);c=D(e);J(c.i,500,0,1E3,1E3,!1,!1,!1,!1,-1,-1);c.n=L|M|P|O;f.k(c);f=new rd(a);f.o(e,b,E);a.U.push(f);var k=new aa(a);a.U.push(k);g.Wa(3,k,{Cb:a.Ud-50});f=d+"B";a.L(g.a,f);e=D(f);g.k(e);k.o(f,b);k.Ba();f=d+"N";e=a.L(g.a,f);d=D(f);g.k(d);e.style.background="rgb(217, 217, 217)";e=f+"T";a.L(d.a,e);var m=new xe(a);m.o(e);var n=m.Ga();a.U.push(m);a.Ud=n+160;g.Wa(3,k,{Cb:a.Ud-50});var p=D(e);J(p.i,0,1,1E3,0,!1,!0,!1,!1,-1,n);p.n=M|P|L;d.k(p);f+="U";a.L(d.a,f);var t=D(f);J(t.i,0,n+2,1E3,1E3,!1,!0,!1,!1,-1,-1);t.n=M|P|O;d.k(t);ye(m,function(){n=m.Ga();a.Ud=n+160;g.Wa(3,k,{Cb:a.Ud-50});J(p.i,0,1,1E3,0,!1,!0,!1,!1,-1,n);J(t.i,0,n+2,1E3,1E3,!1,!0,!1,!1,-1,-1);a.p(!1)});d=f+"L";a.L(t.a,d);e=D(d);J(e.i,0,0,0,1E3,!1,!1,!1,!1,36,-1);e.n=M|L|O;t.k(e);e=f+"R";a.L(t.a,e);c=D(e);J(c.i,36,0,1E3,1E3,!0,!1,!1,!1,-1,-1);c.n=P|L|O;t.k(c);f=e+"N";a.L(c.a,f);h=D(f);J(h.i,0,0,1E3,1E3,!1,!1,!1,!1,-1,-1);h.n=M|P|L|O;c.k(h);e+="C";a.L(c.a,e);h=D(e);J(h.i,0,0,1E3,1E3,!1,!1,!1,!1,-1,-1);h.n=M|P|L|O;c.k(h);c=new we(a);c.o(f,b);a.U.push(c);c=new qd(a);c.o(e,b);a.U.push(c);c=new Ae(a);c.o(d,b,f,e);a.U.push(c);a.p();ue(b);a.Dm=50;a.Em=36;a.Cm=160}l.vg=function(a){this.Sd=5;var b=this.b,c=new aa(this),d=D(a),e=a+"GoBoard";this.L(d.a,e);var f=D(e);J(f.i,0,0,1,1,!1,!1,!0,!0,-1,-1);f.n=L|M|P|O;d.k(f);this.gd=200;f.Wa(1,c,{Cb:this.gd});var g=a+"_Board",h=a+"_Panel";this.L(f.a,g);this.L(f.a,h);var k=D(g);a=D(h);f.k(k);f.k(a);a.a.style.background="rgb(217, 217, 217)";c.o(g,b);c.Ba();c.b&&(c.b.wa.I.Hd=!1);f=h+"_Toolbar";g=h+"_Comments";this.L(a.a,g);this.L(a.a,f);h=D(g);J(h.i,0,38,1E3,1E3,!1,!0,!1,!1,-1,-1);h.n=L|M|P|O;a.k(h);h=D(f);J(h.i,6,1,1E3,1E3,!0,!0,!1,!0,-1,36);h.n=M|P|L;a.k(h);a=new qd(this);a.o(g,b);g=new kd(this);R(g,new Ec(this),36,S);R(g,new bd(this),36,S);g.o(f,b);this.U.push(c);this.U.push(a);this.U.push(g);this.Sa=d;this.p();ue(b);Rd(this,e)};l.p=function(a){a?Nd(this,!0):this.Pj=!0};function Rd(a,b,c){a.Z=document.getElementById(b);a.Me=c;a.Z.style.background="url('"+Be+"')";a.Z.onclick=a.Ho}function Nd(a,b){if(!0===a.dh){var c=a.Sa.a.clientWidth,d=a.Sa.a.clientHeight;0<a.Dc&&c<a.Dc&&(c=a.Dc);var e=-1,e=d-(c-a.gd)>a.Ud+100?1:0;if(a.ak!==e){a.ak=e;for(Pb(a);a.Z.firstChild;)a.Z.removeChild(a.Z.firstChild);a.Me&&a.Me.Fa();Pd={};0===a.ak?ve(a):ze(a);a.b&&(a.b.ka(a.b.m,!0),a.b.kc(!0))}}a.Pj=!1;a.Sa&&(c=a.Sa.a.clientWidth,d=a.Sa.a.clientHeight,0<a.Dc&&c<a.Dc&&(c=a.Dc),a.Sa.fb(c,d));c=0;for(d=a.U.length;c<d;c++)a.U[c].p(b)}l.L=function(a,b){var c=document.createElement("div");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};l.yl=function(a){this.oa=a};function Rb(a,b){Pb(a);a.jh=b}function Pb(a){if(a.jh){var b=a.jh;a.jh=null;a.Z.removeChild(b)}}l.tl=function(){this.Mf&&xc(this.Mf,0)};l.Vi=function(){this.Mf&&xc(this.Mf,16)};l.wj=function(a){if(this.Hc){var b=this.Hc;b.xh=a;b.ua()}this.$d&&(a=this.$d,a.wk=this.b.Ye(),a.ua())};l.xj=function(a){if(this.Hc){var b=this.Hc;b.yh=a;b.ua()}};l.yj=function(a){if(this.Mc){var b=this.Mc;b.xh=a;b.ua()}this.$d&&(a=this.$d,a.wk=this.b.Ye(),a.ua())};l.zj=function(a){if(this.Mc){var b=this.Mc;b.yh=a;b.ua()}};l.nf=function(a,b){this.Hc&&this.Hc.nf(a);this.Mc&&this.Mc.nf(b);this.Zd&&this.Zd.Zc(b,a)};l.Zc=function(a,b){this.Hc&&this.Hc.Zc(a);this.Mc&&this.Mc.Zc(b);this.Zd&&this.Zd.Zc(b,a)};l.kc=function(a){for(var b=0,c=this.B.Qh.length;b<c;b++)wc(this.B.Qh[b],a.Pc);b=0;for(c=this.B.Rh.length;b<c;b++)wc(this.B.Rh[b],a.Pc);b=0;for(c=this.B.Pc.length;b<c;b++)wc(this.B.Pc[b],a.Pc);b=0;for(c=this.B.Rc.length;b<c;b++)wc(this.B.Rc[b],a.Rc);b=0;for(c=this.B.qi.length;b<c;b++)wc(this.B.qi[b],a.Rc);b=0;for(c=this.B.pi.length;b<c;b++)wc(this.B.pi[b],a.Rc);b=0;for(c=this.B.Vc.length;b<c;b++)wc(this.B.Vc[b],a.Vc);b=0;for(c=this.B.Wc.length;b<c;b++)wc(this.B.Wc[b],a.Wc);b=0;for(c=this.B.Wh.length;b<c;b++)yc(this.B.Wh[b],0===a.zb);b=0;for(c=this.B.Yh.length;b<c;b++)yc(this.B.Yh[b],1===a.zb);b=0;for(c=this.B.Vh.length;b<c;b++)yc(this.B.Vh[b],2===a.zb);b=0;for(c=this.B.ai.length;b<c;b++)yc(this.B.ai[b],3===a.zb);b=0;for(c=this.B.Zh.length;b<c;b++)yc(this.B.Zh[b],4===a.zb);b=0;for(c=this.B.Uh.length;b<c;b++)yc(this.B.Uh[b],5===a.zb);b=0;for(c=this.B.bi.length;b<c;b++)yc(this.B.bi[b],6===a.zb);b=0;for(c=this.B.$h.length;b<c;b++)yc(this.B.$h[b],7===a.zb);b=0;for(c=this.B.Xh.length;b<c;b++)yc(this.B.Xh[b],8===a.zb);b=0;for(c=this.B.Th.length;b<c;b++)yc(this.B.Th[b],10===a.zb);this.pk&&(b=this.pk,!0!==b.vf&&Ce(b,a.Ml,!0));if(this.Sf&&(b=this.Sf,a=a.zb,b.sa!==a)){b.sa=a;switch(a){case 0:b.c=b.Lm.c;break;case 1:b.c=b.Nm.c;break;case 2:b.c=b.Im.c;break;case 3:b.c=b.Qm.c;break;case 4:b.c=b.Om.c;break;case 5:b.c=b.Km.c;break;case 6:b.c=b.Rm.c;break;case 7:b.c=b.Pm.c;break;case 8:b.c=b.Mm.c;break;case 10:b.c=b.Jm.c}tc(b)}De()};l.Yc=function(a){for(var b=0,c=this.Lj.length;b<c;b++)this.Lj[b].Yc(a)};function De(){var a=Pd[ic];a&&a.wf&&a.Ha()}l.qj=function(){var a=y.qj();this.B.ob&&this.B.ob.ej(a);return a};l.sj=function(){var a=y.sj();this.B.ob&&this.B.ob.hj(a);return a};l.pj=function(){var a=y.pj();this.B.ob&&this.B.ob.hf(a);return a};l.oj=function(){var a=y.oj();this.B.ob&&this.B.ob.$i(a);return a};l.rj=function(){var a=y.rj();this.B.ob&&this.B.ob.gj(a);return a};l.ne=function(a){var b=this.b?this.b.j:null;if(!b||.1>Math.abs(ta(b)))return 0;b=1/ta(b);switch(this.Sd){case 1:return b*a;case 2:return this.Fm+this.Gm+b*a;case 3:return this.Cm+this.Dm+this.Em+b*a;case 4:return(a-this.gd)*b;case 5:return(a-this.gd)*b;default:return 0}};var Ee=0,Fe=1,ub=2,C=new function(){this.di=this.f=this.h=0;this.zc=Fe;this.t=this.s=this.ng=!1;this.Ya=null;this.ef=-1;this.pl=this.ol=this.Ve=0;this.Ji=this.Ag=!1},ma=new function(){this.t=this.s=this.ng=!1;this.Ya=null;this.F=this.rn=0};function la(a){ma.ng=a.altKey;ma.s=void 0!==a.metaKey?a.ctrlKey||a.metaKey:a.ctrlKey;ma.t=a.shiftKey;ma.Ya=a.srcElement?a.srcElement:a.target;ma.rn=a.charCode;ma.F=a.keyCode;ma.Zo=a.which}function ca(a){if(!a.Ag||a.Ji){if(a.pageX||a.pageY)C.h=a.pageX,C.f=a.pageY;else if(a.clientX||a.clientY)C.h=a.clientX,C.f=a.clientY;C.ng=a.altKey;C.t=a.shiftKey;C.s=a.ctrlKey||a.metaKey;C.zc=Fe;C.Ag||(C.Ya=a.srcElement?a.srcElement:a.target);if(3<Math.abs(C.h-C.ol)||3<Math.abs(C.f-C.pl))C.ef=-1,C.Ve=0}}function ka(a){if(a.pageX||a.pageY)C.h=a.pageX,C.f=a.pageY;else if(a.clientX||a.clientY)C.h=a.clientX,C.f=a.clientY;C.ol=C.h;C.pl=C.f;C.ng=a.altKey;C.t=a.shiftKey;C.s=a.ctrlKey||a.metaKey;C.zc=Ee;C.di=a.button;C.Ya=a.srcElement?a.srcElement:a.target;a=(new Date).getTime();0==C.Ve?(C.Ve=1,C.ef=a):500>a-C.ef?(C.ef=a,C.Ve++):(C.Ve=1,C.ef=a);window.Tg=!1}window.onmousemove=function(a){C.Ag&&void 0!=C.Ya&&null!=C.Ya&&void 0!=C.Ya.onmousemove&&null!=C.Ya.onmousemove&&(C.Ji=!0,C.Ya.onmousemove(a),C.Ji=!1)};window.onmouseup=function(a){if(!1===window.Tg){window.Tg=!0;if(C.Ag&&C.Ya&&void 0!=C.Ya.onmouseup&&null!=C.Ya.onmouseup)C.Ya.onmouseup(a,!0);C.Ya=null}};function Ge(){this.Wc=this.Vc=this.Rc=this.Pc=!0;this.Ml=this.zb=0};var za=-1,ob=0,nb=1,mb=2,hb=3,pb=4,ib=5,jb=6,kb=7,lb=8;function ya(a,b,c,d){this.sh={h:void 0===a?0:a,f:void 0==b?0:b};this.O=void 0===c?ob:c;this.Re=void 0===d?"":d}ya.prototype.vd=function(){return this.sh.h};ya.prototype.wd=function(){return this.sh.f};ya.prototype.Cl=function(a,b){this.sh.h=a;this.sh.f=b};ya.prototype.Wa=function(a){this.O=a};function we(a){function b(){if(d.dd)d.qc=null;else{var a=parseFloat(d.a.Ca.style.opacity),c=parseFloat(d.a.Pa.style.opacity),a=Math.max(a-.01,0),c=Math.max(c-.01,0);d.a.Ca.style.opacity=a;d.a.Pa.style.opacity=c;.001<a?d.qc=setTimeout(b,10):d.qc=null}}function c(){if(d.dd)d.qc=null;else{var a=parseFloat(d.a.xa.style.opacity),b=parseFloat(d.a.Ia.style.opacity),a=Math.max(a-.01,0),b=Math.max(b-.01,0);d.a.xa.style.opacity=a;d.a.Ia.style.opacity=b;.001<a?d.Gc=setTimeout(c,10):d.Gc=null}}this.g=a;this.b=null;this.fa=new He;this.fh=this.eh=!0;this.a={d:null,V:{d:null},Selection:{d:null},sd:{d:null},ca:{d:null},kj:{d:null},Ui:{d:null},vn:{d:null},Ca:null,xa:null,Pa:null,Ia:null,gf:0,ff:0};this.Hb=null;this.c={J:0,D:0,V:null,ie:null,ye:null,pg:null,Sg:null,Di:null,ll:null,xi:null,kl:null,Bi:null,Aj:null,Yl:null,Ej:null,Hi:null,Ei:null,Fi:null,Gi:null,Ii:null,yi:null,zi:null,Ai:null,Ci:null,Gj:null,Bj:null,Cj:null,Dj:null,Fj:null,Rl:null,Ul:null,Sl:null,Vl:null,Tl:null,Wl:null,Fd:null,sd:null,Qa:null,ic:0};this.$={h:0,f:0};this.dd=!1;this.Xn=!0;this.Ib={J:0,D:0,h:0,f:0};this.Gc=this.qc=this.Je=this.Ge=null;var d=this;this.Kk=function(){return setTimeout(function(){d.Dk()},20)};this.kg=function(a){d.dd||(d.b&&d.b.Ba(),ka(a),a=d.Se(C.h,C.f),a=d.fa.K(a.h,a.f),a.cf()&&d.b&&d.b.ka(a))};this.Jh=function(a){d.dd||(ca(a),a=d.Se(C.h,C.f),Ie(d,a.h,a.f))};this.lg=function(){d.dd||Ie(d,-1,-1)};this.dn=function(a){if(d.dd)return!1;var b=0,b=void 0!=a.wheelDelta?0<a.wheelDelta?-45:45:0<a.detail?45:-45;a.preventDefault&&a.preventDefault();var g=20+24*(d.fa.Ga()+1)-d.a.V.d.a.height;d.$.f-=b;d.$.f=Math.min(0,Math.max(d.$.f,-g));Je(d);d.Jh(a);Ke(d);d.Ak();d.a.Ia.style.opacity=.3;d.a.xa.style.opacity=.5;d.Gc=setTimeout(c,500);return!1};this.Ih=function(){d.b&&d.b.Ba()};this.Dh=function(){null!==d.Ge&&(clearTimeout(d.Ge),d.Ge=null)};this.an=function(){null!==d.qc&&(clearTimeout(d.qc),d.qc=null)};this.Io=function(a){function b(a){var c=-d.$.h;c!==m?(c=c<m?Math.min(m,c+200):Math.max(m,c-200),d.$.h=-c,Je(d),Ke(d),c!==m?d.Ge=setTimeout(b,!0===a?300:30):d.Ge=null):d.Ge=null}d.Dh();ka(a);a=C.h-La(d.a.Pa).h;var c=d.fa.Mb()+1,h=d.a.gf,k=d.c.J-4;a=Math.max(0,Math.min(k-h,a-h/2));var m=a/(k-h)*(20+24*c-k);b(!0)};this.To=function(){d.Dh()};this.Qo=function(){d.an();d.a.Pa.style.opacity=.3;d.a.Ca.style.opacity=.5};this.Lo=function(){d.Dh();d.qc=setTimeout(b,10)};this.Bk=function(){null!==d.Je&&(clearTimeout(d.Je),d.Je=null)};this.Ak=function(){null!==d.Gc&&(clearTimeout(d.Gc),d.Gc=null)};this.Jo=function(a){function b(a){var c=-d.$.f;c!==m?(c=c<m?Math.min(m,c+48):Math.max(m,c-48),d.$.f=-c,Je(d),Ke(d),c!==m?d.Je=setTimeout(b,!0===a?300:30):d.Je=null):d.Je=null}d.Bk();ka(a);a=C.f-La(d.a.Ia).f;var c=d.fa.Ga()+1,h=d.a.ff,k=d.c.D-4;a=Math.max(0,Math.min(k-h,a-h/2));var m=a/(k-h)*(20+24*c-k);b(!0)};this.Uo=function(){d.Bk()};this.So=function(){d.Ak();d.a.Ia.style.opacity=.3;d.a.xa.style.opacity=.5};this.No=function(){d.Bk();d.Gc=setTimeout(c,10)};this.Po=function(){d.an();d.a.Ca.style.opacity=.7;d.a.Pa.style.opacity=.3};this.Ko=function(){d.Dh();d.qc=setTimeout(b,10)};this.Ro=function(){d.Ak();d.a.xa.style.opacity=.7;d.a.Ia.style.opacity=.3};this.Mo=function(){d.a.xa.style.opacity=.5;d.Gc=setTimeout(c,10)};this.cn=function(){d.dd=!0};this.bn=function(){d.dd=!1;var a=C.h,f=C.f,g=La(d.a.Pa),h=g.h,g=g.f,k=d.a.Pa.clientWidth,m=d.a.Pa.clientHeight;if(a<h||a>h+k||f<g||f>g+m)d.qc=setTimeout(b,10);g=La(d.a.Ia);h=g.h;g=g.f;k=d.a.Ia.clientWidth;m=d.a.Ia.clientHeight;if(a<h||a>h+k||f<g||f>g+m)d.Gc=setTimeout(c,10)};this.to=function(a){a-=2;var b=d.fa.Mb()+1,c=d.c.J;d.$.h=-(a/(c-4-d.a.gf)*(20+24*b-c));Je(d)};this.Bo=function(a,b){b-=2;var c=d.fa.Ga()+1,h=d.c.D;d.$.f=-(b/(h-4-d.a.ff)*(20+24*c-h));Je(d)}}l=we.prototype;l.o=function(a,b){this.g&&(this.g.oh=this);this.b=b;this.b.M=this;this.fa.bj(b);this.a.d=D(a);var c=this.a.d.a,d=this.a.d,e=a+"_Board",f=a+"_Selection",g=a+"_Current",h=a+"_Lines",k=a+"_Shadows",m=a+"_Nodes",n=a+"_Events";this.Xa(c,e);this.Xa(c,f);this.Xa(c,g);this.Xa(c,h);this.Xa(c,k);this.Xa(c,m);var p=this.qa(c,n);this.a.Pa=this.qa(c,a+"HorScroll_BG");this.a.Ca=this.qa(c,a+"HorScroll");this.a.Ia=this.qa(c,a+"VerScroll_BG");this.a.xa=this.qa(c,a+"VerScroll");this.a.Pa.style.background="rgb(0,0,0)";this.a.Pa.style.opacity="0";this.a.Ia.style.background="rgb(0,0,0)";this.a.Ia.style.opacity="0";this.a.Pa.onmousedown=this.Io;this.a.Pa.onmouseup=this.To;this.a.Pa.onmouseover=this.Qo;this.a.Pa.onmouseout=this.Lo;this.a.Ia.onmousedown=this.Jo;this.a.Ia.onmouseup=this.Uo;this.a.Ia.onmouseover=this.So;this.a.Ia.onmouseout=this.No;this.a.Ca.onmouseover=this.Po;this.a.Ca.onmouseout=this.Ko;this.a.xa.onmouseover=this.Ro;this.a.xa.onmouseout=this.Mo;c=D(a+"HorScroll_BG");J(c.i,2,0,2,4,!0,!1,!0,!0,-1,8);c.n=M|O|P;d.k(c);c=D(a+"VerScroll_BG");J(c.i,0,2,4,2,!1,!0,!0,!0,8,-1);c.n=L|O|P;d.k(c);this.ta(this.a.V,d,e);this.ta(this.a.Selection,d,f);this.ta(this.a.sd,d,g);this.ta(this.a.ca,d,h);this.ta(this.a.kj,d,k);this.ta(this.a.Ui,d,m);this.ta(this.a.vn,d,n);p.onmousedown=this.kg;p.onmousemove=this.Jh;p.onmouseout=this.lg;p.onmousewheel=this.dn;p.addEventListener&&p.addEventListener("DOMMouseScroll",this.dn,!1);p.onfocus=this.Ih;p.tabIndex=-1;p.style.Vn=!0;p.style.outline=0;this.ig();this.gg();Le(this);this.hg()};function Me(a){a.ig();a.gg();Le(a);a.hg();a.p(!0)}l.p=function(a){var b=this.a.d.a.clientWidth,c=this.a.d.a.clientHeight;this.a.d.fb(b,c);this.cc(b,c,a)};l.Ha=function(){if(!(0>=this.c.J||0>=this.c.D)){var a=this.fa.Mb()+1,b=this.fa.Ga()+1,c=this.c.J,d=this.c.D,a=20+24*a,b=20+24*b;a>c?(this.a.gf=Math.max(50,c*c/a),this.a.Ca.style.width=Math.max(50,c*c/a)+"px",this.a.Ca.style.display="block",this.a.Ca.style.position="absolute",this.a.Ca.style.top=d-12+"px",this.a.Ca.style.height="8px",this.a.Ca.style.background=this.tc()?"rgb(220, 220, 220)":"rgb(0,0,0)",this.a.Ca.style.opacity=0,Ne(this.a.Ca,2,c-this.a.gf-2,d-12,d-12),this.a.Ca.yb=this.to,this.a.Ca.Ch=this.cn,this.a.Ca.Bh=this.bn,this.a.Pa.style.display="block"):(this.a.Pa.style.display="none",this.a.Ca.style.display="none");b>d?(this.a.ff=Math.max(50,d*d/b),this.a.xa.style.height=Math.max(50,d*d/b)+"px",this.a.xa.style.display="block",this.a.xa.style.position="absolute",this.a.xa.style.left=c-12+"px",this.a.xa.style.width="8px",this.a.xa.style.background=this.tc()?"rgb(220, 220, 220)":"rgb(0,0,0)",this.a.xa.style.opacity=0,Ne(this.a.xa,c-12,c-12,2,d-this.a.ff-2),this.a.xa.yb=this.Bo,this.a.xa.Ch=this.cn,this.a.xa.Bh=this.bn,this.a.Ia.style.display="block"):(this.a.Ia.style.display="none",this.a.xa.style.display="none");this.Ib.D=-1;this.Ib.J=-1;Je(this);Ke(this)}};l.Lb=function(){this.fa.Lb();this.Ib.D=-1;this.Ib.J=-1};function Oe(a,b){a.eh=!0;var c=a.c.J,d=a.c.D;if(!(0>=c||0>=d)){var e=a.b.m.kb,f=e.h,e=e.f,g=10+a.$.h+24*f,h=10+a.$.f+24*e;if(0!=b&&!0===a.Xn&&(10>=g||g>=c-10||10>=h||h>=d-10)){var k=20+24*(a.fa.Ga()+1)-d,m=20+24*(a.fa.Mb()+1)-c;10>=g?a.$.h=24*-f:g>=c-10&&(a.$.h=c-24-10-10-24*f);10>=h?a.$.f=24*-e:h>=d-10&&(a.$.f=d-24-10-10-24*e);a.$.h=Math.min(0,Math.max(a.$.h,-m));a.$.f=Math.min(0,Math.max(a.$.f,-k));Ke(a);Je(a)}}}l.Xa=function(a,b){var c=document.createElement("canvas");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};l.qa=function(a,b){var c=document.createElement("div");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};l.ta=function(a,b,c){a.d=D(c);a=a.d;J(a.i,0,0,1E3,1E3,!1,!1,!1,!1,-1,-1);a.n=L|M|O|P;b.k(a)};l.cc=function(a,b,c){var d=this.a.V.d.a.getContext("2d");a!==this.c.J||b!==this.c.D||null===this.c.V||null!==this.Hb||!0===c?(this.c.J=a,this.c.D=b,d.fillStyle=Q(this.jg()),d.fillRect(0,0,a,b),null!==this.Hb&&clearTimeout(this.Hb),this.Hb=this.Kk()):d.putImageData(this.c.V,0,0);this.Ha();Oe(this,!0)};l.Dk=function(){this.Hb=null;var a=this.c.J,b=this.c.D,c=this.a.V.d.a.getContext("2d");if(0!==a&&0!==b){for(var d=c.createImageData(a,b),e=this.jg(),f=e.u,g=e.w,e=e.v,h=Array(a),k=0;k<a;k++)h[k]=(Math.tan(300*k/a)+1)/2+(Math.tan(100*k/a)+1)/10;for(var m=Array(b),n=0;n<b;n++)m[n]=.02*Math.tan(n/b);var p,t,q,k=this.fe();if(!0===this.Gh())for(q=.9,n=0;n<b;n++)for(k=0;k<a;k++){q=40*(h[k]+m[n])+.5;q-=Math.floor(q);q=.2>q?1-q/2:.4>q?1-(.4-q)/2:1;if(n==b-1||n==b-2&&k<a-2||k>=a-1||k==a-2&&n<b-1)q/=2;0==n||1==n&&1<k||0==k||1==k&&1<n?(p=128+f*q/2,t=128+g*q/2,q=128+e*q/2):(p=f*q,t=g*q,q*=e);var u=4*(k+n*a);d.data[u+0]=p;d.data[u+1]=t;d.data[u+2]=q;d.data[u+3]=255}else for(h=0;h<b;h++)for(m=0;m<a;m++)0==h||0==m||h===b-1||m===a-1?(p=k.u,t=k.w,q=k.v):(p=f,t=g,q=e),u=4*(m+h*a),d.data[u+0]=p,d.data[u+1]=t,d.data[u+2]=q,d.data[u+3]=255;this.c.V=d;c.putImageData(this.c.V,0,0)}};l.ig=function(){var a=this.a.Ui.d.a.getContext("2d");this.c.ie=a.createImageData(20,20);this.c.ye=a.createImageData(20,20);this.c.pg=a.createImageData(20,20);this.c.Sg=a.createImageData(20,20);var a=this.c.ie.data,b=this.c.ye.data,c=this.c.pg.data,d=this.c.Sg.data,e=this.Gk(),f=this.Ek(),g=this.tc();if(!0===this.Fk())for(var h=9.5,k=h-.2,e=Math.sqrt(3),m=0;20>m;m++)for(var n=0;20>n;n++){var p=m-h,t=n-h,q=k-Math.sqrt(p*p+t*t),u=4*(20*m+20-n-1);if(0<=q){var v=k*k-p*p-t*t,v=0<v?Math.sqrt(v)*e:0,g=p,r=t,f=Math.sqrt(6*(g*g+r*r+v*v)),f=(2*v-g+r)/f,g=0;.9<f&&(g=10*(f-.9));v=255;.8>=q&&(q=(.8-q)/.8,v=.7,p-t<k/3&&(v=1),v=parseInt(255*(1-q*v)));p=parseInt(10+10*f+140*g);a[u+0]=p;a[u+1]=p;a[u+2]=p;a[u+3]=v;c[u+0]=p;c[u+1]=p;c[u+2]=p;c[u+3]=parseInt(.5*v);p=parseInt(200+10*f+45*g);b[u+0]=p;b[u+1]=p;b[u+2]=p;b[u+3]=v;d[u+0]=p;d[u+1]=p;d[u+2]=p;d[u+3]=parseInt(.7*v)}else a[u+0]=0,a[u+1]=0,a[u+2]=0,a[u+3]=0,d[u+0]=0,d[u+1]=0,d[u+2]=0,d[u+3]=0}else for(h=9.5,k=h-.2,m=0;20>m;m++)for(n=0;20>n;n++)if(p=m-h,t=n-h,q=k-Math.sqrt(p*p+t*t),u=4*(20*m+20-n-1),0<=q){v=255;if(.8>=q){var x=(.8-q)/.8,v=.7;p-t<k/3&&(v=1);v=parseInt(255*(1-x*v))}else 1.6>=q&&.8<=q&&!0===g&&(x=(1.6-q)/.8,v=.7,p-t<k/3&&(v=1),v=parseInt(x*v*255));r=!1;1.6>=q&&(r=!0);!1===r||!1===g?(a[u+0]=f.u,a[u+1]=f.w,a[u+2]=f.v,a[u+3]=v,c[u+0]=f.u,c[u+1]=f.w,c[u+2]=f.v):(a[u+0]=e.u,a[u+1]=e.w,a[u+2]=e.v,a[u+3]=v,c[u+0]=e.u,c[u+1]=e.w,c[u+2]=e.v);c[u+3]=parseInt(.5*v);v=255;.8>=q?(x=(.8-q)/.8,v=.7,p-t<k/3&&(v=1),v=parseInt(255*(1-x*v))):1.6>=q&&.8<=q&&!1===g&&(x=(1.6-q)/.8,v=.7,p-t<k/3&&(v=1),v=parseInt(x*v*255));!1===r||!0===g?(b[u+0]=e.u,b[u+1]=e.w,b[u+2]=e.v,b[u+3]=v,d[u+0]=e.u,d[u+1]=e.w,d[u+2]=e.v):(b[u+0]=f.u,b[u+1]=f.w,b[u+2]=f.v,b[u+3]=v,d[u+0]=f.u,d[u+1]=f.w,d[u+2]=f.v);d[u+3]=parseInt(v/2)}else a[u+0]=0,a[u+1]=0,a[u+2]=0,a[u+3]=0,c[u+0]=0,c[u+1]=0,c[u+2]=0,c[u+3]=0,b[u+0]=0,b[u+1]=0,b[u+2]=0,b[u+3]=0,d[u+0]=0,d[u+1]=0,d[u+2]=0,d[u+3]=0};l.gg=function(){var a=this.a.ca.d.a.getContext("2d");this.c.Di=a.createImageData(24,24);this.c.ll=a.createImageData(24,24);this.c.xi=a.createImageData(24,24);this.c.kl=a.createImageData(24,24);this.c.Bi=a.createImageData(24,24);this.c.Aj=a.createImageData(24,24);this.c.Yl=a.createImageData(24,24);this.c.Ej=a.createImageData(24,24);this.c.Hi=a.createImageData(24,24);this.c.Ei=a.createImageData(24,24);this.c.Fi=a.createImageData(24,24);this.c.Gi=a.createImageData(24,24);this.c.Ii=a.createImageData(24,24);this.c.yi=a.createImageData(24,24);this.c.zi=a.createImageData(24,24);this.c.Ai=a.createImageData(24,24);this.c.Ci=a.createImageData(24,24);this.c.Gj=a.createImageData(24,24);this.c.Bj=a.createImageData(24,24);this.c.Cj=a.createImageData(24,24);this.c.Dj=a.createImageData(24,24);this.c.Fj=a.createImageData(24,24);for(var a=this.c.Di.data,b=this.c.ll.data,c=this.c.xi.data,d=this.c.kl.data,e=this.c.Bi.data,f=this.c.Aj.data,g=this.c.Yl.data,h=this.c.Ej.data,k=this.c.Hi.data,m=this.c.Ei.data,n=this.c.Fi.data,p=this.c.Gi.data,t=this.c.Ii.data,q=this.c.yi.data,u=this.c.zi.data,v=this.c.Ai.data,r=this.c.Ci.data,x=this.c.Gj.data,I=this.c.Bj.data,K=this.c.Cj.data,B=this.c.Dj.data,F=this.c.Fj.data,V=!0===this.tc()?200:28,A=new z(V,V,V,255),N=0;24>N;N++)for(var T=0;24>T;T++){var w=4*(24*N+T);12<=T&&(11===N||12===N)?(a[w+0]=A.u,a[w+1]=A.v,a[w+2]=A.w,a[w+3]=255,k[w+0]=A.u,k[w+1]=A.v,k[w+2]=A.w,k[w+3]=96):(a[w+3]=0,k[w+3]=0);11<=T&&(11===N||12===N)||12<=N&&(11===T||12===T)?(b[w+0]=A.u,b[w+1]=A.v,b[w+2]=A.w,b[w+3]=255,p[w+0]=A.u,p[w+1]=A.v,p[w+2]=A.w,p[w+3]=96):(b[w+3]=0,p[w+3]=0);11<=T&&(11===N||12===N)?(m[w+0]=A.u,m[w+1]=A.v,m[w+2]=A.w,m[w+3]=255):12<=N&&(11===T||12===T)?(m[w+0]=A.u,m[w+1]=A.v,m[w+2]=A.w,m[w+3]=96):m[w+3]=0;12<=N&&(11===T||12===T)?(n[w+0]=A.u,n[w+1]=A.v,n[w+2]=A.w,n[w+3]=255):11<=T&&(11===N||12===N)?(n[w+0]=A.u,n[w+1]=A.v,n[w+2]=A.w,n[w+3]=96):n[w+3]=0;11===N||12===N?(c[w+0]=A.u,c[w+1]=A.v,c[w+2]=A.w,c[w+3]=255,t[w+0]=A.u,t[w+1]=A.v,t[w+2]=A.w,t[w+3]=96):(c[w+3]=0,t[w+3]=0);11===N||12===N||12<=N&&(11===T||12===T)?(d[w+0]=A.u,d[w+1]=A.v,d[w+2]=A.w,d[w+3]=255,v[w+0]=A.u,v[w+1]=A.v,v[w+2]=A.w,v[w+3]=96):(d[w+3]=0,v[w+3]=0);11===N||12===N?(q[w+0]=A.u,q[w+1]=A.v,q[w+2]=A.w,q[w+3]=255):12<=N&&(11===T||12===T)?(q[w+0]=A.u,q[w+1]=A.v,q[w+2]=A.w,q[w+3]=96):q[w+3]=0;(11===N||12===N)&&12>=T||12<=N&&(11===T||12===T)?(u[w+0]=A.u,u[w+1]=A.v,u[w+2]=A.w,u[w+3]=255):(11===N||12===N)&&12<T?(u[w+0]=A.u,u[w+1]=A.v,u[w+2]=A.w,u[w+3]=96):(d[w+3]=0,v[w+3]=0);11>=T&&(11===N||12===N)?(e[w+0]=A.u,e[w+1]=A.v,e[w+2]=A.w,e[w+3]=255,r[w+0]=A.u,r[w+1]=A.v,r[w+2]=A.w,r[w+3]=96):(e[w+3]=0,r[w+3]=0);11===T||12===T?(f[w+0]=A.u,f[w+1]=A.v,f[w+2]=A.w,f[w+3]=255,x[w+0]=A.u,x[w+1]=A.v,x[w+2]=A.w,x[w+3]=96):(f[w+3]=0,x[w+3]=0);11===T||12===T||12<=T&&(11===N||12===N)?(g[w+0]=A.u,g[w+1]=A.v,g[w+2]=A.w,g[w+3]=255,B[w+0]=A.u,B[w+1]=A.v,B[w+2]=A.w,B[w+3]=96):(g[w+3]=0,B[w+3]=0);(11===T||12===T)&&12>=N||12<=T&&(11===N||12===N)?(I[w+0]=A.u,I[w+1]=A.v,I[w+2]=A.w,I[w+3]=255):(11===T||12===T)&&12<N?(I[w+0]=A.u,I[w+1]=A.v,I[w+2]=A.w,I[w+3]=96):I[w+3]=0;11===T||12===T?(K[w+0]=A.u,K[w+1]=A.v,K[w+2]=A.w,K[w+3]=255):12<T&&(11===N||12===N)?(K[w+0]=A.u,K[w+1]=A.v,K[w+2]=A.w,K[w+3]=96):K[w+3]=0;11>=N&&(11===T||12===T)||11<=T&&(11===N||12===N)?(h[w+0]=A.u,h[w+1]=A.v,h[w+2]=A.w,h[w+3]=255,F[w+0]=A.u,F[w+1]=A.v,F[w+2]=A.w,F[w+3]=96):(h[w+3]=0,F[w+3]=0)}this.c.Rl=this.bc(20,20,20*.07,A,1,null);this.c.Ul=this.bc(20,20,20*.07,new z(V,V,V,96),1,null);this.c.Sl=this.bc(20,20,1.2,new z(255,255,255,255),1,this.c.ie);this.c.Vl=this.bc(20,20,1.2,new z(0,0,0,255),1,this.c.ye);this.c.Tl=this.bc(20,20,1.2,new z(255,255,255,96),1,this.c.pg);this.c.Wl=this.bc(20,20,1.2,new z(0,0,0,96),1,this.c.Sg)};function Le(a){var b=a.a.Selection.d.a.getContext("2d");a.c.Fd=b.createImageData(24,24);a.c.sd=b.createImageData(24,24);for(var c=a.c.Fd.data,d=a.c.sd.data,e=0;24>e;e++)for(var f=0;24>f;f++){var g=4*(f+24*e);c[g+3]=255;d[g+3]=255;0===f&&23===e||23===f&&0===e?(c[g+0]=135,c[g+1]=125,c[g+2]=135,d[g+0]=216):23===f||23===e?(c[g+0]=89,c[g+1]=89,c[g+2]=89,d[g+0]=178):(0===e||0===f?(c[g+0]=182,c[g+1]=182,c[g+2]=182):(c[g+0]=128,c[g+1]=128,c[g+2]=128),d[g+0]=255);d[g+1]=0;d[g+2]=0}b.putImageData(a.c.Fd,0,0);b.putImageData(a.c.sd,0,30)}l.bc=function(a,b,c,d,e,f){void 0===e&&(e=1);var g=this.a.ca.d.a.getContext("2d");g.clearRect(0,0,a,b);null!==f&&g.putImageData(f,0,0);g.globalAlpha=e;g.strokeStyle=Q(d);g.fillStyle=Q(d);g.lineWidth=c;e=a/2;d=3*b/4;var h=.1*a;c=Math.sqrt(e*e-(d-e)*(d-e))+e-h;e=-Math.sqrt(e*e-(d-e)*(d-e))+e+h;null!==f&&(c=Math.floor(c-.5),e=Math.ceil(e+.5),h=Math.ceil(h+.5),d=Math.floor(d-.5));g.beginPath();g.moveTo(a/2,h);g.lineTo(c,d);g.lineTo(e,d);g.closePath();g.stroke();a=g.getImageData(0,0,a,b);g.putImageData(a,0,0);return a};l.hg=function(){var a=this.a.kj.d.a.getContext("2d");this.c.Qa=a.createImageData(20,20);a=this.c.Qa.data;this.c.ic=Math.max(3,3);for(var b=0;20>b;b++)for(var c=0;20>c;c++){var d=Math.abs(b-8.5),e=Math.abs(c-8.5),d=Math.sqrt(e*e+d*d)/8.5,d=1>d?.15+.75*(1-d):0,e=4*(20*b+c);a[e+0]=0;a[e+1]=0;a[e+2]=0;a[e+3]=parseInt(255*d)}};function Je(a){a.fh=!0;Oe(a,!1)}l.Se=function(a,b){var c=La(this.a.V.d.a);return{h:(a-c.h-10-this.$.h)/24|0,f:(b-c.f-10-this.$.f)/24|0}};function Ie(a,b,c){var d=a.c.J,e=a.c.D;if(!(0>=d||0>=e)){var f=a.a.Selection.d.a.getContext("2d");f.clearRect(0,0,d,e);0<=b&&0<=c&&(d=10+a.$.h+24*b,e=10+a.$.f+24*c,a.fa.K(b,c).cf()&&f.putImageData(a.c.Fd,d,e))}}function Ke(a){var b=-a.$.h,c=a.fa.Mb()+1,d=a.c.J,b=b/(20+24*c-d)*(d-4-a.a.gf)+2,c=-a.$.f,d=a.fa.Ga()+1,e=a.c.D,c=c/(20+24*d-e)*(e-4-a.a.ff)+2;a.a.Ca.style.left=b+"px";a.a.xa.style.top=c+"px"}l.Gh=function(){var a=this.b.wa;return null===a.N.ib?y.N.ib:a.N.ib};l.Fk=function(){var a=this.b.wa;return null===a.N.rb?y.N.rb:a.N.rb};l.Fh=function(){var a=this.b.wa;return null===a.N.qb?y.N.qb:a.N.qb};l.Gk=function(){var a=this.b.wa;return null===a.N.xb?y.N.xb:a.N.xb};l.Ek=function(){var a=this.b.wa;return null===a.N.vb?y.N.vb:a.N.vb};l.jg=function(){var a=this.b.wa;return null===a.N.lb?y.N.lb:a.N.lb};l.fe=function(){var a=this.b.wa;return null===a.N.wb?y.N.wb:a.N.wb};l.tc=function(){var a=this.b.wa;return null===a.N.pb?y.N.pb:a.N.pb};var Jd=-9,Kd=-8,Ld=-7;function Pe(a,b,c){this.O=a;this.ia=b;this.qh=c}Pe.prototype.cf=function(){return!1};Pe.prototype.Q=function(){return this.qh};Pe.prototype.ue=function(){if(-10!==this.O)if(Jd===this.O){if(this.ia.ue()&&0<Md(this.ia)&&this.ia.Q().kb.f>=this.qh.kb.f)return{bd:!0}}else if(Kd===this.O){if(!this.ia.ue())return{bd:!1};var a=this.qh.kb.f,b=this.ia.Q().kb.f;if(a<b)return{bd:!0,Gl:0};if(a===b)return{bd:!0,Gl:1}}else if(Ld===this.O)return{bd:this.qh.ue()};return{bd:!1}};function He(){this.fa=[];this.b=null;this.tb=0}l=He.prototype;l.bj=function(a){this.b=a};l.Fa=function(){this.fa=[];this.tb=0};l.Lb=function(){this.b&&(this.Fa(),Qe(this,this.b.ha,0,0))};function Qe(a,b,c,d){var e,f=1;for(e=b;0<Md(e);)f++,e=e.Q(0);for(e=f;!Re(a,c,d,e);)d++;var f=c,g=d,h=b;for(a.Set(f,g,b);0<Md(h);)f++,h=h.Q(0),a.Set(f,g,h);f=Se(b);c+=e-1;for(e={Xl:d};;){for(var g=d,h=a.tb,k=Md(f),m=1;m<k;m++){a.tb=h;var n=d,p=Qe(a,f.Q(m),c+1,d+1);d=p.f;for(n+=1;n<=d;n++)if(n===p.Xl)if(k-1===m){a.Set(c,n,new Pe(Ld,f,f.Q(m)));break}else a.Set(c,n,new Pe(Kd,f,f.Q(m)));else n<p.Xl?a.Set(c,n,new Pe(Jd,f,f.Q(m))):a.Set(c,n,new Pe(Jd,f,f.Q(m+1)))}a.tb=h;if(f===b)break;f.Uc()&&a.tb--;f=f.ia;c--;d=g}e.f=d;return e}l.K=function(a,b){return void 0===this.fa[b]||void 0===this.fa[b][a]?new Pe(-10,null,null):this.fa[b][a]};l.Set=function(a,b,c){void 0===this.fa[b]&&(this.fa[b]=[]);if(c.cf())if(c.Uc()){this.tb++;var d=this.tb;c.kb.h=a;c.kb.f=b;c.kb.Gg=d}else c.kb.h=a,c.kb.f=b,c.kb.Gg=-1;this.fa[b][a]=c};function Re(a,b,c,d){for(var e=0;e<d;e++){var f=b+e;if(!1===(void 0===a.fa[c]||void 0===a.fa[c][f]||-10===a.fa[c][f].O?!0:!1))return!1}return!0}l.Ga=function(){return this.fa.length};l.Mb=function(){for(var a=0,b=this.Ga(),c=0;c<b;c++){var d=this.fa[c].length-1;d>a&&(a=d)}return a};function Te(a){if(this.b=a)a.g=this;this.Sa=null;this.U=[];this.a={Si:null,Gd:null,wl:null,rl:null,Fg:null,Ig:null,qg:null};this.Ec=this.hh=this.Ub=0}l=Te.prototype;l.o=function(a,b){Ue(this,b);var c=this.b,d=D(a),e=a+"_Board",f=a+"_Message",g=a+"_Next";this.L(d.a,e);var h=this.L(d.a,g),k=this.L(d.a,f);k.style.backgroundColor="rgb(255,255,255)";k.style["border-radius"]="6px";k.style["-webkit-border-radius"]="6px";k.style["-moz-border-radius"]="5px";k.style["-khtml-border-radius"]="10px";k.style.borderColor="#e3e3e3";k.style.borderWidth="5px";k.style.borderStyle="ridge";k.style.display="block";var m=D(e);J(m.i,0,0,1E3,1E3,!1,!1,!1,!1,-1,-1);m.n=L|M|P|O;d.k(m);this.L(m.a,e+"_Centred");var n=D(e);m.Wa(2);m.k(n);m=D(f);J(m.i,350,350,650,650,!1,!1,!1,!1,-1,-1);m.n=L|M|P|O;d.k(m);n=new aa(this);n.o(e,c);n.Yd=this;var p=D(g);J(p.i,0,0,1E3,1E3,!1,!1,!1,!1,-1,-1);p.n=L|M|P|O;d.k(p);c=g+"_Centred";this.L(p.a,c);e=D(c);p.Wa(2);p.k(e);p=c+"_Next";g=Ve(e.a,p);g.value="\u0414\u0430\u043b\u0435\u0435";g.style.display="none";var t=c+"_Prev",c=Ve(e.a,t);c.value="\u041d\u0430\u0437\u0430\u0434";c.style.display="none";var q=this;g.addEventListener("click",function(){q.a.Fg.style.display="none";q.a.Ig.style.display="none";We(q)},!1);c.addEventListener("click",function(){q.a.Fg.style.display="none";q.a.Ig.style.display="none";Xe(q)},!1);p=D(p);J(p.i,501,0,2,2,!1,!1,!0,!0,-1,25);p.n=M|P|O;e.k(p);p=D(t);J(p.i,2,0,499,2,!0,!1,!1,!0,-1,25);p.n=M|P|O;e.k(p);var u=f+"_Text",t=f+"_Next",v=f+"_Prev",f=this.L(k,u);f.style.fontFamily="verdana";f.style.textAlign="justify";f.style.$o="center";f.style.overflowY="scroll";e=Ve(k,t);p=Ve(k,v);p.addEventListener("click",function(){Xe(q)},!1);e.addEventListener("click",function(){We(q)},!1);u=D(u);J(u.i,0,0,1E3,35,!1,!1,!1,!0,-1,-1);u.n=L|M|O|P;m.k(u);t=D(t);J(t.i,0,0,5,5,!1,!1,!0,!0,100,25);t.n=O|P;m.k(t);t=D(v);J(t.i,5,0,0,5,!0,!1,!1,!0,100,25);t.n=O|M;m.k(t);this.a.Si=k;this.a.Gd=f;this.a.wl=p;this.a.rl=e;this.a.Fg=g;this.a.Ig=c;this.a.qg=h;this.U.push(n);this.Sa=d;this.p();Ye(this,0,0)};l.p=function(a){this.Sa&&this.Sa.fb(this.Sa.a.clientWidth,this.Sa.a.clientHeight);for(var b=0,c=this.U.length;b<c;b++)this.U[b].p(a)};function Ab(a){return null===a.ma[a.Ub].gb||void 0===a.ma[a.Ub].gb.hi?0:a.ma[a.Ub].gb.hi}function Bb(a){null!==a.ma[a.Ub].gb&&!0===a.ma[a.Ub].gb.Mn?(a.a.qg.style.display="block",a.a.Fg.style.display="block",a.a.Ig.style.display="block"):a.dp(a.Ub,2)}l.yl=function(){};l.Yc=function(){};l.kc=function(){};l.wj=function(){};l.yj=function(){};l.xj=function(){};l.zj=function(){};l.Zc=function(){};l.nf=function(){};l.Vi=function(){};l.tl=function(){};function Ue(a,b){var c=b.length;a.hh=c;a.ma=[];for(var d=0;d<c;d++)a.ma[d]={},a.ma[d].jj=b[d].Sgf,a.ma[d].Wo=b[d].Before,a.ma[d].Vo=b[d].After,a.ma[d].Ri=b[d].Message,null===b[d].SgfPr?a.ma[d].gb=null:(a.ma[d].gb={},a.ma[d].gb.hi=b[d].SgfPr.Count,a.ma[d].gb.Mn=b[d].SgfPr.WaitOnEnd,a.ma[d].gb.Xe={},b[d].SgfPr.Flags&&(a.ma[d].gb.Xe.Eg=b[d].SgfPr.Flags.NewNode,a.ma[d].gb.Xe.Bg=b[d].SgfPr.Flags.Move,a.ma[d].gb.Xe.ei=b[d].SgfPr.Flags.ChangeBoardMode,a.ma[d].gb.Xe.Ni=b[d].SgfPr.Flags.LoadFile))}function We(a){var b=a.Ub;0===a.Ec?null!==a.ma[b].jj?Ye(a,b,1):(a.Ec=1,We(a)):1!==a.Ec||b>=a.hh-1||(null!==a.ma[b+1].Ri?Ye(a,b+1,0):(a.Ub++,a.Ec=0,We(a)))}function Xe(a){var b=a.Ub;0===a.Ec?0>=b||(null!==a.ma[b-1].jj?Ye(a,b-1,1):(a.Ub--,a.Ec=1,Xe(a))):1===a.Ec&&(null!==a.ma[b].Ri?Ye(a,b,0):(a.Ec=0,Xe(a)))}function Ye(a,b,c){if(!(0>b||b>=a.hh)){a.Ub=b;a.Ec=c;var d=a.ma[b].jj,e=a.ma[b].gb,f=a.ma[b].Ri;if(0===c)if(a.a.qg.style.display="block",null!==f){c=0===b?null:"\u041d\u0430\u0437\u0430\u0434";b=b===a.hh-1&&null===d?null:"\u0414\u0430\u043b\u0435\u0435";d=a.a.wl;e=a.a.rl;for(a.a.Si.style.display="block";a.a.Gd.firstChild;)a.a.Gd.removeChild(a.a.Gd.firstChild);nd(a.a.Gd,"");"string"===typeof f?nd(a.a.Gd,f):a.a.Gd.appendChild(f);null===c?d.style.display="none":(d.style.display="block",d.value=c);null===b?e.style.display="none":(e.style.display="block",e.value=b)}else We(a);else 1===c&&(a.a.qg.style.display="none",null!==d?(a.a.Si.style.display="none",a.b.H=4294967295,a.b.xc(d),Ze(a.b,e.Xe),a.b.Ba()):We(a))}}l.L=function(a,b){var c=document.createElement("div");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};function Ve(a,b){var c=document.createElement("input");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("type","button");a.appendChild(c);return c};var $e=0,af=0,bf=1;function cf(a,b){this.g=a;this.b=null;this.O=b?b:$e;this.a={d:null,ql:null,En:null,Cd:null};this.jk=new z(217,217,217,255);this.ho=new z(80,80,80,255);this.ko=new z(190,190,190,255);this.Wm=new z(80,80,80,255);this.mo=new z(130,130,130,255);this.Ma=this.De=this.A=0;this.sc=this.Vd=17;this.vf=!1;var c=this;this.qo=function(a){var b=c.A-c.Ma;0!==b&&(Ce(c,(a-c.sc)/b,!1),df(c,!1))};this.Hk=function(){c.vf=!0;df(c,!1)};this.so=function(a){c.vf=!1;var b=c.A-c.Ma;0!==b&&(Ce(c,(a-c.sc)/b,!1),df(c,!0))}}cf.prototype.o=function(a){this.b=this.g?this.g.b:null;switch(this.O){case af:this.g.Nf=this;break;case bf:this.g.pk=this}this.a.d=D(a);var b=this.a.d.a;b.style.backgroundColor=Q(this.jk);b.style.ep=Q(new z(255,255,255,255));var c=a+"_Left",d=a+"_Right";a=a+"_Slider";this.a.En=this.qa(b,d);this.a.ql=this.qa(b,c);this.a.Cd=this.qa(b,a);var e=this;this.a.Cd.onmouseover=function(){this.style.backgroundColor=Q(e.mo)};this.a.Cd.onmouseout=function(){this.style.backgroundColor=Q(e.Wm)};b=D(d);J(b.i,this.sc,this.Vd-1,this.sc,this.Vd-1,!0,!0,!0,!0,-1,-1);b.n=L|M|O|P;this.a.d.k(b);b.a.style.background=Q(this.ko);c=D(c);J(c.i,this.sc,this.Vd,500,this.Vd,!0,!0,!1,!0,-1,-1);c.n=L|M|O|P;this.a.d.k(c);c.a.style.background=Q(this.ho);this.p();Ce(this,0)};cf.prototype.p=function(){var a=this.a.d.a.clientWidth,b=this.a.d.a.clientHeight;this.A=a-2*this.sc;this.a.d.fb(a,b);this.cc(a,b);Ce(this,this.De,!0)};cf.prototype.cc=function(a){var b=32;switch(this.O){case af:b=45;break;case bf:b=32}this.Ma=b;var c=this.a.Cd;c.style.width=b+"px";c.style.height="12px";c.style.display="block";c.style.position="absolute";c.style.backgroundColor=Q(this.Wm);c.style.top=this.Vd-5+"px";c.style.left=this.sc+"px";c.style.borderRadius="5px";Ne(c,this.sc,a-this.sc-b,this.Vd-5,this.Vd-5);c.yb=this.qo;c.Ch=this.Hk;c.Bh=this.so;c.style.fontSize="12px";c.style.lineHeight="12px";c.style.color="rgb(255,255,255)";c.style.textOverflow="clip";c.style.overflow="hidden";c.style.textAlign="center";c.style.cursor="default";c.style.transitionProperty="background";c.style.transitionDuration="0.25s";c.style.fontFamily='"Times New Roman", Times, serif'};cf.prototype.qa=function(a,b){var c=document.createElement("div");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};function Ce(a,b,c){a.De=Math.min(1,Math.max(b,0));a.a.ql.style.width=a.De*a.A+"px";!1!==c&&(a.a.Cd.style.left=a.De*(a.A-a.Ma)+a.sc+"px")}function df(a,b){if(a.b)switch(a.O){case af:var c=a.b,d=a.De;c.xf=d;if(c.g){var e=c.g;e.Nf&&(e=e.Nf,!0!==e.vf&&Ce(e,d,!0))}null!==c.Bc&&c.mf();b?nd(a.a.Cd,""):nd(a.a.Cd,((100+6900*(1-a.b.xf))/1E3*1E3|0)/1E3+" s");break;case bf:c=a.b;d=c.ha;for(e=1;0<Md(d);)e++,d=d.Q();d=a.De*(e-1);for(e=c.ha;0<Md(e)&&0<d;)d--,e=e.Q();c.ka(e)}};function ef(){this.Yk=this.Xk=this.Wk=this.Vk=this.vl=null;this.jm=!1;this.Be=!0}ef.prototype.o=function(a){var b=document.getElementsByTagName("body");if(!(0>=b.length)){this.Be=!0;var c="",d=navigator.userAgent;-1!=d.indexOf("Opera")?c="Opera":-1!=d.indexOf("Chrome")?c="Chrome":-1!=d.indexOf("MSIE")?c="IE":-1!=d.indexOf("Safari")?c="Safari":-1!=d.indexOf("Mozilla")&&(c="Mozilla");"IE"===c&&(this.jm=!0);b=b[0];this.vl=ff(b,"GoBoardApiSoundPlaceStone",a+"/Stone.mp3");this.Vk=ff(b,"GoBoardApiSoundCapture1",a+"/Capture1.mp3");this.Wk=ff(b,"GoBoardApiSoundCapture3",a+"/Capture3.mp3");this.Xk=ff(b,"GoBoardApiSoundCapture5",a+"/Capture5.mp3");this.Yk=ff(b,"GoBoardApiSoundCaptureN",a+"/CaptureN.mp3")}};function gf(a,b){1>=b?hf(a,a.Vk):3>=b?hf(a,a.Wk):5>=b?hf(a,a.Xk):hf(a,a.Yk)}function ff(a,b,c){var d=document.getElementById(b);d||(d=document.createElement("audio"),d.id=b,d.Tg="preload",d.src=c,a.appendChild(d));return d}function hf(a,b){if(b&&a.Be&&y.df())try{a.jm?(b.setActive(),b.click(),b.autoplay="",b.autoplay="autoplay"):b.play()}catch(c){}};function kd(a){this.g=a;this.b=null;this.a={d:null};this.ik=new z(217,217,217,255);this.Yg=[];this.sf=[]}function R(a,b,c,d){a.sf.push(new jf(b,c,d))}kd.prototype.o=function(a,b){this.b=b;this.a.d=D(a);var c=this.a.d.a,d=this.a.d;c.style.backgroundColor=Q(this.ik);for(var e=0,f=0,g=0,h=this.sf.length;g<h;++g){var k=this.sf[g],m=k.Sa;if(null!==m){var n=a+g;this.qa(c,n);S===k.Zn?(this.ta(d,n,e,k.A,!0),e+=k.A+k.fk):(this.ta(d,n,f,k.A,!1),f+=k.A+k.fk);m.o(n,b);this.Yg.push(m)}}this.p()};kd.prototype.p=function(){this.a.d.fb(this.a.d.a.clientWidth,this.a.d.a.clientHeight);for(var a=0,b=this.Yg.length;a<b;a++)this.Yg[a].p()};function kf(a){for(var b=0,c=0,d=a.sf.length;c<d;++c){var e=a.sf[c],f=e.A;-1===f&&(f=16777215);b+=f+e.fk}return b}kd.prototype.qa=function(a,b){var c=document.createElement("div");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};kd.prototype.ta=function(a,b,c,d,e){b=D(b);e?(J(b.i,c,0,1E3,1E3,!0,!1,!1,!1,d,-1),b.n=L|M|O):(J(b.i,0,0,c,1E3,!1,!1,!0,!1,d,-1),b.n=L|P|O);a.k(b)};function Ae(a){this.g=a;this.b=null;this.a={d:null,Xo:{d:null},Yo:{d:null}};this.ik=new z(217,217,217,255);this.lh=this.ph=this.jd=this.Xd=null;this.Yg=[]}l=Ae.prototype;l.o=function(a,b,c,d){this.b=b;this.a.d=D(a);var e=this.a.d.a,f=this.a.d;e.style.backgroundColor=Q(this.ik);var g=new dd(this.g),h=a+"C";this.qa(e,h);this.ta(f,h,0);g.o(h,b);this.jd=g;g=new ed(this.g);a=a+"N";this.qa(e,a);this.ta(f,a,1);g.o(a,b);this.Xd=g;this.Xd.ok=this;this.jd.ok=this;this.ph=document.getElementById(c);this.lh=document.getElementById(d);this.Bd(this.jd);this.p()};l.p=function(){this.a.d.fb(this.a.d.a.clientWidth,this.a.d.a.clientHeight);this.Xd.p();this.jd.p()};l.qa=function(a,b){var c=document.createElement("div");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};l.ta=function(a,b,c){b=D(b);J(b.i,0,36*c+c,1E3,0,!1,!0,!1,!1,-1,36);b.n=L|M|P;a.k(b)};l.Bd=function(a){a===this.Xd?(yc(this.Xd,!0),yc(this.jd,!1),this.ph.style.visibility="visible",this.lh.style.visibility="hidden"):a===this.jd?(yc(this.Xd,!1),yc(this.jd,!0),this.ph.style.visibility="hidden",this.lh.style.visibility="visible"):(yc(this.Xd,!1),yc(this.jd,!1),this.ph.style.visibility="hidden",this.lh.style.visibility="hidden")};var S=1,te=2;function jf(a,b,c){this.Sa=a;this.A=b;this.fk=1;this.Zn=c}function xe(a){this.g=a;this.a={d:null,ij:null,In:null,ri:null,el:null,Ph:null,Qk:null,nj:null,Ll:null,fl:null,si:null,uj:null,Ql:null};this.hm=y.Kd;this.lm=y.Md;this.im=y.Jd;this.fm=y.Id;this.km=y.Ld;this.G=this.A=-1;this.Df=36;this.xm=1;this.zm=110;this.Ne=new kd(a);R(this.Ne,new bd(a),36,S);this.g&&this.g.b&&!0!==this.g.b.wa.gm?R(this.Ne,new Yc(a),36,S):this.zm=73;R(this.Ne,new Zc(a,this),36,S);this.Kc=new kd(a);R(this.Kc,new Ec(a),36,S);R(this.Kc,new Gc(a),36,S);R(this.Kc,new Hc(a),36,S);R(this.Kc,new Ic(a),36,S);R(this.Kc,new Jc(a),36,S);R(this.Kc,new Kc(a),36,S);this.Uf=new kd(a);R(this.Uf,new Lc(a),36,S);R(this.Uf,new Mc(a),36,S);this.Le=new kd(a);R(this.Le,new ad(a),73,S);R(this.Le,new fd(a),36,S);R(this.Le,new vc(a),36,S);this.Of=new kd(a);R(this.Of,new Wc(a),36,S);R(this.Of,new cf(a,af),-1,S);this.uh=new kd(a);R(this.uh,new cf(a,bf),-1,S);this.$j=1;this.U=[];this.rk=null}l=xe.prototype;l.o=function(a){this.a.d=D(a);var b=this.a.d.a,c=this.a.d,d=a+"SS",e=a+"GN",f=a+"TN",g=a+"GL",h=a+"AP";a=a+"TL";this.a.In=lf(b,d);this.a.fl=lf(b,e);this.a.Ql=lf(b,f);this.a.el=lf(b,g);this.a.Qk=lf(b,h);this.a.Ll=lf(b,a);this.a.ij=D(d);c.k(this.a.ij);this.Ne.o(d,this.g.b);this.a.si=D(e);c.k(this.a.si);this.Kc.o(e,this.g.b);this.a.uj=D(f);c.k(this.a.uj);this.Uf.o(f,this.g.b);this.a.ri=D(g);c.k(this.a.ri);this.Le.o(g,this.g.b);this.a.Ph=D(h);c.k(this.a.Ph);this.Of.o(h,this.g.b);this.a.nj=D(a);c.k(this.a.nj);this.uh.o(a,this.g.b);mf(this);nf(this)};l.Ga=function(){var a=Math.max(this.$j,1);return a*this.Df+(a-1)*this.xm};l.p=function(a){var b=this.a.d.a.clientWidth,c=this.a.d.a.clientHeight;if(b!==this.A||c!==this.G||!0===a)for(this.A=b,this.G=c,this.ua(),this.a.d.fb(b,c),this.Ne.p(),a=0,b=this.U.length;a<b;++a)this.U[a].p()};function ye(a,b){a.rk=b}l.ej=function(a){this.hm=a;this.ua();this.p(!0)};l.hj=function(a){this.lm=a;this.ua();this.p(!0)};l.hf=function(a){this.im=a;this.ua();this.p(!0)};l.$i=function(a){this.fm=a;this.ua();this.p(!0)};l.gj=function(a){this.km=a;this.ua();this.p(!0)};l.ua=function(){mf(this);nf(this);this.rk&&this.rk()};function mf(a){a.U=[];of(a,a.hm,a.Kc,a.a.fl);of(a,a.lm,a.Uf,a.a.Ql);of(a,a.im,a.Le,a.a.el);of(a,a.fm,a.Of,a.a.Qk);of(a,a.km,a.uh,a.a.Ll)}function of(a,b,c,d){!0===b?(a.U.push(c),d.style.display="block"):d.style.display="none"}function nf(a){var b=a.a.d.a.clientWidth;a.$j=1;var c=a.a.ij;J(c.i,0,0,0,1E3,!1,!0,!0,!1,a.zm,a.Df);c.n=L|P;for(var c=b-kf(a.Ne),d=0,e=0,f=0,g=a.U.length;f<g;++f){var h=a.U[f],k=kf(h),m=null;h===a.Kc?m=a.a.si:h===a.Uf?m=a.a.uj:h===a.Le?m=a.a.ri:h===a.Of?m=a.a.Ph:h===a.uh&&(m=a.a.nj);if(h=m).1>=d||d+k<c?J(h.i,d,e,1E3,1E3,!0,!0,!0,!1,Math.min(k,c),a.Df):(c=b,a.$j++,d=0,e+=a.Df+a.xm,J(h.i,d,e,1E3,1E3,!0,!0,!0,!1,Math.min(k,c-d),a.Df)),h.n=L|M,d+=k}};function pf(){this.Zg=[];this.Jc=null;this.nc=[]}pf.prototype.o=function(a,b,c,d){var e=d?d:200,f=document.getElementById(a);a=document.createElement("div");a.style.position="absolute";a.style.left="0px";a.style.top="0px";a.style.bottom="0px";a.style.width=e-1+"px";a.style.borderRight="1px solid #cbcbcb";f.appendChild(a);d=document.createElement("div");d.style.position="absolute";d.style.left=e+"px";d.style.top="0px";d.style.bottom="0px";d.style.right="0px";f.appendChild(d);e=0;for(f=b.length;e<f;e++)qf(this,a,b[e],d);(b=this.Zg[c?c:0])&&rf(this,b)};function qf(a,b,c,d){var e=document.createElement("div");b.appendChild(e);e.style.color="rgb(68, 68, 68)";e.addEventListener("mouseenter",function(){a.Jc!==this&&(this.style.backgroundColor="rgb(241, 241, 241)")},!1);e.addEventListener("mouseleave",function(){a.Jc!==this&&(this.style.backgroundColor="")},!1);e.addEventListener("click",function(){rf(a,this)},!1);b=document.createElement("div");e.appendChild(b);b.style.padding="7px 2px 7px 20px";var f=document.createElement("div");b.appendChild(f);f.style["-webkit-user-select"]="none";f.style.borderCollapse="collapse";f.style.boxSizing="border-box";f.style.cursor="pointer";f.style.display="block";f.style.fontFamily="Helvetica Neue', Helvetica, Arial, sans-serif";f.style.fontSize="16px";f.style.height="17px";f.style.lineHeight="17.142858505249px";f.style.width="177px";nd(f,c);f=document.createElement("div");f.style.display="none";f.style.width="100%";f.style.height="100%";d.appendChild(f);a.nc.push(f);a.Zg.push(e)}function rf(a,b){if(a.Jc!==b){if(null!==a.Jc){a.Jc.style.backgroundColor="";a.Jc.style.color="rgb(68, 68, 68)";var c=sf(a,a.Jc);a.nc[c]&&(a.nc[c].style.display="none")}a.Jc=b;b.style.backgroundColor="#7d858c";b.style.color="#fff";c=sf(a,a.Jc);a.nc[c]&&(a.nc[c].style.display="block")}}function sf(a,b){for(var c=0,d=a.Zg.length;c<d;c++)if(b===a.Zg[c])return c;return-1};function tf(){this.a={d:null,Bb:null,yd:null,Zk:null,rd:null,Uk:null,af:null,qe:null,pe:null,re:null,xd:null,Tc:null,Sc:null,wc:null};this.jo=new z(166,166,166,255);this.eo=new z(185,185,185,255);this.jk=new z(217,217,217,255);this.g=null;this.G=this.A=-1;this.wf=!1;var a=this;this.vo=function(){var b=parseInt(a.a.d.a.style.left),c=parseInt(a.a.d.a.style.width),d=parseInt(a.a.af.style.left);60>c-d||(a.a.d.a.style.left=b+d+"px",a.a.d.a.style.width=c-d+"px");a.a.af.style.left="0px";a.p()};this.yo=function(){var b=parseInt(a.a.d.a.style.width),c=parseInt(a.a.qe.style.left)+6-b;60>b+c?a.a.qe.style.left=b-6+"px":(a.a.d.a.style.width=b+c+"px",a.a.qe.style.left=b+c-6+"px",a.p())};this.ro=function(){var b=parseInt(a.a.d.a.style.height),c=parseInt(a.a.pe.style.top)+6-b;60>b+c?a.a.pe.style.top=b-6+"px":(a.a.d.a.style.height=b+c+"px",a.a.pe.style.top=b+c-6+"px",a.p())};this.Ao=function(){var b=parseInt(a.a.d.a.style.top),c=parseInt(a.a.d.a.style.height),d=parseInt(a.a.re.style.top);60>c-d?a.a.re.style.top="0px":(a.a.d.a.style.top=b+d+"px",a.a.d.a.style.height=c-d+"px",a.a.re.style.top="0px",a.p())};this.wo=function(){var b=parseInt(a.a.d.a.style.top),c=parseInt(a.a.d.a.style.height),d=parseInt(a.a.xd.style.top);60>c-d||(a.a.d.a.style.top=b+d+"px",a.a.d.a.style.height=c-d+"px");a.a.xd.style.top="0px";b=parseInt(a.a.d.a.style.left);c=parseInt(a.a.d.a.style.width);d=parseInt(a.a.xd.style.left);60>c-d||(a.a.d.a.style.left=b+d+"px",a.a.d.a.style.width=c-d+"px");a.a.xd.style.left="0px";a.p()};this.zo=function(){var b=parseInt(a.a.d.a.style.top),c=parseInt(a.a.d.a.style.height),d=parseInt(a.a.Tc.style.top);60>c-d||(a.a.d.a.style.top=b+d+"px",a.a.d.a.style.height=c-d+"px");a.a.Tc.style.top="0px";b=parseInt(a.a.d.a.style.width);c=parseInt(a.a.Tc.style.left)+6-b;60>b+c?a.a.Tc.style.left=b-6+"px":(a.a.d.a.style.width=b+c+"px",a.a.Tc.style.left=b+c-6+"px");a.p()};this.uo=function(){var b=parseInt(a.a.d.a.style.left),c=parseInt(a.a.d.a.style.width),d=parseInt(a.a.Sc.style.left);60>c-d||(a.a.d.a.style.left=b+d+"px",a.a.d.a.style.width=c-d+"px");a.a.Sc.style.left="0px";b=parseInt(a.a.d.a.style.height);c=parseInt(a.a.Sc.style.top)+6-b;60>b+c?a.a.Sc.style.top=b-6+"px":(a.a.d.a.style.height=b+c+"px",a.a.Sc.style.top=b+c-6+"px");a.p()};this.xo=function(){var b=parseInt(a.a.d.a.style.width),c=parseInt(a.a.wc.style.left)+6-b;60>b+c?a.a.wc.style.left=b-6+"px":(a.a.d.a.style.width=b+c+"px",a.a.wc.style.left=b+c-6+"px");b=parseInt(a.a.d.a.style.height);c=parseInt(a.a.wc.style.top)+6-b;60>b+c?a.a.wc.style.top=b-6+"px":(a.a.d.a.style.height=b+c+"px",a.a.wc.style.top=b+c-6+"px");a.p()}}l=tf.prototype;l.o=function(a,b){var c=this;this.wf=!0;this.a.d=D(a);var d=this.a.d.a,e=this.a.d;d.style.border="1px solid "+Q(this.jo);d.style.backgroundColor=Q(this.jk);d.style.boxSizing="content-box";var f=a+"_Inner",g=uf(d,f),f=D(f);J(f.i,6,29,8,8,!0,!0,!0,!0,-1,-1);f.n=L|M|O|P;e.k(f);g.style.border="1px solid "+Q(this.eo);g.style.backgroundColor=Q(new z(255,255,255,255));g.style.overflow="hidden";this.a.Bb=g;this.a.yd=f;f=a+"_Caption";uf(d,f);g=D(f);J(g.i,0,0,1E3,1E3,!1,!1,!1,!1,-1,30);g.n=L|M|P;e.k(g);var h=f+"_Text",f=uf(d,h),h=D(h);J(h.i,15,0,55,1E3,!0,!1,!0,!1,-1,30);h.n=L|M|P|O;g.k(h);f.style.fontFamily="Tahoma, Sans serif";f.style.fontSize="13pt";f.style.textAlign="center";f.style.height="29px";f.style.lineHeight="29px";f.style.overflow="hidden";f.style.textOverflow="ellipsis";f.style["-o-text-overflow"]="ellipsis";f.style.cursor="default";nd(f,"Caption");this.a.Uk=f;f=a+"_Caption2";g=uf(d,f);f=D(f);J(f.i,0,0,1E3,1E3,!1,!1,!1,!1,-1,30);f.n=L|M|P;e.k(f);this.a.rd=g;Ne(g);g.yb=function(){var a=parseInt(c.a.d.a.style.top),b=parseInt(c.a.rd.style.top);c.a.d.a.style.left=parseInt(c.a.d.a.style.left)+parseInt(c.a.rd.style.left)+"px";c.a.d.a.style.top=a+b+"px";c.a.rd.style.left="0px";c.a.rd.style.top="0px";c.p()};!1!==b&&(f=a+"_LeftHandler",g=uf(d,f),f=D(f),J(f.i,0,6,1E3,6,!1,!0,!1,!0,6,-1),f.n=L|M|O,e.k(f),g.style.cursor="w-resize",this.a.af=g,f=a+"_RightHandler",g=uf(d,f),f=D(f),J(f.i,0,6,0,6,!1,!0,!0,!0,6,-1),f.n=L|P|O,e.k(f),g.style.cursor="w-resize",this.a.qe=g,f=a+"_BottomHandler",g=uf(d,f),f=D(f),J(f.i,6,0,6,0,!0,!1,!0,!0,-1,6),f.n=O|P|M,e.k(f),g.style.cursor="s-resize",this.a.pe=g,f=a+"_TopHandler",g=uf(d,f),f=D(f),J(f.i,6,0,6,1E3,!0,!0,!0,!1,-1,6),f.n=L|P|M,e.k(f),g.style.cursor="s-resize",this.a.re=g,f=a+"_LeftTopHandler",g=uf(d,f),f=D(f),J(f.i,0,0,1E3,1E3,!1,!1,!1,!1,6,6),f.n=L|M,e.k(f),g.style.cursor="se-resize",this.a.xd=g,f=a+"_RightTopHandler",g=uf(d,f),f=D(f),J(f.i,0,0,0,1E3,!1,!1,!0,!1,6,6),f.n=L|P,e.k(f),g.style.cursor="ne-resize",this.a.Tc=g,f=a+"_LeftBottomHandler",g=uf(d,f),f=D(f),J(f.i,0,0,0,1E3,!1,!1,!1,!1,6,6),f.n=O|M,e.k(f),g.style.cursor="ne-resize",this.a.Sc=g,f=a+"_RightBottomHandler",g=uf(d,f),f=D(f),J(f.i,0,0,0,1E3,!1,!1,!0,!1,6,6),f.n=O|P,e.k(f),g.style.cursor="se-resize",this.a.wc=g,Ne(this.a.af,null,null,null,null),this.a.af.yb=this.vo,Ne(this.a.qe,null,null,null,null),this.a.qe.yb=this.yo,Ne(this.a.re,null,null,null,null),this.a.re.yb=this.Ao,Ne(this.a.pe,null,null,null,null),this.a.pe.yb=this.ro,Ne(this.a.xd,null,null,null,null),this.a.xd.yb=this.wo,Ne(this.a.Tc,null,null,null,null),this.a.Tc.yb=this.zo,Ne(this.a.Sc,null,null,null,null),this.a.Sc.yb=this.uo,Ne(this.a.wc,null,null,null,null),this.a.wc.yb=this.xo);g=a+"_Close";d=uf(d,g);f=D(g);J(f.i,0,0,6,1E3,!1,!0,!0,!1,45,20);f.n=L|P;e.k(f);d.style.backgroundColor=Q(new z(255,0,0,255));e=new Ac(this.g);e.o(g,this);e.rh=new z(199,80,80,255);e.Rf=new z(224,67,67,255);e.ih=new z(153,61,61,255);this.a.Zk=e};l.p=function(a){var b=this.a.d.a.clientWidth,c=this.a.d.a.clientHeight;if(b!==this.A||c!==this.G||!0===a)this.A=b,this.G=c,this.a.d.fb(b,c),this.a.Zk.p()};l.mb=function(){this.wf=!1;this.a.d.a.style.display="none";this.b&&this.b.Ba()};l.Ra=function(a){this.wf=!0;var b=this.a.d.a;b.style.display="block";var c=parseInt(b.style.left),d=parseInt(b.style.top);if(a.ba){var e=a.ba;a=e.Mb();e=e.Ga();d>e-100&&(b.style.top=e-100+"px");c>a-100&&(b.style.left=a-100+"px")}0>c&&(b.style.left="0px");0>d&&(b.style.top="0px")};l.Ba=function(){};function Da(a,b){nd(a.a.Uk,b)}function uf(a,b){var c=document.createElement("div");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c}function vf(a,b){if(b){a.g=b;var c=a.a.d.a,d=a.td();null!==d&&void 0!==d&&(c.style.width=d.J+"px",c.style.height=d.D+"px");var d=parseInt(c.style.width),e=parseInt(c.style.height);c.style.left=(a.g.Mb()-d)/2+"px";c.style.top=(a.g.Ga()-e)/2+"px"}}l.td=function(){return null};l.Ha=function(){};function wf(){wf.r.constructor.call(this);this.a.we=null;this.a.Ue=null;this.a.Ab=null;this.a.tg=null}Fc(wf,tf);wf.prototype.o=function(a,b){wf.r.o.call(this,a,b);var c=this.a.Bb,d=this.a.yd,e=c.id,f=e+"Content",e=e+"Buttons",g=uf(c,f),c=uf(c,e),f=D(f);J(f.i,0,0,0,40,!0,!0,!0,!0,-1,-1);f.n=M|L|O|P;d.k(f);var h=D(e);J(h.i,0,0,0,0,!0,!1,!0,!0,-1,40);h.n=M|O|P;d.k(h);this.a.tg=f;this.a.Ab=g;c.style.borderTop="1px solid rgb(172,172,172)";c.style.backgroundColor="rgb(240,240,240)";g=e+"OK";uf(c,g);f=D(g);J(f.i,0,9,85,1E3,!1,!0,!0,!1,66,21);f.n=L|P;d.k(f);f=new Bc(this.g);f.o(g,this);this.a.we=f;f.nk=new z(234,234,234,255);f.rh=new z(172,172,172,255);f.mk=new z(227,240,252,255);f.Rf=new z(126,180,234,255);f.hk=new z(207,230,252,255);f.ih=new z(86,157,229,255);f.kk=new z(239,239,239,255);f.lk=new z(217,217,217,255);e+="Cancel";uf(c,e);c=D(e);J(c.i,0,9,11,1E3,!1,!0,!0,!1,66,21);c.n=L|P;d.k(c);d=new Cc(this.g);d.o(e,this);this.a.Ue=d;d.nk=new z(234,234,234,255);d.rh=new z(172,172,172,255);d.mk=new z(227,240,252,255);d.Rf=new z(126,180,234,255);d.hk=new z(207,230,252,255);d.ih=new z(86,157,229,255);d.kk=new z(239,239,239,255);d.lk=new z(217,217,217,255)};wf.prototype.p=function(a){wf.r.p.call(this,a);this.a.we&&this.a.we.p();this.a.Ue&&this.a.Ue.p()};wf.prototype.jl=function(){this.mb()};wf.prototype.$e=function(){this.mb()};function xf(){xf.r.constructor.call(this);this.q={};this.b=null;this.qm=10;this.ck=20;this.ao=5}Fc(xf,wf);l=xf.prototype;l.o=function(a,b){xf.r.o.call(this,a);vf(this,b.ba);var c=b.W;this.b=c;!0!==(c.H&16?!0:!1)&&wc(this.a.we,!1);Da(this,"Game info");var d=this.a.tg,e=this.a.Ab,f=this.a.Ab.id;e.style.overflowX="hidden";e.style.overflowY="scroll";var g=this.ck,h=10,k=this.ao,m=this.qm,n=c.H&16?!0:!1;this.q.xn=this.ja(e,d,f,"Game name",c.md,h,g,n);h+=g+k;this.q.Dn=this.ja(e,d,f,"Result",c.Qe,h,g,n);h+=g+k;this.q.Gn=this.ja(e,d,f,"Rules",c.cg,h,g,n);h+=g+k;this.q.Li=this.ja(e,d,f,"Komi",c.fd,h,g,n);h+=g+k;this.q.wi=this.ja(e,d,f,"Handicap",c.Vb,h,g,n);h+=g+k;this.q.Kn=this.ja(e,d,f,"Time settings",c.Kf+(""===c.bg?"":" + "+c.bg),h,g,n);h+=g+k;this.q.ln=this.ja(e,d,f,"Black",c.kd,h,g,n);h+=g+k;this.q.nn=this.ja(e,d,f,"Black rank",c.Vf,h,g,n);h+=g+k;this.q.Nn=this.ja(e,d,f,"White",c.nd,h,g,n);h+=g+k;this.q.Pn=this.ja(e,d,f,"White rank",c.dg,h,g,n);h+=g+k;this.q.sn=this.ja(e,d,f,"Copyright",c.Wf,h,g,n);h+=g+k;this.q.Date=this.ja(e,d,f,"Date",c.be,h,g,n);h+=g+k;this.q.Event=this.ja(e,d,f,"Event",c.Oe,h,g,n);h+=g+k;this.q.Fn=this.ja(e,d,f,"Round",c.Zf,h,g,n);h+=g+k;this.q.Bn=this.ja(e,d,f,"Place",c.Pe,h,g,n);h+=g+k;this.q.kn=this.ja(e,d,f,"Annotator",c.Xf,h,g,n);h+=g+k;this.q.wn=this.ja(e,d,f,"Fuseki",c.Yf,h,g,n);h+=g+k;this.q.Jn=this.ja(e,d,f,"Source",c.$f,h,g,n);h+=g+k;this.q.Pl=this.ja(e,d,f,"Transcriber",c.ag,h,g,n);h+=g+k;this.q.Pl=this.Ck(e,d,f,"Game Info",c.vk,h,g,n);h+=3*g;uf(e,f+"Bottom");c=D(f+"Bottom");J(c.i,0,h,1E3,1E3,!0,!0,!1,!1,0,m);c.n=M|L|P;d.k(c)};l.p=function(a){xf.r.p.call(this,a);this.a.we&&this.a.we.p();this.a.Ue&&this.a.Ue.p();a=parseInt(this.q.me.style.top)|0;var b=(parseInt(this.a.Ab.style.height)|0)-this.qm;this.q.me.style.height=b-a<3*this.ck?3*this.ck+"px":b-a+"px"};l.jl=function(){this.mb()};l.$e=function(){if(this.b){var a=this.b;a.md=this.q.xn.value;U(a);yf(this.b,this.q.Dn.value);a=this.b;a.cg=this.q.Gn.value;U(a);a=this.b;a.fd=parseFloat(this.q.Li.value);a.na=!0;a=this.b;a.Vb=this.q.wi.value;U(a);a=this.b;a.Kf=this.q.Kn.value;U(a);zf(this.b,this.q.ln.value);Af(this.b,this.q.nn.value);Bf(this.b,this.q.Nn.value);Cf(this.b,this.q.Pn.value);a=this.b;a.Wf=this.q.sn.value;U(a);Df(this.b,this.q.me.value);a=this.b;a.be=this.q.Date.value;a.na=!0;a=this.b;a.Oe=this.q.Event.value;U(a);a=this.b;a.Zf=this.q.Fn.value;U(a);a=this.b;a.Pe=this.q.Bn.value;U(a);a=this.b;a.Xf=this.q.kn.value;U(a);a=this.b;a.Yf=this.q.wn.value;U(a);a=this.b;a.$f=this.q.Jn.value;U(a);a=this.b;a.ag=this.q.Pl.value;U(a)}this.mb()};l.qa=function(a,b,c){var d=document.createElement("div");d.setAttribute("id",b);d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.style.fontFamily="Tahoma, Sans serif";d.style.fontSize=15*c/20+"px";d.style.lineHeight=c+"px";d.style.height=c+"px";a.appendChild(d);return d};l.fg=function(a,b,c){var d=document.createElement("input");d.setAttribute("id",b);d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.setAttribute("type","text");d.style.fontFamily="Tahoma, Sans serif";d.style.fontSize="10pt";d.style.outline="none";d.style.border="1px solid rgb(169,169,169)";!1===c&&(d.disabled="disabled");a.appendChild(d);return d};l.ja=function(a,b,c,d,e,f,g,h){var k;k=30;c+=d;var m=this.qa(a,c,g),n=D(c);J(n.i,10,f,1E3,1E3,!0,!0,!1,!1,100,g);n.n=M|L;b.k(n);nd(m,d);d=c+"Value";a=this.fg(a,d,h);h=D(d);J(h.i,110,f+1,k,1E3,!0,!0,!0,!1,-1,g-2);h.n=M|L|P;b.k(h);a.value=e;return a};l.Ck=function(a,b,c,d,e,f,g,h){var k;k=30;c+=d;var m=this.qa(a,c,g),n=D(c);J(n.i,10,f,1E3,1E3,!0,!0,!1,!1,100,g);n.n=M|L;b.k(n);nd(m,d);c=c+"Value";d=document.createElement("textarea");d.setAttribute("id",c);d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.style.fontFamily="Tahoma, Sans serif";d.style.fontSize="10pt";d.style.resize="none";d.style.outline="none";d.style.border="1px solid rgb(169,169,169)";d.style.height=3*g+"px";this.q.me=d;!1===h&&(d.disabled="disabled");a.appendChild(d);a=D(c);J(a.i,110,f+1,k,1E3,!0,!0,!0,!1,-1,3*g);a.n=M|L|P;b.k(a);d.value=e;return d};function Ef(){Ef.r.constructor.call(this);this.A=300;this.G=100;this.Tm=null}Fc(Ef,tf);l=Ef.prototype;l.o=function(a,b){Ef.r.o.call(this,a,!1);vf(this,b.ba);Da(this,b.rd?b.rd:"Error");this.b=b.W;this.g=b.ba;var c=this.a.yd,d=a+"E",e=this.qa(this.a.Bb,d,20),d=D(d);J(d.i,10,5,10,5,!0,!0,!0,!0,-1,-1);d.n=M|L|O|P;c.k(d);this.Tm=e;this.Ra(b)};l.mb=function(){this.g&&Qd(this.g);xf.r.mb.call(this)};l.Ra=function(a){Ef.r.Ra.call(this,a);this.A=a.J;this.G=a.D;nd(this.Tm,a.vc);this.g&&(Od(this.g),vf(this,this.g),this.p(!0))};l.qa=function(a,b,c){var d=document.createElement("div");d.setAttribute("id",b);d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.style.fontFamily="Tahoma, Sans serif";d.style.fontSize=15*c/20+"px";d.style.lineHeight=c+"px";d.style.height=c+"px";a.appendChild(d);return d};l.td=function(){return{J:this.A,D:this.G}};function If(){If.r.constructor.call(this);this.b=null;this.q={Eb:{vj:null,lj:null,ci:null,mi:null},mj:null,Pi:null,Ti:null,li:null,Oi:null,Dl:null}}Fc(If,wf);If.prototype.o=function(a,b){If.r.o.call(this,a,!1);vf(this,b.ba);this.b=b.W;Da(this,"Settings");var c=new pf;c.o(this.a.Ab.id,["Appearance","Color Scheme","Loading Settings"],0,150);var d=Mf(c.nc[0]),e=this.a.Ab.id+"A";this.q.Dl=Nf(d,e+"T",this.b.ve(),"Show Target");this.q.li=Nf(d,e+"C",this.b.zd(),"Cycle through variants");this.q.mj=Nf(d,e+"S",this.b.df(),"Sound");this.q.Ti=Of(d,this.b.oe(),["No labels","Move numbers","Move numbers current variant only","Move coordinates"],"Labels in navigator");d=Mf(c.nc[1]);e=this.a.Ab.id+"CS";this.q.Eb.vj=Pf(d,e+"TC","TrueColor");this.q.Eb.lj=Pf(d,e+"SC","SimpleColor");this.q.Eb.ci=Pf(d,e+"BS","BookStyle");this.q.Eb.mi=Pf(d,e+"D","Dark");Qf(this);c=Mf(c.nc[2]);this.q.Pi=Nf(c,this.a.Ab.id+"LSU",this.b.bf(),"Load unfinished files on the last node");this.q.Oi=Of(c,this.b.ud(),["Don't show variants","Show variations of successor node (children)","Show variations of current node   (siblings)","Load option from file"],"Show variants")};If.prototype.td=function(){return{J:400,D:210}};If.prototype.Ra=function(a){If.r.Ra.call(this,a);this.q.li.checked=this.b.zd();this.q.mj.checked=this.b.df();this.q.Ti.selectedIndex=this.b.oe();Qf(this);this.q.Pi.checked=this.b.bf();this.q.Oi.selectedIndex=this.b.ud()};function Mf(a){var b=document.createElement("div");a.appendChild(b);b.style.margin="0";b.style.padding="10px 20px";b.style.fontFamily="Tahoma, Arial, Verdana";b.style.fontSize="10px";b.style.color="#666";b.style.background="#fff";return b}If.prototype.$e=function(){var a=1,a=this.q.Eb.lj.checked?3:this.q.Eb.ci.checked?2:this.q.Eb.mi.checked?4:1,a=y.Kg(a);y.kf(this.q.mj.checked?!0:!1);this.b.yc(this.q.Dl.checked?!0:!1);this.b.dj(this.q.Pi.checked?!0:!1);this.b.fj(this.q.Ti.selectedIndex);this.b.aj(this.q.li.checked?!0:!1);this.b.cj(this.q.Oi.selectedIndex);var b=this.b.j,c=this.b.M;b&&!0===a.V&&b.p(!0);c&&!0===a.Navigator&&Me(c);this.mb()};function Pf(a,b,c){var d=document.createElement("div");d.style.paddingLeft="10px";d.style.paddingBottom="5px";a.appendChild(d);var e=document.createElement("input");e.type="radio";e.name="ThemeId";e.value=c;e.setAttribute("id",b);d.appendChild(e);a=document.createElement("span");a.setAttribute("oncontextmenu","return false;");a.style.fontFamily="Tahoma, Sans serif";nd(a,c);a.style.fontFamily="Tahoma, Sans serif";a.style.fontSize="12pt";a.style.height="15px";a.style.lineHeight="15px";a.style.cursor="default";d.appendChild(a);a.addEventListener("click",function(){e.checked=!0},!1);return e}function Nf(a,b,c,d){var e=document.createElement("div");e.style.paddingLeft="10px";e.style.paddingBottom="5px";a.appendChild(e);var f=document.createElement("input");f.type="checkbox";f.checked=c;f.setAttribute("id",b);e.appendChild(f);a=document.createElement("span");a.setAttribute("oncontextmenu","return false;");a.style.fontFamily="Tahoma, Sans serif";nd(a,d);a.style.fontFamily="Tahoma, Sans serif";a.style.fontSize="12pt";a.style.height="15px";a.style.lineHeight="15px";a.style.cursor="default";e.appendChild(a);a.addEventListener("click",function(){f.checked=!f.checked},!1);return f}function Of(a,b,c,d){var e=document.createElement("div");e.style.paddingLeft="10px";e.style.paddingBottom="5px";e.style.fontFamily="Tahoma, Sans serif";e.style.fontSize="9pt";e.style.height="12px";e.style.lineHeight="12px";a.appendChild(e);a=document.createElement("div");nd(a,d);a.style.paddingBottom="5px";e.appendChild(a);d=document.createElement("select");d.style.width="170px";a=0;for(var f=c.length;a<f;a++){var g=document.createElement("option");g.value=c[a];nd(g,c[a]);d.appendChild(g)}d.selectedIndex=b;e.appendChild(d);return d}function Qf(a){var b=y.I.lb.u;231===b?y.I.ib?a.q.Eb.vj.checked=!0:a.q.Eb.lj.checked=!0:255===b?a.q.Eb.ci.checked=!0:30===b?a.q.Eb.mi.checked=!0:a.q.Eb.vj.checked=!0}function Rf(){Rf.r.constructor.call(this);this.j=null}Fc(Rf,tf);Rf.prototype.o=function(a,b){Rf.r.o.call(this,a,!0);vf(this,b.ba);this.b=b.W;Da(this,"Score estimate");var c=this.a.Bb,d=this.a.yd,e=this.a.Bb.id;c.style.background="url('"+Be+"')";var f=new aa;d.Wa(2,f);var e=e+"B",c=uf(c,e),g=D(e);J(g.i,0,0,1E3,1E3,!0,!0,!1,!1,-1,-1);g.n=L|M|O|P;d.k(g);this.Ic=c;this.Pf=g;f.o(e,Sf(this.b));f.Ke=this;Ea(f,9);this.j=f};Rf.prototype.p=function(a){Rf.r.p.call(this,a);this.j&&this.j.p(a)};Rf.prototype.Ra=function(a){for(;this.Ic.firstChild;)this.Ic.removeChild(this.Ic.firstChild);this.Pf&&this.Pf.Fa();var b=new aa;b.o(this.Ic.id,Sf(a.W));var c=b;c.Ke=this;Ea(c,9);this.j=b;Rf.r.Ra.apply(this,arguments);this.p(!0)};function Tf(){Tf.r.constructor.call(this)}Fc(Tf,tf);l=Tf.prototype;l.o=function(a,b){Tf.r.o.call(this,a,!1);this.b=b.W;this.j=b.ni;vf(this,b.ba);Da(this,"Colors counter");var c=this.a.Bb,d=this.a.yd,e=this.a.Bb.id;c.style.overflowX="hidden";c.style.overflowY="scroll";var f=10,g=b.ni.ab,h=[0,0,0,0],k=[0,0,0,0],m=[0,0,0,0],n=[0,0,0,0],p;for(p in g){var t=g[p],q=-1;0!==t.u&&0!==t.w&&0!==t.v?q=3:0!==t.u?q=0:0!==t.w?q=1:0!==t.v&&(q=2);var u=0,u=50>=t.Ja?0:100>=t.Ja?1:150>=t.Ja?2:3;switch(q){case 0:h[u]++;break;case 1:k[u]++;break;case 2:m[u]++;break;case 3:n[u]++}}this.Cn=this.ja(c,d,e,"Red","4 x "+h[3]+"+ 3 x "+h[2]+" + 2 x "+h[1]+" + 1 x "+h[0]+" ="+(4*h[3]+3*h[2]+2*h[1]+h[0]),f,20);f+=25;this.zn=this.ja(c,d,e,"Green","4 x "+k[3]+"+ 3 x "+k[2]+" + 2 x "+k[1]+" + 1 x "+k[0]+" ="+(4*k[3]+3*k[2]+2*k[1]+k[0]),f,20);f+=25;this.on=this.ja(c,d,e,"Blue","4 x "+m[3]+"+ 3 x "+m[2]+" + 2 x "+m[1]+" + 1 x "+m[0]+" ="+(4*m[3]+3*m[2]+2*m[1]+m[0]),f,20);f+=25;this.yn=this.ja(c,d,e,"Gray","4 x "+n[3]+"+ 3 x "+n[2]+" + 2 x "+n[1]+" + 1 x "+n[0]+" ="+(4*n[3]+3*n[2]+2*n[1]+n[0]),f,20);f+=25;uf(c,e+"Bottom");c=D(e+"Bottom");J(c.i,0,f,1E3,1E3,!0,!0,!1,!1,0,10);c.n=M|L|P;d.k(c)};l.qa=function(a,b,c){var d=document.createElement("div");d.setAttribute("id",b);d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.style.fontFamily="Tahoma, Sans serif";d.style.fontSize=15*c/20+"px";d.style.lineHeight=c+"px";d.style.height=c+"px";a.appendChild(d);return d};l.fg=function(a,b){var c=document.createElement("input");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");c.setAttribute("type","text");c.style.fontFamily="Tahoma, Sans serif";c.style.fontSize="10pt";c.style.outline="none";c.disabled="disabled";a.appendChild(c);return c};l.ja=function(a,b,c,d,e,f,g,h){var k;k=30;c+=d;var m=this.qa(a,c,g),n=D(c);J(n.i,10,f,1E3,1E3,!0,!0,!1,!1,100,g);n.n=M|L;b.k(n);nd(m,d);d=c+"Value";a=this.fg(a,d,h);h=D(d);J(h.i,110,f+1,k,1E3,!0,!0,!0,!1,-1,g-2);h.n=M|L|P;b.k(h);a.value=e;return a};l.Ra=function(a){Tf.r.Ra.call(this,a);this.b=a.W;this.j=a.ni;this.Ha()};l.Ha=function(){if(this.wf&&this.j){var a=this.j.ab,b=[0,0,0,0],c=[0,0,0,0],d=[0,0,0,0],e=[0,0,0,0],f;for(f in a){var g=a[f],h=-1;0!==g.u&&0!==g.w&&0!==g.v?h=3:0!==g.u?h=0:0!==g.w?h=1:0!==g.v&&(h=2);var k=0,k=50>=g.Ja?0:100>=g.Ja?1:150>=g.Ja?2:3;switch(h){case 0:b[k]++;break;case 1:c[k]++;break;case 2:d[k]++;break;case 3:e[k]++}}this.Cn.value="4 x "+b[3]+"+ 3 x "+b[2]+" + 2 x "+b[1]+" + 1 x "+b[0]+" ="+(4*b[3]+3*b[2]+2*b[1]+b[0]);this.zn.value="4 x "+c[3]+"+ 3 x "+c[2]+" + 2 x "+c[1]+" + 1 x "+c[0]+" ="+(4*c[3]+3*c[2]+2*c[1]+c[0]);this.on.value="4 x "+d[3]+"+ 3 x "+d[2]+" + 2 x "+d[1]+" + 1 x "+d[0]+" ="+(4*d[3]+3*d[2]+2*d[1]+d[0]);this.yn.value="4 x "+e[3]+"+ 3 x "+e[2]+" + 2 x "+e[1]+" + 1 x "+e[0]+" ="+(4*e[3]+3*e[2]+2*e[1]+e[0])}};l.td=function(){return{J:410,D:160}};function Uf(){Uf.r.constructor.call(this);this.b=this.g=this.Vm=this.Um=null}Fc(Uf,tf);Uf.prototype.o=function(a,b){Uf.r.o.call(this,a,!1);vf(this,b.ba);Da(this,"Creating Gif file...");b.W&&(this.b=b.W);var c=this.a.Bb,d=this.a.yd,e=this.a.Bb.id,f=e+"PB",g=uf(c,f),f=D(f);J(f.i,6,30,8,8,!0,!0,!0,!0,-1,-1);f.n=L|M|O|P;d.k(f);g.style.border="1px solid rgb(221,221,221)";g.style.backgroundColor="rgb(140, 140, 140)";f=e+"P";g=uf(c,f);f=D(f);J(f.i,7,31,0,7,!0,!0,!1,!0,10,-1);f.n=L|M|O;d.k(f);g.style.backgroundColor="rgb(54, 101, 179)";this.Um=g;e=e+"PV";c=uf(c,e);e=D(e);J(e.i,0,7,1E3,32,!1,!1,!1,!0,-1,-1);e.n=L|M|O;d.k(e);c.style.fontFamily="Tahoma, Sans serif";c.style.fontSize="15px";c.style.lineHeight="20px";c.style.height="20px";c.style.color="rgb(0, 0, 0)";c.style.textAlign="center";this.Vm=c};Uf.prototype.td=function(){return{J:240,D:100}};function Vf(a,b){a.Um.style.width=b/100*214+"px";nd(a.Vm,(100*b|0)/100+"%")}function Wf(a){Vf(a,0);a.g&&Od(a.g)}function Xf(a){Vf(a,100);setTimeout(function(){a.mb(!0)},300)}Uf.prototype.mb=function(a){!0!==a&&this.b&&(this.b.Fe=null);this.g&&Qd(this.g);Uf.r.mb.apply(this)};function Yf(){Yf.r.constructor.call(this);this.j=null}Fc(Yf,tf);Yf.prototype.o=function(a,b){Uf.r.o.call(this,a,!0);vf(this,b.ba);Da(this,"About");this.b=b.W;var c=new pf;c.o(this.a.Bb.id,["About Web Go Board","Keyboard Shortcuts"],0);var d=c.nc[0],e=document.createElement("div");d.appendChild(e);d.style.overflowX="hidden";d.style.overflowY="scroll";e.style.margin="0";e.style.padding="10px 20px";e.style.fontFamily="Tahoma, Arial, Verdana";e.style.fontSize="12px";e.style.color="#666";e.style.background="#fff";d=document.createElement("img");d.src=Zf;d.width=100;d.height=100;d.style["float"]="left";e.appendChild(d);d=document.createElement("div");d.style.width="10px";d.style.height="100px";d.style["float"]="left";e.appendChild(d);d=document.createElement("h1");e.appendChild(d);nd(d,"Web Go/Baduk Board");d=document.createElement("div");e.appendChild(d);nd(d,"Version "+GoBoardApi.zg());d=document.createElement("div");d.style.paddingTop="40px";e.appendChild(d);nd(d,"Visit our Github project for feedback and issue reports:");d=document.createElement("a");d.target="_blank";d.href="https://github.com/IlyaKirillov/GoProject";e.appendChild(d);nd(d,"https://github.com/IlyaKirillov/GoProject");d=document.createElement("div");d.style.paddingTop="20px";e.appendChild(d);nd(d,"Our site:");d=document.createElement("a");d.target="_blank";d.href="http://webgoboard.org/";e.appendChild(d);nd(d,"http://webgoboard.org/");d=document.createElement("div");d.style.paddingTop="20px";e.appendChild(d);nd(d,"Discussions:");d=document.createElement("a");d.target="_blank";d.href="http://www.lifein19x19.com/forum/viewtopic.php?f=18&t=11239";e.appendChild(d);nd(d,"http://www.lifein19x19.com/");e.appendChild(document.createElement("br"));d=document.createElement("a");d.target="_blank";d.href="http://kido.com.ru/253-web-go-doska";e.appendChild(d);nd(d,"http://kido.com.ru/");d=document.createElement("div");d.style.paddingTop="20px";e.appendChild(d);nd(d,"Browsers extension:");d=document.createElement("a");d.target="_blank";d.href="https://chrome.google.com/webstore/detail/web-go-board/cdmhoehokaoghadonjfdbhieajggfbmd";e.appendChild(d);nd(d,"Chrome and OperaNext");e.appendChild(document.createElement("br"));d=document.createElement("a");d.target="_blank";d.href="https://addons.mozilla.org/ru/firefox/addon/web-gobaduk-board/";e.appendChild(d);nd(d,"FireFox");d=document.createElement("div");d.style.paddingTop="30px";e.appendChild(d);nd(d,"\u00a9 Ilya Kirillov, 2014-2015. All rights reserved.");e=c.nc[1];e.style.overflowX="hidden";e.style.overflowY="scroll";c=document.createElement("div");e.appendChild(c);c.style.margin="0";c.style.padding="10px 20px";c.style.fontFamily="Tahoma, Arial, Verdana";c.style.fontSize="12px";c.style.color="#666";c.style.background="#fff";e=document.createElement("h1");c.appendChild(e);nd(e,"Keyboard Shortcuts");e.style.fontSize="16px";e.style.fontWeight="bold";e=document.createElement("table");c.appendChild(e);e.style.margin="20px 0";e.style.width="100%";c=document.createElement("tbody");e.appendChild(c);this.j=null;b.W&&(this.j=b.W.j);$f(c,"Working with Files");W(this,c,{s:!0,F:79,t:!1},"Open Sgf/Gib/Ngf","Ctrl+O","Open the Sgf/Gib/Ngf file from disk. (Not in color mode, see below)");W(this,c,{s:!0,F:79,t:!0},"Open Sgf","Ctrl+Shift+O","Open the Sgf file from source. (Not in color mode, see below)");W(this,c,{s:!0,F:67,t:!1},"Create new","Ctrl+C","Create new empty board. (not in color mode see below)");W(this,c,{s:!0,F:83,t:!1},"Save Sgf","Ctrl+S","Save Sgf file.");W(this,c,{s:!0,F:72,t:!1},"Save png shot","Ctrl+H","Save board shot in png format.");W(this,c,{s:!0,F:72,t:!0},"Save gif shot","Ctrl+Shift+H","Save board shot in gif format.");W(this,c,{s:!0,F:73,t:!1},"Save multipage gif file.","Ctrl+I","Save gif file for current variant.");W(this,c,{s:!0,F:73,t:!0},"Save multipage gif file.","Ctrl+Shift+I","Save gif file for all branches with comment RIGHT (for problem mode).");$f(c,"Navigation");W(this,c,{s:!1,F:39,t:!1},"Next node","Right arrow","Jump to next node.");W(this,c,{s:!0,F:39,t:!1},"Next 5 node","Ctrl+Right arrow","Jump over 5 nodes.");W(this,c,{s:!0,F:39,t:!0},"End of the variant","Ctrl+Shift+Right arrow","Jump to the end of the current variant.");W(this,c,{s:!1,F:37,t:!1},"Previous node","Left arrow","Jump to previous node.");W(this,c,{s:!0,F:37,t:!1},"Previous 5 node","Shift+Left arrow","Jump back over 5 nodes.");W(this,c,{s:!0,F:37,t:!0},"Start of the file","Ctrl+Shift+Right arrow","Jump to the start of the file.");W(this,c,{s:!1,F:38,t:!1},"Previous variant","Up arrow","Jump to previous variant.");W(this,c,{s:!1,F:40,t:!1},"Next variant","Down arrow","Jump to next variant.");W(this,c,{s:!0,F:36,t:!0},"Start node","Ctrl+Shift+Home",'Jump to the start node of the file. This node can be different from the first node. See "load unfinished files" checkbox in settings.');ag(this,c,{s:!1,F:112,t:!1},"Play mode","F1");W(this,c,{},"Add move","Left mouse click","Set sequentially stones.");W(this,c,{},"Add alternative move","Right mouse click","Create new brunch and add alternative move.");W(this,c,{},"Go to the point","Shift+Left mouse click onto a board position","Teleports you to the moment of the game forth or back, when the stone on this position has been played.");W(this,c,{},"Change move order","Ctrl+Shift+Left mouse click","When sequentially stones are entered: changes the colour of the next stone to be set. What stone will appear on the board is shown by the tools field (useful e.g. after a problem has been set up).");W(this,c,{},"Add comment with coordinates","Ctrl+Left mouse click","Add comment with coordinates.");ag(this,c,{s:!1,F:113,t:!1},"Count scores","F2");W(this,c,{},"Mark dead groups","Left mouse click","Mark dead groups.");W(this,c,{},"End count scores","Ctrl+Left mouse click onto board","Return to play mode.");ag(this,c,{s:!1,F:114,t:!1},"Set up a board position","F3");W(this,c,{},"Add black stone or remove stone","Left mouse click","Add black stone or remove stone.");W(this,c,{},"Add white stone or remove stone","Shift+Left mouse click","Add white stone or remove stone.");bg(this,c,{s:!1,F:115,t:!1},"Triangles","F4","Add triangles.");bg(this,c,{s:!1,F:116,t:!1},"Squares","F5","Add squares.");bg(this,c,{s:!1,F:117,t:!1},"Circles","F6","Add circles.");bg(this,c,{s:!1,F:118,t:!1},"X mark","F7",'Add "X" mark.');ag(this,c,{s:!1,F:119,t:!1},"Text label","F8");W(this,c,{},"Letter","Left mouse click","Add letter.");W(this,c,{},"Text","Shift+Left mouse click","Add text entered by the user.");ag(this,c,{s:!1,F:120,t:!1},"Numeric label","F9");W(this,c,{},"Number","Left mouse click","Add the smallest positive number.");W(this,c,{},"Move number","Shift+Left mouse click","Add number of the first move which was played here.");ag(this,c,{s:!1,F:121,t:!1},"Color mode","F10");W(this,c,{},"Blue region","Left mouse click","Add blue region.");W(this,c,{},"Green region","Shift+Left mouse click","Add green region.");W(this,c,{},"Red region","Ctrl+Left mouse click","Add red region.");W(this,c,{},"Gray region","Ctrl+Shift+Left mouse click","Add gray region.");W(this,c,{},"Clear region","Right mouse click","Clear region.");W(this,c,{s:!0,F:67,t:!1},"Continue","Ctrl+C","Copy all colors from previous node.");W(this,c,{s:!0,F:79,t:!1},"Count colors","Ctrl+O","Count all colors with depth.");W(this,c,{s:!0,F:82,t:!1},"Clear colors","Ctrl+R","Clear all colors in the current node.");$f(c,"Miscellaneous");W(this,c,{s:!1,F:8,t:!1},"Remove node","Backspace/Delete","Deletes the current node and all of the following brunches.");W(this,c,{s:!0,F:69,t:!1},"Score estimator","Ctrl+E","Show window with score estimator (you can mark dead groups by click on them).");W(this,c,{s:!0,F:86,t:!1},"View mode change of the next move","Ctrl+V","There are 3 mods: Show all next move variants, show all alternative variants of the current move, show nothing.");W(this,c,{s:!0,F:82,t:!1},"Show/Hide coordinates","Ctrl+R","Show/Hide coordinates. (Not in color mode, see above)");W(this,c,{s:!0,F:77,t:!0},"Make the current variant mainly","Ctrl+Shift+M","Make the current variant mainly by uplifting it to the root of the game tree.");W(this,c,{s:!0,F:85,t:!0},"Lift up the current variant","Ctrl+Shift+U","Lift up the current variant.");W(this,c,{s:!0,F:68,t:!0},"Lower down the current variant","Ctrl+Shift+D","Lower down the current variant.");W(this,c,{s:!0,F:86,t:!0},"Setting up view port","Ctrl+Shift+V","Setting up visible part of the board.");W(this,c,{s:!0,F:68,t:!1},"Ascii Diagram","Ctrl+D","Make ascii diagram by current position.")};Yf.prototype.td=function(){if(this.g){var a=this.g.Mb(),b=this.g.Ga(),a=Math.max(100,Math.min(700,.9*a)),b=Math.max(100,Math.min(600,.9*b));return{J:a,D:b}}return null};function cg(a){var b=document.createElement("tr");a.appendChild(b);b.style.borderLeft="0";b.style.borderRight="0";b.style.borderBottom="solid 1px #E4E4E4";b.style.borderCollapse="collapse";b.style.padding="8px";b.style.fontSize="12px";b.style.textAlign="left";b.style.cursor="default";return b}function dg(a,b){var c=document.createElement("td");a.appendChild(c);nd(c,b);c.style.borderLeft="0";c.style.borderRight="0";c.style.borderBottom="solid 1px #E4E4E4";c.style.borderCollapse="collapse";c.style.padding="8px";c.style.fontSize="12px";c.style.textAlign="left";c.style.cursor="default";return c}function eg(a,b,c){var d=a.j;d&&c.F&&(b.title="Click to do it",b.style.cursor="pointer",b.style.textDecoration="underline",b.addEventListener("click",function(){na(d,c)},!1))}function $f(a,b){var c=cg(a),c=dg(c,b);c.colSpan="3";c.style.fontSize="14px";c.style.fontWeight="bold";c.style.paddingTop="20px"}function ag(a,b,c,d,e){b=cg(b);dg(b,d).style.fontWeight="bold";d=dg(b,e);eg(a,d,c);d.colSpan="2"}function bg(a,b,c,d,e,f){b=cg(b);dg(b,d).style.fontWeight="bold";d=dg(b,e);eg(a,d,c);dg(b,f)}function W(a,b,c,d,e,f){b=cg(b);dg(b,d).style.width="35%";d=dg(b,e);d.style.width="15%";eg(a,d,c);dg(b,f).style.width="50%"}function fg(){fg.r.constructor.call(this);this.Tf=null}Fc(fg,tf);fg.prototype.o=function(a,b){fg.r.o.call(this,a,!0);Da(this,"Ascii Diagram");var c=this.a.Bb,d=this.a.yd,e=this.a.Bb.id;this.b=b.W;this.Ck(c,d,e);gg(this,b.W);this.Tf.select()};fg.prototype.Ra=function(a){fg.r.Ra.call(this,a);gg(this,a.W);this.Tf.select()};fg.prototype.Ck=function(a,b,c){var d=document.createElement("textarea");c=c+"TA";d.setAttribute("id",c);d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.style.fontFamily="Courier New, monospacef";d.style.fontSize="10pt";d.style.resize="none";d.style.outline="none";d.style.border="1px solid rgb(169,169,169)";d.style.height="100%";d.style.width="100%";this.Tf=d;a.appendChild(d);a=D(c);J(a.i,0,0,1E3,1E3,!1,!1,!1,!1,-1,-1);a.n=M|L|P|O;b.k(a);return d};function gg(a,b){a.Tf.value="";if(void 0!==b){var c=b.j,d=b.oa;if(c&&d){for(var e="",f=c.l,g=f.S,h=f.T,k=f.X,f=f.Y,m=0==g?!0:!1,n=d.ea().h-1==k?!0:!1,p=0==h?!0:!1,t=d.ea().f-1==f?!0:!1,q=[],u=h;u<f;u++)for(var v=g;v<k;v++){var r=Aa(c,v+1,u+1),x=null!=r?r.O:za,r=null!=r?r.Re:"";x==hb&&Pa(r)&&(x=parseInt(r),r={Number:x,Rb:d.K(v+1,u+1)},H!=r.Rb&&q.push(r))}var u=!0,x=c.Fb,I=-1;if(0<q.length){for(var v=-1,K=H,B=-1,F=0,V=q.length;F<V;F++){r=q[F];if(-1==v||r.Number<v)v=r.Number,K=r.Rb;if(-1==B||r.Number>B)B=r.Number}if(10>B-v){B=!0;F=0;for(V=q.length;F<V;F++){var r=q[F],A=(r.Number-v)%2;if(0==A&&K!=r.Rb||1==A&&K==r.Rb){B=!1;break}}!0===B&&(I=v,u=E===K?!0:!1)}}q=m?"$$  --":"$$ -";for(v=g+1;v<=k;v++)q+="--";q+=n?"- \n":"\n";m=m?"$$ |":"$$";n=n?" |\n":"\n";e=u?e+"$$B":e+"$$W";x&&(e+="c");-1!=I&&(e+="m"+I);e+="\n";p&&(e+=q);for(u=h;u<=f;u++){e+=m;for(v=g;v<=k;v++)if(r=Aa(c,v+1,u+1),x=null!=r?r.O:za,r=null!=r?r.Re:"",h=d.K(v+1,u+1),H==h)if(ob===x)e=e+" T";else if(mb===x)e=e+" C";else if(nb===x)e=e+" S";else if(pb===x)e=e+" M";else if(hb===x&&1===r.length&&97<=r.charCodeAt(0)&&122>=r.charCodeAt(0))e=e+String.fromCharCode(32,r.charCodeAt(0));else if(hb===x&&1===r.length&&65<=r.charCodeAt(0)&&90>=r.charCodeAt(0))e=e+String.fromCharCode(32,r.charCodeAt(0)+32);else{a:{h=v+1;p=u+1;if(d.A===d.G)for(x=Ma(d),r=0,K=x.length;r<K;r++)if(h-1===x[r][0]&&p-1===x[r][1]){h=!0;break a}h=!1}e=h?e+" ,":e+" ."}else-1!==I&&x==hb&&Pa(r)?(x=parseInt(r)-I+1,e=10==x?e+" 0":e+(" "+x)):E==h?e=ob===x?e+" Y":mb===x?e+" B":nb===x?e+" #":pb===x?e+" Z":e+" X":G==h&&(e=ob===x?e+" Q":mb===x?e+" W":nb===x?e+" @":pb===x?e+" P":e+" O");e+=n}t&&(e+=q);a.Tf.value=e}}}function hg(){hg.r.constructor.call(this)}Fc(hg,wf);hg.prototype.o=function(a,b){hg.r.o.call(this,a,!0);vf(this,b.ba);this.b=b.W;this.g=b.ba;Da(this,"Setting up view port...");var c=this.a.Ab,d=this.a.tg,e=this.a.Ab.id;c.style.background="url('"+Be+"')";var f=new aa;d.Wa(2,f);var e=e+"B",c=uf(c,e),g=D(e);J(g.i,0,0,1E3,1E3,!0,!0,!1,!1,-1,-1);g.n=L|M|O|P;d.k(g);this.Ic=c;this.Pf=g;f.o(e,Sf(this.b));Ea(f,11);this.j=f};hg.prototype.p=function(a){hg.r.p.call(this,a);this.j&&this.j.p(a)};hg.prototype.Ra=function(a){for(;this.Ic.firstChild;)this.Ic.removeChild(this.Ic.firstChild);this.Pf&&this.Pf.Fa();var b=new aa;b.o(this.Ic.id,Sf(a.W));Ea(b,11);this.j=b;hg.r.Ra.apply(this,arguments);this.p(!0)};hg.prototype.$e=function(){if(this.b){var a=this.b.j;if(a){var b=this.j,c=Math.min(b.ra.Og,b.ra.ke),d=Math.max(b.ra.Og,b.ra.ke),e=Math.min(b.ra.Pg,b.ra.le),b=Math.max(b.ra.Pg,b.ra.le);if(d===c&&b===e)wa(a);else{if(3>d-c||3>b-e){a=this.b;(c=this.g)&&Jb(c.Z.id,Kb,{W:a,ba:c,vc:"Sorry, viewport can't be so small.",J:270,D:80});return}va(a,c-1,e-1,d-1,b-1)}this.g.p(!0)}}this.mb()};function ig(){ig.r.constructor.call(this)}Fc(ig,wf);l=ig.prototype;l.o=function(a,b){hg.r.o.call(this,a,!1);vf(this,b.ba);this.b=b.W;this.g=b.ba;Da(this,"Create new");var c=this.a.Ab,d=this.a.tg,e=this.a.Ab.id,f=5;this.mn=this.ja(c,d,e,"Black","Black",f,20);f+=50;this.On=this.ja(c,d,e,"White","White",f,20);f+=50;this.pn=this.ja(c,d,e,"Board size","19",f,20);f+=50;this.wi=this.ja(c,d,e,"Handicap","0",f,20);this.Li=this.ja(c,d,e,"Komi","6.5",f+50,20)};l.qa=function(a,b,c){var d=document.createElement("div");d.setAttribute("id",b);d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.style.fontFamily="Tahoma, Sans serif";d.style.fontSize=15*c/20+"px";d.style.lineHeight=c+"px";d.style.height=c+"px";d.style.fontWeight=550;a.appendChild(d);return d};l.fg=function(a,b){var c=document.createElement("input");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");c.setAttribute("type","text");c.style.fontFamily="Tahoma, Sans serif";c.style.fontSize="10pt";c.style.outline="none";c.style.border="1px solid rgb(169,169,169)";a.appendChild(c);return c};l.ja=function(a,b,c,d,e,f,g){c+=d;var h=this.qa(a,c,g),k=D(c);J(k.i,20,f,10,1E3,!0,!0,!1,!1,-1,g);k.n=M|L|P;b.k(k);nd(h,d);f+=g;d=c+"Value";a=this.fg(a,d);d=D(d);J(d.i,10,f+1,10,1E3,!0,!0,!0,!1,-1,g-2);d.n=M|L|P;b.k(d);a.value=e;return a};l.td=function(){return{J:195,D:340}};l.$e=function(){var a=this.pn.value,b=19,c=19,d=-1;-1==(d=a.indexOf(":"))?c=b=Math.min(52,Math.max(parseInt(a),2)):(b=parseInt(a.substr(0,d)),c=parseInt(a.substr(d+1,a.length-d-1)));if(isNaN(b)||2>b||52<b||isNaN(c)||2>c||52<c)Jb(this.g.Z.id,Kb,{W:this.b,ba:this.g,vc:"Size value must be an integer number from 2 to 52, or pair of such numbers separated by ':' character.",J:300,D:115});else{var e=parseInt(this.wi.value);if(isNaN(e)||0>e||9<e)Jb(this.g.Z.id,Kb,{W:this.b,ba:this.g,vc:"Handicap value must be an integer number from 0 to 9.",J:300,D:95});else if(0!=e&&(6>=c||6>=b||b!==c))Jb(this.g.Z.id,Kb,{W:this.b,ba:this.g,vc:"Handicap value must be 0 for this board size.",J:300,D:95});else if(5<e&&(10>=b||10>=c))Jb(this.g.Z.id,Kb,{W:this.b,ba:this.g,vc:"Handicap value must be an integer number from 0 to 5 for this board size.",J:300,D:95});else if(a=parseFloat(this.Li.value),isNaN(a)||.001<Math.abs(2*a-(2*a|0)))Jb(this.g.Z.id,Kb,{W:this.b,ba:this.g,vc:"Invalid komi value.",J:175,D:85});else{if(this.b){a="(;FF[4]"+("SZ["+(b===c?b:b+":"+c)+"]")+("KM["+a+"]");a+="PB["+this.mn.value+"]";a+="PW["+this.On.value+"]";a+="HA["+e+"]";d=[];if(b===c){var f=b,b=10>f?2:3,c=((f+1)/2|0)-1,f=10>f?f-3:f-4;switch(e){case 2:d.push([f,b]);d.push([b,f]);break;case 3:d.push([f,f]);d.push([b,f]);d.push([f,b]);break;case 4:d.push([b,b]);d.push([f,f]);d.push([b,f]);d.push([f,b]);break;case 5:d.push([b,b]);d.push([b,f]);d.push([f,b]);d.push([f,f]);d.push([c,c]);break;case 6:d.push([b,b]);d.push([b,f]);d.push([f,b]);d.push([f,f]);d.push([b,c]);d.push([f,c]);break;case 7:d.push([b,b]);d.push([b,f]);d.push([f,b]);d.push([f,f]);d.push([b,c]);d.push([f,c]);d.push([c,c]);break;case 8:d.push([b,b]);d.push([b,f]);d.push([f,b]);d.push([f,f]);d.push([b,c]);d.push([f,c]);d.push([c,b]);d.push([c,f]);break;case 9:d.push([b,b]),d.push([b,f]),d.push([f,b]),d.push([f,f]),d.push([b,c]),d.push([f,c]),d.push([c,b]),d.push([c,f]),d.push([c,c])}}if(0<d.length)for(a+="AB",e=0,b=d.length;e<b;e++)c=d[e][0],f=d[e][1],c+=25>=c?97:39,f+=25>=f?97:39,a+=String.fromCharCode(91,c,f,93);a+=")";this.b.xc(a,null,null,"sgf")}this.mb()}}};var Kb=2,Xc=3,$c=4,dc=5,ic=6,jg=7,cd=8,cc=9,nc=10,bc=11,Pd={};function Jb(a,b,c){Pd[a]||(Pd[a]={});var d=Pd[a];if(d[b]){var e=d[b];e.Ra(c);return e}e="unknownwindow";switch(b){case Xc:e="Info";break;case $c:e="Settings";break;case Kb:e="Error";break;case dc:e="ScoreEstimate";break;case ic:e="CountColors";break;case jg:e="GifWriter";break;case cd:e="About";break;case cc:e="DiagramSL";break;case nc:e="ViewPort";break;case bc:e="CreateNew"}a=a+e+GoBoardApi.zg();e=document.createElement("div");e.setAttribute("id",a);e.setAttribute("style","position:absolute;padding:0;margin:0;width:500px;height:500px;left:300px;top:300px;");e.setAttribute("oncontextmenu","return false;");if(c.ba){c.ba.Z.appendChild(e);e=null;switch(b){case Xc:e=new xf;break;case $c:e=new If;break;case Kb:e=new Ef;break;case dc:e=new Rf;break;case ic:e=new Tf;break;case jg:e=new Uf;break;case cd:e=new Yf;break;case cc:e=new fg;break;case nc:e=new hg;break;case bc:e=new ig}d[b]=e;null!==e&&(e.o(a,c),e.p(!0));return e}return null};function Z(){}l=Z.prototype;l.bl=function(){return new kg};l.wg=function(a,b){(new Hd(a)).wg(b)};l.xg=function(a,b){(new Hd(a)).xg(b)};l.al=function(a,b){var c=new Hd(a);c.dh=!1;se(c,b);ze(c);c.Sd=3};l.$k=function(a,b){var c=new Hd(a);c.dh=!1;se(c,b);ve(c);c.Sd=4};l.ki=function(a,b){(new Hd(a)).ki(b)};l.qn=function(a,b){var c=new Hd(a);c.dh=!0;c.gd=400;c.Ud=200;se(c,b);Nd(c,!0)};l.tn=function(a,b,c){(new Te(a)).o(b,c)};l.vg=function(a,b,c){(new Hd(a)).vg(b);b=.3;c.TutorTime&&(b=parseFloat(c.TutorTime));c.TutorColor&&"Black"===c.TutorColor?lg(a,!1,E,b):c.TutorColor&&"White"===c.TutorColor?lg(a,!1,G,b):lg(a,!0,H,b);a.H=0;void 0!==c.NewNode&&(Ze(a,{Eg:!0}),(b=c.NewNode)&&""!==b||(b="Wrong.\nOut of variants."),a.xk=b);b=void 0!==c.WrongCallback?c.WrongCallback:null;var d=void 0!==c.ResetCallback?c.ResetCallback:null;a.tk=void 0!==c.RightCallback?c.RightCallback:null;a.uk=b;a.sk=d};l.oi=function(a){return a.oi()};l.mf=function(a){a.mf(!0)};l.xe=function(a){a.xe()};l.Bl=function(a,b){var c={};c.Eg=b.NewNode;c.Bg=b.Move;c.ei=b.ChangeBoardMode;c.Ni=b.LoadFile;c.me=b.GameInfo;c.Zl=b.ViewPort;Ze(a,c)};l.xc=function(a,b,c,d,e){var f={};c&&!0===c.Auto?f.Pk=!0:c&&void 0!==c.X0&&void 0!==c.X1&&void 0!==c.Y0&&void 0!==c.Y1?(f.Pk=!1,f.S=c.X0,f.X=c.X1,f.T=c.Y0,f.Y=c.Y1):f=null;c=a.H;a.H=4294967295;a.xc(b,f,d,e);a.H=c};l.Jg=function(a){return a.Jg()};l.ti=function(a,b){return a.ti(b)};l.Ki=function(a){return a.Ki()};l.p=function(a){a.p()};l.Ye=function(a){return a?a.Ye():"White vs. Black"};l.kf=function(a,b){a.kf(b)};l.Ba=function(a){a&&a.Ba()};l.zg=function(){return this.Ln};l.tj=function(a){a&&a.tj()};l.Hn=function(a,b){a&&b&&(a.Oa=b)};l.ka=function(a,b){if(a){var c=mg(a.ha,b);null!==c&&a.ka(c)}};l.Ze=function(a,b){a&&a.Ze(b)};l.yc=function(a,b){a&&a.yc(b,!0)};l.Al=function(a,b){if(a){var c=null;"TrueColor"===b?c=1:"BookStyle"===b?c=2:"Simple"===b?c=3:"Dark"===b&&(c=4);c&&(c=a.wa.Kg(c),!0===c.V&&a.j&&a.j.p(!0),a.M&&!0===c.Navigator&&Me(a.M))}};l.ne=function(a,b){if(a)return a.ne(b)};l.un=function(a,b){function c(a){a=decodeURIComponent(a);var b=new XMLHttpRequest;b.open("GET",a+"?_="+(new Date).getTime(),!1);b.onreadystatechange=function(){4!==b.readyState||200!==b.status&&0!=b.status||(g=b.responseText,d())};b.send(null)}function d(){var c=document.getElementById(a);if(c){var d={LoadFile:!1,GameInfo:!1,ChangeBoardMode:!1,NewNode:!1,Move:!1,ViewPort:!1};n.Al(p,m);var u=400;"image"===h?(n.wg(p,a),n.yc(p,!1),u=600):"viewer"==h?(n.xg(p,a),d.Move=!0,u=600):"vereditor"===h?(n.al(p,a),d.ChangeBoardMode=!0,d.NewNode=!0,d.Move=!0,u=600):"horeditor"===h?(n.$k(p,a),d.ChangeBoardMode=!0,d.NewNode=!0,d.Move=!0,u=900):"problems"==h&&(d={},b.problemsTime&&(d.TutorTime=b.problemsTime),b.problemsColor&&(d.TutorColor=b.problemsColor),b.problemsNewNode&&(d.NewNode=b.problemsNewNode),n.vg(p,a,d),d=null,u=400,null===f&&(f={Auto:!0}));n.xc(p,g,f);null!==k&&(u=k);var v=n.ne(p,u);c.style.width=u+"px";c.style.height=v+"px";-1!==e?n.Ze(p,e):n.Ze(p,0);n.p(p);d&&n.Bl(p,d)}}var e=-1,f=null,g=null,h=null,k=null,m="TrueColor",n=this,p=this.bl();p.wa.gm=!0;b.viewPort&&(f={},"auto"===b.viewPort?f.Auto=!0:(f.Auto=!1,f.X0=parseInt(b.viewPort.X0),f.X1=parseInt(b.viewPort.X1),f.Y0=parseInt(b.viewPort.Y0),f.Y1=parseInt(b.viewPort.Y1)));b.moveNumber&&(e=parseInt(b.moveNumber));b.boardMode?h=b.boardMode:h="viewer";b.width&&(k=b.width);b.boardTheme&&(m=b.boardTheme);null!=b.sgfUrl?c(b.sgfUrl):(null!==b.sgfData?g=b.sgfData:g="(;FF[4]GM[1]SZ[19])",d())};window.GoBoardApi=new Z;Z.prototype.Embed=Z.prototype.un;Z.prototype.Create_GameTree=Z.prototype.bl;Z.prototype.Create_SimpleBoard=Z.prototype.wg;Z.prototype.Create_Viewer=Z.prototype.xg;Z.prototype.Create_EditorHor=Z.prototype.$k;Z.prototype.Create_EditorVer=Z.prototype.al;Z.prototype.Create_BoardWithNavigateButtons=Z.prototype.ki;Z.prototype.Create_BoardCommentsButtonsNavigator=Z.prototype.qn;Z.prototype.Create_Presentation=Z.prototype.tn;Z.prototype.Create_Problems=Z.prototype.vg;Z.prototype.Set_Permissions=Z.prototype.Bl;Z.prototype.Load_Sgf=Z.prototype.xc;Z.prototype.Save_Sgf=Z.prototype.Jg;Z.prototype.Get_MoveReference=Z.prototype.ti;Z.prototype.Is_Modified=Z.prototype.Ki;Z.prototype.Update_Size=Z.prototype.p;Z.prototype.Set_Sound=Z.prototype.kf;Z.prototype.Find_ProblemRightVariant=Z.prototype.oi;Z.prototype.Start_AutoPlay=Z.prototype.mf;Z.prototype.Stop_AutoPlay=Z.prototype.xe;Z.prototype.Focus=Z.prototype.Ba;Z.prototype.Get_MatchName=Z.prototype.Ye;Z.prototype.Get_Version=Z.prototype.zg;Z.prototype.Toggle_Rulers=Z.prototype.tj;Z.prototype.Set_GameTreeHandler=Z.prototype.Hn;Z.prototype.GoTo_Node=Z.prototype.ka;Z.prototype.GoTo_NodeByMoveNumber=Z.prototype.Ze;Z.prototype.Set_ShowTarget=Z.prototype.yc;Z.prototype.Get_DivHeightByWidth=Z.prototype.ne;Z.prototype.Set_BoardTheme=Z.prototype.Al;function ng(a,b,c){this.O=void 0===a?0:a;this.qk=void 0===b?null:b;this.Za=void 0===c?0:c}ng.prototype.za=function(){return this.qk};ng.prototype.Wa=function(a){this.O=a};ng.prototype.Ng=function(a){this.qk=a};function og(){var a=Command;return JSON.stringify({zc:a.O,Rb:a.qk,hi:a.Za})};function pg(){Y=X=0}function z(a,b,c,d){this.u=a;this.w=b;this.v=c;this.Ja="undefined"===typeof d?255:d}function Q(a){return"rgba("+a.u+","+a.w+","+a.v+","+a.Ja/255+")"}function Bd(a,b){return a.u!==b.u||a.w!==b.w||a.v!==b.v||a.Ja!==b.Ja?!1:!0}z.prototype.je=function(){return new z(this.u,this.w,this.v,this.Ja)};function qg(a){return a.u<<24&4278190080|a.w<<16&16711680|a.v<<8&65280|a.Ja&255}function qb(a){var b=new pg;b.h=a&255;b.f=a>>8&255;return b}function rg(a){for(var b=[],c=0,d=a.length;c<d;c++)b.push(a[c]);return b}function La(a){if("undefined"!=typeof a.offsetParent){for(var b=0,c=0;a;a=a.offsetParent)b+=a.offsetLeft,c+=a.offsetTop;return{h:b,f:c}}return{h:a.x,f:a.y}}function Oa(a,b){var c=Math.max(0,Math.min(a-1,b-1));return 8>c?String.fromCharCode(65+c):24>=c?String.fromCharCode(65+c+1):33>c?String.fromCharCode(65+c-25,65+c-25):50>c?String.fromCharCode(65+c-24,65+c-24):String.fromCharCode(65+c-50,65+c-50,65+c-50)}function Pa(a){if("string"!=typeof a)return!1;for(var b=0;b<a.length;b++){var c=a.charCodeAt(b);if(48>c||57<c)return!1}return!0}function Lb(a,b){return a>b?1:b>a?-1:0}var sg=null;function Ne(a,b,c,d,e){a.onmousedown=tg;a.lc=!0;a.uc=!0;a.root=a;a.lc&&isNaN(parseInt(a.root.style.left))&&(a.root.style.left="0px");a.uc&&isNaN(parseInt(a.root.style.top))&&(a.root.style.top="350px");!a.lc&&isNaN(parseInt(a.root.style.right))&&(a.root.style.right="0px");!a.uc&&isNaN(parseInt(a.root.style.bottom))&&(a.root.style.bottom="0px");a.od="undefined"!=typeof b?b:null;a.pd="undefined"!=typeof d?d:null;a.de="undefined"!=typeof c?c:null;a.ee="undefined"!=typeof e?e:null;a.gn=null;a.hn=null;a.root.Ch=function(){};a.root.Bh=function(){};a.root.yb=function(){}}function tg(a){var b=sg=this;a=ug(a);var c=parseInt(b.uc?b.root.style.top:b.root.style.bottom),d=parseInt(b.lc?b.root.style.left:b.root.style.right);b.root.Ch(d,c);b.dm=a.clientX;b.em=a.clientY;b.lc?(null!=b.od&&(b.zh=a.clientX-d+b.od),null!=b.de&&(b.yk=b.zh+b.de-b.od)):(null!=b.od&&(b.yk=-b.od+a.clientX+d),null!=b.de&&(b.zh=-b.de+a.clientX+d));b.uc?(null!=b.pd&&(b.Ah=a.clientY-c+b.pd),null!=b.ee&&(b.zk=b.Ah+b.ee-b.pd)):(null!=b.pd&&(b.zk=-b.pd+a.clientY+c),null!=b.ee&&(b.Ah=-b.ee+a.clientY+c));document.onmousemove=vg;document.onmouseup=wg;return!1}function vg(a){ca(a);a=ug(a);var b=sg,c=a.clientY;a=a.clientX;var d=parseInt(b.uc?b.root.style.top:b.root.style.bottom),e=parseInt(b.lc?b.root.style.left:b.root.style.right),f,g;null!=b.od&&(a=b.lc?Math.max(a,b.zh):Math.min(a,b.yk));null!=b.de&&(a=b.lc?Math.min(a,b.yk):Math.max(a,b.zh));null!=b.pd&&(c=b.uc?Math.max(c,b.Ah):Math.min(c,b.zk));null!=b.ee&&(c=b.uc?Math.min(c,b.zk):Math.max(c,b.Ah));f=e+(a-b.dm)*(b.lc?1:-1);g=d+(c-b.em)*(b.uc?1:-1);b.gn?f=b.gn(d):b.hn&&(g=b.hn(e));null!=b.od&&(f=Math.max(f,b.od));null!=b.de&&(f=Math.min(f,b.de));null!=b.pd&&(g=Math.max(g,b.pd));null!=b.ee&&(g=Math.min(g,b.ee));sg.root.style[b.lc?"left":"right"]=f+"px";sg.root.style[b.uc?"top":"bottom"]=g+"px";sg.dm=a;sg.em=c;sg.root.yb(f,g);return!1}function wg(){document.onmousemove=null;document.onmouseup=null;sg.root.Bh(parseInt(sg.root.style[sg.lc?"left":"right"]),parseInt(sg.root.style[sg.uc?"top":"bottom"]));sg=null}function ug(a){"undefined"==typeof a&&(a=window.event);"undefined"==typeof a.layerX&&(a.layerX=a.offsetX);"undefined"==typeof a.layerY&&(a.layerY=a.offsetY);return a}function Fc(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.r=b.prototype}var Id=window.requestAnimationFrame?window.requestAnimationFrame:window.webkitRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1E3/60)};function lc(a,b,c){if("undefined"!==typeof navigator&&navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(a,b);else{var d=document.createElementNS("http://www.w3.org/1999/xhtml","a");a=(window.URL||window.webkitURL||window).createObjectURL(a);d.href=a;d.download=b;c&&(d.type=c);kc(d)}}function kc(a){var b=document.createEvent("MouseEvents");b.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null);a.dispatchEvent(b)}function Ed(a){return void 0!==window.localStorage?localStorage.getItem("HTMLGoBoard"+a):""}function Fd(a,b){void 0!==window.localStorage&&localStorage.setItem("HTMLGoBoard"+a,b)}function xg(a){var b="",c,d,e=0,f,g,h=0,k=0;do c=a[k++],d=a[k++],e=a[k++],f=c>>2,c=(c&3)<<4|d>>4,g=(d&15)<<2|e>>6,h=e&63,isNaN(d)?g=h=64:isNaN(e)&&(h=64),b=b+yg.charAt(f)+yg.charAt(c)+yg.charAt(g)+yg.charAt(h);while(k<a.length);return b}function zg(a){var b,c,d=0,e="",f=0,g=a.replace(/[^A-Za-z0-9\+\/\=]/g,""),h=[];do b=yg.indexOf(g.charAt(f++)),d=yg.indexOf(g.charAt(f++)),a=yg.indexOf(g.charAt(f++)),e=yg.indexOf(g.charAt(f++)),b=b<<2|d>>4,c=(d&15)<<4|a>>2,d=(a&3)<<6|e,h.push(b),64!=a&&h.push(c),64!=e&&h.push(d);while(f<g.length);return h}function nd(a,b){a.innerText?a.innerText=b:a.textContent=b}function lf(a,b){var c=document.createElement("div");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c}var yg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var H=0,E=1,G=2,Ag=2,pc=0,oc=2,Ia=23.61,Ja=17.51,Ka=Ia/2,Be="data:image/png;base64,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",Zf="data:image/png;base64,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";var Fa=4,jc=8,mc=32,Bg=4294967295^Fa,Cg=4294967295^jc,Dg=4294967295^mc;function kg(a){this.wa=new Gd(this);this.bb=new ef;this.g=a;this.fo=new Ge;this.oa=new Eg;this.M=this.j=null;this.Xm=this.m=this.ha=new Fg(this);this.Wd=this.Td=0;this.rc=E;this.Bf=this.He=this.Hm=this.pm=this.Vb=this.fd=0;this.bg=this.Yf=this.vk=this.md=this.Oe=this.be=this.Wf=this.Zm=this.Vf=this.Xf="";this.kd="Black";this.Pe="";this.nd="White";this.$f=this.cg=this.Zf=this.Qe="";this.Kf=0;this.$m=this.dg=this.ag="";this.Rd=Ag;this.H=4294967295;this.Bc=null;this.xf=.75;this.om=-1;this.Tj=!1;this.hd=H;this.Bm=300;this.xk="";this.Oa=this.Fe=this.sk=this.uk=this.tk=this.gk=null;this.na=!1}function Sf(a){var b=new kg;b.oa=a.oa.je();b.ha=Gg(a.ha,a.m);b.m=b.ha;Zb(b);return b}function lg(a,b,c,d){!0===b?(a.Tj=!0,a.hd=H):(a.Tj=!1,a.hd=c);void 0!==d&&(a.Bm=1E3*d)}l=kg.prototype;l.oi=function(){var a=[];Hg(this.ha,a);if(0<a.length){var b=Math.max(0,Math.min(a.length-1,Math.floor(Math.random()*a.length)));Ig(a[b]);return!0}return!1};l.mf=function(a){if(2&this.H||!0===a){this.xe();this.g&&this.g.tl();var b=this,c=function(){0<Md(b.m)&&(b.Bc=0,yb(b,1,a));0<Md(b.m)?(b.om=(new Date).getTime(),b.Bc=setTimeout(c,100+6900*(1-b.xf))):(b.Bc=null,b.g&&b.g.Vi())},d=100+6900*(1-this.xf)-((new Date).getTime()-this.om);0>=d?c():this.Bc=setTimeout(c,d)}};l.xe=function(){this.g&&this.g.Vi();null!==this.Bc&&(clearTimeout(this.Bc),this.Bc=null)};function ue(a){a.M&&a.M.Lb();if(a.g){a.kc();var b=a.g;b.Nf&&(b=b.Nf,!0!==b.vf&&Ce(b,a.xf,!0))}}l.p=function(){this.g&&this.g.p()};l.Ba=function(){this.j&&this.j.Ba()};l.xc=function(a,b,c,d){if(this.H&jc){Jg.Xc();var e=this.H;this.H=4294967295;var f=null,f="gib"===d?new Kg(this):"ngf"===d?new Lg(this):new Mg(this);f.Mi(a);this.Tj&&(this.hd=this.rc===E?G:E);a=this.oa.ea().h;d=this.oa.ea().f;this.j&&b?!0===b.Pk?va(this.j,4>=f.l.S?0:f.l.S-2,4>=f.l.T?0:f.l.T-2,3>=a-f.l.X?a-1:f.l.X,3>=d-f.l.Y?d-1:f.l.Y):void 0!==b.S&&void 0!==b.X&&void 0!==b.T&&void 0!==b.Y&&va(this.j,b.S,b.T,b.X,b.Y):this.j&&va(this.j,0,0,a-1,d-1);this.M&&(this.M.Lb(),this.M.Ha());if(c)if(b=this.ha,c=c.replace(RegExp("~","g"),"+"),c=c.replace(RegExp("-","g"),"/"),c=c.replace(RegExp("_","g"),"="),c=zg(c),c=new Ng(c,c.length),"GBMR"!==Og(c,4))this.ka(b);else if(f=Pg(c),1===f)if(f=Qg(c),f=Og(c,f),a=mg(b,f),null!==a){b=c.e>=c.Ma?0:c.pa[c.e++];this.Db(a);if(1===b)for(f=Qg(c),b=0;b<f&&1===Pg(c);b++){this.Oc(!1,!1);a=Qg(c);for(d=0;d<a;d++){var g=Pg(c),h=Qg(c);switch(g){case 16:h=qb(Qg(c));this.Kb(h.h,h.f,E);break;case 17:h=qb(Qg(c));this.Kb(h.h,h.f,G);break;case 32:case 33:case 34:h=E;switch(g){case 32:h=E;break;case 33:h=G;break;case 34:h=H}for(var g=Qg(c),k=[],m=0;m<g;m++)k.push(Qg(c));this.ge(h,k);break;default:c.e+=h}}Pg(c);a=this.m;this.M&&(this.M.Lb(),this.M.Ha())}this.ka(a,!0)}else this.ka(b,!0);else{if(2===f){f=Qg(c);a=b;for(b=0;b<f;b++){d=Qg(c);if(0>d||d>=Md(a)||0>=Md(a))break;a=a.Q(d)}this.ka(a,!0)}}else this.Xm=c=!this.bf()||""!==this.Qe&&null!==this.Qe&&void 0!==this.Qe?this.ha:Se(this.ha),this.ka(c);c=this.ud();3!==this.ud()&&(this.Rd=c);this.H=e;this.j&&(e=this.j,null!==e.Yd&&zb(e.b.m)>=Ab(e.Yd)&&Bb(e.Yd));this.g&&this.g.p(!0);this.na=!1}};l.Jg=function(){var a=new Rg;a.b=this;a.ld="";a.Gb=null;Sg(a,this.ha);return a.ld};l.Xc=function(){this.ha=new Fg(this);this.md="";U(this);yf(this,"");this.cg="";U(this);this.fd=0;this.na=!0;this.Vb="0";U(this);this.Kf="";U(this);this.bg="";U(this);zf(this,"Black");Af(this,"");Bf(this,"White");Cf(this,"");this.Wf="";U(this);Df(this,"");this.be="";this.na=!0;this.Oe="";U(this);this.Zf="";U(this);this.Pe="";U(this);this.Xf="";U(this);this.Yf="";U(this);this.$f="";U(this);this.ag="";U(this);this.Rd=0;Ug(this)};function Xb(a){a.ka(a.Xm)}function xb(a){var b=a.H;H!==a.hd&&Ze(a,{Bg:!0});a.ka(a.ha);a.H=b;H!==a.hd&&a.sk&&Vg(a,a.sk)}function vb(a,b){for(var c=a.m;null!=c.ia&&0<b&&!(c=c.ia,b--,1<Md(c)););a.ka(c)}function yb(a,b,c){if(1===b)Wg(a,c)&&(a.Oa&&a.Oa.GoTo_Node&&a.Oa.GoTo_Node(a.m.ce),Gb(a));else{for(c=0;c<b&&!(Wg(a),1<Md(a.m));c++);a.ka(a.m)}}function Zb(a){for(;Wg(a););a.ka(a.m)}l.ul=function(){!0===Vb(this,0,0,this.rc)&&Gb(this)};function Yb(a){var b=a.m.ia;if(null!==b){var c=b.la,d=Md(b);1<d&&(a.zd()?(b=0<c?b.Q(c-1):b.Q(d-1),a.ka(b)):0<c&&(b=b.Q(c-1),a.ka(b)))}}function $b(a){var b=a.m.ia;if(null!==b){var c=b.la,d=Md(b);1<d&&(a.zd()?(b=c<d-1?b.Q(c+1):b.Q(0),a.ka(b)):c<d-1&&(b=b.Q(c+1),a.ka(b)))}}l.vi=function(){for(var a=this.m;!Xg(a);){var b=a.ia;if(null===b&&a!==this.ha)return;a=b}a.vi();this.ka(a)};l.jf=function(a){this.rc=a;this.m.jf(a)};l.Db=function(a){this.Oa&&this.Oa.Db&&this.Oa.Db(a.ce);this.m=a};l.Kb=function(a,b,c){this.m.Kb(a,b,c)};l.Oc=function(a,b){if(!(this.H&1))return!1;var c=new Fg(this);this.Oa&&this.Oa.Oc&&this.Oa.Oc(oNode.ce);var d=c.ia=this.m;d.va.push(c);if(!0===b||-1===d.la)d.la=d.va.length-1;d.b&&U(d.b);this.Db(c);this.Bf++;!0===a&&this.M&&(this.M.Lb(),this.M.Ha());return!0};function Vb(a,b,c,d){for(var e=(c<<8)+b,f=0,g=Md(a.m);f<g;f++){var h=a.m.Q(f),k=h.$b,m=k.O;if(e===k.za()&&d===m&&(E===d||G===d))return b=a.m.la,Yg(a.m,f),a.Db(h),a.Bf++,a.M&&b!==f&&a.M.Ha(),!0}if(!(a.H&1))return!1;a.Oc(!1,!0);a.m.Kb(b,c,d);a.M&&(a.M.Lb(),a.M.Ha());H!==a.hd&&""!==a.xk&&a.m.Lg(a.xk);return!0}l.ge=function(a,b){this.m.ge(a,b)};l.mg=function(a){var b=this.m.eb;this.m.mg(a);this.g&&this.g.Yc(this.m.eb);this.M&&""===b&&""!==a&&this.M.Ha()};l.Lg=function(a){var b=this.m.eb;this.m.Lg(a);this.M&&(""===b&&""!==a||""!==b&&""===a)&&this.M.Ha()};l.Ea=function(a,b){this.m.Ea(a,b)};l.Ob=function(a){this.m.Ea(513,a)};l.he=function(a,b){this.m.he(a,b)};l.Nh=function(a,b){this.m.ac.Od||(this.m.ac.Od=!0);for(var c=0,d=b.length;c<d;c++)this.m.Nh(b[c],a)};l.Lh=function(a){this.m.Lh(a)};l.Oh=function(a){this.m.Oh(a)};l.fi=function(){!0===this.m.ac.Od&&(this.m.ac.Od=!1,this.m.fi());if(this.j){this.j.Ta={};for(var a=0,b=this.m.Ka.length;a<b;a++){var c=this.m.Ka[a],d=c.za(),e=c.Za;switch(c.O){case 529:for(c=0;c<e;c++){var f=qb(d[c]);this.j.Ea(new ya(f.h,f.f,mb,""))}break;case 530:for(c=0;c<e;c++)f=qb(d[c]),this.j.Ea(new ya(f.h,f.f,pb,""));break;case 531:for(c=0;c<e;c++)f=qb(d[c]),this.j.Ea(new ya(f.h,f.f,nb,""));break;case 532:for(c=0;c<e;c++)f=qb(d[c]),this.j.Ea(new ya(f.h,f.f,ob,""));break;case 533:f=qb(d.Wi);this.j.Ea(new ya(f.h,f.f,hb,d.Text));break;case 513:for(c=0;c<e;c++)f=qb(d[c]),this.j.Ob(f.h,f.f)}}this.m.Uc()?(b=this.m.$b,a=b.vd(),b=b.wd(),fb(this.j,a,b)):fb(this.j,-1,-1);Ta(this.j)}};function Wb(a){var b=a.m.ia;if(null===b)a.m.Fa(),a.M&&(a.M.Lb(),a.M.Ha()),a.ka(a.m);else for(var c=0,d=Md(b);c<d;c++)if(a.m===b.Q(c)){d=b;d.va.splice(c,1);d.la>=c&&d.la--; -1===d.la&&0<d.va.length&&(d.la=0);d.b&&U(d.b);a.Db(b);a.M&&(a.M.Lb(),a.M.Ha());a.ka(b);break}}l.Uc=function(){return this.m.Uc()};function Gb(a){a.j&&(1===a.j.sa&&Ea(a.j,0),a.j.Ta={},a.lf());for(var b=0,c=a.m.Ka.length;b<c;b++){var d=a.m.Ka[b],e=d.za(),f=d.Za;switch(d.O){case 1:d=qb(e);Zg(a,d.h,d.f,E,!1);break;case 2:d=qb(e);Zg(a,d.h,d.f,G,!1);break;case 257:for(var g=0;g<f;g++)d=qb(e[g]),$g(a,d.h,d.f,E,-1);break;case 258:for(g=0;g<f;g++)d=qb(e[g]),$g(a,d.h,d.f,G,-1);break;case 259:for(g=0;g<f;g++)d=qb(e[g]),$g(a,d.h,d.f,H,-1);break;case 260:a.rc=e;break;case 529:if(a.j)for(g=0;g<f;g++)d=qb(e[g]),a.j.Ea(new ya(d.h,d.f,mb,""));break;case 530:if(a.j)for(g=0;g<f;g++)d=qb(e[g]),a.j.Ea(new ya(d.h,d.f,pb,""));break;case 531:if(a.j)for(g=0;g<f;g++)d=qb(e[g]),a.j.Ea(new ya(d.h,d.f,nb,""));break;case 532:if(a.j)for(g=0;g<f;g++)d=qb(e[g]),a.j.Ea(new ya(d.h,d.f,ob,""));break;case 533:a.j&&(d=qb(e.Wi),a.j.Ea(new ya(d.h,d.f,hb,e.Text)));break;case 513:if(a.j)for(g=0;g<f;g++)d=qb(e[g]),a.j.Ob(d.h,d.f)}}a.j&&(a.m.Uc()?(c=a.m.$b,b=c.vd(),c=c.wd(),fb(a.j,b,c)):fb(a.j,-1,-1),a.m.ac.Od&&Ea(a.j,1),Ta(a.j),ah(a.m,a.j));a.g&&(b=a.m.eb,c=!0,H!==a.hd?(-1!==b.indexOf("CHOICE")&&(b=b.replace("CHOICE","")),0>=Md(a.m)&&(-1!==b.indexOf("RIGHT")&&null!==a.tk?(a.g.Yc(b.replace("RIGHT","")),Vg(a,a.tk),c=!1):-1===b.indexOf("RIGHT")&&null!==a.uk&&(a.g.Yc(b),Vg(a,a.uk),c=!1)),c&&a.g.Yc(b)):a.g.Yc(b));a.M&&Oe(a.M,!0);a.kc();if(a.rc===a.hd&&null===a.gk&&null===a.Bc&&null===a.Fe&&0<=Md(a.m)){var h=a.H;a.gk=setTimeout(function(){a.H=4294967295;for(var b=a.m,c=[],d=0,e=Md(b);d<e;d++)-1!==b.Q(d).eb.indexOf("CHOICE")&&c.push(d);0<c.length?(d=Math.max(0,Math.min(c.length-1,Math.floor(Math.random()*c.length))),Yg(b,c[d])):0<Md(b)&&Yg(b,0);yb(a,1);a.H=h;a.gk=null},a.Bm);a.H=0}}function Zg(a,b,c,d,e){if(0!=b||0!=c){if(a.bb&&!0!==e){var f=a.bb;hf(f,f.vl)}$g(a,b,c,d,a.He+1,e);f=null;if(null!==(f=Tb(a.oa,b,c,d,!1))&&0<f.ea()){b=f.ea();for(c=0;c<b;c++){var g=qb(f.za(c));$g(a,g.h,g.f,H,-1)}a.bb&&!0!==e&&gf(a.bb,f.ea());E===d?a.Td+=b:a.Wd+=b}else if(null!==(f=Ub(a.oa,b,c,d))&&0<f.ea()){b=f.ea();for(c=0;c<b;c++)g=qb(f.za(c)),$g(a,g.h,g.f,H,-1);a.bb&&!0!==e&&gf(a.bb,f.ea());E===d?a.Wd+=b:a.Td+=b}else a.oa.Lc.Xc()}a.rc=E===d?G:E;a.He++}function Wg(a,b){if(!(a.H&2)&&!0!==b||0===Md(a.m)||-1===a.m.la)return!1;a.Db(a.m.Q(a.m.la));a.Bf++;return!0}l.lf=function(){this.j&&this.m.lf(this.Rd,this.j)};l.ug=function(){if(this.j){var a=this.oa.ug(this.j);Ta(this.j);this.m.ac.Od||(this.m.ac.Od=!0);var b=this.oa,c=this.m.ac;c.Sb={};for(var d=b.ea(),e=1;e<=d.f;e++)for(var f=1;f<=d.h;f++){var g=b.Ac[Ga(b,f,e)],h=(e<<8)+f;if(E===g||G===g)c.Sb[""+h]=g}this.pm=a.ie+this.Td;this.Hm=a.ye+this.Wd+this.fd;this.kc()}};l.kf=function(a){this.bb.o(a)};l.ka=function(a,b){if(this.H&2||!0===b){this.Oa&&this.Oa.GoTo_Node&&this.Oa.GoTo_Node(a.ce);this.xe();Ug(this);this.oa.Fa();this.bb&&(this.bb.Be=!1);var c=Ig(a);for(this.Db(this.ha);this.m!=a&&0<Md(this.m);){for(var d=this.m.Ka.length,e=0;e<d;e++){var f=this.m.Ka[e],g=f.za(),h=f.Za;switch(f.O){case 1:f=qb(g);Zg(this,f.h,f.f,E,!0);break;case 2:f=qb(g);Zg(this,f.h,f.f,G,!0);break;case 257:for(var k=0;k<h;k++)f=qb(g[k]),this.oa.Set(f.h,f.f,E,-1);break;case 258:for(k=0;k<h;k++)f=qb(g[k]),this.oa.Set(f.h,f.f,G,-1);break;case 259:for(k=0;k<h;k++)f=qb(g[k]),this.oa.Set(f.h,f.f,H,-1)}}if(!Wg(this,b))break}this.j&&Ra(this.j);Gb(this);this.M&&!0===c&&this.M.Ha();this.bb&&(this.bb.Be=!0)}};function qc(a,b){b!==a.Rd&&(a.Rd=b,a.lf())}function Af(a,b){a.Vf=b;a.g&&a.g.xj(a.Vf);a.na=!0}l.Ye=function(){var a=this.md;""===a&&(a=this.nd+" vs. "+this.kd);""===a&&(a="White vs. Black");return a};function Df(a,b){a.vk=b;a.na=!0}function zf(a,b){a.kd=b;a.g&&a.g.wj(a.kd);a.na=!0}function Bf(a,b){a.nd=b;a.g&&a.g.yj(a.nd);a.na=!0}function yf(a,b){a.Qe=b;a.na=!0}function Cf(a,b){a.dg=b;a.g&&a.g.zj(a.dg);a.na=!0}function bh(a,b,c){b=Math.min(52,Math.max(b,2));c=Math.min(52,Math.max(c,2));var d=a.oa.ea();if(b!==d.h||c!==d.f)d=a.oa,d.A=b,d.G=c,ch(d),d.Lc.Xc(),a.j&&(a=a.j,ua(a),a.cc(!0))}function Ug(a){a.Db(a.ha);a.Td=0;a.Wd=0;a.He=0;a.Bf=0;a.rc=E}function $g(a,b,c,d,e,f){a.oa.Set(b,c,d,e);a.j&&!0!==f&&xa(a.j,b,c,d)}l.kc=function(a){if(this.g){var b=this.fo,c=this.m.ia;b.Pc=null===this.m.ia?!1:!0;b.Rc=0>=Md(this.m)?!1:!0;if(null!==c){var d=c.la,c=Md(c);this.zd()?(b.Vc=1<c?!0:!1,b.Wc=1<c?!0:!1):(b.Vc=d<c-1?!0:!1,b.Wc=0<d?!0:!1)}else b.Vc=!1,b.Wc=!1;this.j&&(b.zb=this.j.sa);for(var d=this.ha,e=c=1;0<Md(d);)c++,d=d.Q(),d===this.m&&(e=c);b.Ml=0<c?(e-1)/(c-1):1;this.g.kc(b);this.j&&1===this.j.sa?this.g.Zc(this.pm,this.Hm):this.g.nf(this.Td,this.Wd);a&&(this.g.xj(this.Vf),this.g.zj(this.dg),this.g.wj(this.kd),this.g.yj(this.nd))}};function Ze(a,b){b&&(!0===b.Eg?a.H|=1:!1===b.Eg&&(a.H&=-2),!0===b.Bg?a.H|=2:!1===b.Bg&&(a.H&=-3),!0===b.ei?a.H|=Fa:!1===b.ei&&(a.H&=Bg),!0===b.Ni?a.H|=jc:!1===b.Ni&&(a.H&=Cg),!0===b.me?a.H|=16:!1===b.me&&(a.H&=-17),!0===b.Zl?a.H|=mc:!1===b.Zl&&(a.H&=Dg))}function fc(a){if(a=a.j){a=sa(a,!0).toDataURL("image/png");var b=document.createElement("a");b.download="BoardShot.png";b.href="data:image/png;base64"+a;kc(b)}}function hc(a){var b=[],c=a.ha;for(b.push(c);0<Md(c);)c=c.Q(c.la),b.push(c);dh(a,b)}function gc(a){var b=[],c=[];Hg(a.ha,c);for(var d=0,e=c.length;d<e;d++){var f=c[d];Ig(f);var g=a.ha;for(b.push(g);g!==f&&0<Md(g);)g=g.Q(g.la),b.push(g)}dh(a,b)}function ec(a){dh(a,[a.m])}function dh(a,b){var c=a.j;if(c){var d=a.m,e=c.c.J,f=c.c.D,g=b.length,h=Math.max(1,Math.ceil(2E6/e/f)),k=0,m=null,n=null,p=5<Math.ceil(g/h)?!0:!1,t=!0===p?Jb(c.a.d.a.id,jg,{ba:a.g,W:a}):null;c.$g=!0;var q=new eh;q.tm=Math.floor(150);q.Dd();f=e=0;null!==t&&Wf(t);a.Fe=!0;var u=function(){var v,r;if(null===a.Fe)c.$g=!1,a.ka(d,!0);else{for(var x=Math.min(k+h,g);k<x;k++){a.ka(b[k],!0);oCanvas=sa(c,!1);oContext=oCanvas.getContext("2d");v=c;var I={};r={};var K=void 0;for(K in v.Qf)I[K]=v.Qf[K];var B=void 0;for(B in v.Ta){var K=parseInt(B),F=v.Ta[B];hb===F.O&&H===v.P.K(F.vd(),F.wd())?r[K]=!1:r[K]=!0}I=v=I;B=r;if(0===e||0===f)e=oCanvas.width,f=oCanvas.height;if(null===m||null===n)fh(q,0,0,e,f,[{S:0,T:0,X:e,Y:f}]);else{var K={},V;for(V in B)K[V]=B[V];for(V in n)K[V]=void 0===K[V]||!1!==K[V]&&!1!==n[V]?n[V]:!1;for(V in m)m[V]!==I[V]&&!1!==K[V]&&(K[V]=!0);I=[];for(V in K){B=qb(V);var A=B.h,F=B.f;if(!0!==ea(c,A-1,F-1))B=null;else if(B=c.c.ca,!0===K[V])var N=c.c.Qb,T=(N-1)/2,w=c.Fh()?c.c.ic:0,A=B[A-1].h-T,B=B[F-1].f-T,B={S:A,T:B,X:A+N+w,Y:B+N+w};else N=B[A-1].$c,F=B[F-1].ad,B={S:N,T:F,X:N+(B[1].h-B[0].h+2),Y:F+(B[1].f-B[0].f+2)};null!==B&&I.push(B)}if(0<I.length){K=e;F=f;A=w=N=0;for(T=I.length;A<T;A++)B=I[A],B.S<K&&(K=B.S),B.T<F&&(F=B.T),B.X>N&&(N=B.X),B.Y>w&&(w=B.Y);fh(q,K,F,N-K,w-F,I)}else fh(q,0,0,e,f,[])}m=v;n=r}null!==t&&Vf(t,Math.min(100,k/g*100));k<g?!0===p?setTimeout(u,10):u():(t&&Xf(t),gh(q.R,59),x=a.md,""===x&&(x=a.nd+" vs. "+a.kd),""===x&&(x="download"),x+=".gif",V=new Blob([hh(q.R)],{type:"image/gif"}),lc(V,x),a.Fe=null,c.$g=!1,a.ka(d,!0))}};!0===p?setTimeout(u,10):u()}}function Vg(a,b){null===a.Fe&&b&&b()}l.df=function(){return y.df()};l.dj=function(a){y.dj(a)};l.bf=function(){return this.g&&5===this.g.Sd?!1:y.bf()};l.ve=function(){return y.ve()};l.yc=function(a,b){!0===b?this.wa.yc(a):y.yc(a);this.j&&ha(this.j)};l.zd=function(){return y.zd()};l.aj=function(a){y.aj(a);this.kc()};l.oe=function(){return y.oe()};l.fj=function(a){a!==this.oe()&&(y.fj(a),this.M&&this.M.Ha())};l.ud=function(){return y.ud()};l.cj=function(a){a!==this.ud()&&y.cj(a)};l.Mh=function(a,b,c){this.m.Mh(a,b,c);this.g&&De()};l.Yi=function(a,b){this.m.Yi(a,b);this.g&&De()};l.Xi=function(){this.m.Xi();this.g&&De()};l.gi=function(){this.m.gi();this.j&&ah(this.m,this.j);this.g&&De()};l.ti=function(a){var b=this.m,c=b,d=new ih;jh(d,"GBMR");if(!1!==a){for(;!b.bh;){a=b.ia;if(null===a)return"";b=a}kh(d,1);a=b.ce;lh(d,a.length);jh(d,a);if(b!==c){gh(d,1);a=[];for(var e=c;e!==b;)a.splice(0,0,e),e=e.ia;lh(d,a.length);b=0;for(e=a.length;b<e;b++){var f=a[b];kh(d,1);c=d.e;d.e+=4;for(var g=0,h=0,k=f.Ka.length;h<k;h++){var m=f.Ka[h],n=m.O,p=m.za(),m=m.Za;switch(n){case 1:kh(d,16);lh(d,4);lh(d,p);g++;break;case 2:kh(d,17);lh(d,4);lh(d,p);g++;break;case 257:case 258:case 259:switch(n){case 257:kh(d,32);break;case 258:kh(d,33);break;case 259:kh(d,34)}lh(d,4*(m+1));lh(d,m);for(n=0;n<m;n++)lh(d,p[n]);g++}}f=d.e;d.e=c;lh(d,g);d.e=f;kh(d,0)}}else gh(d,0)}else{kh(d,2);a=d.e;d.e+=4;b=this.ha;for(e=0;b!==c&&0<Md(b);)e++,lh(d,b.la),b=b.Q();f=d.e;d.e=a;lh(d,e);d.e=f}d=hh(d);d=xg(d);d=d.replace(RegExp("\\+","g"),"~");d=d.replace(RegExp("\\/","g"),"-");return d=d.replace(RegExp("=","g"),"_")};l.Qi=function(){this.ha.Qi();this.M&&(this.M.Lb(),this.M.Ha(),Oe(this.M,!0))};l.Cg=function(a){this.m.Cg(a);this.M&&(this.M.Lb(),this.M.Ha(),Oe(this.M,!0))};l.tj=function(){this.j&&this.j.Mg(!this.j.Fb)};l.Ze=function(a){var b=this.ha;if(0!==a)for(var c=0;c!==a&&!(0>=Md(b));){b=b.Q(b.la);if(!b)break;b.Uc()&&c++}a=b;null!==a&&this.ka(a)};l.ne=function(a){return this.g?this.g.ne(a):0};function U(a){a.na=!0}l.Ki=function(){return this.na};function eh(){this.R=null;this.ah=!0;this.ae=this.Ym=null;this.$a={};this.Am=0;this.eb=String.fromCharCode(71,101,110,101,114,97,116,101,100,32,98,121,32,103,111,98,97,110,46,111,114,103);this.tm=0;this.wh=null;this.um=this.bo=this.G=this.A=0}function fh(a,b,c,d,e,f){var g=oContext;a.ah&&(a.A=g.canvas.width,a.G=g.canvas.height);a.Ym=g.getImageData(0,0,g.canvas.width,g.canvas.height).data;if(a.ah){a.ae=Array(768);for(var h=g=0;768>g;g+=3,h+=6)a.ae[g+0]=parseInt("ff0000e0b65ce0b65ce0b65ce0b65ce0b75ce0b75ce1b75ce0b75ce0b75de1b75de1b75de1b85de2b85de2b85de2b85de2b85de3b85de3b85de3b95de3b95de3b95de3b95ee3b95ee3b95ee4b95ee4ba5ee4ba5ee4ba5ee4ba5ee5ba5ee5ba5ee5ba5ee5ba5ee5bb5ee5bb5ee5ba5ee5bb5ee5bb5ee5ba5ee5ba5fe1bc6dddbc75e1bb6ae4bb64e5bb5fe6bb5fe6bb5fe6bb5ee6bb5ee6bb5fe6bb5edeb65cdeb55cdfb55cdeb55cdeb55bdeb45bddb45bddb45bddb45bddb35bddb35bdcb35bdcb35bdbb35ddcb35adcb35adbb35adbb25adbb25adab25adab25adab15ad9b15ad9b15adab159d9b159d9b159d9b059d9b059d8b059d8b059d8af58d8b059d7b059d7af59d7af58d7af58d7ae58d6af58d6ae58d6ae58d5ae58d5ae58d5ae58d4ae5ad4ad58d5ad57d5ad57d4ad57d4ad57d4ac57d3ac57d4ac57d4ac57d3ac57d3ac57d3ac57d2ac57d2ac57d3ab56d2ab56d2ab56d2ab56d2ab56d2aa56d1aa56d1aa56d1aa56d1aa55d0aa55cfa956d0a955cfa855cfa855cba554c9a65bbea87ac5b38cd5c197cdc4b0e2d0aaead6abeed9adf1dcaef3ddaff3ddaffaf0dbfefefefdfdfdfafafaf8f8f8f5f5f5f1f1f1eeeeeeebebebe8e8e8e4e4e4e1e1e1dedededadadad6d6d6d3d3d3d0d0d0d0d0d0cfcfcfcecececececdcdcdcdcdcdcccfccc5cccbcbcacacacacac9c8c8c8cac8c3c7c7c7c6c6c5c4c4c4c3c3c2c2c1c1c0c0c0bfbebebdbdbdbbbbbab3b3b2bcb6a9b4ad9da7a49d9c9c9c9494948e8e8e8888888282827c7c7c7474746e6e6e6767677b756aa39370b99a59c29e50c09c4ebc994db9964bb6944ab29149af8e48ac8b47a88945a68744a28443a082429d7f40997c3f967a3d91753b876e387a6434735d2f6f5b2e6b572c64522a6359435e5e5e5757575050504a4a4a404040363636413c31524324423821352d1a2c2c2c2725212222221f1d191c171016161413131212121112111111111111111011101010101010100f0f0f0f0f0f0f0f0e0e0e0e0d0d0d0d0d0d0d0c0c0b0b0b0a0909090d0a07640909ef02023e0000000000000000000000000000"[h+0]+"ff0000e0b65ce0b65ce0b65ce0b65ce0b75ce0b75ce1b75ce0b75ce0b75de1b75de1b75de1b85de2b85de2b85de2b85de2b85de3b85de3b85de3b95de3b95de3b95de3b95ee3b95ee3b95ee4b95ee4ba5ee4ba5ee4ba5ee4ba5ee5ba5ee5ba5ee5ba5ee5ba5ee5bb5ee5bb5ee5ba5ee5bb5ee5bb5ee5ba5ee5ba5fe1bc6dddbc75e1bb6ae4bb64e5bb5fe6bb5fe6bb5fe6bb5ee6bb5ee6bb5fe6bb5edeb65cdeb55cdfb55cdeb55cdeb55bdeb45bddb45bddb45bddb45bddb35bddb35bdcb35bdcb35bdbb35ddcb35adcb35adbb35adbb25adbb25adab25adab25adab15ad9b15ad9b15adab159d9b159d9b159d9b059d9b059d8b059d8b059d8af58d8b059d7b059d7af59d7af58d7af58d7ae58d6af58d6ae58d6ae58d5ae58d5ae58d5ae58d4ae5ad4ad58d5ad57d5ad57d4ad57d4ad57d4ac57d3ac57d4ac57d4ac57d3ac57d3ac57d3ac57d2ac57d2ac57d3ab56d2ab56d2ab56d2ab56d2ab56d2aa56d1aa56d1aa56d1aa56d1aa55d0aa55cfa956d0a955cfa855cfa855cba554c9a65bbea87ac5b38cd5c197cdc4b0e2d0aaead6abeed9adf1dcaef3ddaff3ddaffaf0dbfefefefdfdfdfafafaf8f8f8f5f5f5f1f1f1eeeeeeebebebe8e8e8e4e4e4e1e1e1dedededadadad6d6d6d3d3d3d0d0d0d0d0d0cfcfcfcecececececdcdcdcdcdcdcccfccc5cccbcbcacacacacac9c8c8c8cac8c3c7c7c7c6c6c5c4c4c4c3c3c2c2c1c1c0c0c0bfbebebdbdbdbbbbbab3b3b2bcb6a9b4ad9da7a49d9c9c9c9494948e8e8e8888888282827c7c7c7474746e6e6e6767677b756aa39370b99a59c29e50c09c4ebc994db9964bb6944ab29149af8e48ac8b47a88945a68744a28443a082429d7f40997c3f967a3d91753b876e387a6434735d2f6f5b2e6b572c64522a6359435e5e5e5757575050504a4a4a404040363636413c31524324423821352d1a2c2c2c2725212222221f1d191c171016161413131212121112111111111111111011101010101010100f0f0f0f0f0f0f0f0e0e0e0e0d0d0d0d0d0d0d0c0c0b0b0b0a0909090d0a07640909ef02023e0000000000000000000000000000"[h+1],16),a.ae[g+1]=parseInt("ff0000e0b65ce0b65ce0b65ce0b65ce0b75ce0b75ce1b75ce0b75ce0b75de1b75de1b75de1b85de2b85de2b85de2b85de2b85de3b85de3b85de3b95de3b95de3b95de3b95ee3b95ee3b95ee4b95ee4ba5ee4ba5ee4ba5ee4ba5ee5ba5ee5ba5ee5ba5ee5ba5ee5bb5ee5bb5ee5ba5ee5bb5ee5bb5ee5ba5ee5ba5fe1bc6dddbc75e1bb6ae4bb64e5bb5fe6bb5fe6bb5fe6bb5ee6bb5ee6bb5fe6bb5edeb65cdeb55cdfb55cdeb55cdeb55bdeb45bddb45bddb45bddb45bddb35bddb35bdcb35bdcb35bdbb35ddcb35adcb35adbb35adbb25adbb25adab25adab25adab15ad9b15ad9b15adab159d9b159d9b159d9b059d9b059d8b059d8b059d8af58d8b059d7b059d7af59d7af58d7af58d7ae58d6af58d6ae58d6ae58d5ae58d5ae58d5ae58d4ae5ad4ad58d5ad57d5ad57d4ad57d4ad57d4ac57d3ac57d4ac57d4ac57d3ac57d3ac57d3ac57d2ac57d2ac57d3ab56d2ab56d2ab56d2ab56d2ab56d2aa56d1aa56d1aa56d1aa56d1aa55d0aa55cfa956d0a955cfa855cfa855cba554c9a65bbea87ac5b38cd5c197cdc4b0e2d0aaead6abeed9adf1dcaef3ddaff3ddaffaf0dbfefefefdfdfdfafafaf8f8f8f5f5f5f1f1f1eeeeeeebebebe8e8e8e4e4e4e1e1e1dedededadadad6d6d6d3d3d3d0d0d0d0d0d0cfcfcfcecececececdcdcdcdcdcdcccfccc5cccbcbcacacacacac9c8c8c8cac8c3c7c7c7c6c6c5c4c4c4c3c3c2c2c1c1c0c0c0bfbebebdbdbdbbbbbab3b3b2bcb6a9b4ad9da7a49d9c9c9c9494948e8e8e8888888282827c7c7c7474746e6e6e6767677b756aa39370b99a59c29e50c09c4ebc994db9964bb6944ab29149af8e48ac8b47a88945a68744a28443a082429d7f40997c3f967a3d91753b876e387a6434735d2f6f5b2e6b572c64522a6359435e5e5e5757575050504a4a4a404040363636413c31524324423821352d1a2c2c2c2725212222221f1d191c171016161413131212121112111111111111111011101010101010100f0f0f0f0f0f0f0f0e0e0e0e0d0d0d0d0d0d0d0c0c0b0b0b0a0909090d0a07640909ef02023e0000000000000000000000000000"[h+2]+"ff0000e0b65ce0b65ce0b65ce0b65ce0b75ce0b75ce1b75ce0b75ce0b75de1b75de1b75de1b85de2b85de2b85de2b85de2b85de3b85de3b85de3b95de3b95de3b95de3b95ee3b95ee3b95ee4b95ee4ba5ee4ba5ee4ba5ee4ba5ee5ba5ee5ba5ee5ba5ee5ba5ee5bb5ee5bb5ee5ba5ee5bb5ee5bb5ee5ba5ee5ba5fe1bc6dddbc75e1bb6ae4bb64e5bb5fe6bb5fe6bb5fe6bb5ee6bb5ee6bb5fe6bb5edeb65cdeb55cdfb55cdeb55cdeb55bdeb45bddb45bddb45bddb45bddb35bddb35bdcb35bdcb35bdbb35ddcb35adcb35adbb35adbb25adbb25adab25adab25adab15ad9b15ad9b15adab159d9b159d9b159d9b059d9b059d8b059d8b059d8af58d8b059d7b059d7af59d7af58d7af58d7ae58d6af58d6ae58d6ae58d5ae58d5ae58d5ae58d4ae5ad4ad58d5ad57d5ad57d4ad57d4ad57d4ac57d3ac57d4ac57d4ac57d3ac57d3ac57d3ac57d2ac57d2ac57d3ab56d2ab56d2ab56d2ab56d2ab56d2aa56d1aa56d1aa56d1aa56d1aa55d0aa55cfa956d0a955cfa855cfa855cba554c9a65bbea87ac5b38cd5c197cdc4b0e2d0aaead6abeed9adf1dcaef3ddaff3ddaffaf0dbfefefefdfdfdfafafaf8f8f8f5f5f5f1f1f1eeeeeeebebebe8e8e8e4e4e4e1e1e1dedededadadad6d6d6d3d3d3d0d0d0d0d0d0cfcfcfcecececececdcdcdcdcdcdcccfccc5cccbcbcacacacacac9c8c8c8cac8c3c7c7c7c6c6c5c4c4c4c3c3c2c2c1c1c0c0c0bfbebebdbdbdbbbbbab3b3b2bcb6a9b4ad9da7a49d9c9c9c9494948e8e8e8888888282827c7c7c7474746e6e6e6767677b756aa39370b99a59c29e50c09c4ebc994db9964bb6944ab29149af8e48ac8b47a88945a68744a28443a082429d7f40997c3f967a3d91753b876e387a6434735d2f6f5b2e6b572c64522a6359435e5e5e5757575050504a4a4a404040363636413c31524324423821352d1a2c2c2c2725212222221f1d191c171016161413131212121112111111111111111011101010101010100f0f0f0f0f0f0f0f0e0e0e0e0d0d0d0d0d0d0d0c0c0b0b0b0a0909090d0a07640909ef02023e0000000000000000000000000000"[h+3],16),a.ae[g+2]=parseInt("ff0000e0b65ce0b65ce0b65ce0b65ce0b75ce0b75ce1b75ce0b75ce0b75de1b75de1b75de1b85de2b85de2b85de2b85de2b85de3b85de3b85de3b95de3b95de3b95de3b95ee3b95ee3b95ee4b95ee4ba5ee4ba5ee4ba5ee4ba5ee5ba5ee5ba5ee5ba5ee5ba5ee5bb5ee5bb5ee5ba5ee5bb5ee5bb5ee5ba5ee5ba5fe1bc6dddbc75e1bb6ae4bb64e5bb5fe6bb5fe6bb5fe6bb5ee6bb5ee6bb5fe6bb5edeb65cdeb55cdfb55cdeb55cdeb55bdeb45bddb45bddb45bddb45bddb35bddb35bdcb35bdcb35bdbb35ddcb35adcb35adbb35adbb25adbb25adab25adab25adab15ad9b15ad9b15adab159d9b159d9b159d9b059d9b059d8b059d8b059d8af58d8b059d7b059d7af59d7af58d7af58d7ae58d6af58d6ae58d6ae58d5ae58d5ae58d5ae58d4ae5ad4ad58d5ad57d5ad57d4ad57d4ad57d4ac57d3ac57d4ac57d4ac57d3ac57d3ac57d3ac57d2ac57d2ac57d3ab56d2ab56d2ab56d2ab56d2ab56d2aa56d1aa56d1aa56d1aa56d1aa55d0aa55cfa956d0a955cfa855cfa855cba554c9a65bbea87ac5b38cd5c197cdc4b0e2d0aaead6abeed9adf1dcaef3ddaff3ddaffaf0dbfefefefdfdfdfafafaf8f8f8f5f5f5f1f1f1eeeeeeebebebe8e8e8e4e4e4e1e1e1dedededadadad6d6d6d3d3d3d0d0d0d0d0d0cfcfcfcecececececdcdcdcdcdcdcccfccc5cccbcbcacacacacac9c8c8c8cac8c3c7c7c7c6c6c5c4c4c4c3c3c2c2c1c1c0c0c0bfbebebdbdbdbbbbbab3b3b2bcb6a9b4ad9da7a49d9c9c9c9494948e8e8e8888888282827c7c7c7474746e6e6e6767677b756aa39370b99a59c29e50c09c4ebc994db9964bb6944ab29149af8e48ac8b47a88945a68744a28443a082429d7f40997c3f967a3d91753b876e387a6434735d2f6f5b2e6b572c64522a6359435e5e5e5757575050504a4a4a404040363636413c31524324423821352d1a2c2c2c2725212222221f1d191c171016161413131212121112111111111111111011101010101010100f0f0f0f0f0f0f0f0e0e0e0e0d0d0d0d0d0d0d0c0c0b0b0b0a0909090d0a07640909ef02023e0000000000000000000000000000"[h+4]+"ff0000e0b65ce0b65ce0b65ce0b65ce0b75ce0b75ce1b75ce0b75ce0b75de1b75de1b75de1b85de2b85de2b85de2b85de2b85de3b85de3b85de3b95de3b95de3b95de3b95ee3b95ee3b95ee4b95ee4ba5ee4ba5ee4ba5ee4ba5ee5ba5ee5ba5ee5ba5ee5ba5ee5bb5ee5bb5ee5ba5ee5bb5ee5bb5ee5ba5ee5ba5fe1bc6dddbc75e1bb6ae4bb64e5bb5fe6bb5fe6bb5fe6bb5ee6bb5ee6bb5fe6bb5edeb65cdeb55cdfb55cdeb55cdeb55bdeb45bddb45bddb45bddb45bddb35bddb35bdcb35bdcb35bdbb35ddcb35adcb35adbb35adbb25adbb25adab25adab25adab15ad9b15ad9b15adab159d9b159d9b159d9b059d9b059d8b059d8b059d8af58d8b059d7b059d7af59d7af58d7af58d7ae58d6af58d6ae58d6ae58d5ae58d5ae58d5ae58d4ae5ad4ad58d5ad57d5ad57d4ad57d4ad57d4ac57d3ac57d4ac57d4ac57d3ac57d3ac57d3ac57d2ac57d2ac57d3ab56d2ab56d2ab56d2ab56d2ab56d2aa56d1aa56d1aa56d1aa56d1aa55d0aa55cfa956d0a955cfa855cfa855cba554c9a65bbea87ac5b38cd5c197cdc4b0e2d0aaead6abeed9adf1dcaef3ddaff3ddaffaf0dbfefefefdfdfdfafafaf8f8f8f5f5f5f1f1f1eeeeeeebebebe8e8e8e4e4e4e1e1e1dedededadadad6d6d6d3d3d3d0d0d0d0d0d0cfcfcfcecececececdcdcdcdcdcdcccfccc5cccbcbcacacacacac9c8c8c8cac8c3c7c7c7c6c6c5c4c4c4c3c3c2c2c1c1c0c0c0bfbebebdbdbdbbbbbab3b3b2bcb6a9b4ad9da7a49d9c9c9c9494948e8e8e8888888282827c7c7c7474746e6e6e6767677b756aa39370b99a59c29e50c09c4ebc994db9964bb6944ab29149af8e48ac8b47a88945a68744a28443a082429d7f40997c3f967a3d91753b876e387a6434735d2f6f5b2e6b572c64522a6359435e5e5e5757575050504a4a4a404040363636413c31524324423821352d1a2c2c2c2725212222221f1d191c171016161413131212121112111111111111111011101010101010100f0f0f0f0f0f0f0f0e0e0e0e0d0d0d0d0d0d0d0c0c0b0b0b0a0909090d0a07640909ef02023e0000000000000000000000000000"[h+5],16)}a.wh=[];for(var g=a.$a,h=a.Ym,k=c;k<c+e;k++)for(var m=b;m<b+d;m++){var n=m-b+(k-c)*d,p;a:{p=0;for(var t=f.length;p<t;p++){var q=f[p];if(m>=q.S&&m<=q.X&&k>=q.T&&k<=q.Y){p=!0;break a}}p=!1}if(!0===p){q=4*(m+k*a.A);p=h[q+0]&255;var t=h[q+1]&255,q=h[q+2]&255,u=p<<16|t<<8|q;if(void 0===g[u]){for(var v=a.ae,r=0,x=16777216,I=1;256>I;I++){var K=3*I,B=p-(v[K+0]&255),F=t-(v[K+1]&255),K=q-(v[K+2]&255),B=B*B+F*F+K*K;B<x&&(x=B,r=I)}g[u]=r}a.wh[n]=g[u]}else a.wh[n]=a.Am}a.ah&&(kh(a.R,a.A),kh(a.R,a.G),gh(a.R,247),gh(a.R,0),gh(a.R,0),a.Lk(),gh(a.R,33),gh(a.R,255),gh(a.R,11),jh(a.R,"NETSCAPE2.0"),gh(a.R,3),gh(a.R,1),kh(a.R,a.bo),gh(a.R,0),gh(a.R,33),gh(a.R,254),gh(a.R,a.eb.length),jh(a.R,a.eb),gh(a.R,0));gh(a.R,33);gh(a.R,249);gh(a.R,4);gh(a.R,5);kh(a.R,a.tm);gh(a.R,a.Am);gh(a.R,0);gh(a.R,44);kh(a.R,void 0!==b?b:0);kh(a.R,void 0!==c?c:0);kh(a.R,void 0!==d?d:a.A);kh(a.R,void 0!==e?e:a.G);gh(a.R,0);b=new mh(a.A,a.G,a.wh);c=a.R;gh(c,b.wm);b.bk=b.A*b.G;b.sm=0;d=b.wm+1;b.vm=d;b.tf=!1;b.ed=d;b.Gf=(1<<b.ed)-1;d=1<<d-1;b.Zj=d+1;b.Cf=d+2;b.Za=0;e=nh(b);f=0;for(g=5003;65536>g;g*=2)++f;f=8-f;oh(b);ph(b,d,c);for(k=[];-1!==(h=nh(b));)if(g=(h<<12)+e,m=h<<f^e,g===b.ze[m])e=k[m];else{if(0<=b.ze[m]){n=5003-m;p=!1;0===m&&(n=1);do if(0>(m-=n)&&(m+=5003),g===b.ze[m]){e=k[m];p=!0;break}while(0<=b.ze[m]);if(p)continue}ph(b,e,c);e=h;4096>b.Cf?(k[m]=b.Cf++,b.ze[m]=g):(oh(b),b.Cf=d+2,b.tf=!0,ph(b,d,c))}ph(b,e,c);ph(b,b.Zj,c);gh(c,0);a.ah=!1;console.log("Frame "+a.um);a.um++}eh.prototype.Dd=function(){this.R=new ih;jh(this.R,"GIF89a")};eh.prototype.Lk=function(){qh(this.R,this.ae);for(var a=768-this.ae.length,b=0;b<a;b++)gh(this.R,0)};function mh(a,b,c){this.A=a;this.G=b;this.pa=c;this.wm=Math.max(2,8);this.sm=this.bk=0;this.ze=[];this.vm=0;this.tf=!1;this.Tb=this.pc=this.Cf=this.Zj=this.Gf=this.ed=0;this.Wn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535];this.Za=0;this.Kj=[]}function nh(a){if(0===a.bk)return-1;--a.bk;return a.pa[a.sm++]&255}function oh(a){for(var b=0;5003>b;b++)a.ze[b]=-1}function ph(a,b,c){a.pc&=a.Wn[a.Tb];a.pc=0<a.Tb?a.pc|b<<a.Tb:b;for(a.Tb+=a.ed;8<=a.Tb;){var d=a,e=a.pc&255,f=c;d.Kj[d.Za++]=e;254<=d.Za&&rh(d,f);a.pc>>=8;a.Tb-=8}if(a.Cf>a.Gf||a.tf)a.tf?(a.ed=a.vm,a.Gf=(1<<a.ed)-1,a.tf=!1):(a.ed++,12==a.ed?a.Gf=4096:a.Gf=(1<<a.ed)-1);if(b===a.Zj){for(;0<a.Tb;)b=a,d=a.pc&255,e=c,b.Kj[b.Za++]=d,254<=b.Za&&rh(b,e),a.pc>>=8,a.Tb-=8;rh(a,c)}}function rh(a,b){0<a.Za&&(gh(b,a.Za),qh(b,a.Kj,0,a.Za),a.Za=0)};"use strict;";function sh(){this.Af=this.tb=0}sh.prototype.Xc=function(){this.Af=this.tb=0};sh.prototype.je=function(){var a=new sh;a.We(this);return a};sh.prototype.We=function(a){this.tb=a.tb;this.Af=a.Af};sh.prototype.Set=function(a,b){this.tb=a;this.Af=b};function th(a,b){this.zf=void 0===a?H:a;this.Hf=void 0===b?-1:b}l=th.prototype;l.We=function(a){this.zf=a.zf;this.Hf=a.Hf};l.Fa=function(){this.zf=H;this.Hf=-1};l.Ng=function(a){this.zf=a};l.za=function(){return this.zf};l.ui=function(){return this.Hf};function uh(){this.rf=[];this.Ae=[]}uh.prototype.ea=function(){return this.Ae.length};uh.prototype.za=function(a){return this.Ae[a]};function Oh(a,b,c){b=(c<<8)+b;c=0;for(var d=a.Ae.length;c<d;c++)if(a.Ae[c]==b)return!0;return!1}function Rh(){this.Sb={}}Rh.prototype.Fa=function(){this.Sb={}};Rh.prototype.Ad=function(a,b){var c=(b<<8)+a;if(void 0!==this.Sb[c])return!0;this.Sb[c]=1;return!1};function Mb(){this.th={};this.Fc=null}Mb.prototype.Ad=function(a,b,c){if(H===c)return null;a=(b<<8)+a;if(null===this.Fc)return this.Fc=c,this.th[a]=1,!1;if(c!==this.Fc)return null;if(void 0!==this.th[a])return!0;this.th[a]=1;return!1};Mb.prototype.za=function(){return this.Fc};function Sh(){this.Da={};this.If=H}Sh.prototype.Fa=function(){this.Da={};this.If=H};Sh.prototype.Ad=function(a,b){var c=(b<<8)+a;if(void 0!==this.Da[c])return!0;this.Da[c]=1;return!1};function Eb(a,b,c){c=void 0===c?a.If:c;for(var d in a.Da)a=qb(d|0),b.Ac[Ga(b,a.h,a.f)]=c}function Eg(a,b){this.A=void 0===a?19:a;this.G=void 0===b?19:b;this.mc=null;ch(this);this.Lc=new sh;this.Ac=null;this.Da=new Sh;this.kh=new Rh}l=Eg.prototype;l.je=function(){for(var a=new Eg(this.A,this.G),b=0,c=this.mc.length;b<c;b++)a.mc[b].We(this.mc[b]);a.Lc.We(this.Lc);return a};l.Fa=function(){for(var a=this.A*this.G,b=0;b<a;b++)this.mc[b].Fa()};l.ea=function(){return{h:this.A,f:this.G}};l.Set=function(a,b,c,d){a=Ga(this,a,b);this.mc[a].Ng(c);void 0!==d&&null!==d&&-1!==d&&(this.mc[a].Hf=d)};l.K=function(a,b){return this.mc[Ga(this,a,b)].za()};l.ui=function(a,b){return this.mc[Ga(this,a,b)].ui()};function Ma(a){for(var b=[],c=Th(a.A),d=Th(a.G),e=0;e<c.length;e++)for(var f=0;f<d.length;f++)b.push([c[e],d[f]]);(9!=a.A&&11!=a.A||1!=a.G%2)&&(9!=a.G&&11!=a.G||1!=a.A%2)||b.push([(a.A-1)/2,(a.G-1)/2]);return b}function Th(a){var b=[];5==a?b=[2]:7==a?b=[3]:8==a?b=[2,5]:9==a?b=[2,6]:10==a?b=[3,6]:11==a?b=[3,7]:12<=a&&(b=1==a%2?[3,(a-1)/2,a-4]:[3,a-4]);return b}function Ub(a,b,c,d){var e=new uh;Uh(a,b,c,d,e);return 0<e.ea()?e:null}function Tb(a,b,c,d,e){var f;switch(d){case E:f=G;break;case G:f=E;break;default:return null}d=new uh;!0!==Oh(d,b+1,c)&&Uh(a,b+1,c,f,d);!0!==Oh(d,b-1,c)&&Uh(a,b-1,c,f,d);!0!==Oh(d,b,c+1)&&Uh(a,b,c+1,f,d);!0!==Oh(d,b,c-1)&&Uh(a,b,c-1,f,d);f=d.ea();if(1==f){b=(c<<8)+b;c=d.za(0);f=a.Lc;if(c===f.tb&&b===f.Af&&1==e)return null;a.Lc.Set(b,c)}else if(1<f)a.Lc.Xc();else if(0>=f)return null;return d}function ch(a){var b=a.A*a.G;a.mc=Array(b);for(var c=0;c<b;c++)a.mc[c]=new th}function Ga(a,b,c){return(c-1)*a.A+(b-1)}function Vh(a,b,c,d,e){if(b>a.A||1>b||c>a.G||1>c)return!1;var f=a.K(b,c);return H===f?!0:d===f?Wh(a,b,c,d,e):!1}function Wh(a,b,c,d,e){var f;a:{f=(c<<8)+b;for(var g=0,h=e.rf.length;g<h;g++)if(e.rf[g]==f){f=!0;break a}e.rf.push(f);f=!1}return!0===f?!1:!0===Vh(a,b+1,c,d,e)||!0===Vh(a,b-1,c,d,e)||!0===Vh(a,b,c+1,d,e)||!0===Vh(a,b,c-1,d,e)?!0:!1}function Uh(a,b,c,d,e){b>a.A||1>b||c>a.G||1>c||d!==a.K(b,c)||(!0!==Wh(a,b,c,d,e)&&(e.Ae=e.Ae.concat(e.rf)),e.rf=[])}l.ug=function(a){for(var b=0,c=0,d=1;d<=this.G;d++)for(var e=1;e<=this.A;e++){var f=null,g=this.Ac[Ga(this,e,d)];E===g?(f=new ya(e,d,ib,""),G===this.K(e,d)?b+=2:b++):G===g&&(f=new ya(e,d,jb,""),E===this.K(e,d)?c+=2:c++);null===f?a.Ob(e,d):a.Ea(f)}return{ie:b,ye:c}};function Xh(a,b,c){if(!(b>a.A||1>b||c>a.G||1>c)){var d=a.K(b,c);if(H!==a.K(b,c))switch(b=a.Da.If,b){case H:a.Da.If=d;break;case E:case G:b!==d&&(a.Da.If=3)}else!1===a.Da.Ad(b,c)&&(Xh(a,b+1,c),Xh(a,b-1,c),Xh(a,b,c+1),Xh(a,b,c-1))}}function Cb(a,b,c,d){b>a.A||1>b||c>a.G||1>c||(3-d===a.K(b,c)?d===a.Ac[Ga(a,b,c)]&&a.kh.Ad(b,c):!0!==a.Da.Ad(b,c)&&(Cb(a,b+1,c,d),Cb(a,b-1,c,d),Cb(a,b,c+1,d),Cb(a,b,c-1,d)))}function Db(a,b,c,d){if(!(b>a.A||1>b||c>a.G||1>c)&&3-d!==a.K(b,c)){if(d===a.K(b,c)){var e=a.kh,f=(c<<8)+b;void 0!==e.Sb[f]&&delete e.Sb[f]}!0!==a.Da.Ad(b,c)&&(Db(a,b+1,c,d),Db(a,b-1,c,d),Db(a,b,c+1,d),Db(a,b,c-1,d))}}function Ha(a,b){for(var c=1;c<=a.G;c++)for(var d=1;d<=a.A;d++)H===a.K(d,c)&&(H===a.Ac[Ga(a,d,c)]||!0===b&&3===a.Ac[Ga(a,d,c)])&&(a.Da.Fa(),Xh(a,d,c),Eb(a.Da,a))}l.yg=function(a){var b;this.La=[];for(var c=0;c<=this.G+1;c++){this.La[c]=[];for(var d=0;d<=this.A+1;d++)if(0===d||this.A+1===d||0===c||this.G+1===c){this.La[c][d]=0;b=d;for(var e=c,f=100,g=[],h=b-4;h<=b+4;h++)for(var k=e-4;k<=e+4;k++)if(!(1>h||h>this.A||1>k||k>this.G||4<Math.abs(b-h)+Math.abs(e-k))){var m=Za(this,h,k);if(H!==m){var n=Math.abs(b-h)+Math.abs(e-k);n<f?(f=n,g=[],g.push({h:h,f:k,Rb:m})):n===f&&g.push({h:h,f:k,Rb:m})}}b=g;e=b.length;if(0<e){g=f=!1;for(h=0;h<e;h++)E===b[h].Rb&&(g=!0),G===b[h].Rb&&(f=!0);if(!0!==f||!0!==g)this.La[c][d]=f?-128:128}}else b=Za(this,d,c),this.La[c][d]=E===b?128:G===b?-128:0}for(c=0;5>c;c++){d=[];for(b=0;b<=this.G+1;b++)for(d[b]=[],e=0;e<=this.A+1;e++){k=[];k[0]=0<e?this.La[b][e-1]:0;k[1]=e<this.A+1?this.La[b][e+1]:0;k[2]=0<b?this.La[b-1][e]:0;k[3]=b<this.G+1?this.La[b+1][e]:0;f=0;h=g=!1;for(m=0;4>m;m++)0<k[m]?(g=!0,f++):0>k[m]&&(h=!0,f--);k=this.La[b][e];d[b][e]=0<=k&&!1===h||0>=k&&!1===g?k+f:k}this.La=d}for(c=0;3>c;c++)Yh(this);b=d=0;for(c=1;c<=this.G;c++)for(e=1;e<=this.A;e++)f=null,g=this.La[c][e],0<g&&E!==this.K(e,c)?(f=new ya(e,c,ib,""),G===this.K(e,c)?d+=2:d++):0>g&&G!==this.K(e,c)&&(f=new ya(e,c,jb,""),E===this.K(e,c)?b+=2:b++),null===f?a.Ob(e,c):a.Ea(f);for(c=0;23>c;c++)Yh(this);k=h=0;for(c=1;c<=this.G;c++)for(e=1;e<=this.A;e++)f=null,g=this.La[c][e],0<g&&E!==this.K(e,c)?(f=new ya(e,c,kb,""),G===this.K(e,c)?h+=2:h++):0>g&&G!==this.K(e,c)&&(f=new ya(e,c,lb,""),E===this.K(e,c)?k+=2:k++),null!==f&&a.Ea(f);return{Tk:h,Sk:d,bm:k,am:b}};function Nb(a,b,c,d){1>b||b>a.A||1>c||c>a.G||!1!==d.Ad(b,c,a.K(b,c))||(Nb(a,b+1,c,d),Nb(a,b-1,c,d),Nb(a,b,c+1,d),Nb(a,b,c-1,d),1<b&&1<c&&H===a.K(b-1,c)&&H===a.K(b,c-1)&&Nb(a,b-1,c-1,d),b<a.A&&1<c&&H===a.K(b+1,c)&&H===a.K(b,c-1)&&Nb(a,b+1,c-1,d),b<a.A&&c<a.G&&H===a.K(b+1,c)&&H===a.K(b,c+1)&&Nb(a,b+1,c+1,d),1<b&&c<a.G&&H===a.K(b-1,c)&&H===a.K(b,c+1)&&Nb(a,b-1,c+1,d))}function Za(a,b,c){return void 0===a.cd||void 0===a.cd[c]||void 0===a.cd[c][b]?H:a.cd[c][b]}function Ca(a,b,c,d){void 0===a.cd&&(a.cd=[]);void 0===a.cd[c]&&(a.cd[c]=[]);a.cd[c][b]=d}function Yh(a){for(var b=[],c=0;c<=a.G+1;c++){b[c]=[];for(var d=0;d<=a.A+1;d++){var e=[];e[0]=0<d?a.La[c][d-1]:null;e[1]=d<a.A+1?a.La[c][d+1]:null;e[2]=0<c?a.La[c-1][d]:null;e[3]=c<a.G+1?a.La[c+1][d]:null;for(var f=0,g=0,h=0;4>h;h++)null!==e[h]&&(0<=e[h]&&f++,0>=e[h]&&g--);e=a.La[c][d];b[c][d]=0<e&&0!==g?Math.max(e+g,0):0>e&&0!==f?Math.min(e+f,0):e}}a.La=b};function ih(){this.vh=this.pa=null;this.e=this.sb=0;this.o()}ih.prototype.o=function(){var a=document.createElement("canvas").getContext("2d");this.sb=5242880;this.vh=a.createImageData(this.sb/4,1);this.pa=this.vh.data;this.e=0};function Zh(a,b){if(a.e+b>=a.sb){var c=document.createElement("canvas").getContext("2d"),d=a.pa;a.sb*=2;a.vh=c.createImageData(a.sb/4,1);a.pa=a.vh.data;for(var c=a.pa,e=0;e<a.bp;e++)c[e]=d[e]}}function hh(a){for(var b=new Uint8Array(a.e),c=0;c<a.e;c++)b[c]=a.pa[c];return b}function gh(a,b){Zh(a,1);a.pa[a.e++]=b}function jh(a,b){var c=b.length;Zh(a,c);for(var d=0;d<c;d++)a.pa[a.e++]=b.charCodeAt(d)}function qh(a,b,c,d){c=c||0;d=d||b.length;for(Zh(a,d-c);c<d;c++)a.pa[a.e++]=b[c]}function kh(a,b){Zh(a,2);a.pa[a.e++]=b&255;a.pa[a.e++]=b>>8&255}function lh(a,b){Zh(a,4);a.pa[a.e++]=b&255;a.pa[a.e++]=b>>8&255;a.pa[a.e++]=b>>16&255;a.pa[a.e++]=b>>24&255}function Ng(a,b){this.pa=a;this.Ma=b;this.e=0}function Pg(a){return a.e+1>=a.Ma?0:a.pa[a.e++]|a.pa[a.e++]<<8}function Qg(a){return a.e+3>=a.Ma?0:a.pa[a.e++]|a.pa[a.e++]<<8|a.pa[a.e++]<<16|a.pa[a.e++]<<24}function Og(a,b){if(a.e+b>a.Ma)return"";for(var c=[],d=0;d<b;d++)c.push(String.fromCharCode(a.pa[a.e+d]));a.e+=b;return c.join("")};function $h(a,b){this.Fc=a;this.O=b}l=$h.prototype;l.vd=function(){return qb(this.Fc).h};l.wd=function(){return qb(this.Fc).f};l.za=function(){return this.Fc};l.Ng=function(a){this.Fc=a};l.Wa=function(a){this.O=a};function ai(){this.rm=0}ai.prototype.Xc=function(){this.rm=0};var Jg=new ai;function Fg(a){this.ce=++Jg.rm+"";this.Oa=(this.b=a)?a.Oa:null;this.va=[];this.la=-1;this.ia=null;this.Ka=[];this.$b=new $h(0,H);this.eb="";this.ac=new bi;this.kb={h:-1,f:-1,Gg:-1};this.bh=!1;this.$a={}}function mg(a,b){if(b===a.ce)return a;for(var c=0,d=Md(a);c<d;c++){var e=mg(a.va[c],b);if(null!==e)return e}return null}function Gg(a,b){var c=new Fg;c.Ka=a.Ka;0<a.va.length&&a!==b&&(c.va[0]=Gg(a.va[a.la],b),c.la=0,c.va[0].ia=c);return c}l=Fg.prototype;l.cf=function(){return!0};l.Fa=function(){this.va=[];this.la=-1;this.Ka=[];this.$b=new $h(0,H);this.eb="";this.ac=new bi};l.Q=function(a){return void 0!==this.va[a]?this.va[a]:this.va[this.la]};function Yg(a,b){a.la=b>=a.va.length?a.va.length-1:b}function Md(a){return a.va.length}function ci(a,b){a.Ka.push(b);a.Oa&&a.Oa.jn&&a.Oa.jn(a.ce,og());a.b&&(a.b.na=!0)}l.Uc=function(){return H===this.$b.O?!1:!0};l.mg=function(a){this.eb+=a;this.b&&(this.b.na=!0)};l.Lg=function(a){this.eb=a;this.b&&(this.b.na=!0)};l.Nh=function(a,b){this.ac.Sb[""+a]=b};l.fi=function(){this.ac.Sb={}};l.vi=function(){for(var a=this;0<Md(a);)Yg(a,0),a=a.Q(0)};function Se(a){for(;0<Md(a);)a=a.Q(0);return a}function Ig(a){for(var b=!1,c=a.ia;null!=c;){for(var d=!1,e=0,f=Md(c);e<f;e++)if(a===c.Q(e)){e!==c.la&&(b=!0);Yg(c,e);d=!0;break}if(!d)return!1;a=c;c=c.ia}return b}function Xg(a){for(var b=null;null!==(b=a.ia);){if(0!=b.la)return!1;a=b}return!0}l.ue=function(){for(var a=this,b=null;null!=(b=a.ia);){if(b.Q(b.la)!=a)return!1;a=b}return!0};l.Kb=function(a,b,c){a=(b<<8)+a;ci(this,new ng(E===c?1:2,a));H===this.$b.O&&(this.$b.Ng(a),this.$b.Wa(c))};l.ge=function(a,b){ci(this,new ng(E===a?257:G===a?258:259,rg(b),b.length))};l.Ea=function(a,b){var c=0;switch(a){case mb:c=529;break;case za:return;case nb:c=531;break;case ob:c=532;break;case hb:c=533;break;case pb:c=530;break;case 513:c=513}ci(this,new ng(c,rg(b),b.length))};l.he=function(a,b){ci(this,new ng(533,{Text:a,Wi:b}))};l.jf=function(a){ci(this,new ng(260,a))};l.Lh=function(a){ci(this,new ng(769,a))};l.Oh=function(a){ci(this,new ng(770,a))};l.lf=function(a,b){b.a.Rg.d.a.getContext("2d").clearRect(0,0,b.c.J,b.c.D);switch(a){case Ag:di(this,b,-1);break;case 1:var c=this.ia;null!==c&&di(c,b,this.$b.za())}};function zb(a){for(var b=1,c=null;null!==(c=a.ia);)b++,a=c;return b}function di(a,b,c){if(b)for(var d=0,e=Md(a);d<e;d++){var f=a.Q(d).$b;if(H!==f.O&&c!==f.za()){var g=qb(f.za()),f=b,h=g.h,k=g.f;if(f.c.ca){var g=(f.c.Qb/2-1)/2,m=f.c.ca;!0===ea(f,h-1,k-1)&&(h=m[h-1].h,k=m[k-1].f,m=f.a.Rg.d.a.getContext("2d"),m.fillStyle=Q(f.po),m.beginPath(),m.arc(h,k,g,0,2*Math.PI,!1),m.fill())}}}}function Hg(a,b){-1!==a.eb.indexOf("RIGHT")&&b.push(a);for(var c=0,d=Md(a);c<d;c++)Hg(a.Q(c),b)}l.Mh=function(a,b,c){this.$a[(b<<8)+a]=c;this.b&&(this.b.na=!0)};l.Yi=function(a,b){delete this.$a[(b<<8)+a];this.b&&(this.b.na=!0)};l.Xi=function(){this.$a={};this.b&&(this.b.na=!0)};function ah(a,b){sb(b);for(var c in a.$a)b.ab[c]=a.$a[c];Sa(b)}l.gi=function(){this.$a={};if(null!==this.ia){var a=this.ia.$a,b;for(b in a)this.$a[b]=a[b].je()}this.b&&(this.b.na=!0)};function ei(a,b){for(var c in a.$a)b[qg(a.$a[c])]=!0;c=0;for(var d=Md(a);c<d;c++)ei(a.va[c],b)}l.Qi=function(){for(var a=this,b=this.la,c=this.Q(b);null!==c&&void 0!==c;)0!==b&&(a.va.splice(b,1),a.va.splice(0,0,c),Yg(a,0)),a=c,b=a.la,c=a.Q(b)};l.Cg=function(a){for(var b=this,c=this.ia;null!==c&&void 0!==c;){var d=Md(c);if(1<Md(c)){for(var e=0;e<d;++e)if(b===c.Q(e)){0<a?0<e&&(c.va.splice(e,1),c.va.splice(e-1,0,b),Yg(c,e-1)):e<d-1&&(c.va.splice(e,1),c.va.splice(e+1,0,b),Yg(c,e+1));break}break}b=c;c=c.ia}};var fi=0;function Mg(a){this.b=a;this.C=[];this.Ie=this.e=0;this.Mj=[];this.oc=!0;this.sb=0;this.l={S:100,T:100,X:-1,Y:-1};this.$n=fi;this.Gb=null}Mg.prototype.Mi=function(a){if(void 0!==a&&""!==a&&(this.C=[],this.Ie=this.e=0,this.Mj=[],this.oc=!0,this.sb=0,this.Hh(a),!gi(this)&&this.b&&this.b.g)){a=this.b;var b=a.g;Jb(b.Z.id,Kb,{W:a,ba:b,vc:"File cannot be read. Invalid SGF file.",J:275,D:80})}};Mg.prototype.Hh=function(a){for(var b=0,c=a.length,d=[],e=!1;b<c;){(e||32<a.charCodeAt(b))&&d.push(a.charAt(b));if(3<=d.length&&"["==d[d.length-1]){var f=d[d.length-3]+d[d.length-2];if("C"==d[d.length-2]&&"UC"!=f||"AN"==f||"BR"==f||"BT"==f||"CP"==f||"DT"==f||"EV"==f||"GN"==f||"GC"==f||"ON"==f||"OT"==f||"PB"==f||"PC"==f||"PW"==f||"RE"==f||"RO"==f||"RU"==f||"SO"==f||"TM"==f||"US"==f||"WR"==f||"WT"==f)e=!0}else e&&1<=d.length&&"]"==d[d.length-1]&&(2>d.length||"\\"!=d[d.length-2])&&(e=!1);b++}this.C=d;this.sb=this.C.length};function gi(a){a.b.Xc();if("("===a.C[0]&&";"===a.C[1])for(a.e++;a.e<a.sb&&(")"!==a.C[a.e]||0!==a.Ie);){var b=a.C[a.e];if(";"===b){1!=a.e?a.b.Oc(!1,!1):a.b.Db(a.b.ha);a.b.m.bh=!0;var c;a:{var d=a;d.e++;for(var e=d.C[d.e],f=d.C[d.e+1];void 0!==e&&")"!==e&&";"!==e&&"("!==e;){switch(e){case "A":switch(f){case "B":hi(d,E);break;case "E":hi(d,H);break;case "W":hi(d,G);break;case "N":var g=d;g.e+=3;var h=g.b,k=ii(g);h.Xf=k;U(h);break;case "P":var m=d;m.e+=3;ii(m);U(m.b);break;default:ji(d)}break;case "B":switch(f){case "[":ki(d,E);break;case "R":var n=d;n.e+=3;Af(n.b,ii(n));break;case "T":var p=d;p.e+=3;var t=p.b,q=ii(p);t.Zm=q;U(t);break;case "L":var u=d;u.e+=3;u.b.Lh(li(u));break;default:ji(d)}break;case "C":switch(f){case "[":var v=d;v.e+=2;for(var r="";"]"!==v.C[v.e]||"\\"===v.C[v.e-1];)"]"===v.C[v.e+1]&&"\\"===v.C[v.e]?(r+="]",v.e++):r+=v.C[v.e],v.e++;v.e++;switch(v.$n){case 1:for(var x="",I=0,K=0,B=0,F=0,V=r.length;I<V;)K=r.charCodeAt(I),128>K?(x+=String.fromCharCode(K),I++):191<K&&224>K?(B=r.charCodeAt(I+1),x+=String.fromCharCode((K&31)<<6|B&63),I+=2):(B=r.charCodeAt(I+1),F=r.charCodeAt(I+2),x+=String.fromCharCode((K&15)<<12|(B&63)<<6|F&63),I+=3);r=x}var A=v.b.m;A&&A.mg(r);break;case "A":var N=d;N.e+=3;ii(N);U(N.b);break;case "P":var T=d;T.e+=3;var w=T.b,Ei=ii(T);w.Wf=Ei;U(w);break;case "R":mi(d,mb);break;case "T":var sc=d;sc.e+=3;var vh=ii(sc);if(""!==vh){var wh=zg(vh),Sd=new Ng(wh,wh.length);if("SGFCT"===Og(Sd,5)){Pg(Sd);var Fi=Qg(Sd);sc.Gb=[];for(var Td=0;Td<Fi;Td++){var Gi=Qg(Sd);sc.Gb[Td]=new z(0,0,0,0);var Ud=sc.Gb[Td],Vd=Gi;Ud.u=Vd>>24&255;Ud.w=Vd>>16&255;Ud.v=Vd>>8&255;Ud.Ja=Vd&255}}}break;case "M":var Qb=d;Qb.e+=3;var xh=ii(Qb);if(""!==xh){var yh=zg(xh),Fb=new Ng(yh,yh.length);if("SGFCM"===Og(Fb,5)){Pg(Fb);var Hi=Pg(Fb),Ii=Pg(Fb),zh=Qb.b.m;zh.$a={};for(var Ff=0;Ff<Ii;Ff++)for(var Gf=0;Gf<Hi;Gf++){var Hf=Fb.e>=Fb.Ma?0:Fb.pa[Fb.e++];void 0!==Qb.Gb[Hf]&&0!==Qb.Gb[Hf].Ja&&(zh.$a[(Ff+1<<8)+(Gf+1)]=Qb.Gb[Hf].je())}}}break;default:ji(d)}break;case "D":switch(f){case "T":var Wd=d;Wd.e+=3;var Ah=Wd.b,Ji=ii(Wd);Ah.be=Ji;Ah.na=!0;break;default:ji(d)}break;case "E":switch(f){case "V":var Xd=d;Xd.e+=3;var Bh=Xd.b,Ki=ii(Xd);Bh.Oe=Ki;U(Bh);break;default:ji(d)}break;case "F":switch(f){case "F":ji(d);break;default:ji(d)}break;case "G":switch(f){case "N":var Yd=d;Yd.e+=3;var Ch=Yd.b,Li=ii(Yd);Ch.md=Li;U(Ch);break;case "C":var Zd=d;Zd.e+=3;Df(Zd.b,ii(Zd));break;case "M":var $d=d;$d.e+=3;1!==ni($d)&&($d.oc=!1);break;default:ji(d)}break;case "H":switch(f){case "A":var ae=d;ae.e+=3;var Dh=ae.b,Mi=ni(ae);Dh.Vb=Mi;U(Dh);break;default:ji(d)}break;case "K":switch(f){case "M":var be=d;be.e+=3;var Eh=be.b,Ni=li(be);Eh.fd=Ni;Eh.na=!0;break;default:ji(d)}break;case "L":switch(f){case "B":var ja=d;for(ja.e+=3;;){var Oi=ja.C[ja.e];ja.e++;var Pi=ja.C[ja.e];ja.e++;var Fh=oi(ja,Oi),Gh=oi(ja,Pi);ja.e++;for(var Jf="";"]"!==ja.C[ja.e]&&ja.e<ja.sb;)Jf+=ja.C[ja.e],ja.e++;pi(ja,Fh,Gh);ja.b.he(Jf,(Gh<<8)+Fh);if("]"!==ja.C[ja.e]){ja.oc=!1;break}ja.e++;if("["!==ja.C[ja.e])break;ja.e++}break;default:ji(d)}break;case "M":switch(f){case "A":mi(d,pb);break;default:ji(d)}break;case "O":switch(f){case "N":var ce=d;ce.e+=3;var Hh=ce.b,Qi=ii(ce);Hh.Yf=Qi;U(Hh);break;case "T":var de=d;de.e+=3;var Ih=de.b,Ri=ii(de);Ih.bg=Ri;U(Ih);break;default:ji(d)}break;case "P":switch(f){case "B":var ee=d;ee.e+=3;zf(ee.b,ii(ee));break;case "C":var fe=d;fe.e+=3;var Jh=fe.b,Si=ii(fe);Jh.Pe=Si;U(Jh);break;case "W":var ge=d;ge.e+=3;Bf(ge.b,ii(ge));break;case "L":var gd=d;gd.e+=3;"W"===ii(gd)?gd.b.jf(G):gd.b.jf(E);break;default:ji(d)}break;case "R":switch(f){case "E":var he=d;he.e+=3;yf(he.b,ii(he));break;case "O":var ie=d;ie.e+=3;var Kh=ie.b,Ti=ii(ie);Kh.Zf=Ti;U(Kh);break;case "U":var je=d;je.e+=3;var Lh=je.b,Ui=ii(je);Lh.cg=Ui;U(Lh);break;default:ji(d)}break;case "S":switch(f){case "Q":mi(d,nb);break;case "T":var uc=d;uc.e+=3;switch(ni(uc)){case 0:qc(uc.b,Ag);break;case 1:qc(uc.b,1);break;default:qc(uc.b,0)}break;case "Z":var ke=d;ke.e+=3;var hd=ii(ke),Kf=19,Lf=19,le=-1;-1==(le=hd.indexOf(":"))?Lf=Kf=Math.min(52,Math.max(parseInt(hd),2)):(Kf=parseInt(hd.substr(0,le)),Lf=parseInt(hd.substr(le+1,hd.length-le-1)));bh(ke.b,Kf,Lf);break;case "O":var me=d;me.e+=3;var Mh=me.b,Vi=ii(me);Mh.$f=Vi;U(Mh);break;default:ji(d)}break;case "T":switch(f){case "R":mi(d,ob);break;case "M":var ne=d;ne.e+=3;var Nh=ne.b,Wi=ii(ne);Nh.Kf=Wi;U(Nh);break;case "B":qi(d,E);break;case "W":qi(d,G);break;default:ji(d)}break;case "U":switch(f){case "S":var oe=d;oe.e+=3;var Ph=oe.b,Xi=ii(oe);Ph.ag=Xi;U(Ph);break;default:ji(d)}break;case "W":switch(f){case "[":ki(d,G);break;case "R":var pe=d;pe.e+=3;Cf(pe.b,ii(pe));break;case "T":var qe=d;qe.e+=3;var Qh=qe.b,Yi=ii(qe);Qh.$m=Yi;U(Qh);break;case "L":var re=d;re.e+=3;re.b.Oh(li(re));break;default:ji(d)}break;default:ji(d)}if(!d.oc){c=!1;break a}e=d.C[d.e];f=d.C[d.e+1]}c=!0}if(!c)return!1}else if("("===b)a.Mj[a.Ie]=a.b.m,a.Ie++,a.e++;else if(")"===b)a.Ie--,a.b.Db(a.Mj[a.Ie]),a.e++;else return!1}else return!1;return!0}function ii(a,b){void 0===b&&(b="]");for(var c="";void 0!==a.C[a.e]&&b!==a.C[a.e];)c+=a.C[a.e],a.e++;void 0===a.C[a.e]&&(a.oc=!1);a.e++;return c}function li(a){a=parseFloat(ii(a,void 0));return isNaN(a)?0:a}function ni(a){a=parseInt(ii(a,void 0));return isNaN(a)?0:a}function ji(a){for(;;){for(;void 0!==a.C[a.e]&&"]"!==a.C[a.e]&&a.e<a.sb;)for(a.e++;"]"===a.C[a.e]&&"\\"===a.C[a.e-1];)a.e++;a.e++;if("["!==a.C[a.e])break}}function oi(a,b){var c=b.charCodeAt(0);if(97<=c&&122>=c)return c-96;if(65<=c&&90>=c)return c-64+26;a.oc=!1;return 0}function hi(a,b){a.e+=3;var c=[];if("]"!==a.C[a.e]){for(;;){var d=a.C[a.e];a.e++;var e=a.C[a.e];a.e++;var f=oi(a,d),g=oi(a,e);if(":"===a.C[a.e])for(a.e++,d=a.C[a.e],a.e++,e=a.C[a.e],a.e++,d=oi(a,d),e=oi(a,e);g<=e;g++)for(var h=f;h<=d;h++)pi(a,h,g),c.push((g<<8)+h);else pi(a,f,g),c.push((g<<8)+f);if("]"!==a.C[a.e]){a.oc=!1;return}a.e++;if("["!==a.C[a.e])break;a.e++}a.b.ge(b,c)}}function ki(a,b){a.e+=2;if("]"==a.C[a.e])a.b.Kb(0,0,b);else{var c=a.C[a.e];a.e++;var d=a.C[a.e];a.e++;var e=a.b.oa.ea();if("t"===c&&"t"===d&&19>=e.h&&19>=e.f)a.b.Kb(0,0,b);else for(c=oi(a,c),d=oi(a,d),pi(a,c,d),a.b.Kb(c,d,b);"]"!==a.C[a.e];)if(a.e++,a.e>=a.sb){a.oc=!1;break}}a.e++}function mi(a,b){a.e+=3;var c=[];if("]"!==a.C[a.e]){for(;;){var d=a.C[a.e];a.e++;var e=a.C[a.e];a.e++;var f=oi(a,d),g=oi(a,e);if(":"===a.C[a.e])for(a.e++,d=a.C[a.e],a.e++,e=a.C[a.e],a.e++,d=oi(a,d),e=oi(a,e);g<=e;g++)for(var h=f;h<=d;h++)pi(a,h,g),c.push((g<<8)+h);else pi(a,f,g),c.push((g<<8)+f);if("]"!==a.C[a.e]){a.oc=!1;return}a.e++;if("["!==a.C[a.e])break;a.e++}a.b.Ea(b,c)}}function qi(a,b){a.e+=3;var c=[];if("]"!==a.C[a.e]){for(;;){var d=a.C[a.e];a.e++;var e=a.C[a.e];a.e++;var f=oi(a,d),g=oi(a,e);if(":"===a.C[a.e])for(a.e++,d=a.C[a.e],a.e++,e=a.C[a.e],a.e++,d=oi(a,d),e=oi(a,e);g<=e;g++)for(var h=f;h<=d;h++)c.push((g<<8)+h);else c.push((g<<8)+f);if("]"!==a.C[a.e]){a.oc=!1;return}a.e++;if("["!==a.C[a.e])break;a.e++}a.b.Nh(b,c)}}function pi(a,b,c){b<a.l.S&&(a.l.S=b);b>a.l.X&&(a.l.X=b);c<a.l.T&&(a.l.T=c);c>a.l.Y&&(a.l.Y=c)}function ri(a){this.b=a;this.ld=[];this.Ma=this.e=0}ri.prototype.Hh=function(a){for(var b=a.length,c=[],d=0;d<b;)c.push(a.charAt(d++));this.e=0;this.ld=c;this.Ma=this.ld.length};function si(a){a.b.Xc();a.b.Db(a.b.ha);a.b.m.bh=!0}function ti(a){return a.e>=a.Ma?-1:a.ld[a.e++]}function ui(a){for(var b="",c=null;-1!==c&&"\n"!==c;)c=ti(a),b+=c;return b}function vi(a){return a.e>=a.Ma?!0:!1}function Lg(a){Lg.r.constructor.call(this,a);this.He=this.Vb=0;this.Ee=19}Fc(Lg,ri);Lg.prototype.Mi=function(a){this.Hh(a);si(this);this.Jk();if(!(1>=this.Vb)){a=[];var b=[];19===this.Ee?b=[4,10,16]:13===this.Ee?b=[4,7,10]:9===this.Ee&&(b=[3,5,7]);if(3===b.length)switch(this.Vb){case 2:a=[[b[2],b[0]],[b[0],b[2]]];break;case 3:a=[[b[2],b[0]],[b[0],b[2]],[b[2],b[2]]];break;case 4:a=[[b[2],b[0]],[b[0],b[2]],[b[2],b[2]],[b[0],b[0]]];break;case 5:a=[[b[2],b[0]],[b[0],b[2]],[b[2],b[2]],[b[0],b[0]],[b[1],b[1]]];break;case 6:a=[[b[2],b[0]],[b[0],b[2]],[b[2],b[2]],[b[0],b[0]],[b[0],b[1]],[b[2],b[1]]];break;case 7:a=[[b[2],b[0]],[b[0],b[2]],[b[2],b[2]],[b[0],b[0]],[b[0],b[1]],[b[2],b[1]],[b[1],b[1]]];break;case 8:a=[[b[2],b[0]],[b[0],b[2]],[b[2],b[2]],[b[0],b[0]],[b[0],b[1]],[b[2],b[1]],[b[1],b[0]],[b[1],b[2]]];break;case 9:a=[[b[2],b[0]],[b[0],b[2]],[b[2],b[2]],[b[0],b[0]],[b[0],b[1]],[b[2],b[1]],[b[1],b[0]],[b[1],b[2]],[b[1],b[1]]]}if(0<a.length){for(var b=[],c=0,d=a.length;c<d;c++)b.push((a[c][1]<<8)+a[c][0]);this.b.ge(E,b)}}this.Ik()};Lg.prototype.Jk=function(){Df(this.b,ui(this));this.Ee=ui(this)|0;bh(this.b,this.Ee,this.Ee);wi(this,!1);wi(this,!0);ui(this);var a=ui(this);this.Vb=Math.min(9,Math.max(a|0,0));a=this.b;a.Vb=this.Vb;U(a);ui(this);var a=ui(this),b=this.b;b.fd=parseFloat(a);b.na=!0;a=ui(this);b=this.b;b.be=a;b.na=!0;ui(this);a=ui(this);yf(this.b,a);this.He=ui(this)|0};Lg.prototype.Ik=function(){if(!vi(this))for(var a=0;a<this.He;a++){this.b.Oc(!1,!1);this.b.m.bh=!0;if("PM"===ti(this)+ti(this)){ti(this);ti(this);var b="B"===ti(this)?E:G,c=ti(this),d=ti(this),c=c.charCodeAt(0)-65,d=d.charCodeAt(0)-65;0>c||0>d?this.b.Kb(0,0,b):this.b.Kb(c,d,b)}ui(this);if(vi(this))break}};function wi(a,b){var c=ui(a),d=c.indexOf(" "),e="",f="";-1!==d?(e=c.substr(0,d).replace(/\s+/g,""),f=c.substr(d).replace(/\s+/g,"")):e=c.replace(/\s+/g,"");!0===b?(zf(a.b,e),Af(a.b,f)):(Bf(a.b,e),Cf(a.b,f))}function Kg(a){Kg.r.constructor.call(this,a)}Fc(Kg,ri);Kg.prototype.Mi=function(a){this.Hh(a);si(this);!1!==this.Jk()&&this.Ik()};Kg.prototype.Jk=function(){for(var a=-1;"\\"!==a;){if(vi(this))return!1;a=ti(this)}a=ti(this)+ti(this);if("GS"===a)return this.e-=3,!0;if("HS"!==a)return!1;for(;;){for(a=-1;"\\"!==a;){if(vi(this))return!1;a=ti(this)}a=ti(this);if("H"===a){if("E"!==ti(this))break;return!0}if("["!==a)break;for(var b="";;){if(vi(this))return!1;a=ti(this);if("="===a)break;b+=a}for(var c="";;){if(vi(this))return!1;a=ti(this);if("\\"===a){if("]"===ti(this))break;return!1}c+=a}switch(b){case "WUSERINFO":case "BUSERINFO":case "GAMEINFOMAIN":case "GAMEINFOSUB":for(var b=a=null,d=[],e=-1;-1!==(e=c.indexOf(","));){var f=c.substr(0,e),g=f,h="",k=-1;-1!==(k=f.indexOf(":"))&&(g=f.substr(0,k),h=f.substr(k+1));d.push({Dg:g,Rb:h});c=c.substr(e+1)}e=0;for(c=d.length;e<c;e++)switch(f=d[e].Rb,d[e].Dg){case "WNICK":Bf(this.b,f);break;case "BNICK":zf(this.b,f);break;case "WLV":Cf(this.b,xi(f));break;case "BLV":Af(this.b,xi(f));break;case "GNAME":g=this.b;g.Oe=f;U(g);break;case "GDATE":g=this.b;g.be=f;g.na=!0;break;case "GPLC":g=this.b;g.Pe=f;U(g);break;case "GCMT":Df(this.b,f);break;case "GONGJE":g=this.b;g.fd=(f|0)/10;g.na=!0;break;case "GRLT":a=f;break;case "ZIPSU":b=f}if(null!==a)switch(a){case "0":yf(this.b,"Black "+(b|0)/10+" win");break;case "1":yf(this.b,"White "+(b|0)/10+" win");break;case "3":yf(this.b,"Black wins by resignation");break;case "4":yf(this.b,"White wins by resignation");break;case "255":yf(this.b,"Unfinished")}}}return!1};Kg.prototype.Ik=function(){for(var a=-1;"\\"!==a;){if(vi(this))return!1;a=ti(this)}a=ti(this)+ti(this);if("GS"!==a)return!1;ui(this);ui(this);for(ui(this);!vi(this);){var b=ui(this);if(-1!==b.indexOf("\\GE"))return!0;var c,a=[];for(c=-1;-1!==(c=b.indexOf(" "));)a.push(b.substr(0,c)),b=b.substr(c+1);c=a;if(0>=c.length)return!1;a=c[0];if("INI"===a)5<=c.length&&Df(this.b,c[4]);else if("STO"===a){if(6!==c.length)return!1;this.b.Oc(!1,!1);this.b.m.ap=!0;this.b.Kb((c[4]|0)+1,(c[5]|0)+1,"1"===c[3]?E:G)}}};function xi(a){a=a|0;return 18>a?18-a+"k":26<a?a-26+"p":a-17+"d"};function Rg(){this.Gb=this.b=this.ld=null}function yi(a,b){a.ld+=b}function zi(a){return 26>=a?96+a:64+a-26}function Ai(a,b){var c=qb(b);yi(a,String.fromCharCode(91,zi(c.h),zi(c.f),93))}function Bi(a,b){for(var c=0,d=b.length;c<d;c++)Ai(a,b[c])}function Ci(a,b,c){yi(a,b);yi(a,"["+c+"]")}function Di(a,b,c){c&&""!==c&&Ci(a,b,c)}function Sg(a,b){var c=b.ia,d=!1;if(null===c||1<Md(c))d=!0;d&&yi(a,"(");yi(a,";");if(b===a.b.ha){var c=a.b,e=c.oa.ea();Ci(a,"GM",1);Ci(a,"FF",4);Ci(a,"CA","UTF-8");Ci(a,"AP","WebGoBoard:"+GoBoardApi.zg());Ci(a,"ST",c.Rd);Di(a,"RU",c.cg);Ci(a,"SZ",e.h==e.f?e.h:e.h+":"+e.f);Ci(a,"KM",c.fd);Ci(a,"HA",c.Vb);Di(a,"TM",c.Kf);Di(a,"OT",c.bg);Di(a,"RE",c.Qe);Di(a,"GN",c.md);Di(a,"DT",c.be);Di(a,"CP",c.Wf);Di(a,"GC",c.vk);Di(a,"PB",c.kd);Di(a,"BR",c.Vf);Di(a,"BT",c.Zm);Di(a,"PW",c.nd);Di(a,"WR",c.dg);Di(a,"WT",c.$m);Di(a,"EV",c.Oe);Di(a,"RO",c.Zf);Di(a,"PC",c.Pe);Di(a,"AN",c.Xf);Di(a,"ON",c.Yf);Di(a,"SO",c.$f);Di(a,"US",c.ag);c={};ei(a.b.ha,c);var e=1,f=[],g;for(g in c)c[g]=e,f[e++]=g|0;1<e&&(c[0]=0,f[0]=0,a.Gb=c,a.Lk(f))}g=[];for(var c=[],e=[],f=0,h=b.Ka.length;f<h;f++){var k=b.Ka[f],m=k.O,k=k.za();switch(m){case 257:case 258:case 259:for(var n=0,p=k.length;n<p;n++){for(var t=k[n],q=0,u=g.length;q<u;q++)t===g[q]&&(g.splice(q,1),u--,q--);q=0;for(u=c.length;q<u;q++)t===c[q]&&(c.splice(q,1),u--,q--);q=0;for(u=e.length;q<u;q++)t===e[q]&&(e.splice(q,1),u--,q--);257===m?g.push(t):258===m?c.push(t):259===m&&e.push(t)}}}0<g.length&&(yi(a,"AB"),Bi(a,g));0<c.length&&(yi(a,"AW"),Bi(a,c));0<e.length&&(yi(a,"AE"),Bi(a,e));g=[[],[],[],[],[],[]];c=[];h=0;for(e=b.Ka.length;h<e;h++){m=b.Ka[h];k=m.za();n=-1;switch(m.O){case 533:n=0;k=[k.Wi];break;case 529:n=1;break;case 530:n=2;break;case 531:n=3;break;case 532:n=4;break;case 513:n=5}f=0;for(p=k.length;f<p;f++)for(t=k[f],q=0,u=g.length;q<u;q++)if(q===n)g[q].push(t),0==q&&c.push(m.za().Text);else for(var v=0,r=g[q].length;v<r;v++)t===g[q][v]&&(g[q].splice(v,1),0===q&&c.splice(v,1),r--,v--)}if(0<g[0].length)for(yi(a,"LB"),f=0,e=g[0].length;f<e;f++)yi(a,"["),h=a,m=qb(g[0][f]),yi(h,String.fromCharCode(zi(m.h),zi(m.f))),yi(a,":"+c[f]+"]");0<g[1].length&&(yi(a,"CR"),Bi(a,g[1]));0<g[2].length&&(yi(a,"MA"),Bi(a,g[2]));0<g[3].length&&(yi(a,"SQ"),Bi(a,g[3]));0<g[4].length&&(yi(a,"TR"),Bi(a,g[4]));g=0;for(c=b.Ka.length;g<c;g++)switch(f=b.Ka[g],e=f.za(),f.O){case 1:yi(a,"B");f=a;0!=e?Ai(f,e):yi(f,String.fromCharCode(91,93));break;case 2:yi(a,"W");f=a;0!=e?Ai(f,e):yi(f,String.fromCharCode(91,93));break;case 769:yi(a,"BL");yi(a,"["+e+"]");break;case 770:yi(a,"WL");yi(a,"["+e+"]");break;case 260:yi(a,"PL"),yi(a,"["+(e===G?"W":"B")+"]")}g=b.eb;""!==g&&(g=g.replace(RegExp("]","g"),"\\]"),yi(a,"C"),yi(a,"["),yi(a,g),yi(a,"]"));if(null!==a.Gb){g=new ih;jh(g,"SGFCM");kh(g,1);e=a.b.oa.ea();c=e.h;e=e.f;kh(g,c);kh(g,e);f=!1;for(h=0;h<e;h++)for(m=0;m<c;m++)(k=b.$a[(h+1<<8)+(m+1)])?(k=qg(k),void 0!==a.Gb[k]?(gh(g,a.Gb[k]),f=!0):gh(g,0)):gh(g,0);!0===f&&(g=xg(hh(g)),Ci(a,"CM",g))}g=0;for(c=Md(b);g<c;g++)Sg(a,b.Q(g));d&&yi(a,")")}Rg.prototype.Lk=function(a){var b=new ih;jh(b,"SGFCT");kh(b,1);lh(b,a.length);for(var c=0,d=a.length;c<d;c++)lh(b,a[c]);a=xg(hh(b));Ci(this,"CT",a)};function bi(){this.Od=!1;this.Sb={}};Z.prototype.Ln="0.10.3";}());