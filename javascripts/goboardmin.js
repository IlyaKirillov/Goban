/*
 * Copyright (C) 2014-2015  Ilya Kirillov 
 * email: ilya_kirillov@inbox.ru
 *  
 * This library is free software; you can redistribute it and/or
 * modify it under the terms of the GNU Lesser General Public
 * License as published by the Free Software Foundation; either
 * version 3.0 of the License, or (at your option) any later version.
 * 
 * This library is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 * Lesser General Public License for more details.
 * 
 * Version 0.10.1
*/
(function(){var m;function aa(a){this.h=a;this.N=this.b=null;this.qa=0;this.wb=x.wb;this.Rj=this.tf=this.ze=this.Id=this.Jd=0;this.Lf={};this.yb=null;this.Xg=!1;this.c={I:0,D:0,Vl:0,cl:0,Gb:0,$b:0,el:2,$:null,dl:null,ba:null,jg:null,jf:[],Yl:Array(361),Ph:null,Dj:null,Vi:null,Ej:null,Fj:null,Il:null,Jl:null,zl:null,Al:null,Cl:null,El:null,Dl:null,Fl:null,jl:null,fi:null,gi:null,tl:null,$k:null,Nk:null,Ik:null};this.ko=new z(255,0,0,128);this.a={d:null,ba:{d:null},$:{d:null},yd:{d:null},ng:{d:null},Oa:{d:null},Ng:{d:null},Eb:{d:null},ud:{d:null},zd:{d:null},Event:{d:null},un:[]};this.hb=new ba(this.c);this.Za={};this.Ra={};this.kh=-1;this.l={P:0,Q:0,U:18,V:18};this.pa={xd:!1,Kg:-1,Lg:-1,fe:-1,ge:-1};this.Qd=this.Ie=null;this.pf=!1;var b=this;this.Gh=function(a){ca(a);a=b.Pe(B.g,B.f);a=da(b,a.g,a.f);var d=a.g,e=a.f,f=B,g=!1;if(!1===ea(b,d-1,e-1))fa(b.hb);else if(null===b.yb&&null!==b.c.$){void 0===g&&(g=!1);var h;h=b.hb;d==h.zf&&e==h.Af&&1!=g?h=!0:(h.zf=d,h.Af=e,h.Pa(),h=!1);!1===h&&(10===b.qa&&b.pf&&!g&&ga(b,d,e,f),f=(b.c.Gb-1)/2,g=b.c.$,d=g[d-1].g-f,e=g[e-1].f-f,b.hb.Pa(),b.hb.xl(d,e),ha(b))}11===b.qa&&(e=a.f,!0===b.pa.xd&&(b.pa.fe=a.g,b.pa.ge=e));ia(b)};this.gg=function(a){ca(a);!0===b.pf&&(b.pf=!1,b.Hh(a));fa(b.hb)};this.fg=function(a){ja(a);b.pf=!0;b.a.Event.d.a.focus();var d=b.Pe(B.g,B.f),d=da(b,d.g,d.f);b.Y(d.g,d.f,B);a.preventDefault();return!1};this.Hh=function(a){ca(a);b.pf=!1;var d=b.Pe(B.g,B.f),d=da(b,d.g,d.f);11===b.qa&&(a=d.g,d=d.f,!0===b.pa.xd&&(b.pa.xd=!1,b.pa.fe=a,b.pa.ge=d));ia(b)};this.zo=function(a){ka(a);var d=!1;16===la.F&&2===b.qa?(B.t=!0,ha(b),d=!0):16!==la.F&&17!==la.F||10!==b.qa?(d=ma(b,la),!0===d&&112<=la.F&&121>=la.F?ha(b):!0===d&&fa(b.hb)):(16===la.F?B.t=!0:17===la.F&&(B.r=!0),ha(b),d=!0);!0===d&&a.preventDefault();return d?!1:!0};this.Bo=function(a){ka(a);16===la.F&&2===b.qa?(B.t=!1,ha(b)):16!==la.F&&17!==la.F||10!==b.qa||(16===la.F?B.t=!1:17===la.F&&(B.r=!1),ha(b))};this.Ao=function(){};this.Gk=function(){return setTimeout(function(){b.zk();b.bg();b.dg();b.cg();if(b.c.$){var a=b.Dh(),d=b.kc(),e=b.c.Gb;b.c.Ej=na(b,e,e,.05*e,new z(0,0,0,255));b.c.Fj=na(b,e,e,.05*e,new z(255,255,255,255));b.c.Il=b.Sb(e,e,.05*e,new z(0,0,0,255));b.c.Jl=b.Sb(e,e,.05*e,new z(255,255,255,255));b.c.zl=oa(b,e,e,.05*e,new z(0,0,0,255));b.c.Al=oa(b,e,e,.05*e,new z(255,255,255,255));b.c.Cl=pa(b,e,e,!1,new z(0,0,0,255),a?new z(0,0,0,255):d?new z(255,255,255,255):new z(0,0,0,255));b.c.El=pa(b,e,e,!1,new z(255,255,255,255),a?new z(255,255,255,255):d?new z(255,255,255,255):new z(0,0,0,255));b.c.Dl=pa(b,e,e,!0,new z(0,0,0,255),a?new z(0,0,0,255):d?new z(255,255,255,255):new z(0,0,0,255));b.c.Fl=pa(b,e,e,!0,new z(255,255,255,255),a?new z(255,255,255,255):d?new z(255,255,255,255):new z(0,0,0,255));b.c.jl=qa(b,e,e,.05*e,new z(255,0,0,255));b.c.fi=qa(b,e,e,.05*e,new z(0,0,0,255));b.c.gi=qa(b,e,e,.05*e,new z(255,255,255,255));b.c.tl=oa(b,e,e,.05*e,new z(200,0,0,255));b.c.$k=oa(b,e,e,.05*e,new z(0,128,0,255));b.c.Nk=oa(b,e,e,.05*e,new z(0,0,200,255));b.c.Ik=oa(b,e,e,.05*e,new z(128,128,128,255))}b.Tb();b.c.Vi=ra(b,!0)},20)};this.xo=function(a){a.preventDefault();return!1};this.yo=function(a){a.preventDefault();if(0<a.dataTransfer.files.length&&FileReader){a=a.dataTransfer.files[0];var d=a.name.split(".").pop().toLowerCase(),e=new FileReader;e.onload=function(a){b.b.oc(a.target.result,null,null,d)};e.readAsText(a);b.za()}}}m=aa.prototype;m.o=function(a,b){this.h&&this.h.ul(this);this.Yi(b);this.a.d=D(a);var c=this.a.d.a,d=a+"_BoardCanvas",e=a+"_LinesCanvas",f=a+"_ColorCanvas",g=a+"_ShadowsCanvas",h=a+"_StonesCanvas",k=a+"_VariantsCanvas",l=a+"_MarksCanvas",n=a+"_TargetCanvas",p=a+"_SelectCanvas",r=a+"_CursorCanvas",q=a+"_EventDiv";this.Va(c,d);this.Va(c,e);this.Va(c,f);this.Va(c,g);this.Va(c,h);this.Va(c,k);this.Va(c,l);this.Va(c,p);this.Va(c,n);this.oa(c,r);c=this.oa(c,q);this.hb.o(r);r=this.a.d;this.sa(this.a.ba,r,d);this.sa(this.a.$,r,e);this.sa(this.a.ng,r,f);this.sa(this.a.Oa,r,g);this.sa(this.a.yd,r,h);this.sa(this.a.Ng,r,k);this.sa(this.a.Eb,r,l);this.sa(this.a.ud,r,p);this.sa(this.a.zd,r,n);this.sa(this.a.Event,r,q);c.onmousemove=this.Gh;c.onmouseout=this.gg;c.onmousedown=this.fg;c.onmouseup=this.Hh;c.onkeydown=this.zo;c.onkeyup=this.Bo;c.onkeypress=this.Ao;c.tabIndex=-1;c.style.Pn=!0;c.style.outline=0;c.ondragover=this.xo;c.ondrop=this.yo;return r};m.Kk=function(a){this.a.un.push(a)};m.za=function(){this.a.Event.d.a.focus()};m.Ig=function(a){a!==this.wb&&(x.Ig(a),this.wb=a,this.h.p(!0))};function ra(a,b){var c=document.createElement("canvas"),d=c.getContext("2d");c.width=a.a.ba.d.a.width;c.height=a.a.ba.d.a.height;d.drawImage(a.a.ba.d.a,0,0);d.drawImage(a.a.$.d.a,0,0);!0===b&&d.drawImage(a.a.ng.d.a,0,0);d.drawImage(a.a.Oa.d.a,0,0);d.drawImage(a.a.yd.d.a,0,0);d.drawImage(a.a.Eb.d.a,0,0);return c}m.p=function(a){var b=this.a.d.a.clientWidth,c=this.a.d.a.clientHeight,d=sa(this),e=c*d;e<=b?b=e:c=b/d;if(b!==this.c.Vl||c!==this.c.cl||!0===a)this.c.Vl=b,this.c.cl=c,this.a.d.cb(b,c),ta(this),this.Tb(a)};function ua(a,b,c,d,e){var f=a.N.ca(),g=f.g,f=f.f;a.l.P=Math.max(0,Math.min(g-1,b));a.l.Q=Math.max(0,Math.min(f-1,c));a.l.U=Math.max(0,Math.min(g-1,d));a.l.V=Math.max(0,Math.min(f-1,e));a.l.U<=a.l.P&&(a.l.P=0,a.l.U=g-1);a.l.V<=a.l.Q&&(a.l.Q=0,a.l.V=f-1)}function va(a){var b=a.N.ca(),c=b.g,b=b.f;a.l.P=0;a.l.Q=0;a.l.U=c-1;a.l.V=b-1}function wa(a,b,c,d){if(a.c.$&&d!==a.Lf[(c<<8)+b]){var e=a.a.yd.d.a.getContext("2d"),f=a.a.Oa.d.a.getContext("2d"),g=a.c.Gb,h=(g-1)/2,k=a.c.$,l=a.c.$b,n=a.Ch();if(!0===ea(a,b-1,c-1)){var p=k[b-1].g-h,h=k[c-1].f-h;switch(d){case E:e.putImageData(a.c.jg,p,h);!0===n&&f.putImageData(a.c.Oa,p+l,h+l);break;case F:e.putImageData(a.c.jf[a.c.Yl[b-1+(c-1)*a.N.ca().g]],p,h);!0===n&&f.putImageData(a.c.Oa,p+l,h+l);break;default:e.clearRect(p,h,g,g),!0===n&&f.clearRect(p+l,h+l,g,g)}}a.Lf[(c<<8)+b]=d;d=a.hb;!0===(b==d.zf&&c==d.Af?!0:!1)&&ha(a)}}m.Fb=function(a,b){var c=(b<<8)+a;delete this.Ra[""+c];c===this.kh&&(this.Ra[""+c]=new xa(a,b,ya,""))};function za(a,b,c){return(a=a.Ra[""+((c<<8)+b)])?a:null}m.Ca=function(a){Aa(this,a.od(),a.pd(),a)};m.Yi=function(a){this.b=a;this.N=a.ma;a.j=this;va(this)};m.tg=function(){for(var a=this.N,b=1;b<=a.G;b++)for(var c=1;c<=a.A;c++)Ba(a,c,b,a.J(c,b));a=this.N.tg(this);this.Ie&&Ca(this.Ie,"B "+a.Pk+"("+a.Ok+") W "+a.Xl+"("+a.Wl+")");this.b.bc()};function Da(a,b){if((a.b.H&Ea||9===b||11===b)&&a.qa!==b){1===a.qa&&a.b.ci();a.qa=b;ha(a);if(1===b){var c=a.N;c.qc=[];for(var d=1;d<=c.G;d++)for(var e=1;e<=c.A;e++)c.qc[Fa(c,e,d)]=G;Ga(c,!1);a.b.pg()}else 9===b&&a.tg();a.b.bc()}}function sa(a){var b=a.N.ca(),c=b.g,b=b.f,d=(a.l.U-a.l.P)*Ha+2*Ia,e=(a.l.V-a.l.Q)*Ha+2*Ia;!0===a.wb&&(d+=Ha,e+=Ha);0<a.l.P&&(d+=Ja/2);a.l.U<c-1&&(d+=Ja/2);0<a.l.Q&&(e+=Ja/2);a.l.V<b-1&&(e+=Ja/2);return d/e}m.Va=function(a,b){var c=document.createElement("canvas");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};m.oa=function(a,b){var c=document.createElement("div");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};m.sa=function(a,b,c){a.d=D(c);a=a.d;I(a.i,0,0,1E3,1E3,!1,!1,!1,!1,-1,-1);a.n=J|K|L|O;b.k(a)};m.Pe=function(a,b){var c=Ka(this.a.ba.d.a);return{g:a-c.g,f:b-c.f}};function ta(a){var b=a.N.ca(),c=b.g,b=b.f;a.l.P=Math.max(0,Math.min(c-1,a.l.P));a.l.Q=Math.max(0,Math.min(b-1,a.l.Q));a.l.U=Math.max(0,Math.min(c-1,a.l.U));a.l.V=Math.max(0,Math.min(b-1,a.l.V));a.l.U<=a.l.P&&(a.l.P=0,a.l.U=c-1);a.l.V<=a.l.Q&&(a.l.Q=0,a.l.V=b-1);var d=(a.l.U-a.l.P)*Ha+2*Ia,e=(a.l.V-a.l.Q)*Ha+2*Ia,f=Ia,g=Ia;!0===a.wb&&(d+=Ha,e+=Ha,f+=Ja,g+=Ja);0<a.l.P&&(d+=Ja/2,f+=Ja/2);a.l.U<c-1&&(d+=Ja/2);0<a.l.Q&&(e+=Ja/2,g+=Ja/2);a.l.V<b-1&&(e+=Ja/2);a.tf=Ha/e;a.ze=Ha/d;a.Id=f/d;a.Jd=g/e;a.Rj=4/d}m.Tb=function(a){var b=this.a.ba.d.a.width,c=this.a.ba.d.a.height;if(b!=this.c.I||c!=this.c.D||null===this.c.ba||null!==this.yb||!0===a){if(null!==this.yb&&clearTimeout(this.yb),this.yb=this.Gk(),this.bg(),0!==b&&0!==c)if(null!==this.c.Vi)this.a.ba.d.a.getContext("2d").drawImage(this.c.Vi,0,0,b,c);else{a=this.a.ba.d.a.getContext("2d");a.fillStyle=P(this.eg());a.fillRect(0,0,b,c);var d=this.a.$.d.a.getContext("2d");a=this.ze*b;var e=this.tf*c,f=this.Id*b-this.l.P*a,g=this.Jd*c-this.l.Q*e,h=this.N.ca();d.clearRect(0,0,b,c);d.strokeStyle=P(this.ae());for(var k=f+(h.g-1)*a,l=0;l<h.f;l++){var n=g+l*e;d.beginPath();d.moveTo(f,n);d.lineTo(k,n);d.stroke()}for(var k=g+(h.f-1)*e,p=0;p<h.g;p++)n=f+p*a,d.beginPath(),d.moveTo(n,g),d.lineTo(n,k),d.stroke();d.fillStyle=P(this.ae());for(var l=Math.max(2,this.Rj*b/2),p=La(this.N),r=0,q=p.length;r<q;r++)k=f+p[r][0]*a,n=g+p[r][1]*a,d.beginPath(),d.arc(k,n,l,0,2*Math.PI,!1),d.fill();d=this.a.yd.d.a.getContext("2d");d.clearRect(0,0,b,c);d.strokeStyle=P(this.ae());d.lineWidth=1;r=P(new z(0,0,0,255));q=P(new z(255,255,255,255));for(l=1;l<=h.f;l++)for(p=1;p<=h.g;p++){k=this.N.J(p,l);if(E===k)d.fillStyle=r;else if(F===k)d.fillStyle=q;else continue;k=f+(p-1)*a;n=g+(l-1)*e;d.beginPath();d.arc(k,n,a/2,0,2*Math.PI,!1);d.fill();d.stroke()}this.a.Oa.d.a.getContext("2d").clearRect(0,0,b,c);this.a.Ng.d.a.getContext("2d").clearRect(0,0,b,c);this.a.Eb.d.a.getContext("2d").clearRect(0,0,b,c);this.a.zd.d.a.getContext("2d").clearRect(0,0,b,c);this.a.ud.d.a.getContext("2d").clearRect(0,0,b,c)}}else{Ma(this);if(!0===this.wb&&this.c.$){b=this.a.ba.d.a.getContext("2d");c=this.c.I;l=this.c.D;a=this.N.ca();e=2*this.c.Gb/3;f=(e-1)/2;g=this.c.$;h=2*e/3;b.fillStyle=this.kc()?"rgb(255,255,255)":"rgb(0,0,0)";for(p=this.l.P;p<=this.l.U;p++)d=g[p].g-f,k=this.Jd*l/3-f,n=Na(p+1,a.g),r=Oa(n)?"Arial":"Helvetica, Arial, Verdana",r=h+"px "+r,b.font=r,r=e/2+h/3,q=(e-b.measureText(n).width)/2,b.fillText(n,d+q,k+r),k=l-this.Jd*l/3-f,b.fillText(n,d+q,k+r);for(l=this.l.Q;l<=this.l.V;l++)d=this.Id*c/3-f,k=g[l].f-f,n=a.f-l+"",r=Oa(n)?"Arial":"Helvetica, Arial, Verdana",r=h+"px "+r,b.font=r,r=e/2+h/3,q=(e-b.measureText(n).width)/2,b.fillText(n,d+q,k+r),d=c-this.Id*c/3-f,b.fillText(n,d+q,k+r)}Pa(this);b=this.c.I;c=this.c.D;this.a.yd.d.a.getContext("2d").clearRect(0,0,b,c);this.a.Oa.d.a.getContext("2d").clearRect(0,0,b,c);this.Lf={};Qa(this);Ra(this);Sa(this);this.b&&this.b.ff()}};m.zk=function(){var a=this.a.ba.d.a.width,b=this.a.ba.d.a.height,c=this.a.ba.d.a.getContext("2d");if(0!==a&&0!==b){for(var c=c.createImageData(a,b),d=.9,e=this.eg(),f=e.u,g=e.w,e=e.v,h=100/a,k=1.6,l=2.72,d=2432/150,n=Array(a),p=0,r=0;p<a;p++,r+=h)n[p]=.6+k*r+l*r*r*r+d*r*r*r*r*r;for(var h=Array(b),p=1/b,k=.02,l=.004,d=.04/15,q=0,r=0;q<b;q++,r+=p)h[q]=k*r+l*r*r*r+d*r*r*r*r*r;if(!0===this.Dh())for(q=0;q<b;q++)for(p=0;p<a;p++){d=40*(n[p]+h[q])+.5;d-=Math.floor(d);d=.2>d?1-d/2:.4>d?1-(.4-d)/2:1;if(q==b-1||q==b-2&&p<a-2||p>=a-1||p==a-2&&q<b-1)d/=2;0==q||1==q&&1<p||0==p||1==p&&1<q?(k=128+f*d/2,l=128+g*d/2,d=128+e*d/2):(k=f*d,l=g*d,d*=e);r=4*(p+q*a);c.data[r+0]=k;c.data[r+1]=l;c.data[r+2]=d;c.data[r+3]=255}else for(q=0;q<b;q++)for(p=0;p<a;p++)0==q||1==q&&1<p||0==p||1==p&&1<q?(k=128+f/2,l=128+g/2,d=128+e/2):(k=f,l=g,d=e),r=4*(p+q*a),c.data[r+0]=k,c.data[r+1]=l,c.data[r+2]=d,c.data[r+3]=255;this.c.ba=c;this.c.I=a;this.c.D=b;this.yb=null}};function Ma(a){a.a.ba.d.a.getContext("2d").putImageData(a.c.ba,0,0)}m.bg=function(){var a=this.c.I,b=this.c.D;if(0!==a&&0!==b){for(var c=this.Id*a,d=this.Jd*b,b=this.tf*b,e=this.ze*a,f=this.N.ca(),g=Math.max(f.g,f.f),f=Array(f.g),c=c-e*this.l.P,d=d-b*this.l.Q,h,k,l,n,p,r,q,u,v,t,y=0;y<g;y++)h=c+y*e,l=c+y*e+.6*e,p=c+y*e-.6*e,q=c+y*e+.5*e,v=c+y*e-.5*e,k=d+y*b,n=d+y*b+.6*b,r=d+y*b-.6*b,u=d+y*b+.5*b,t=d+y*b-.5*b,f[y]={g:Math.floor(h+.5),Ln:Math.floor(l+.5),Mn:Math.floor(p+.5),kf:Math.floor(q+.5),Qc:Math.floor(v+.5),f:Math.floor(k+.5),Nn:Math.floor(n+.5),On:Math.floor(r+.5),lf:Math.floor(u+.5),Rc:Math.floor(t+.5)};this.c.$=f;a=Math.max(2,Math.ceil(this.Rj*a/2));g=2*a+1;b=this.c;e=g+2;f=g+2;g=this.ae();f=document.createElement("canvas").getContext("2d").createImageData(e,f);c=f.data;Math.max(e/2,2);d=e/2-.5;h=d-.2;for(k=0;k<e;k++)for(l=0;l<e;l++)n=k-d,p=l-d,n=h-Math.sqrt(n*n+p*p),p=4*(k*e+e-l-1),0<=n?(r=255,.8>=n&&(r=parseInt(255*(1-(.8-n)/.8))),c[p+0]=g.u,c[p+1]=g.w,c[p+2]=g.v,c[p+3]=r):(c[p+0]=0,c[p+1]=0,c[p+2]=0,c[p+3]=0);b.dl=f;this.c.el=a+1}};function Pa(a,b){if(a.c.$){var c=a.c.I,d=a.c.D,e=a.a.$.d.a.getContext("2d"),f=a.N.ca(),g=a.c.$;e.clearRect(0,0,c,d);for(var h=a.c.dl,k=a.c.el,l=La(a.N),n=0,p=l.length;n<p;n++)!0===ea(a,l[n][0],l[n][1])&&e.putImageData(h,g[l[n][0]].g-k,g[l[n][1]].f-k);for(var l=0===a.l.P?g[a.l.P].g:g[a.l.P].Mn,n=f.g-1===a.l.U?g[a.l.U].g:g[a.l.U].Ln,r=0===a.l.Q?g[a.l.Q].f:g[a.l.Q].On,q=f.f-1===a.l.V?g[a.l.V].f:g[a.l.V].Nn,k=e.createImageData(1,d),p=e.createImageData(c,1),u=a.ae(),v=0;v<d;v++)h=4*v,v>=r&&v<=q&&(k.data[h+0]=u.u,k.data[h+1]=u.w,k.data[h+2]=u.v,k.data[h+3]=u.Ha);for(v=0;v<c;v++)h=4*v,l<=v&&v<=n&&(p.data[h+0]=u.u,p.data[h+1]=u.w,p.data[h+2]=u.v,p.data[h+3]=u.Ha);for(c=0;c<f.g;c++)!0===(c>=a.l.P&&c<=a.l.U?!0:!1)&&e.putImageData(k,g[c].g,0);for(c=0;c<f.f;c++)!0===(c>=a.l.Q&&c<=a.l.V?!0:!1)&&e.putImageData(p,0,g[c].f);if(void 0!==b)for(f=g[1].g-g[0].g+2,c=g[1].f-g[0].f+2,h=0,p=b.length;h<p;h++)d=b[h].g,k=b[h].f,!0===ea(a,d-1,k-1)&&G===a.N.J(d,k)&&e.clearRect(g[d-1].Qc,g[k-1].Rc,f,c)}}m.dg=function(a){if(this.c.$){var b=this.a.ba.d.a.width,c=this.a.yd.d.a.getContext("2d");a=2*Math.floor((a?a:Math.floor(this.ze*b))/2)+1;this.c.Gb=a;this.hb.p(a);this.c.jg=c.createImageData(a,a);this.c.Kn=c.createImageData(a,a);this.c.Ph=c.createImageData(a,a);this.c.Dj=c.createImageData(a,a);var d=this.c.jg.data,b=this.c.Kn.data,e=this.c.Ph.data,f=this.c.Dj.data,g=this.Ck(),h=this.Ak(),k=this.kc();if(!0===this.Bk())for(var l=a/2-.5,n=l-.2,g=Math.sqrt(3),p=0;p<a;p++)for(var r=0;r<a;r++){var q=p-l,u=r-l,v=n-Math.sqrt(q*q+u*u),t=4*(p*a+a-r-1);if(0<=v){var y=n*n-q*q-u*u,y=0<y?Math.sqrt(y)*g:0,k=q,M=u,h=Math.sqrt(6*(k*k+M*M+y*y)),h=(2*y-k+M)/h,k=0;.9<h&&(k=10*(h-.9));y=255;.8>=v&&(v=(.8-v)/.8,y=.7,q-u<n/3&&(y=1),y=parseInt(255*(1-v*y)));q=parseInt(10+10*h+140*k);d[t+0]=q;d[t+1]=q;d[t+2]=q;d[t+3]=y;e[t+0]=q;e[t+1]=q;e[t+2]=q;e[t+3]=parseInt(y/2);q=parseInt(200+10*h+45*k);b[t+0]=q;b[t+1]=q;b[t+2]=q;b[t+3]=y;f[t+0]=q;f[t+1]=q;f[t+2]=q;f[t+3]=parseInt(y/2)}else d[t+0]=0,d[t+1]=0,d[t+2]=0,d[t+3]=0,e[t+0]=0,e[t+1]=0,e[t+2]=0,e[t+3]=0,b[t+0]=0,b[t+1]=0,b[t+2]=0,b[t+3]=0,f[t+0]=0,f[t+1]=0,f[t+2]=0,f[t+3]=0}else for(l=a/2-.5,n=l-.2,p=0;p<a;p++)for(r=0;r<a;r++)if(q=p-l,u=r-l,v=n-Math.sqrt(q*q+u*u),t=4*(p*a+a-r-1),0<=v){y=255;if(.8>=v){var N=(.8-v)/.8,y=.7;q-u<n/3&&(y=1);y=parseInt(255*(1-N*y))}else 1.6>=v&&.8<=v&&!0===k&&(N=(1.6-v)/.8,y=.7,q-u<n/3&&(y=1),y=parseInt(N*y*255));M=!1;1.6>=v&&(M=!0);!1===M||!1===k?(d[t+0]=h.u,d[t+1]=h.w,d[t+2]=h.v,d[t+3]=y,e[t+0]=h.u,e[t+1]=h.w,e[t+2]=h.v,e[t+3]=parseInt(y/2)):(d[t+0]=g.u,d[t+1]=g.w,d[t+2]=g.v,d[t+3]=y,e[t+0]=g.u,e[t+1]=g.w,e[t+2]=g.v,e[t+3]=y);y=255;.8>=v?(N=(.8-v)/.8,y=.7,q-u<n/3&&(y=1),y=parseInt(255*(1-N*y))):1.6>=v&&.8<=v&&!1===k&&(N=(1.6-v)/.8,y=.7,q-u<n/3&&(y=1),y=parseInt(N*y*255));!1===M||!0===k?(b[t+0]=g.u,b[t+1]=g.w,b[t+2]=g.v,b[t+3]=y,f[t+0]=g.u,f[t+1]=g.w,f[t+2]=g.v,f[t+3]=parseInt(y/2)):(b[t+0]=h.u,b[t+1]=h.w,b[t+2]=h.v,b[t+3]=y,f[t+0]=h.u,f[t+1]=h.w,f[t+2]=h.v,f[t+3]=y)}else d[t+0]=0,d[t+1]=0,d[t+2]=0,d[t+3]=0,e[t+0]=0,e[t+1]=0,e[t+2]=0,e[t+3]=0,b[t+0]=0,b[t+1]=0,b[t+2]=0,b[t+3]=0,f[t+0]=0,f[t+1]=0,f[t+2]=0,f[t+3]=0;d=[];e=[];for(t=0;28>t;t++)for(d[t]=c.createImageData(a,a),e[t]=d[t].data,p=0;p<a;p++)for(r=0;r<a;r++)l=4*(p*a+r),e[t][l+0]=b[l+0],e[t][l+1]=b[l+1],e[t][l+2]=b[l+2],e[t][l+3]=b[l+3];e.push(f);e.push(b);if(!0===x.fa.Pg){c=a/51*978|0;b=.9;t=Array(c);for(f=0;f<c;f++)t[f]=(Math.sin(18*f/c)+1)/20+(Math.sin(3*f/c)+1)/10;l=Array(c);for(p=0;p<c;p++)l[p]=.2*Math.cos(5*p/c)+.1*Math.sin(11*p/c);r=Array(c*c);for(p=0;p<c;p++)for(f=0;f<c;f++)b=90*(t[f]+l[p])+.5,b-=Math.floor(b),b=.2>b?1-b/2:.4>b?1-(.4-b)/2:1,r[f+p*c]=b;t=e.length;for(l=0;l<t;l++){var n=e[l],C,H;switch(l){case 0:C=12*c/978|0;H=163*c/978|0;break;case 1:C=12*c/978|0;H=213*c/978|0;break;case 2:C=12*c/978|0;H=263*c/978|0;break;case 3:C=12*c/978|0;H=313*c/978|0;break;case 4:C=62*c/978|0;H=163*c/978|0;break;case 5:C=62*c/978|0;H=213*c/978|0;break;case 6:C=62*c/978|0;H=263*c/978|0;break;case 7:C=62*c/978|0;H=313*c/978|0;break;case 8:C=113*c/978|0;H=163*c/978|0;break;case 9:C=113*c/978|0;H=213*c/978|0;break;case 10:C=113*c/978|0;H=263*c/978|0;break;case 11:C=113*c/978|0;H=313*c/978|0;break;case 12:C=163*c/978|0;H=163*c/978|0;break;case 13:C=163*c/978|0;H=213*c/978|0;break;case 14:C=163*c/978|0;H=263*c/978|0;break;case 15:C=163*c/978|0;H=313*c/978|0;break;case 16:C=213*c/978|0;H=163*c/978|0;break;case 17:C=213*c/978|0;H=213*c/978|0;break;case 18:C=213*c/978|0;H=263*c/978|0;break;case 19:C=213*c/978|0;H=313*c/978|0;break;case 20:C=263*c/978|0;H=163*c/978|0;break;case 21:C=263*c/978|0;H=213*c/978|0;break;case 22:C=263*c/978|0;H=263*c/978|0;break;case 23:C=263*c/978|0;H=313*c/978|0;break;case 24:C=313*c/978|0;H=163*c/978|0;break;case 25:C=313*c/978|0;H=213*c/978|0;break;case 26:C=313*c/978|0;H=263*c/978|0;break;case 27:C=313*c/978|0;H=313*c/978|0;break;case 28:C=12*c/978|0;H=12*c/978|0;break;case 29:C=12*c/978|0,H=12*c/978|0}for(p=0;p<a;p++)for(f=0;f<a;f++)b=r[C+f+(H+p)*c],q=4*(f+p*a),n[q+0]*=Math.pow(b,.8),n[q+1]*=Math.pow(b,.8),n[q+2]*=Math.pow(b,.8)}}this.c.jf=d;C=this.N.ca();for(H=0;H<C.f;H++)for(a=0;a<C.g;a++)this.c.Yl[a+H*C.g]=Math.floor(Math.random()*(this.c.jf.length-1))}};function Qa(a){for(var b=a.N.ca(),c=1;c<=b.f;c++)for(var d=1;d<=b.g;d++)wa(a,d,c,a.N.J(d,c))}m.cg=function(){if(this.c.$){var a=this.a.Oa.d.a.getContext("2d"),b=this.c.Gb;this.c.Oa=a.createImageData(b,b);a=this.c.Oa.data;this.c.$b=Math.max(parseInt(.15*b),3);for(var c=(b-5)/2+1,d=0;d<b;d++)for(var e=0;e<b;e++){var f=Math.abs(d-c),g=Math.abs(e-c),f=Math.sqrt(g*g+f*f)/c,f=1>f?.15+.75*(1-f):0,g=4*(b*d+e);a[g+0]=0;a[g+1]=0;a[g+2]=0;a[g+3]=parseInt(255*f)}}};function ha(a){var b,c=a.hb;b=c.zf;var d=c.Af;if(!1===ea(a,b-1,d-1))fa(a.hb);else{var c=Ta,e=a.N.J(b,d);switch(a.qa){case 0:G===e&&(c=E===a.b.ic?Ua:Va);break;case 1:E===e?c=Wa:F===e&&(c=Xa);break;case 2:c=E===e?Wa:F===e?Xa:B.t?Va:Ua;break;case 9:b=Ya(a.N,b,d);E===b?c=Wa:F===b&&(c=Xa);break;case 10:c=B.r&&!B.t?Za:!B.r&&B.t?$a:B.r&&B.t?ab:bb;break;default:c=E===e||G===e&&!0===a.kc()?Wa:Xa}Ta==c?fa(a.hb):a.hb.Ua(c)}}function da(a,b,c){for(var d=a.c.I,e=a.c.D,f=a.tf*e,g=a.ze*d,d=a.Id*d-f*a.l.P,h=a.Jd*e-g*a.l.Q,e=0,k=a.N.ca(),e=0;e<k.f-1&&c>h+f*e+f/2;e++);for(c=c=0;c<k.g-1&&b>d+g*c+g/2;c++);c=Math.max(a.l.P,Math.min(a.l.U,c));e=Math.max(a.l.Q,Math.min(a.l.V,e));return{g:c+1,f:e+1}}function cb(a,b,c){var d=a.c.I,e=a.c.D;return{g:a.Id*d+(b-1)*a.ze*d,f:a.Jd*e+(c-1)*a.tf*e}}function na(a,b,c,d,e){a=a.a.Eb.d.a.getContext("2d");a.clearRect(0,0,b,c);a.strokeStyle=P(e);a.fillStyle=P(e);a.lineWidth=d;a.beginPath();a.moveTo(1*b/4,1*c/4);a.lineTo(3*b/4,3*c/4);a.moveTo(3*b/4,1*c/4);a.lineTo(1*b/4,3*c/4);a.stroke();return a.getImageData(0,0,b,c)}m.Sb=function(a,b,c,d,e){void 0===e&&(e=1);var f=this.a.Eb.d.a.getContext("2d");f.clearRect(0,0,a,b);f.globalAlpha=e;f.strokeStyle=P(d);f.fillStyle=P(d);f.lineWidth=c;var g=a/2;c=3*b/4;d=.1*a;e=Math.sqrt(g*g-(c-g)*(c-g))+g;g=-Math.sqrt(g*g-(c-g)*(c-g))+g;f.beginPath();f.moveTo(a/2,d);f.lineTo(e-d,c);f.lineTo(g+d,c);f.closePath();f.stroke();return f.getImageData(0,0,a,b)};function oa(a,b,c,d,e){var f=a.a.Eb.d.a.getContext("2d");f.clearRect(0,0,b,c);f.strokeStyle=P(e);f.fillStyle=P(e);f.lineWidth=Math.floor(d+.5);var g=b/2,h=-c/2*Math.sqrt(2)/2+c/2;a=Math.floor(-Math.sqrt(g*g-(h-g)*(h-g))+g);var g=Math.ceil(+Math.sqrt(g*g-(h-g)*(h-g))+g),h=Math.ceil(h),k=Math.floor(c/2*Math.sqrt(2)/2+c/2);d=Math.floor(d);for(var f=f.createImageData(b,c),l=0;l<c;l++)for(var n=0;n<b;n++){var p=4*(l*b+n);(a<=n&&n<=a+d||g-d<=n&&n<=g)&&h<=l&&l<=k||(h<=l&&l<=h+d||k-d<=l&&l<=k)&&a<=n&&n<=g?(f.data[p+0]=e.u,f.data[p+1]=e.w,f.data[p+2]=e.v,f.data[p+3]=255):(f.data[p+0]=0,f.data[p+1]=0,f.data[p+2]=0,f.data[p+3]=0)}return f}function pa(a,b,c,d,e,f){a=a.a.Eb.d.a.getContext("2d").createImageData(b,c);var g=d?c/4|0:c/3|0,h=d?3*c/4|0:2*c/3|0,k=d?b/4|0:b/3|0;d=d?3*b/4|0:2*b/3|0;for(var l=0;l<c;l++)for(var n=0;n<b;n++){var p=4*(l*b+n);(l===g||l===h)&&n>=k&&n<=d||(n===k||n===d)&&l>=g&&l<=h?(a.data[p+0]=f.u,a.data[p+1]=f.w,a.data[p+2]=f.v,a.data[p+3]=255):l>g&&l<h&&n>k&&n<d?(a.data[p+0]=e.u,a.data[p+1]=e.w,a.data[p+2]=e.v,a.data[p+3]=255):a.data[p+3]=0}return a}function qa(a,b,c,d,e){a=a.a.Eb.d.a.getContext("2d");a.clearRect(0,0,b,c);var f=b/2,g=4*d;a.strokeStyle=P(e);a.fillStyle=P(e);a.lineWidth=d;a.beginPath();a.arc(b/2,c/2,f-g,0,2*Math.PI,!1);a.stroke();return a.getImageData(0,0,b,c)}function db(a,b,c){a=a.Ra[""+((c<<8)+b)];return void 0!==a?a:null}function Aa(a,b,c,d){ya===d.M?eb(a,b,c):a.Ra[""+((c<<8)+b)]=d}function eb(a,b,c){if(0>=b||0>=c)a.kh=0;else{var d=(c<<8)+b;void 0===a.Ra[""+d]&&(a.Ra[""+d]=new xa(b,c,ya,""));a.kh=d}}function Sa(a){a.a.Eb.d.a.getContext("2d").clearRect(0,0,a.c.I,a.c.D);var b=[],c;for(c in a.Ra){var d=a.Ra[c];fb(a,d);gb===d.M&&b.push({g:d.od(),f:d.pd()})}Pa(a,b)}function fb(a,b){if(a.c.$){var c=b.od(),d=b.pd(),e=b.M,f=a.a.Eb.d.a.getContext("2d"),g=a.kc();if(!0===ea(a,c-1,d-1)){var h=a.c.Gb,k=(h-1)/2,l=a.c.$,n=l[c-1].g-k,k=l[d-1].f-k,c=a.N.J(c,d);switch(e){case hb:f.putImageData(a.c.Cl,n,k);break;case ib:f.putImageData(a.c.El,n,k);break;case jb:f.putImageData(a.c.Dl,n,k);break;case kb:f.putImageData(a.c.Fl,n,k);break;case ya:!0===a.Xg?E===c?f.putImageData(a.c.gi,n,k):f.putImageData(a.c.fi,n,k):f.putImageData(a.c.jl,n,k);break;case lb:f.putImageData(c===E||c==G&&1==g?a.c.gi:a.c.fi,n,k);break;case mb:f.putImageData(c===E||c==G&&1==g?a.c.Al:a.c.zl,n,k);break;case nb:f.putImageData(c===E||c==G&&1==g?a.c.Jl:a.c.Il,n,k);break;case ob:f.putImageData(c===E||c==G&&1==g?a.c.Fj:a.c.Ej,n,k);break;case gb:e=b.Oe,d=2>=e.length?2*h/3:h/2,l=d+"px "+(Oa(e)?"Arial":"Helvetica, Arial, Verdana"),f.fillStyle=c===E||c==G&&1==g?"rgb(255,255,255)":"rgb(0,0,0)",f.font=l,f.fillText(e,n+(h-f.measureText(e).width)/2,k+(h/2+d/3))}}}}function Ra(a){for(var b in a.Za){var c=pb(b);qb(a,c.g,c.f)}}function rb(a){for(var b in a.Za){var c=pb(b);sb(a,c.g,c.f)}a.Za={}}function ga(a,b,c,d){var e=(c<<8)+b;if(tb===d.ai)void 0!==a.Za[e]&&(delete a.Za[e],sb(a,b,c),a.b.Ui(b,c));else{d=d.r&&!d.t?new z(200,0,0,50):d.t&&!d.r?new z(0,100,0,50):d.t&&d.r?new z(80,80,80,50):new z(0,0,200,50);if(void 0!==a.Za[e]){var f=a.Za[e];d.u===f.u&&d.w===f.w&&d.v===f.v?(d=f.Ha,a.Za[e].Ha=50>d?50:100>d?100:150>d?150:200):a.Za[e]=d}else a.Za[e]=d;qb(a,b,c);a.b.Jh(b,c,a.Za[e])}}function qb(a,b,c){sb(a,b,c);var d=a.a.ng.d.a.getContext("2d"),e=a.c.$,f=b-1,g=c-1;d.fillStyle=P(a.Za[(c<<8)+b]);d.beginPath();d.moveTo(e[f].Qc,e[g].Rc);d.lineTo(e[f].kf,e[g].Rc);d.lineTo(e[f].kf,e[g].lf);d.lineTo(e[f].Qc,e[g].lf);d.closePath();d.fill()}function sb(a,b,c){var d=a.a.ng.d.a.getContext("2d");a=a.c.$;b=b-1;c=c-1;d.clearRect(a[b].Qc,a[c].Rc,a[b].kf-a[b].Qc,a[c].lf-a[c].Rc)}m.Y=function(a,b,c){switch(this.qa){case 0:if(tb==c.ai)1<=this.b.wf&&(ub(this.b,1),vb(this,a,b));else if(c.t&&c.r)this.b.ef(E===this.b.ic?F:E),ha(this);else if(!0===c.r){var d=this.N.ca(),e=d.f;a=Na(a,d.g);this.b.hg(a+(e+1-b))}else if(c.t){e=this.b;e.$a&&(e.$a.ye=!1);d=e.m;wb(e);for(var f=0;1E3>f&&G===e.ma.J(a,b);)xb(e,1),f++;G===e.ma.J(a,b)&&e.ja(d);e.$a&&(e.$a.ye=!0)}else vb(this,a,b),null!==this.Qd&&yb(this.b.m)>=zb(this.Qd)&&Ab(this.Qd);break;case 1:if(!0===c.r)Da(this,0);else{e=this.N;f=e.J(a,b);if(G!==f)if(e.hh.Da(),c=e.qc[Fa(e,a,b)],E!==c&&F!==c){e.Ba.Da();Bb(e,a,b,f);for(d in e.hh.Ib)c=pb(d|0),e.Ba.Da(),Cb(e,c.g,c.f,3-f),Db(e.Ba,e,3);Ga(e,!0);e.Ba.Da();Bb(e,a,b,f);Db(e.Ba,e,3-f)}else e.Ba.Da(),Bb(e,a,b,f),Db(e.Ba,e,3),Ga(e,!0);this.b.pg()}break;case 2:!0===this.b.m.Kc()&&!0===this.b.Ec(!0,!0)&&Eb(this.b);e=E;G!==this.N.J(a,b)?e=G:c.t&&(e=F);wa(this,a,b,e);this.N.Set(a,b,e,-1);this.b.be(e,[(b<<8)+a]);break;case 3:Fb(this,nb,a,b);break;case 4:Fb(this,mb,a,b);break;case 5:Fb(this,lb,a,b);break;case 6:Fb(this,ob,a,b);break;case 7:Gb(this,a,b,c);break;case 8:a:{d=db(this,a,b);if(null!==d&&gb===d.M)this.b.Fb([(b<<8)+a]),this.Fb(a,b);else{d="";if(c.t){d=this.N.ri(a,b);if(-1==d){b=this.b;(a=b.h)&&Hb(a.W.id,Ib,{T:b,Z:a,mc:"Sorry, no move has been made at that location, so you can't mark it with the move number.",I:305,D:115});break a}d=""+d}if(void 0===d||""===d||null===d){d=[];f=0;for(e in this.Ra)c=this.Ra[e],gb===c.M&&Oa(c.Oe)&&(d[f]=parseInt(c.Oe),f++);if(0>=f)d="1";else{d.sort(Jb);c=e=0;for(var g=!1,h=0;h<f;h++){if(d[h]>e+1){c=e+1;g=!0;break}e=d[h]}g||(c=e+1);d=""+c}}e=new xa(a,b,gb,d);this.b.ce(d,(b<<8)+a);Aa(this,a,b,e)}Sa(this)}break;case 9:e=this.N;c=e.J(a,b);if(G!==c){g=new Kb;Lb(e,a,b,g);d=[];for(f in g.qh)d.push(f);b=Ya(e,a,b)!==c?c:E===c?F:E;a=0;for(f=d.length;a<f;a++)c=pb(d[a]),Ba(e,c.g,c.f,b)}b=this.N.tg(this);this.Ie&&Ca(this.Ie,"B "+b.Pk+"("+b.Ok+") W "+b.Xl+"("+b.Wl+")");Sa(this);ha(this);break;case 10:ga(this,a,b,c);break;case 11:this.pa.xd=!0,this.pa.Kg=a,this.pa.Lg=b,this.pa.fe=a,this.pa.ge=b,ia(this)}};function ia(a){if(11===a.qa&&!0===a.pa.xd){var b=a.c.I,c=a.c.D,d=a.c.$,e=a.a.ud.d.a.getContext("2d");e.clearRect(0,0,b,c);var b=a.pa.Kg-1,c=a.pa.Lg-1,f=a.pa.fe-1;a=a.pa.ge-1;if(b>f)var g=f,f=b,b=g;c>a&&(g=a,a=c,c=g);e.fillStyle=P(new z(107,112,122,128));e.beginPath();e.moveTo(d[b].Qc,d[c].Rc);e.lineTo(d[f].kf,d[c].Rc);e.lineTo(d[f].kf,d[a].lf);e.lineTo(d[b].Qc,d[a].lf);e.closePath();e.fill()}}function Fb(a,b,c,d){var e=db(a,c,d);if(null!==e&&b===e.M){if(a.b.Fb([(d<<8)+c]),a.Fb(c,d),a.c.$&&!0===ea(a,c-1,d-1)){b=(a.c.Gb-1)/2;var f=a.c.$,e=f[c-1].g-b,f=f[d-1].f-b;a.a.Eb.d.a.getContext("2d").clearRect(e,f,2*b,2*b);b=pb(a.kh);c===b.g&&d===b.f&&(eb(a,c,d),fb(a,db(a,c,d)))}}else e=new xa(c,d,b,""),a.b.Ca(b,[(d<<8)+c]),Aa(a,c,d,e),fb(a,e)}function Gb(a,b,c,d){var e=db(a,b,c);if(null!==e&&gb===e.M)a.b.Fb([(c<<8)+b]),a.Fb(b,c);else{var f="";if(d.t){if(!a.h||!a.a.d||!a.a.d.a)return;d=a.h.W;if(!d)return;var e=cb(a,b,c),g=Mb(a.h,a.a.d.a),h=document.createElement("input");h.style.position="absolute";h.style.top=g.f+e.f-10+"px";h.style.left=g.g+e.g-25+"px";h.style.width="50px";h.style.height="20px";h.style.fontFamily='"Times New Roman", Times, serif';h.style.fontSize="16px";h.type="text";h.placeholder="Label...";h.style.outline=0;h.style.border="1px solid rgb(166, 166, 166)";h.style.boxShadow="rgba(0, 0, 0, 0.8) 0px 1px 15px";h.style.padding="3px";d.appendChild(h);h.focus();h.onblur=function(){Nb(a.h)};h.onkeydown=function(d){27===d.keyCode?Nb(a.h):13===d.keyCode&&(f=this.value,d=new xa(b,c,gb,f),a.b.ce(f,(c<<8)+b),Aa(a,b,c,d),Sa(a),Nb(a.h))};Ob(a.h,h);return}if(void 0==f||""===f||null===f)if(f=Pb(a),null===f){d=a.b;(e=d.h)&&Hb(e.W.id,Ib,{T:d,Z:e,mc:"Sorry, all standard labels are used up! To add more labels, use shift and click on the board to make up ur own labels.",I:305,D:115});return}d=new xa(b,c,gb,f);a.b.ce(f,(c<<8)+b);Aa(a,b,c,d)}Sa(a)}function Pb(a){var b=[],c=-1,d;for(d in a.Ra){var e=a.Ra[d];if(gb==e.M){var e=e.Oe,f=e.charCodeAt(0);1==e.length&&65<=f&&90>=f&&(b[f]=1)}}for(a=65;90>=a;a++)if(void 0===b[a]||""==b[a]){c=a;break}return-1==c?null:String.fromCharCode(c)}function vb(a,b,c){if(G===a.N.J(b,c)){var d=E===a.b.ic?E:F,e=!1,f=a.N.Bc.ee();a.N.Set(b,c,d,-1);e=null!==Qb(a.N,b,c,d,!0)?!0:null!==Rb(a.N,b,c,d)?!1:!0;a.N.Set(b,c,G,-1);a.N.Bc.Te(f);1==e&&!0===Sb(a.b,b,c,d)&&Eb(a.b)}}function ma(a,b){if(9!==a.qa&&11!==a.qa){var c=b.F,d=!1;8===c||46===c?(Tb(a.b),d=!0):36===c?!0===b.r&&!0===b.t&&(Ub(a.b),d=!0):37===c?(b.r&&b.t?wb(a.b):b.r?ub(a.b,5):ub(a.b,1),d=!0):38===c?(b.r?a.b.si():Vb(a.b),d=!0):39===c?(b.r&&b.t?Wb(a.b):b.r?xb(a.b,5):xb(a.b,1),d=!0):40===c?(Xb(a.b),d=!0):65===c&&!0===b.r&&!0===b.t?(Yb(a),d=!0):67===c&&!0===b.r?(10===a.qa?a.b.di():Hb(a.a.d.a.id,Zb,{T:a.b,Z:a.h}),d=!0):68===c&&!0===b.r?(!0===b.t?a.b.zg(-1):Hb(a.a.d.a.id,$b,{T:a.b,Z:a.h}),d=!0):69===c&&!0===b.r?(Hb(a.a.d.a.id,ac,{T:a.b,Z:a.h}),d=!0):72===c&&!0===b.r?(!0===b.t?bc(a.b):cc(a.b),d=!0):73===c&&!0===b.r?(!0===b.t?dc(a.b):ec(a.b),d=!0):77===c&&!0===b.r&&!0===b.t?(a.b.Mi(),d=!0):79===c&&!0===b.r?(10===a.qa?Hb(a.a.d.a.id,fc,{ki:a,Z:a.h}):a.b&&a.b.H&gc&&(!0===b.t?(c=prompt("Enter here code of ur sgf file",""),a.b.oc(c)):(c=document.getElementsByTagName("body"),0<c.length&&(c=c[0],d=document.createElement("input"),c.appendChild(d),d.type="file",d.multiple=!1,d.accept=".sgf,.gib,.ngf",d.style.display="none",d.addEventListener("change",function(c){c=c.target.files;if(0<c.length){c=c[0];var b=c.name.split(".").pop().toLowerCase(),d=new FileReader;d.onload=function(c){a.b.oc(c.target.result,null,null,b);a.za()};d.readAsText(c);a.za()}},!1),hc(d),c.removeChild(d)))),d=!0):82===c&&!0===b.r?(10===a.qa?(rb(a),a.b.Ti()):a.Ig(!0===a.wb?!1:!0),d=!0):83===c&&!0===b.r?(c=a.b.Gg(),FileReader&&Blob&&(d=a.b.dd,""===d&&(d=a.b.ed+" vs. "+a.b.ad),""===d&&(d="download"),ic(new Blob([c],{type:"text/plain;charset=utf-8"}),d+".sgf","application/x-go-sgf")),d=!0):85===c&&!0===b.r?!0===b.t&&(a.b.zg(1),d=!0):86===c&&!0===b.r?(!0===b.t?a.b&&a.b.H&jc&&Hb(a.a.d.a.id,kc,{T:a.b,Z:a.h}):(c=a.b.Kd,c++,c>lc&&(c=mc),nc(a.b,c)),d=!0):112===c?(Da(a,0),d=!0):113===c?(Da(a,1),d=!0):114===c?(Da(a,2),d=!0):115===c?(Da(a,3),d=!0):116===c?(Da(a,4),d=!0):117===c?(Da(a,5),d=!0):118===c?(Da(a,6),d=!0):119===c?(Da(a,7),d=!0):120===c?(Da(a,8),d=!0):121===c&&(Da(a,10),d=!0);return d}}function ea(a,b,c){return b>=a.l.P&&b<=a.l.U&&c>=a.l.Q&&c<=a.l.V?!0:!1}m.Dh=function(){return x.fa.Tc};m.Bk=function(){return x.fa.Dd};m.Ch=function(){return x.fa.Cd};m.Ck=function(){return x.fa.$d};m.Ak=function(){return x.fa.Yd};m.eg=function(){return x.fa.hd};m.ae=function(){return x.fa.Zd};m.kc=function(){return x.fa.Bd};function Yb(a){Ma(a);var b=a.c.I,c=a.c.D,d=a.a.$.d.a.getContext("2d");d.clearRect(0,0,b,c);for(var e=b/406,f=c/348,g=[207,193,1],h=[{g:0,f:49},{g:0,f:198},{g:71,f:348},{g:178,f:348},{g:318,f:348},{g:406,f:238},{g:406,f:41},{g:247,f:0}],k=[[[162,162,2],[221,125,2],[256,156,2],[250,203,1],[234,231,2],[199,236,0],[177,228,1],[150,195,1]],[[133,141,2],[229,89,1],[283,136,1],[282,210,2],[247,249,0],[195,261,2],[158,250,0],[124,196,0]],[[106,122,0],[238,45,0],[309,115,0],[312,216,2],[260,267,0],[187,300,1],[138,272,0],[96,197,1]],[[72,99,2],[246,10,0],[346,88,1],[344,224,0],[272,291,0],[182,329,0],[115,298,0],[60,197,0]],[[28,67,0],[259,-40,0],[373,66,0],[385,233,0],[298,319,2],[170,380,0],[81,336,0],[14,198]]],l=0,n=h.length;l<n;l++)d.beginPath(),d.moveTo(g[0]*e,g[1]*f),d.lineTo(h[l].g*e,h[l].f*f),d.stroke();h=0;for(l=k.length;h<l;h++){n=k[h];d.beginPath();for(var p=0,r=n.length;p<r;p++){var q=n[p];0===p?d.moveTo(q[0]*e,q[1]*f):d.lineTo(q[0]*e,q[1]*f)}d.closePath();d.stroke()}k.push([g]);a.dg(30*e);a.cg();d=a.a.yd.d.a.getContext("2d");g=a.a.Oa.d.a.getContext("2d");d.clearRect(0,0,b,c);g.clearRect(0,0,b,c);b=(a.c.Gb-1)/2;c=a.c.$b;h=0;for(l=k.length;h<l;h++)for(n=k[h],p=0,r=n.length;p<r;p++){var q=n[p],u=(q[0]*e|0)-b,v=(q[1]*f|0)-b;E===q[2]?d.putImageData(a.c.jg,u,v):F===q[2]&&d.putImageData(a.c.jf[Math.random()*(a.c.jf.length-1)|0],u,v);E!==q[2]&&F!==q[2]||g.putImageData(a.c.Oa,u+c,v+c)}};var Ta=-1,Ua=0,Va=1,Xa=2,Wa=3,Za=4,$a=5,bb=6,ab=7;function ba(a){this.bm=!1;this.Af=this.zf=-1;this.Ob=null;this.Vj=Ta;this.Ka=-1;this.c=a}m=ba.prototype;m.o=function(a){this.Ob=document.getElementById(a);this.Ob.style.position="absolute";fa(this)};m.p=function(a){this.Ob.width=a;this.Ob.height=a;this.Ob.style.width=a+"px";this.Ob.style.height=a+"px";this.Ka=a;this.Vj=Ta};function fa(a){a.Ob.style.display="none";a.zf=-1;a.Af=-1}m.Pa=function(){!0!==this.bm&&!0===x.xg()&&(this.Ob.style.display="block")};m.xl=function(a,b){this.Ob.style.left=a+"px";this.Ob.style.top=b+"px"};m.Ua=function(a){if(a!=this.Vj&&(this.Vj=a,Ta!==a)){var b=document.createElement("canvas");b.width=this.Ka;b.height=this.Ka;var c=b.getContext("2d");switch(a){case Ua:c.putImageData(this.c.Ph,0,0);break;case Va:c.putImageData(this.c.Dj,0,0);break;case Xa:c.putImageData(this.c.Ej,0,0);break;case Wa:c.putImageData(this.c.Fj,0,0);break;case Za:c.putImageData(this.c.tl,0,0);break;case $a:c.putImageData(this.c.$k,0,0);break;case bb:c.putImageData(this.c.Nk,0,0);break;case ab:c.putImageData(this.c.Ik,0,0)}a=b.toDataURL("image/png");this.Ob.style.backgroundImage="url('"+a+"')"}};function oc(a){this.b=(this.h=a)?a.b:null;this.La=0;this.Ef=16;this.Nj=!1;this.c={Zk:null,ol:null,il:null,Jk:null,vl:null};this.a={d:null,mg:{d:null}};this.kk=new z(0,0,0,51);this.oh=new z(255,255,255,255);this.jk=new z(0,0,0,102);this.Mf=new z(255,255,255,255);this.ek=new z(0,0,0,153);this.fh=new z(255,255,255,255);this.hk=new z(0,0,0,0);this.ik=new z(140,140,140,255);this.fo=new z(0,0,0,77);this.dh=this.G=this.A=0;var b=this;this.fg=function(a){4!==b.La&&(ja(a),b.La=1,pc(b),a.stopImmediatePropagation(),b.Bh())};this.Hh=function(a){if(4!==b.La){if(B.Wa!==a.target)return;b.La=2;pc(b);b.Y();a.stopImmediatePropagation()}b.Fh();b.$f()};this.Jo=function(){4!==b.La&&(1!==b.La&&(b.La=2),pc(b))};this.gg=function(){4!==b.La&&(b.La=b.Nj?8:0,pc(b),b.$f())};this.Fh=function(){!b.b||b instanceof qc||b.b.za()};this.Dk=function(a){a.dataTransfer.effectAllowed="all";a.dataTransfer.setData("text/sgf","(;SZ[19];)")}}m=oc.prototype;m.o=function(a,b){this.b=b;this.wa();this.a.d=D(a);var c=this.a.d.a;c.setAttribute("title",this.aa());c.style.backgroundColor="rgba(217,217,217,1)";var d=document.createElement("canvas");d.setAttribute("id",a+"_canvas");d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.style["-webkit-transition"]="background 2s";d.style.transition="background 2s";d.draggable="false";d.ondragstart=function(a){a.preventDefault();return!1};c.appendChild(d);this.a.mg.d=D(a+"_canvas");d=this.a.mg.d;I(d.i,0,0,1E3,1E3,!1,!1,!1,!1,-1,-1);d.n=J|K|L|O;this.a.d.k(d);c.onmousedown=this.fg;c.onmouseup=this.Hh;c.onmouseover=this.Jo;c.onmouseout=this.gg;c.onfocus=this.Fh;c.tabIndex=-1;c.style.outline="none";c.draggable="true";c.Yo=this.Dk;this.p()};m.p=function(a){if(!0===(0>this.dh?!1:!0)){var b=this.a.d.a.clientWidth,c=this.a.d.a.clientHeight;if(b!==this.A||c!==this.G||!0===a)this.A=b,this.G=c,this.a.d.cb(this.A,this.G),this.Tb()}};function rc(a,b){!0===b&&4===a.La?(a.La=0,pc(a)):!1===b&&4!==a.La&&(a.La=4,pc(a))}function sc(a,b){a.Ef!==b&&(a.Ef=b,a.Tb(),a.a.d.a.setAttribute("title",a.aa()))}function tc(a,b){a.Nj!==b&&(a.Nj=b,!0===b&&0===a.La?(a.La=8,pc(a)):!1===b&&8===a.La&&(a.La=0,pc(a)))}m.Tb=function(){var a=this.G,b=this.A;0!==b&&0!==a&&(this.c.Jk=uc(this,this.ek,this.fh,b,a),this.c.il=uc(this,this.jk,this.Mf,b,a,!1,!0),this.c.ol=uc(this,this.kk,this.oh,b,a),this.c.Zk=uc(this,this.hk,this.ik,b,a,!0),this.c.vl=uc(this,this.fo,this.Mf,b,a,!1,!0),pc(this))};function uc(a,b,c,d,e,f,g){var h=a.a.mg.d.a.getContext("2d");h.clearRect(0,0,d,e);h.fillStyle=P(b);h.fillRect(0,0,d,e);h.fillStyle=P(c);h.strokeStyle=P(c);var k=.8*Math.min(d,e)|0;a.ea(h,k,(d-k)/2,(e-k)/2,f,d,e,b,c);!0!==g||a instanceof vc||a instanceof wc||a instanceof xc||(h.beginPath(),h.lineWidth=1,h.strokeStyle=P(new z(0,0,0,255)),h.moveTo(0,0),h.lineTo(d,0),h.lineTo(d,e),h.lineTo(0,e),h.lineTo(0,0),h.stroke(),h.beginPath());return h.getImageData(0,0,d,e)}m.ea=function(){};m.Sb=function(a,b,c,d,e){var f=Math.ceil(b+a/5+.5);b=Math.ceil(b+4*a/5+.5);var g=Math.ceil(c+a/5+.5),h=Math.ceil(c+a/2+.5);a=Math.ceil(c+4*a/5+.5);0>e?(d.beginPath(),d.moveTo(f,h),d.lineTo(b,g),d.lineTo(b,a)):(d.beginPath(),d.moveTo(f,g),d.lineTo(b,h),d.lineTo(f,a));d.closePath();d.fill()};function pc(a){var b=a.a.mg.d.a.getContext("2d"),c=null;switch(a.La){case 2:c=a.c.il;break;case 1:c=a.c.Jk;break;case 4:c=a.c.Zk;break;case 8:c=a.c.vl;break;default:case 0:c=a.c.ol}c&&b.putImageData(c,0,0)}m.Y=function(){};m.aa=function(){return""};m.wa=function(){};function yc(a,b){a.dh--;var c=new Image;c.onload=function(){a.dh++;0<=a.dh&&a.p(!0)};c.src=b;return c}m.Bh=function(){this.a.d.a.style.transition="transform 0.1s ease-out";this.a.d.a.style.transform="scale(0.9)"};m.$f=function(){this.a.d.a.style.transition="transform 0.2s ease-out";this.a.d.a.style.transform="scale(1)"};function zc(a){zc.s.constructor.call(this,a);this.fb=yc(this,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wwTDRIczM2u5QAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAA80lEQVRYw+3XMYqFMBQF0JshlYgg8hqXIELERrfgAmaVA65DYQrTuASbIIKIVSBTDQy/m59A/od3+8AhvNxHBACM44hXyQdeLAxiEIMY9HYgIvoehsG1beve4oaklOi6ztV17aKDpJTo+96VZYk8z5GmaTzQL4aIsO87tNbiuq44oEfMsiziPM84MxQS4w0KjfEGKaUcEeG+b6zr+uWL8QZprYUxBkmSoKqqzyzL4oKstZimSRhjUBQFmqZxvijvoQ6NCvLsQ6KCFeMjSinlojb1X9S2bTiOA880tQy9XK21mOdZPHte8EeRQQxiEIMY9L/8AMSPglq/uMNKAAAAAElFTkSuQmCC");this.Pb=yc(this,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wwTDRcMrA1KxAAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAA6UlEQVRYw+3XPQqEMBAF4Jdgr52VYBpvIlZWoodUUll5Ae+gjYKVnb1gttrFakGdJYGd1Al8+XvDAI4NAQDDMDgDkq6dEIMYxKC/A3lXF+z7bvq+h1IKaZqKb3PvBK73i122bWt83/9UAqtXprU24zhiXVccx2H3DWmtzTzPiKIIZVkKKaU90BlTVZWw+suoMCQgSsxjUNd1ZpomBEFAgnkMyrJMKKWwbRvqujZOJHVRFCKOYyzLQoIiedSUKLJvT4UiDcYzqmkaYz2p36gkSRCGIe4k9U+Ka57nt9sr7ssYxCAGMYhBF8cLoc5sGgK/ZxQAAAAASUVORK5CYII=")}R(zc,oc);zc.prototype.ea=function(a,b,c,d,e){(b=e?this.Pb:this.fb)&&a.drawImage(b,0,0)};zc.prototype.Y=function(){wb(this.b)};zc.prototype.aa=function(){return"Back to the start (Ctrl+Shift+Left)"};zc.prototype.wa=function(){this.h.B.Nh.push(this)};function Ac(a){Ac.s.constructor.call(this,a);this.fb=yc(this,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wwTDRwVK5I7zwAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAcUlEQVRYw+3VwQnAIAyFYVu6UJbqDB0vh9xFcA7xHALpCAptpbXvO77TDwENAQAAfkBECjPvvfujYoyuql5r9Z59SIyqekrJW/uwmJyzt3bETBuzfv7NedXJEDVV1F1fx3Y1iIgWESlmdvTsAAAAszsB2vBQahKN40YAAAAASUVORK5CYII=");this.Pb=yc(this,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wwTDSMBaZbFjgAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAA80lEQVRYw+3XvQqDMBQF4HNtcBOsc0fBB9DB53dScHB1cepWcMkWxNulFilU1Cb9457xLPlIokkIt7Rti08mSRIAgIcvi4AEJCAB/QXIGMPDMPCsOj7pn+VkDaS15qIo0DQNmO9jH+b9ipytgLTWXFUVmBlxHIOIpv4y79+yZBNmHEekaYowDGmpXxu1F1OWJZgZWZYhiiJa6p3OkEvMZpBrzO//h4IgoDzPQUSo6xp93/NS/5YZco3atWQuUbv3kCvUS5t6PnjXdfej47HfErLxDDLGsOd5UErRmn7pGaRsfKq+79OWXi5oAhKQgAQkIIu5AvJV2EqdOHDMAAAAAElFTkSuQmCC")}R(Ac,oc);Ac.prototype.ea=function(a,b,c,d,e){(b=e?this.Pb:this.fb)&&a.drawImage(b,0,0)};Ac.prototype.Y=function(){ub(this.b,5)};Ac.prototype.aa=function(){return"Back 5 moves (Ctrl+Left)"};Ac.prototype.wa=function(){this.h.B.Oh.push(this)};function Bc(a){Bc.s.constructor.call(this,a);this.fb=yc(this,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wwTDSUz9xsziAAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAxUlEQVRYw+3VIQ7DMAwF0J+ppHABQSEhISVBPdLOsKvsEr1NSKQoKi0oq0IqdbQabN0lquwTPNnfthiGATXVA5UVgxjEIAbdDqSUmqWUrypAxpit7/unc+7Ttm1ZkDFm67oOADCOI3LO5UB7TAgBMUZRbGS/mBCCKBZqaswp0BWYe92hlJLw3gMArLWw1m7FO3QF6vTIqFEkGaJEkYV6j9Ja4+jraCg3JKUklmWZ13V9H30dDfXaTtMk+Q4xiEEMYhCD/lhfy3RcBznfWwkAAAAASUVORK5CYII=");this.Pb=yc(this,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wwTDSgeB2oRsAAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAx0lEQVRYw+3XMQqEMBAF0D8h2AniGbyBFp7fSiGFrY1HsEkXxL/VwtY6bkTmHyA8kskPEQBYlgVPicPDYiADGchArwOllLjvOx8BijFyGAbM8wySeUExRk7TBJJomgYikg/0xRzHgbZtUVWVnF3La2DGcQRJdF2Huq4l21BrYy6B7sC8q4fKspS+7yEiCCFg2zZm36E7UJePTBulMkOaKLWh/kWt63r66RDtb1BKic45eO9P1YDXvrZFUYj1kIEMZCADGeiP+QAy+XDf76BlKwAAAABJRU5ErkJggg==")}R(Bc,oc);Bc.prototype.ea=function(a,b,c,d,e){(b=e?this.Pb:this.fb)&&a.drawImage(b,0,0)};Bc.prototype.Y=function(){ub(this.b,1)};Bc.prototype.aa=function(){return"Back (Left)"};Bc.prototype.wa=function(){this.h.B.Fc.push(this)};function Cc(a){Cc.s.constructor.call(this,a);this.fb=yc(this,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wwTDSkJnaKlNgAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAxUlEQVRYw+3WIQ7DIBQG4L8NBiQCVVODqeFU21V6he0QPUsNhqQh2AossrsDvKVseb8n+QL8D4Zt29BTRnQWBjGIQQz6WZDW+mGMydQgUbNISgnn3EspBe/9FWMcbt2hUgpSSgCAZVkwz/N1+5EdxzGEEMhRTZc6hECOam4ZNYqk9pSo/xyM1trLWgsA8N6jZQyMPWGaQdSYJtA3MNUgKSWmaSLHVL9lpRTs+/4UQqzneeouWpZzflNj+IPGIAYxiEEMqsgHyjhf9O2e3l4AAAAASUVORK5CYII=");this.Pb=yc(this,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wwTDSgxrLss6QAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAyUlEQVRYw+3VsQqDUAwF0JvycBPEbxBcBR38ficFB1cXP8HFTSS3U3/Al9LXNtkDB5KbyLquSKXqusYDiZWDHOQgB30t6LounufJJEAksSwLhmHAcRz8OEhEUFUVSGKaJlPU7ZEVRSFt20JVTVFRS12WpXRdB1XFOI4mqOiUvVAkTVAmsbdE/eZh3Ped8zxDRND3PfI8l4+BLDHRIGtMFOgdmKjXsW2bOQYAwt3X0TQNVBVZlollysLtxhAk2dg7yEEOcpCD/gn0BPdVbmFsgto0AAAAAElFTkSuQmCC")}R(Cc,oc);Cc.prototype.ea=function(a,b,c,d,e){(b=e?this.Pb:this.fb)&&a.drawImage(b,0,0)};Cc.prototype.Y=function(){xb(this.b,1)};Cc.prototype.aa=function(){return"Forward (Right)"};Cc.prototype.wa=function(){this.h.B.Hc.push(this)};function Dc(a){Dc.s.constructor.call(this,a);this.fb=yc(this,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wwTDSQ2nmr2RgAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAZUlEQVRYw+3VMQrAIAyFYelhe84M7kHwHMU5S3qAVnCxpOH/xrfkQdCUAgBIRETOWuu1mm83xnAzc1X1lXy71pqb2WP4LP9E7/11+CynVPpSR5o/KdTKKPOblxXudIQ7rgAABHQDS2dNsnKXx6sAAAAASUVORK5CYII=");this.Pb=yc(this,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wwTDSQYQrz7iQAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAxElEQVRYw+2VPQuDMBCG30j/QIduHQP5AQr6/5cQyBAQBxenbl0C2b0uOhQSxI8ULfdM4eXgHnJHAjAMwzAXoe/751JN13XUti1N9fdYvpfbfFBKvZaKnXPw3sNaSwAesbyqKrFHqFhTLKUEEcEYgxDCO5ZPsr8RqutalGWJcRy/mqfyLWy6Xq01WWshhEDTNJjHlMqzC+WU2rWAOaSKsz0//zGyUy11TpnVQrllVi/1MAzRpqk8O6lP9MjPlWEYhmGuzgcvy8ThfV4IDQAAAABJRU5ErkJggg==")}R(Dc,oc);Dc.prototype.ea=function(a,b,c,d,e){(b=e?this.Pb:this.fb)&&a.drawImage(b,0,0)};Dc.prototype.Y=function(){xb(this.b,5)};Dc.prototype.aa=function(){return"Forward 5 moves (Ctrl+Right)"};Dc.prototype.wa=function(){this.h.B.ni.push(this)};function Ec(a){Ec.s.constructor.call(this,a);this.fb=yc(this,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wwTDRAjSJ3hWgAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAABBElEQVRYw+3WwYmFMBAG4D8PvUgIiKYJERQv2oJXYatcsA4Pqxh42EQQIQQPImRr2DyzesgUMHyZyUwCPCxI3/ePwXRdh9fTKuRBHuRBHnRFVFVl2rY1nPOffwHleW7qujZBEFx+mD9npJQijmOkaYowDM0wDOQ8z/taprWGEIKs6wrOOZqmubRSVi1TSmGeZyco60vtCvXRlLlAfTz2Siksy/K97zs45yiKwtwKYowhy7KvKIogpYQQgtwGYoyhLEuTJAmklLhiBbyehLEGucJYgSilKIrCCcbq6dBaY9s2HMeBcRwvxViBAOD9fhM4isBF0mmayG17yP8YPciDPMiDHMcvBCGFxBHbK9gAAAAASUVORK5CYII=");this.Pb=yc(this,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wwTDQ4kArhLJgAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAA9UlEQVRYw+3WsY6FIBAF0CtQWNjTEWw0Uf+/9x/URBsNVnQmdhqZ1+wPLMo+s2H6S85MYALwskrGcXwNpixLsLdNKIIiKIIi6IkyxlDbtnSe59+ArLU0TROFaEb8NuCcg7UWxhgcx0FN0yRfBTHGUNd1QkS0LAsAPIoSPiHOOX4Qj6OEbzAUStwJh0CJux1xzlFVVbLvO83zjCzLiDH2vT10XReGYaBt25DnObTWtybE7mK6rqN1XaG1xhN3iL0J4w0KhfECOefQ930QjPemllIiTVMURfEoxvvZSykTKWWQ74cIcahSKlFKxQ9aBEVQBEXQv6wPn1Z3S2AlDhEAAAAASUVORK5CYII=")}R(Ec,oc);Ec.prototype.ea=function(a,b,c,d,e){(b=e?this.Pb:this.fb)&&a.drawImage(b,0,0)};Ec.prototype.Y=function(){Wb(this.b)};Ec.prototype.aa=function(){return"Go to the end (Ctrl+Shift+Right)"};Ec.prototype.wa=function(){this.h.B.mi.push(this)};function Fc(a){Fc.s.constructor.call(this,a)}R(Fc,oc);Fc.prototype.ea=function(a,b,c,d){var e=Math.ceil(c+.2*b+.5),f=Math.ceil(c+.35*b+.5),g=Math.ceil(c+.57*b+.5);c=Math.ceil(c+.92*b+.5);var h=Math.ceil(d+.2*b+.5),k=Math.ceil(d+.38*b+.5),l=Math.ceil(d+.52*b+.5),n=Math.ceil(d+.6*b+.5),p=Math.ceil(d+.68*b+.5);b=Math.ceil(d+.84*b+.5);a.beginPath();a.moveTo(e,h);a.lineTo(f,h);a.lineTo(f,l);a.lineTo(g,l);a.lineTo(g,k);a.lineTo(c,n);a.lineTo(g,b);a.lineTo(g,p);a.lineTo(e,p);a.closePath();a.fill()};Fc.prototype.Y=function(){Xb(this.b)};Fc.prototype.aa=function(){return"Next variant (Down)"};Fc.prototype.wa=function(){this.h.B.Lc.push(this)};function Gc(a){Gc.s.constructor.call(this,a)}R(Gc,oc);Gc.prototype.ea=function(a,b,c,d){var e=Math.ceil(c+.2*b+.5),f=Math.ceil(c+.35*b+.5),g=Math.ceil(c+.57*b+.5);c=Math.ceil(c+.92*b+.5);var h=Math.ceil(d+.8*b+.5),k=Math.ceil(d+.62*b+.5),l=Math.ceil(d+.48*b+.5),n=Math.ceil(d+.4*b+.5),p=Math.ceil(d+(1-.68)*b+.5);b=Math.ceil(d+(1-.84)*b+.5);a.beginPath();a.moveTo(e,h);a.lineTo(f,h);a.lineTo(f,l);a.lineTo(g,l);a.lineTo(g,k);a.lineTo(c,n);a.lineTo(g,b);a.lineTo(g,p);a.lineTo(e,p);a.closePath();a.fill()};Gc.prototype.Y=function(){Vb(this.b)};Gc.prototype.aa=function(){return"Previous variant (Up)"};Gc.prototype.wa=function(){this.h.B.Mc.push(this)};function Hc(a){Hc.s.constructor.call(this,a)}R(Hc,oc);Hc.prototype.ea=function(a,b,c,d){var e=Math.ceil(c+.5*b-b/10+.5),f=Math.ceil(d+.5*b-b/10+.5),g=Math.ceil(.25*b+.5);a.fillStyle=P(new z(255,255,255));a.strokeStyle=P(new z(0,0,0));a.beginPath();a.arc(e,f,g,0,2*Math.PI,!1);a.fill();a.stroke();a.fillStyle=P(new z(0,0,0));e=Math.ceil(c+.5*b+b/10+.5);f=Math.ceil(d+.5*b+b/10+.5);g=Math.ceil(.25*b+.5);a.beginPath();a.arc(e,f,g,0,2*Math.PI,!1);a.fill()};Hc.prototype.Y=function(){Da(this.b.j,0)};Hc.prototype.aa=function(){return"Moves (F1)"};Hc.prototype.wa=function(){this.h.B.Th.push(this)};function Ic(a){Ic.s.constructor.call(this,a)}R(Ic,oc);Ic.prototype.ea=function(a,b,c,d,e,f,g,h){e=a.createImageData(b,b);f=b/5|0;g=4*b/5|0;for(var k=0;k<b;k++)for(var l=0;l<b;l++){var n=4*(k*b+l);k>=f&&k<=g&&l>=f&&l<=g?(b-k>=l||k===f||k===g||l===f||l===g?(e.data[n+0]=0,e.data[n+1]=0,e.data[n+2]=0):(e.data[n+0]=255,e.data[n+1]=255,e.data[n+2]=255),e.data[n+3]=255):(e.data[n+0]=h.u,e.data[n+1]=h.w,e.data[n+2]=h.v,e.data[n+3]=h.Ha)}a.putImageData(e,c,d)};Ic.prototype.Y=function(){Da(this.b.j,1)};Ic.prototype.aa=function(){return"Count Scores (F2)"};Ic.prototype.wa=function(){this.h.B.Vh.push(this)};function Jc(a){Jc.s.constructor.call(this,a)}R(Jc,oc);Jc.prototype.ea=function(a,b,c,d){var e=Math.ceil(c+.75*b+.5),f=Math.ceil(d+.125*b+.5),g=Math.ceil(.25*b+.5),h=Math.ceil(.02*b+.5);a.fillRect(e,f,g,h);e=Math.ceil(c+.875*b+.5);f=Math.ceil(d+.5);g=Math.ceil(.02*b+.5);h=Math.ceil(.25*b+.5);a.fillRect(e,f,g,h);e=Math.ceil(c+.5);f=Math.ceil(d+.875*b+.5);g=Math.ceil(.25*b+.5);h=Math.ceil(.02*b+.5);a.fillRect(e,f,g,h);e=Math.ceil(c+.5*b-b/10+.5);f=Math.ceil(d+.5*b-b/10+.5);g=Math.ceil(.25*b+.5);a.fillStyle=P(new z(255,255,255));a.strokeStyle=P(new z(0,0,0));a.beginPath();a.arc(e,f,g,0,2*Math.PI,!1);a.fill();a.stroke();a.fillStyle=P(new z(0,0,0));e=Math.ceil(c+.5*b+b/10+.5);f=Math.ceil(d+.5*b+b/10+.5);g=Math.ceil(.25*b+.5);a.beginPath();a.arc(e,f,g,0,2*Math.PI,!1);a.fill()};Jc.prototype.Y=function(){Da(this.b.j,2)};Jc.prototype.aa=function(){return"Editor (F3)"};Jc.prototype.wa=function(){this.h.B.Sh.push(this)};function Kc(a){Kc.s.constructor.call(this,a)}R(Kc,oc);Kc.prototype.ea=function(a,b,c,d){var e=b/2,f=3*b/4,g=.1*b,h=Math.sqrt(e*e-(f-e)*(f-e))+e,e=-Math.sqrt(e*e-(f-e)*(f-e))+e;a.lineWidth=Math.ceil(.05*b+.5);a.beginPath();a.moveTo(c+b/2,d+2*g);a.lineTo(c+h-g,d+f+g);a.lineTo(c+e+g,d+f+g);a.closePath();a.stroke()};Kc.prototype.Y=function(){Da(this.b.j,3)};Kc.prototype.aa=function(){return"Triangles (F4)"};Kc.prototype.wa=function(){this.h.B.Yh.push(this)};function Lc(a){Lc.s.constructor.call(this,a)}R(Lc,oc);Lc.prototype.ea=function(a,b,c,d){var e=b/2,f=.05*b,g=-b/2*Math.sqrt(2)/2+b/2,h=Math.floor(c+(Math.sqrt(e*e-(g-e)*(g-e))+e)-f);c=Math.ceil(c+(-Math.sqrt(e*e-(g-e)*(g-e))+e)+f);g=Math.ceil(d+g+f);d=Math.floor(d+(b/2*Math.sqrt(2)/2+b/2)-f);a.lineWidth=Math.ceil(.05*b+.5);a.beginPath();a.moveTo(h,g);a.lineTo(c,g);a.lineTo(c,d);a.lineTo(h,d);a.closePath();a.stroke()};Lc.prototype.Y=function(){Da(this.b.j,4)};Lc.prototype.aa=function(){return"Squares (F5)"};Lc.prototype.wa=function(){this.h.B.Wh.push(this)};function Mc(a){Mc.s.constructor.call(this,a)}R(Mc,oc);Mc.prototype.ea=function(a,b,c,d){var e=.05*b,f=b/2,g=4*e;a.lineWidth=Math.ceil(e+.5);a.beginPath();a.arc(c+b/2,d+b/2,f-g,0,2*Math.PI,!1);a.stroke()};Mc.prototype.Y=function(){Da(this.b.j,5)};Mc.prototype.aa=function(){return"Circles (F6)"};Mc.prototype.wa=function(){this.h.B.Rh.push(this)};function Nc(a){Nc.s.constructor.call(this,a)}R(Nc,oc);Nc.prototype.ea=function(a,b,c,d){var e=c+.25*b;c+=.75*b;var f=d+.25*b;d+=.75*b;a.lineWidth=Math.ceil(.05*b+.5);a.beginPath();a.moveTo(e,f);a.lineTo(c,d);a.moveTo(c,f);a.lineTo(e,d);a.stroke()};Nc.prototype.Y=function(){Da(this.b.j,6)};Nc.prototype.aa=function(){return"X marks (F7)"};Nc.prototype.wa=function(){this.h.B.Zh.push(this)};function Oc(a){Oc.s.constructor.call(this,a)}R(Oc,oc);Oc.prototype.ea=function(a,b,c,d){var e=.8*b;a.font=e+"px Arial";a.fillText("A",c+(b-a.measureText("A").width)/2,d+b/2+e/3)};Oc.prototype.Y=function(){Da(this.b.j,7)};Oc.prototype.aa=function(){return"Text labels (F8)"};Oc.prototype.wa=function(){this.h.B.Xh.push(this)};function Pc(a){Pc.s.constructor.call(this,a)}R(Pc,oc);Pc.prototype.ea=function(a,b,c,d){var e=.8*b;a.font=e+"px Helvetica, Arial, Verdana";a.fillText("1",c+(b-a.measureText("1").width)/2,d+b/2+e/3)};Pc.prototype.Y=function(){Da(this.b.j,8)};Pc.prototype.aa=function(){return"Numeric labels (F9)"};Pc.prototype.wa=function(){this.h.B.Uh.push(this)};function Qc(a){Qc.s.constructor.call(this,a)}R(Qc,oc);Qc.prototype.ea=function(a,b,c,d){if(16===this.Ef)this.Sb(b,c,d,a,1);else{var e=Math.floor(c+b/5+b/20+.5);c=Math.ceil(c+4*b/5-b/20+.5);var f=Math.ceil(d+b/5+.5);d=Math.ceil(d+4*b/5+.5);var g=Math.ceil(e+b/5);b=Math.floor(c-b/5);a.beginPath();a.moveTo(e,f);a.lineTo(g,f);a.lineTo(g,d);a.lineTo(e,d);a.closePath();a.fill();a.beginPath();a.moveTo(c,f);a.lineTo(b,f);a.lineTo(b,d);a.lineTo(c,d);a.closePath();a.fill()}};Qc.prototype.Y=function(){16===this.Ef?this.b.gf():this.b.se()};Qc.prototype.aa=function(){return 16===this.Ef?"Autoplay start":"Autoplay stop"};Qc.prototype.wa=function(){this.h.Hf=this};function vc(a){vc.s.constructor.call(this,a)}R(vc,oc);m=vc.prototype;m.ea=function(a,b,c,d,e,f,g,h,k){b=a.createImageData(f,g);e=b.data;c=(f-8)/2|0;d=(g-8)/2|0;for(h=0;h<g;h++)for(var l=0;l<f;l++){var n=4*(l+h*f),p=k.u,r=k.w,q=k.v,u=h-d,v=l-c;if(0===u&&(0===v||1===v||6===v||7===v)||1===u&&(1===v||2===v||5===v||6===v)||2===u&&(2===v||3===v||4===v||5===v)||3===u&&(3===v||4===v)||4===u&&(3===v||4===v)||5===u&&(2===v||3===v||4===v||5===v)||6===u&&(1===v||2===v||5===v||6===v)||7===u&&(0===v||1===v||6===v||7===v))q=r=p=255;e[n+0]=p;e[n+1]=r;e[n+2]=q;e[n+3]=255}a.putImageData(b,0,0)};m.Y=function(){this.b.jb()};m.aa=function(){return"Close"};m.Bh=function(){};m.$f=function(){};function qc(a){qc.s.constructor.call(this,a)}R(qc,oc);qc.prototype.ea=function(a,b,c,d){var e=.02*b,f=b/2,g=4*e;a.lineWidth=Math.ceil(e+.5);a.beginPath();a.arc(c+b/2,d+b/2,f-g,0,2*Math.PI,!1);a.stroke();e=.9*b;a.font=e+"px Times New Roman, Sans serif";a.fillText("i",c+(b-a.measureText("i").width)/2,d+b/2+e/3)};qc.prototype.Y=function(){Hb(this.a.d.a.id,Rc,{T:this.b,Z:this.h})};qc.prototype.aa=function(){return"Game info"};function wc(a){wc.s.constructor.call(this,a)}R(wc,oc);m=wc.prototype;m.ea=function(a,b,c,d,e,f,g){a.lineWidth=1;a.moveTo(0,0);a.lineTo(0,g);a.lineTo(f,g);a.lineTo(f,0);a.lineTo(0,0);a.stroke();e=.8*b;a.fillStyle=P(new z(0,0,0,255));a.font=e+"px Tahoma, Sans serif";a.fillText("OK",c+(b-a.measureText("OK").width)/2,d+b/2+e/3)};m.Y=function(){this.b.We()};m.aa=function(){return"OK"};m.Bh=function(){};m.$f=function(){};function xc(a){xc.s.constructor.call(this,a)}R(xc,oc);m=xc.prototype;m.ea=function(a,b,c,d,e,f,g){a.lineWidth=1;a.moveTo(0,0);a.lineTo(0,g);a.lineTo(f,g);a.lineTo(f,0);a.lineTo(0,0);a.stroke();e=.8*b;a.fillStyle=P(new z(0,0,0,255));a.font=e+"px Tahoma, Sans serif";a.fillText("Cancel",c+(b-a.measureText("Cancel").width)/2,d+b/2+e/3)};m.Y=function(){this.b.fl()};m.aa=function(){return"Cancel"};m.Bh=function(){};m.$f=function(){};function Sc(a){Sc.s.constructor.call(this,a);this.Sa=null}R(Sc,oc);Sc.prototype.o=function(a,b){Tc.s.o.apply(this,arguments);var c=this.a.d.a,d=document.createElement("canvas");d.setAttribute("id",a+"_transform");d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.width=36;d.height=36;d.draggable="false";d.ondragstart=function(a){a.preventDefault();return!1};c.appendChild(d);c=D(a+"_canvas");I(c.i,0,0,1E3,1E3,!1,!1,!1,!1,-1,-1);c.n=J|K|L|O;this.a.d.k(c);this.Sa=d};Sc.prototype.ea=function(a,b,c,d){var e=this.Sa.getContext("2d");e.fillStyle=a.fillStyle;e.strokeStyle=a.strokeStyle;var f=.02*b;a=b/2-b/30;var g=b/4;e.lineWidth=Math.ceil(7*f+.5);e.beginPath();e.arc(c+b/2,d+b/2,g,0,2*Math.PI,!1);e.stroke();e.lineWidth=Math.ceil(5*f+.5);for(f=0;9>f;f++){e.beginPath();var h=40*f*Math.PI/180;e.lineTo(c+g*Math.cos(h)+b/2,d-g*Math.sin(h)+b/2);e.lineTo(c+a*Math.cos(h)+b/2,d-a*Math.sin(h)+b/2);e.stroke()}};Sc.prototype.Y=function(){Hb(this.a.d.a.id,Uc,{T:this.b,Z:this.h});"rotate(90deg)"!==this.Sa.style.transform?(this.Sa.style.transition="transform 0.5s linear",this.Sa.style.transform="rotate(90deg)"):(this.Sa.style.transition="transform 0.5s linear",this.Sa.style.transform="rotate(0deg)")};Sc.prototype.aa=function(){return"Settings"};function Vc(a){Vc.s.constructor.call(this,a)}R(Vc,oc);Vc.prototype.ea=function(a,b,c,d){var e=.9*b;a.font=e+"px Times New Roman, Sans serif";a.fillText("Pass",c+(b-a.measureText("Pass").width)/2,d+b/2+e/3)};Vc.prototype.Y=function(){this.b.ql()};Vc.prototype.aa=function(){return"Pass"};function Wc(a){Wc.s.constructor.call(this,a)}R(Wc,oc);Wc.prototype.ea=function(a,b,c,d){var e=.02*b,f=b/2,g=4*e;a.lineWidth=Math.ceil(e+.5);a.beginPath();a.arc(c+b/2,d+b/2,f-g,0,2*Math.PI,!1);a.stroke();e=.9*b;a.font=e+"px Times New Roman, Sans serif";a.fillText("?",c+(b-a.measureText("?").width)/2,d+b/2+e/3)};Wc.prototype.Y=function(){Hb(this.a.d.a.id,Xc,{T:this.b,Z:this.h})};Wc.prototype.aa=function(){return"About"};function Yc(a){Yc.s.constructor.call(this,a)}R(Yc,oc);Yc.prototype.ea=function(a,b,c,d){var e=Math.ceil(c+3*b/20+.5),f=Math.ceil(c+16*b/20+.5),g=Math.ceil(c+14*b/20+.5);c=Math.ceil(c+11*b/20+.5);var h=Math.ceil(d+5*b/20+.5),k=Math.ceil(d+14*b/20+.5);b=Math.ceil(d+18*b/20+.5);a.lineWidth=2;a.beginPath();a.moveTo(e,h);a.lineTo(f,h);a.lineTo(f,k);a.lineTo(g,k);a.lineTo(g,b);a.lineTo(c,k);a.lineTo(e,k);a.closePath();a.stroke()};Yc.prototype.Y=function(){this.lk.ud(this)};Yc.prototype.aa=function(){return"Comments"};function Zc(a){Zc.s.constructor.call(this,a)}R(Zc,oc);Zc.prototype.ea=function(a,b,c,d){var e=c+0,f=c+5*b/20,g=c+15*b/20;c+=b;var h=d+6*b/20;d+=16*b/20;b=b/6+1|0;a.lineWidth=2;a.lineJoin="miter";a.strokeStyle="rgba(0,0,0, 1)";a.beginPath();a.moveTo(e-2|0,h|0);a.lineTo(c+2|0,h|0);a.stroke();a.beginPath();a.moveTo(f|0,h|0);a.lineTo(f|0,d|0);a.lineTo(c+2|0,d|0);a.stroke();a.lineWidth=1;a.strokeStyle=P(new z(0,0,0));a.fillStyle=P(new z(255,255,255));a.beginPath();a.arc(g,h,b,0,2*Math.PI,!1);a.fill();a.stroke();a.beginPath();a.arc(g,d,b,0,2*Math.PI,!1);a.fill();a.stroke();a.fillStyle=P(new z(0,0,0));a.beginPath();a.arc(f,h,b,0,2*Math.PI,!1);a.fill()};Zc.prototype.Y=function(){this.lk.ud(this)};Zc.prototype.aa=function(){return"Navigator"};function $c(a){$c.s.constructor.call(this,a);var b=a.W,c=this;this.Mb=373;this.sc=40;var d=document.createElement("div");d.id=b.id+"ButtonBoardModeToolbarWrapper";d.style.position="absolute";d.style.top="100px";d.style.left="100px";d.style.width=this.Mb+"px";d.style.height=this.sc+"px";d.style.background="rgb(217, 217, 217)";d.style.display="block";d.style.border="1px solid rgb(166, 166, 166)";d.style.boxShadow="0px 1px 15px rgba(0,0,0,0.8)";d.style.opacity=0;d.style.overflowY="hidden";d.style.boxSizing="border-box";d.onclick=function(){ad(c)};b.appendChild(d);var e=document.createElement("div");e.id=b.id+"ButtonBoardModeToolbar";e.style.position="absolute";e.style.top="1px";e.style.left="1px";e.style.right="1px";e.style.bottom="1px";d.appendChild(e);this.Fm=new Hc(a);this.Hm=new Ic(a);this.Cm=new Jc(a);this.Km=new Kc(a);this.Im=new Lc(a);this.Em=new Mc(a);this.Lm=new Nc(a);this.Jm=new Oc(a);this.Gm=new Pc(a);this.Dm=new bd(a);b=new cd(a);S(b,this.Fm,36,T);S(b,this.Hm,36,T);S(b,this.Cm,36,T);S(b,this.Km,36,T);S(b,this.Im,36,T);S(b,this.Em,36,T);S(b,this.Lm,36,T);S(b,this.Jm,36,T);S(b,this.Gm,36,T);S(b,this.Dm,36,T);b.o(e.id,a.b);b.p();d.style.display="none";this.ab=d;this.ya=null;this.Gf=0;d.style.transitionProperty="opacity,top,height";d.style.transitionDuration="1s";d.style.transitionTimingFunction="cubic-bezier(0,0,0,1)";d.style.transitionDelay="0s";this.bk=this.qa=null}R($c,oc);m=$c.prototype;m.p=function(){$c.s.p.apply(this,arguments);var a=Mb(this.h,this.a.d.a),b=a.g-this.Mb/2+18,a=a.f-50,c=this.h.Db(),d=this.h.Ea();b+this.Mb>c-5&&(b=c-5-this.Mb);5>b&&(b=5);a+this.sc>d-5&&(a=d-5-this.sc);5>a&&(a=5);this.Gf=a;this.ab.style.left=b+"px";this.ab.style.top=a+"px"};m.ea=function(){};m.Y=function(){if("none"===this.ab.style.display){if(null===this.bk){var a=this;this.bk=setTimeout(function(){null!==a.ya&&(clearTimeout(a.ya),a.ya=null);a.ab.style.display="block";a.ab.style.opacity=0;a.ab.style.top=a.Gf+50+"px";a.ab.style.height="0px";a.ya=setTimeout(function(){a.ab.style.opacity=1;a.ab.style.top=a.Gf+"px";a.ab.style.height=a.sc+"px";a.ya=null;a.bk=null},20)},20)}}else ad(this)};m.aa=function(){return"Select Edit mode (F1-F10)"};m.wa=function(){this.h.Nf=this};m.Tb=function(){pc(this)};function ad(a){"none"!==a.ab.style.display&&(null!==a.ya&&(clearTimeout(a.ya),a.ya=null),a.ab.style.opacity=0,a.ab.style.top=a.Gf+50+"px",a.ab.style.height="0px",a.ya=setTimeout(function(){a.ab.style.display="none";a.ya=null},500))}function bd(a){Oc.s.constructor.call(this,a)}R(bd,oc);bd.prototype.ea=function(a){a.lineWidth=2;a.strokeStyle="rgb(0, 0, 200)";a.beginPath();a.moveTo(18,12);a.lineTo(18,6);a.lineTo(6,6);a.lineTo(6,18);a.lineTo(12,18);a.stroke();a.strokeStyle="rgb(0, 100, 0)";a.beginPath();a.moveTo(24,18);a.lineTo(24,12);a.lineTo(12,12);a.lineTo(12,24);a.lineTo(18,24);a.stroke();a.strokeStyle="rgb(200, 0, 0)";a.beginPath();a.moveTo(30,30);a.lineTo(30,18);a.lineTo(18,18);a.lineTo(18,30);a.closePath();a.stroke()};bd.prototype.Y=function(){Da(this.b.j,10)};bd.prototype.aa=function(){return"Color marks (F10)"};bd.prototype.wa=function(){this.h.B.Qh.push(this)};function Tc(a,b){Oc.s.constructor.call(this,a);this.fb=yc(this,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAICAYAAADJEc7MAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wwVDQAZ4Th1ZQAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAkUlEQVQY033PsRHDIAwF0A+nitILUHCnhoapklW8QrZhBBo1NDRULEEak3OwsSpO0pOEijG+QgifWityzgoP4Zzr1lqklN5ERLsxBswMAH2FmbkfPSCiXbfWNhEZRTBzf0IigtbapgGglKJWeEalFAUANBqORPfe/84eg2b0Bxf4FgGAnv9zPnuFLhvnzaf3Jb5oPFaLEyr1tgAAAABJRU5ErkJggg==");this.Sa=null;this.Ab=b;var c=a.W;this.Mb=160;this.sc=114;var d=document.createElement("div");d.id=c.id+"ToolbarCustomizeWrapper";d.style.position="absolute";d.style.top="100px";d.style.left="100px";d.style.width=this.Mb+"px";d.style.height=this.sc+"px";d.style.background="rgb(255, 255, 255)";d.style.display="block";d.style.border="1px solid rgb(166, 166, 166)";d.style.boxShadow="0px 1px 15px rgba(0,0,0,0.8)";d.style.overflowY="hidden";c.appendChild(d);d.style.transitionProperty="height";d.style.transitionDuration="0.2s";d.style.transitionDelay="0s";d.style.display="none";this.Nb=d;this.ak=this.ya=null;c=document.createElement("ul");c.style.padding="5px 0";c.style.margin="2px 0 0";c.style.listStyle="none";c.style.fontSize="16px";c.style.Qg="padding-box";c.style.lineHeight="20px";this.bo=dd(this,c,"Main navigation",function(){a.mj()},x.we);this.jo=dd(this,c,"Tree navigation",function(){a.oj()},x.xe);this.Mm=dd(this,c,"General toolbar",function(){a.lj()},x.Fd);this.Yn=dd(this,c,"Autoplay toolbar",function(){a.kj()},x.Ed);this.io=dd(this,c,"Timeline toolbar",function(){a.nj()},x.Gd);d.appendChild(c)}R(Tc,oc);m=Tc.prototype;m.o=function(a,b){Tc.s.o.apply(this,arguments);var c=this.a.d.a,d=document.createElement("canvas");d.setAttribute("id",a+"_transform");d.setAttribute("style","position:absolute;padding:0;margin:0;top:14px;left:11px;width:14px;height:8px;");d.width=14;d.height=8;d.setAttribute("oncontextmenu","return false;");d.draggable="false";d.ondragstart=function(a){a.preventDefault();return!1};c.appendChild(d);this.Sa=d};m.p=function(){Tc.s.p.apply(this,arguments);var a=Mb(this.h,this.a.d.a),b=a.g+36-this.Mb,a=a.f+36+5,c=this.h.Db(),d=this.h.Ea();b+this.Mb>c-5&&(b=c-5-this.Mb);5>b&&(b=5);a+this.sc>d-5&&(a=d-5-this.sc);5>a&&(a=5);this.Gf=a;this.Nb.style.left=b+"px";this.Nb.style.top=a+"px"};m.ea=function(){this.Sa&&this.Sa.getContext("2d").drawImage(this.fb,0,0)};m.Y=function(){if("none"===this.Nb.style.display){if(null===this.ak){var a=this;this.ak=setTimeout(function(){null!==a.ya&&(clearTimeout(a.ya),a.ya=null);a.Nb.style.display="block";a.Nb.style.height="0px";a.ya=setTimeout(function(){a.Nb.style.height=a.sc+"px";a.ya=null;a.ak=null;a.Sa.style.transition="transform 0.2s ease";a.Sa.style.transform="rotate(180deg)";tc(a,!0)},20)},20)}}else ed(this)};m.aa=function(){return""};m.wa=function(){this.h.B.lb=this};function ed(a,b){"none"!==a.Nb.style.display&&(!0===b?(a.Nb.style.height="0px",a.Nb.style.display="none",a.Sa.style.transition="transform 0.2s ease",a.Sa.style.transform="rotate(0deg)",tc(a,!1)):(null!==a.ya&&(clearTimeout(a.ya),a.ya=null),a.Nb.style.height="0px",a.ya=setTimeout(function(){a.Nb.style.display="none";a.ya=null;a.Sa.style.transition="transform 0.2s ease";a.Sa.style.transform="rotate(0deg)";tc(a,!1)},200)))}function dd(a,b,c,d,e){var f=document.createElement("li");f.style.fontFamily='"Times New Roman", Times, serif';f.style.width=a.Mb-10+"px";f.style.height="20px";f.style.color="#444444";f.style.margin="0px 5px 0px 5px";f.style.cursor="pointer";var g=document.createElement("div");g.style.paddingLeft="3px";g.style.width="20px";g.style.height="20px";g.style["float"]="left";fd(g,e?"\u2714":"");f.appendChild(g);e=document.createElement("div");e.style.paddingLeft="5px";e.style.height="20px";e.style.width=a.Mb-10-20-10+"px";e.style["float"]="left";e.style.overflow="hidden";fd(e,c);f.appendChild(e);f.onmouseover=function(){f.style.background="#d8dadc";f.style.color="#373737"};f.onmouseout=function(){f.style.background="transparent";f.style.color="#444444"};f.onclick=function(){d&&d();ed(a,!0)};b.appendChild(f);return g}m.aj=function(a){this.Ab&&this.Ab.aj(a);gd(this.bo,a)};m.dj=function(a){this.Ab&&this.Ab.dj(a);gd(this.jo,a)};m.df=function(a){this.Ab&&this.Ab.df(a);gd(this.Mm,a)};m.Wi=function(a){this.Ab&&this.Ab.Wi(a);gd(this.Yn,a)};m.cj=function(a){this.Ab&&this.Ab.cj(a);gd(this.io,a)};m.df=function(a){this.Ab&&this.Ab.df(a);gd(this.Mm,a)};function gd(a,b){a&&(!0===b?fd(a,"\u2714"):fd(a,""))}function hd(a){hd.s.constructor.call(this,a)}R(hd,oc);hd.prototype.ea=function(a){a.lineWidth=2;a.strokeStyle="rgb(0, 0, 200)";a.beginPath();a.moveTo(18,12);a.lineTo(18,6);a.lineTo(6,6);a.lineTo(6,18);a.lineTo(12,18);a.stroke();a.strokeStyle="rgb(0, 100, 0)";a.beginPath();a.moveTo(24,18);a.lineTo(24,12);a.lineTo(12,12);a.lineTo(12,24);a.lineTo(18,24);a.stroke();a.strokeStyle="rgb(200, 0, 0)";a.beginPath();a.moveTo(30,30);a.lineTo(30,18);a.lineTo(18,18);a.lineTo(18,30);a.closePath();a.stroke()};hd.prototype.Y=function(){};hd.prototype.aa=function(){return""};function id(a){this.h=a;this.b=null;this.a={d:null,Mg:{d:null}};var b=this;this.$m=function(){b.b.Hg(b.a.Mg.d.a.value)}}id.prototype.o=function(a,b){this.b=b;this.a.d=D(a);var c=this.a.d.a;c.style.background=P(new z(217,217,217,255));c.style.boxSizing="content-box";var d=a+"_TextArea",e=document.createElement("textarea");e.setAttribute("id",d);e.setAttribute("style","position:absolute;padding:0;margin:0;resize:none;outline: none;-moz-appearance: none;padding:2px;");c.appendChild(e);e.onchange=this.$m;e.onblur=this.$m;e.style.outline="none";e.style.margin="0px";e.style.border="1px solid rgb(172,172,172)";c=this.a.d;this.a.Mg.d=D(d);d=this.a.Mg.d;I(d.i,6,0,12,6,!0,!0,!0,!0,-1,-1);d.n=J|K|L|O;c.k(d);this.h&&this.h.Hj.push(this);this.p()};id.prototype.Oc=function(a){this.a.Mg.d.a.value=a};id.prototype.p=function(){this.a.d.cb(this.a.d.a.clientWidth,this.a.d.a.clientHeight)};function jd(a){this.h=a;this.tm=G;this.b=null;this.a={d:null,Wb:null,Zb:null,Image:null};this.fb=null;this.vh=this.uh="";this.Sj=0;this.Mj=!1}m=jd.prototype;m.o=function(a,b,c){this.tm=c;this.b=b;this.a.d=D(a);b=this.a.d.a;b.style.backgroundColor=P(new z(217,217,217,255));this.a.Wb=document.createElement("div");this.a.Zb=document.createElement("div");this.a.Image=document.createElement("canvas");var d=this.a.Image,e=this.a.Wb,f=this.a.Zb;b.appendChild(d);b.appendChild(e);b.appendChild(f);e.style.paddingLeft="25px";f.style.paddingLeft="25px";e.style.fontSize="14pt";f.style.paddingLeft="10pt";d.setAttribute("id",a+"_Image");d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.style.left="0px";d.style.top="0px";d.style.width="25px";d.style.height="25px";d.width=25;d.height=25;a=d.getContext("2d");a.clearRect(0,0,25,25);b=Math.ceil(13);d=Math.ceil(13);e=Math.ceil(6.75);F===c?(a.fillStyle=P(new z(255,255,255)),a.strokeStyle=P(new z(0,0,0))):E===c&&(a.fillStyle=P(new z(0,0,0)),a.strokeStyle=P(new z(0,0,0)));a.beginPath();a.arc(b,d,e,0,2*Math.PI,!1);a.fill();a.stroke();this.h&&(E===c?this.h.xc=this:F===c&&(this.h.Cc=this));this.ta()};m.p=function(){this.ta();var a=this.Sn,b=this.a.d.a.clientWidth-25,c=0,c=b<a?0:(b-a)/2;this.a.Image.style.left=c+"px";c+=25;this.a.Wb.style.paddingLeft=c+"px";this.a.Zb.style.paddingLeft=c+"px";this.a.Wb.style.overflow="hidden";this.a.Wb.style.textOverflow="ellipsis";this.a.Wb.style["-o-text-overflow"]="ellipsis";this.a.Wb.style.height="25px";this.a.Wb.style.lineHeight="25px";this.a.Wb.style.fontFamily='"Times New Roman", Times, serif';this.a.Zb.style.overflow="hidden";this.a.Zb.style.textOverflow="ellipsis";this.a.Zb.style["-o-text-overflow"]="ellipsis";this.a.Zb.style.height="25px";this.a.Zb.style.lineHeight="25px";this.a.Zb.style.fontFamily='"Times New Roman", Times, serif'};m.hf=function(a){this.Mj=!1;this.Sj=a;this.ta()};m.Pc=function(a){this.Mj=!0;this.Sj=a;this.ta()};m.ta=function(){var a=this.a.Zb,b=(""===this.uh?E===this.tm?"Black ":"White ":this.uh)+(""===this.vh?"":"["+this.vh+"]"),c=(!0===this.Mj?"Scores ":"Captured ")+this.Sj;fd(this.a.Wb,b);fd(a,c);a=document.createElement("canvas").getContext("2d");a.font="14pt Times New Roman";this.Sn=a.measureText(b).width};function kd(a){this.h=a;this.b=null;this.a={d:null,tb:null,Yb:null,oe:null,ne:null};this.hm=this.im=0}kd.prototype.o=function(a,b){this.b=b;this.a.d=D(a);var c=this.a.d.a;c.style.backgroundColor=P(new z(217,217,217,255));this.a.tb=document.createElement("div");this.a.oe=document.createElement("canvas");this.a.Yb=document.createElement("div");this.a.ne=document.createElement("canvas");c.appendChild(this.a.tb);c.appendChild(this.a.oe);c.appendChild(this.a.Yb);c.appendChild(this.a.ne);this.a.oe.style.position="absolute";this.a.oe.style.left="0px";this.a.oe.style.top="0px";this.a.tb.style.position="absolute";this.a.tb.style.left="25px";this.a.tb.style.top="0px";this.a.tb.style.overflow="hidden";this.a.tb.style.textOverflow="ellipsis";this.a.tb.style.height="25px";this.a.tb.style.fontFamily='"Times New Roman", Times, serif';this.a.tb.style.fontSize="16px";this.a.ne.style.position="absolute";this.a.ne.style.left="61px";this.a.ne.style.top="0px";this.a.Yb.style.position="absolute";this.a.Yb.style.left="86px";this.a.tb.style.top="0px";this.a.Yb.style.overflow="hidden";this.a.Yb.style.textOverflow="ellipsis";this.a.Yb.style.height="25px";this.a.Yb.style.fontFamily='"Times New Roman", Times, serif';this.a.Yb.style.fontSize="16px";ld(this.a.oe,!1);ld(this.a.ne,!0);this.ta()};function ld(a,b){a.setAttribute("oncontextmenu","return false;");a.style.padding="0px";a.style.margin="0px";a.style.width="25px";a.style.height="25px";a.width=25;a.height=25;var c=a.getContext("2d");c.clearRect(0,0,25,25);var d=Math.ceil(13),e=Math.ceil(13),f=Math.ceil(6.75);c.fillStyle=b?P(new z(0,0,0)):P(new z(255,255,255));c.strokeStyle=P(new z(0,0,0));c.beginPath();c.arc(d,e,f,0,2*Math.PI,!1);c.fill();c.stroke()}kd.prototype.p=function(){this.ta()};kd.prototype.Pc=function(a,b){this.im=a;this.hm=b;this.ta()};kd.prototype.ta=function(){fd(this.a.tb,""+this.im);fd(this.a.Yb,""+this.hm)};function md(a){this.h=a;this.b=null;this.a={d:null,kb:null};this.sk="White vs. Black"}md.prototype.o=function(a,b){this.b=b;this.a.d=D(a);var c=this.a.d.a;c.style.backgroundColor=P(new z(217,217,217,255));this.a.kb=document.createElement("div");c.appendChild(this.a.kb);this.a.kb.style.position="absolute";this.a.kb.style.left="0px";this.a.kb.style.top="0px";this.a.kb.style.overflow="hidden";this.a.kb.style.textOverflow="ellipsis";this.a.kb.style.fontFamily='"Times New Roman", Times, serif';this.a.kb.style.fontSize="16px";this.a.kb.style.height="25px";this.a.kb.style.width="100%";this.a.kb.style.textAlign="center";this.ta()};md.prototype.p=function(){this.ta()};md.prototype.ta=function(){fd(this.a.kb,""+this.sk)};function nd(){this.Ub=this.Xb=this.ac=this.Vb=0;this.Rg=this.Tg=this.Ug=this.Sg=!1;this.Qe=this.jd=-1}function I(a,b,c,d,e,f,g,h,k,l,n){a.Vb=b;a.ac=c;a.Xb=d;a.Ub=e;a.Sg=f;a.Ug=g;a.Tg=h;a.Rg=k;a.jd=l;a.Qe=n}var K=1,J=2,O=4,L=8;function od(){this.i=new nd;this.n=K|J;this.a=this.Eg=this.Ag=null;this.Dc=new nd;this.Ta=[];this.pc=this.height=this.width=0;this.Gc=null;this.sb=400}od.prototype.Ua=function(a,b,c){this.pc=a;(this.Gc=b)&&b.Kk&&b.Kk(this);c&&void 0!==c.sb&&(this.sb=c.sb)};od.prototype.k=function(a){a.Eg=this;this.Ta[this.Ta.length]=a};od.prototype.cb=function(a,b){this.width=a;this.height=b;if(null==this.Eg)this.Dc.Vb=0,this.Dc.ac=0,this.Dc.Xb=a,this.Dc.Ub=b,null!==this.a&&pd(this,a,b);else{var c=0,d=0,e=0,f=0,g=this.n&5,h=this.n&10;K==g?(this.i.Sg?c=this.i.Vb:c=this.i.Vb*a/1E3,-1!=this.i.jd?e=c+this.i.jd:e=this.i.Tg?a-this.i.Xb:this.i.Xb*a/1E3):O==g?(e=this.i.Tg?a-this.i.Xb:this.i.Xb*a/1E3,-1!=this.i.jd?c=e-this.i.jd:this.i.Sg?c=this.i.Vb:c=this.i.Vb*a/1E3):(K|O)==g?(this.i.Sg?c=this.i.Vb:c=this.i.Vb*a/1E3,e=this.i.Tg?a-this.i.Xb:this.i.Xb*a/1E3):(c=this.i.Vb,e=this.i.Xb);J==h?(this.i.Ug?d=this.i.ac:d=this.i.ac*b/1E3,-1!=this.i.Qe?f=d+this.i.Qe:f=this.i.Rg?b-this.i.Ub:this.i.Ub*b/1E3):L==h?(f=this.i.Rg?b-this.i.Ub:this.i.Ub*b/1E3,-1!=this.i.Qe?d=f-this.i.Qe:this.i.Ug?d=this.i.ac:d=this.i.ac*b/1E3):(J|L)==h?(this.i.Ug?d=this.i.ac:d=this.i.ac*b/1E3,f=this.i.Rg?b-this.i.Ub:this.i.Ub*b/1E3):(d=this.i.ac,f=this.i.Ub);e<c&&(e=c);f<d&&(f=d);-2===this.i.jd?e=c+1*(f-d):-3===this.i.jd&&(c=1*(f-d));this.Dc.Vb=c;this.Dc.ac=d;this.Dc.Xb=e;this.Dc.Ub=f;this.a.style.left=(c+.5|0)+"px";this.a.style.top=(d+.5|0)+"px";this.a.style.width=(e-c+.5|0)+"px";this.a.style.height=(f-d+.5|0)+"px";this.a.width=e-c+.5|0;this.a.height=f-d+.5|0;pd(this,e-c,f-d)}};function pd(a,b,c){var d=a.Ta.length;if(1===a.pc&&2===d){var e=a.Gc?sa(a.Gc):1,f=a.Ta[0],g=a.Ta[1],h,k=c;h=b-a.sb;var l=k*e,e=h/e;l<=h?(e=k,h=k=0):(l=h,h=0,k=(k-e)/2);I(f.i,h,k,1E3,1E3,!0,!0,!1,!1,l,e);f.n=K|J;I(g.i,l,0,1E3,1E3,!0,!1,!1,!1,-1,-1);g.n=O|L|J}else 2===a.pc&&1===d?a.Gc?(e=sa(a.Gc),f=a.Ta[0],l=c*e,e=b/e,l<=b?(e=c,k=0,h=(b-l)/2):(l=b,h=0,k=(c-e)/2),I(f.i,h,k,1E3,1E3,!0,!0,!1,!1,l,e),f.n=K|J):(f=a.Ta[0],h=Math.min(b,c),I(f.i,(b-h)/2,(c-h)/2,1E3,1E3,!0,!0,!0,!1,h,h),f.n=K|L|J):3===a.pc&&2===d&&(e=a.Gc?sa(a.Gc):1,f=a.Ta[0],g=a.Ta[1],k=a.sb,h=b,k=c-k,l=k*e,e=h/e,l<=h?(e=k,k=0,h=(h-l)/2):(l=h,k=h=0),I(f.i,h,k,1E3,1E3,!0,!0,!1,!1,l,e),f.n=K|J,I(g.i,0,e,1E3,1E3,!1,!0,!1,!1,-1,-1),g.n=K|O|L);for(h=0;h<d;h++)a.Ta[h].cb(b,c)}od.prototype.Da=function(){this.Ta=[];this.pc=0;this.Gc=null;this.sb=400};function D(a){var b=new od;b.Ag=a;b.a=document.getElementById(a);return b}function qd(){this.a=this.Eg=null;this.D=0;this.Ta=[]}qd.prototype.Set=function(a){this.D=a};qd.prototype.k=function(a){a.Eg=this;this.Ta[this.Ta.length]=a};qd.prototype.cb=function(a,b){var c=b-this.D,d=a;d!==c&&(c=d=Math.min(d,c));var e=(b-this.D-c)/2;this.a.style.left=parseInt((a-d)/2+.5)+"px";this.a.style.top=parseInt(e+.5)+"px";this.a.style.width=parseInt(d+.5)+"px";this.a.style.height=parseInt(c+this.D+.5)+"px";this.a.width=parseInt(d+.5);this.a.height=parseInt(c+this.D+.5);for(var e=this.Ta.length,f=0;f<e;f++)this.Ta[f].cb(d,c+this.D)};function rd(){this.Pj=!0;this.fa={Tc:!0,Dd:!0,hd:new z(231,188,95,255),Pg:!0,Cd:!0,$d:new z(255,255,255,255),Yd:new z(0,0,0,255),Zd:new z(0,0,0,255),Bd:!1};this.ra={Tc:!0,Dd:!0,hd:new z(231,188,95,255),Cd:!0,$d:new z(255,255,255,255),Yd:new z(0,0,0,255),Zd:new z(0,0,0,255),Bd:!1};this.Jj=this.wb=this.Kj=!1;this.Uj=1;this.Tj=3;this.Gd=this.Ed=this.Fd=this.Oj=!0}function sd(){var a=x;a.Oj="0"===td("ShowTarget")?!1:!0;a.Jj="1"===td("CycleThroughVariants")?!0:!1;a.Pj="0"===td("Sound")?!1:!0;var b=td("NavigatorLabels");a.Uj=b&&""!==b?parseInt(b):1;var b=1,c=td("ColorScheme");"BookStyle"===c?b=2:"SimpleColor"===c?b=3:"Dark"===c&&(b=4);ud(a,b);a.Kj="1"===td("LoadUnfinishedFilesOnLastNode")?!0:!1;b=td("ShowVariants");a.Tj=b&&""!==b?parseInt(b):3;a.wb="1"===td("Rulers")?!0:!1;a.we="0"==td("MultiLevelToolbarMainNavigation")?!1:!0;a.xe="0"==td("MultiLevelToolbarTreeNavigation")?!1:!0;a.Fd="0"==td("MultiLevelToolbarGeneral")?!1:!0;a.Ed="1"==td("MultiLevelToolbarAutoPlay")?!0:!1;a.Gd="1"==td("MultiLevelToolbarTimeline")?!0:!1}m=rd.prototype;m.re=function(a){this.Pj=a;vd("Sound",!0===a?"1":"0")};m.$e=function(){return this.Pj};m.Ig=function(a){this.wb=a;vd("Rulers",!0===a?"1":"0")};m.$i=function(a){this.Kj=a;vd("LoadUnfinishedFilesOnLastNode",!0===a?"1":"0")};m.Ye=function(){return this.Kj};m.Xi=function(a){this.Jj=a;vd("CycleThroughVariants",!0===a?"1":"0")};m.sd=function(){return this.Jj};m.vd=function(a){this.Oj=a;vd("ShowTarget",!0===a?"1":"0")};m.xg=function(){return this.Oj};function ud(a,b){var c=!0,d=!0,e=null,f=!0,g=!0,h=new z(255,255,255,255),k=new z(0,0,0,255),l=new z(0,0,0,255),n=!1;switch(b){case 1:g=f=d=c=!0;e=new z(231,188,95,255);l=new z(0,0,0,255);vd("ColorScheme","TrueColor");break;case 2:g=f=d=c=!1;e=new z(255,255,255,255);l=new z(0,0,0,255);vd("ColorScheme","BookStyle");break;case 3:g=f=d=c=!1;e=new z(231,188,95,255);l=new z(0,0,0,255);vd("ColorScheme","SimpleColor");break;case 4:g=f=d=c=!1,n=!0,e=new z(30,30,30,255),h=new z(220,220,220,220),l=new z(255,255,255,255),vd("ColorScheme","Dark")}var p=!1,r=!1;if(a.fa.Tc!==c||a.fa.Dd!==d||!0!==wd(a.fa.hd,e)||a.fa.Pg!==f||a.fa.Cd!==g||!0!==wd(a.fa.$d,h)||!0!==wd(a.fa.Yd,k)||!0!==wd(a.fa.Zd,l)||a.fa.Bd!==n)a.fa.Tc=c,a.fa.Dd=d,a.fa.hd=e,a.fa.Pg=f,a.fa.Cd=g,a.fa.$d=h,a.fa.Yd=k,a.fa.Zd=l,a.fa.Bd=n,p=!0;if(a.ra.Tc!==c||a.ra.Dd!==d||!0!==wd(a.ra.hd,e)||a.ra.Cd!==g||!0!==wd(a.ra.$d,h)||!0!==wd(a.ra.Yd,k)||!0!==wd(a.ra.Zd,l)||a.ra.Bd!==n)a.ra.Tc=c,a.ra.Dd=d,a.ra.hd=e,a.ra.Cd=g,a.ra.$d=h,a.ra.Yd=k,a.ra.Zd=l,a.ra.Bd=n,r=!0;return{ba:p,Navigator:r}}m.je=function(){return this.Uj};m.bj=function(a){this.Uj=a;vd("NavigatorLabels",a)};m.nd=function(){return this.Tj};m.Zi=function(a){this.Tj=a;vd("ShowVariants",a)};m.mj=function(){this.we=!this.we;vd("MultiLevelToolbarMainNavigation",!0===this.we?"1":"0");return this.we};m.oj=function(){this.xe=!this.xe;vd("MultiLevelToolbarTreeNavigation",!0===this.xe?"1":"0");return this.xe};m.lj=function(){this.Fd=!this.Fd;vd("MultiLevelToolbarGeneral",!0===this.Fd?"1":"0");return this.Fd};m.kj=function(){this.Ed=!this.Ed;vd("MultiLevelToolbarAutoPlay",!0===this.Ed?"1":"0");return this.Ed};m.nj=function(){this.Gd=!this.Gd;vd("MultiLevelToolbarTimeline",!0===this.Gd?"1":"0");return this.Gd};var x=new rd;function xd(a){if(this.b=a)a.h=this;this.Qa=this.jh=this.Ke=this.W=null;this.S=[];this.B={Nh:[],Oh:[],Fc:[],Hc:[],ni:[],mi:[],Lc:[],Mc:[],ql:null,Th:[],Vh:[],Sh:[],Yh:[],Wh:[],Rh:[],Zh:[],Xh:[],Uh:[],Qh:[],lb:null};this.Sd=this.Rd=this.Cc=this.xc=this.Nf=this.If=this.Hf=this.mk=this.lh=this.ma=this.gh=null;this.Hj=[];var b=this;this.Lj=!0;this.Be=0;this.$g=!1;this.Yj=-1;this.Yc=400;this.Md=200;this.tc=-1;this.wm=this.ym=this.xm=this.Am=this.zm=0;this.Co=function(){b.Nf&&ad(b.Nf);b.B.lb&&ed(b.B.lb,!1)};this.Zm=function(){yd(b.Zm);var a;if(a=b.lh)a=b.lh,a=a.ah||a.bh?!0:!1;if(a){a=b.lh;if(a.ah&&a.b){var d=a.c.I,e=a.c.D;if(!(0>=d||0>=e)){var f=a.b.m.gb,g=10+a.X.g+24*f.g,f=10+a.X.f+24*f.f,h=a.a.ld.d.a.getContext("2d");h.clearRect(0,0,d,e);-24<=g&&g<=d+24&&-24<=f&&f<=e+24&&h.putImageData(a.c.ld,g,f);a.ah=!1}}if(a.bh&&(d=a.c.I,e=a.c.D,0!==d&&0!==e)){if(!(a.zb.I===d&&a.zb.D===e&&1>Math.abs(a.X.g-a.zb.g)&&1>Math.abs(a.X.f-a.zb.f))){a.zb.I=d;a.zb.D=e;a.zb.g=a.X.g;a.zb.f=a.X.f;var g=a.a.$.d.a.getContext("2d"),f=a.a.gj.d.a.getContext("2d"),h=a.a.Qi.d.a.getContext("2d"),k=a.a.Selection.d.a.getContext("2d");h.clearRect(0,0,d,e);f.clearRect(0,0,d,e);g.clearRect(0,0,d,e);k.clearRect(0,0,d,e);for(var k=10+a.X.g,l=10+a.X.f,n=a.da.Ea(),p=a.Ch(),r=0;r<=n-1;r++){var q=l+24*r;if(-24<=q&&q<=e+24)for(var u=a.da.da[r].length-1,v=0;v<=u;v++){var t=k+24*v;if(-24<=t&&t<=d+24){var y=a.da.J(v,r);if(!1===y.Ze()){var M=y.pe();switch(y.M){case zd:M.Sc?g.putImageData(a.c.wj,t,q):g.putImageData(a.c.Cj,t,q);break;case Ad:M.Sc?1===M.Bl?g.putImageData(a.c.xj,t,q):g.putImageData(a.c.yj,t,q):g.putImageData(a.c.zj,t,q);break;case Bd:M.Sc?g.putImageData(a.c.Aj,t,q):g.putImageData(a.c.Bj,t,q)}}else{var M=y.pe(),N=y.Qb,C=N.M,H=y.bb,U="",A=0;switch(x.je()){case 0:U="";break;case 1:U=""+y.gb.Dg;2>=U.length?h.font="bold 10px sans-serif":(h.font="bold 9px sans-serif",A=-1);break;case 2:U=M?""+y.gb.Dg:"";2>=U.length?h.font="bold 10px sans-serif":(h.font="bold 9px sans-serif",A=-1);break;case 3:var Q=a.b.ma.ca(),U=Q.g,Q=Q.f,W=pb(N.xa()),N=W.f,U=Na(W.g,U),U=U+(Q+1-N);h.font=2>=U.length?"bold 10px sans-serif":"bold 8px sans-serif"}N=h.measureText(U).width;E===C?(M&&!0===p&&f.putImageData(a.c.Oa,t+2+a.c.$b,q+2+a.c.$b),h.putImageData(M?a.c.de:a.c.kg,t+2,q+2),""===H?""!==U&&(h.fillStyle=M?"#CCC":"rgb(192, 192, 192)",h.fillText(U,t+12-N/2+A,q+12+3)):h.putImageData(M?a.c.Nl:a.c.Ol,t+2,q+2)):F===C?(M&&!0===p&&f.putImageData(a.c.Oa,t+2+a.c.$b,q+2+a.c.$b),h.putImageData(M?a.c.te:a.c.Og,t+2,q+2),""===H?""!==U&&(h.fillStyle=M?"#000":"rgb(56, 56, 56)",h.fillText(U,t+12-N/2+A,q+12+3)):h.putImageData(M?a.c.Ql:a.c.Rl,t+2,q+2)):h.putImageData(M?a.c.Ml:a.c.Pl,t+2,q+2);H=Cd(y);y=y.la;0===v?0!==H&&(1===H?M?g.putImageData(a.c.Ai,t,q):g.putImageData(a.c.Ei,t,q):M?0==y?g.putImageData(a.c.Bi,t,q):g.putImageData(a.c.Ci,t,q):g.putImageData(a.c.Di,t,q)):0===H?M?g.putImageData(a.c.yi,t,q):g.putImageData(a.c.zi,t,q):1===H?M?g.putImageData(a.c.ui,t,q):g.putImageData(a.c.Fi,t,q):M?0===y?g.putImageData(a.c.vi,t,q):g.putImageData(a.c.wi,t,q):g.putImageData(a.c.xi,t,q);E!==C&&F!==C||g.clearRect(t+3,q+3,18,18)}}}}}a.bh=!1}}b.Lj&&Dd(b,!1)};this.Zm()}function Ed(a){if(a.W){var b=document.createElement("div");b.style.width="100%";b.style.height="100%";b.style.position="absolute";b.style.left="0px";b.style.top="0px";b.style.backgroundColor="rgb(0, 0, 0)";b.style.opacity=.4;a.W.appendChild(b);a.jh=b;if(b=Fd[Ib])b=b.a.d.a;var c;a:{if((c=a.W)&&b)for(var d=0,e=b.parentNode;null!=e;){if(e==c){c=!0;break a}d--;if(0>d)break;e=e.parentNode}c=!1}c&&(a.W.removeChild(b),a.W.appendChild(b))}}function Gd(a){a.jh&&(a.W.removeChild(a.jh),a.jh=null)}m=xd.prototype;m.Db=function(){return this.W?parseInt(this.W.clientWidth):0};m.Ea=function(){return this.W?parseInt(this.W.clientHeight):0};function Mb(a,b){for(var c=0,d=0,e=b;e!=a.W&&e;)c+=e.offsetLeft-e.scrollLeft+e.clientLeft,d+=e.offsetTop-e.scrollTop+e.clientTop,e=e.offsetParent;return{g:c,f:d}}m.rg=function(a){this.Be=1;Hd(this,a);var b=new aa(this);b.o(a,this.b);b.za();this.S.push(b);this.p()};m.sg=function(a){this.Be=2;Id(this,a);this.tc=295;a=this.b;var b=this.Ke,c=this.W.id;this.zm=25;this.Am=36;var d=c+"I";this.K(b.a,d);var e=D(d);I(e.i,0,0,1E3,0,!1,!1,!1,!1,-1,25);e.n=J|K|O;b.k(e);var f=d+"S";this.K(e.a,f);var g=D(f);I(g.i,0,0,1E3,1E3,!1,!1,!1,!1,122,-1);g.n=J|K|L;e.k(g);this.Rd=new kd(this);this.Rd.o(f,a);this.S.push(this.Rd);d+="T";this.K(e.a,d);f=D(d);I(f.i,122,0,1E3,1E3,!0,!1,!1,!1,-1,-1);f.n=J|O|L;e.k(f);this.Sd=new md(this);this.Sd.o(d,a);this.S.push(this.Sd);e=c+"T";this.K(b.a,e);d=D(e);I(d.i,0,0,1E3,0,!1,!1,!1,!0,-1,36);d.n=L|K|O;b.k(d);d=new cd(this);S(d,new zc(this),36,T);S(d,new Ac(this),36,T);S(d,new Bc(this),36,T);S(d,new Cc(this),36,T);S(d,new Dc(this),36,T);S(d,new Ec(this),36,T);S(d,new Wc(this),36,Jd);S(d,new qc(this),36,Jd);d.o(e,a);this.S.push(d);d=c+"B";e=this.K(b.a,d);c=D(d);I(c.i,0,25,1E3,36,!1,!0,!1,!0,-1,-1);c.n=K|O|J|L;b.k(c);b=d+"B";this.K(e,b);f=D(b);c.k(f);d+="N";this.K(e,d);e=D(d);c.k(e);e=new aa(this);e.o(b,this.b);e.za();this.S.push(e);c.Ua(3,e,{sb:0});this.p();Kd(a)};m.hi=function(a){sd();this.tc=739;Hd(this,a);var b=this.b,c=D(a);this.K(c.a,a+"div");var d=a+"div",e=new qd;e.Ag=d;e.a=document.getElementById(d);e.Set(38);var f=e.a;c.k(e);var d=a+"_Board",g=a+"_ToolbarPanel";a=a+"_Toolbar";this.K(f,d);f=this.K(f,g);f.style.background="rgb(217, 217, 217)";this.K(f,a);f=D(d);I(f.i,0,0,1E3,38,!1,!1,!1,!0,-1,-1);f.n=J|K|O;e.k(f);f=new aa(this);f.o(d,b);f.za();d=D(g);I(d.i,0,0,1E3,0,!1,!1,!1,!0,-1,38);d.n=K|L|O;e.k(d);e=D(a);I(e.i,0,1,1E3,1,!1,!0,!1,!0,-1,-1);e.n=K|L|O;d.k(e);e=new cd(this);S(e,new zc(this),36,T);S(e,new Ac(this),36,T);S(e,new Bc(this),36,T);S(e,new Cc(this),36,T);S(e,new Dc(this),36,T);S(e,new Ec(this),36,T);S(e,new Fc(this),36,T);S(e,new Gc(this),36,T);S(e,new Hc(this),36,T);S(e,new Ic(this),36,T);S(e,new Jc(this),36,T);S(e,new Kc(this),36,T);S(e,new Lc(this),36,T);S(e,new Mc(this),36,T);S(e,new Nc(this),36,T);S(e,new Oc(this),36,T);S(e,new Pc(this),36,T);S(e,new qc(this),36,T);S(e,new Wc(this),36,Jd);S(e,new Sc(this),36,Jd);e.o(a,b);this.Qa=c;this.S.push(f);this.S.push(e);this.p()};function Id(a,b){sd();var c=D(b);a.Qa=c;var d=b+"GB";a.K(c.a,d);var e=D(d);I(e.i,0,0,1,1,!1,!1,!0,!0,-1,-1);e.n=J|K|O|L;c.k(e);Hd(a,d,e)}function Ld(a){var b=a.b,c=a.Ke,d=a.W.id;a.Yc=344;var e=new aa(a);c.Ua(1,e,{sb:a.Yc});var f=d+"_Board",g=d+"_Panel";a.K(c.a,f);a.K(c.a,g);var h=D(f),d=D(g);c.k(h);c.k(d);e.o(f,b);e.za();h=g+"_CaT";f=g+"_Navigator";a.K(d.a,h);a.K(d.a,f);c=D(h);I(c.i,0,0,1E3,500,!1,!1,!1,!1,-1,-1);c.n=J|K|O|L;d.k(c);c.a.style.background="rgb(217, 217, 217)";g=D(f);I(g.i,0,500,1E3,1E3,!1,!1,!1,!1,-1,-1);g.n=J|K|O|L;d.k(g);d=new Md(a);d.o(f,b);var k=h+"_Info",f=h+"_Comments",h=h+"_Toolbar";a.K(c.a,k);a.K(c.a,f);a.K(c.a,h);var l=D(k);I(l.i,0,0,1E3,0,!1,!1,!1,!1,-1,50);l.n=J|K|O;c.k(l);g=k+"_White";k+="_Black";a.K(l.a,g);a.K(l.a,k);var n=D(g);I(n.i,0,0,500,1E3,!1,!1,!1,!1,-1,-1);n.n=J|K|O|L;l.k(n);n=D(k);I(n.i,500,0,1E3,1E3,!1,!1,!1,!1,-1,-1);n.n=J|K|O|L;l.k(n);l=new jd(a);l.o(g,b,F);g=new jd(a);g.o(k,b,E);var p=new Nd(a);p.o(h);var r=p.Ea(),q=D(h);I(q.i,6,0,6,0,!0,!1,!0,!0,-1,r);q.n=K|O|L;c.k(q);var u=D(f);I(u.i,0,50,1E3,r+1,!1,!0,!1,!0,-1,-1);u.n=J|K|O|L;c.k(u);Od(p,function(){r=p.Ea();I(q.i,6,0,6,0,!0,!1,!0,!0,-1,r);I(u.i,0,50,1E3,r+1,!1,!0,!1,!0,-1,-1);a.p(!1)});c=new id(a);c.o(f,b);a.S.push(e);a.S.push(d);a.S.push(c);a.S.push(p);a.S.push(g);a.S.push(l);a.p();Kd(b)}function Pd(a){a.tc=332;var b=a.b,c=a.Ke,d=a.W.id,e=d+"I";a.K(c.a,e);var f=D(e);I(f.i,0,0,1E3,0,!1,!1,!1,!1,-1,50);f.n=J|K|O;c.k(f);d=d+"O";a.K(c.a,d);var g=D(d);I(g.i,0,50,1E3,1E3,!1,!0,!1,!1,-1,-1);g.n=L|K|O;c.k(g);c=e+"W";a.K(f.a,c);var h=D(c);I(h.i,0,0,500,1E3,!1,!1,!1,!1,-1,-1);h.n=J|K|O|L;f.k(h);h=new jd(a);h.o(c,b,F);a.S.push(h);e+="B";a.K(f.a,e);c=D(e);I(c.i,500,0,1E3,1E3,!1,!1,!1,!1,-1,-1);c.n=J|K|O|L;f.k(c);f=new jd(a);f.o(e,b,E);a.S.push(f);var k=new aa(a);a.S.push(k);g.Ua(3,k,{sb:a.Md-50});f=d+"B";a.K(g.a,f);e=D(f);g.k(e);k.o(f,b);k.za();f=d+"N";e=a.K(g.a,f);d=D(f);g.k(d);e.style.background="rgb(217, 217, 217)";e=f+"T";a.K(d.a,e);var l=new Nd(a);l.o(e);var n=l.Ea();a.S.push(l);a.Md=n+160;g.Ua(3,k,{sb:a.Md-50});var p=D(e);I(p.i,0,1,1E3,0,!1,!0,!1,!1,-1,n);p.n=K|O|J;d.k(p);f+="U";a.K(d.a,f);var r=D(f);I(r.i,0,n+2,1E3,1E3,!1,!0,!1,!1,-1,-1);r.n=K|O|L;d.k(r);Od(l,function(){n=l.Ea();a.Md=n+160;g.Ua(3,k,{sb:a.Md-50});I(p.i,0,1,1E3,0,!1,!0,!1,!1,-1,n);I(r.i,0,n+2,1E3,1E3,!1,!0,!1,!1,-1,-1);a.p(!1)});d=f+"L";a.K(r.a,d);e=D(d);I(e.i,0,0,0,1E3,!1,!1,!1,!1,36,-1);e.n=K|J|L;r.k(e);e=f+"R";a.K(r.a,e);c=D(e);I(c.i,36,0,1E3,1E3,!0,!1,!1,!1,-1,-1);c.n=O|J|L;r.k(c);f=e+"N";a.K(c.a,f);h=D(f);I(h.i,0,0,1E3,1E3,!1,!1,!1,!1,-1,-1);h.n=K|O|J|L;c.k(h);e+="C";a.K(c.a,e);h=D(e);I(h.i,0,0,1E3,1E3,!1,!1,!1,!1,-1,-1);h.n=K|O|J|L;c.k(h);c=new Md(a);c.o(f,b);a.S.push(c);c=new id(a);c.o(e,b);a.S.push(c);c=new Qd(a);c.o(d,b,f,e);a.S.push(c);a.p();Kd(b);a.xm=50;a.ym=36;a.wm=160}m.qg=function(a){this.Be=5;var b=this.b,c=new aa(this);x.fa.Pg=!1;var d=D(a),e=a+"GoBoard";this.K(d.a,e);var f=D(e);I(f.i,0,0,1,1,!1,!1,!0,!0,-1,-1);f.n=J|K|O|L;d.k(f);this.Yc=200;f.Ua(1,c,{sb:this.Yc});var g=a+"_Board",h=a+"_Panel";this.K(f.a,g);this.K(f.a,h);var k=D(g);a=D(h);f.k(k);f.k(a);a.a.style.background="rgb(217, 217, 217)";c.o(g,b);c.za();f=h+"_Toolbar";g=h+"_Comments";this.K(a.a,g);this.K(a.a,f);h=D(g);I(h.i,0,38,1E3,1E3,!1,!0,!1,!1,-1,-1);h.n=J|K|O|L;a.k(h);h=D(f);I(h.i,6,1,1E3,1E3,!0,!0,!1,!0,-1,36);h.n=K|O|J;a.k(h);a=new id(this);a.o(g,b);g=new cd(this);S(g,new zc(this),36,T);S(g,new Wc(this),36,T);g.o(f,b);this.S.push(c);this.S.push(a);this.S.push(g);this.Qa=d;this.p();Kd(b);Hd(this,e)};m.p=function(a){a?Dd(this,!0):this.Lj=!0};function Hd(a,b,c){a.W=document.getElementById(b);a.Ke=c;a.W.style.background="url('"+Rd+"')";a.W.onclick=a.Co}function Dd(a,b){if(!0===a.$g){var c=a.Qa.a.clientWidth,d=a.Qa.a.clientHeight;0<a.tc&&c<a.tc&&(c=a.tc);var e=-1,e=d-(c-a.Yc)>a.Md+100?1:0;if(a.Yj!==e){a.Yj=e;for(Nb(a);a.W.firstChild;)a.W.removeChild(a.W.firstChild);a.Ke&&a.Ke.Da();Fd={};0===a.Yj?Ld(a):Pd(a);a.b&&(a.b.ja(a.b.m,!0),a.b.bc(!0))}}a.Lj=!1;a.Qa&&(c=a.Qa.a.clientWidth,d=a.Qa.a.clientHeight,0<a.tc&&c<a.tc&&(c=a.tc),a.Qa.cb(c,d));c=0;for(d=a.S.length;c<d;c++)a.S[c].p(b)}m.K=function(a,b){var c=document.createElement("div");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};m.ul=function(a){this.ma=a};function Ob(a,b){Nb(a);a.gh=b}function Nb(a){if(a.gh){var b=a.gh;a.gh=null;a.W.removeChild(b)}}m.pl=function(){this.Hf&&sc(this.Hf,0)};m.Ri=function(){this.Hf&&sc(this.Hf,16)};m.sj=function(a){if(this.xc){var b=this.xc;b.uh=a;b.ta()}this.Sd&&(a=this.Sd,a.sk=this.b.Ve(),a.ta())};m.tj=function(a){if(this.xc){var b=this.xc;b.vh=a;b.ta()}};m.uj=function(a){if(this.Cc){var b=this.Cc;b.uh=a;b.ta()}this.Sd&&(a=this.Sd,a.sk=this.b.Ve(),a.ta())};m.vj=function(a){if(this.Cc){var b=this.Cc;b.vh=a;b.ta()}};m.hf=function(a,b){this.xc&&this.xc.hf(a);this.Cc&&this.Cc.hf(b);this.Rd&&this.Rd.Pc(b,a)};m.Pc=function(a,b){this.xc&&this.xc.Pc(a);this.Cc&&this.Cc.Pc(b);this.Rd&&this.Rd.Pc(b,a)};m.bc=function(a){for(var b=0,c=this.B.Nh.length;b<c;b++)rc(this.B.Nh[b],a.Fc);b=0;for(c=this.B.Oh.length;b<c;b++)rc(this.B.Oh[b],a.Fc);b=0;for(c=this.B.Fc.length;b<c;b++)rc(this.B.Fc[b],a.Fc);b=0;for(c=this.B.Hc.length;b<c;b++)rc(this.B.Hc[b],a.Hc);b=0;for(c=this.B.ni.length;b<c;b++)rc(this.B.ni[b],a.Hc);b=0;for(c=this.B.mi.length;b<c;b++)rc(this.B.mi[b],a.Hc);b=0;for(c=this.B.Lc.length;b<c;b++)rc(this.B.Lc[b],a.Lc);b=0;for(c=this.B.Mc.length;b<c;b++)rc(this.B.Mc[b],a.Mc);b=0;for(c=this.B.Th.length;b<c;b++)tc(this.B.Th[b],0===a.pb);b=0;for(c=this.B.Vh.length;b<c;b++)tc(this.B.Vh[b],1===a.pb);b=0;for(c=this.B.Sh.length;b<c;b++)tc(this.B.Sh[b],2===a.pb);b=0;for(c=this.B.Yh.length;b<c;b++)tc(this.B.Yh[b],3===a.pb);b=0;for(c=this.B.Wh.length;b<c;b++)tc(this.B.Wh[b],4===a.pb);b=0;for(c=this.B.Rh.length;b<c;b++)tc(this.B.Rh[b],5===a.pb);b=0;for(c=this.B.Zh.length;b<c;b++)tc(this.B.Zh[b],6===a.pb);b=0;for(c=this.B.Xh.length;b<c;b++)tc(this.B.Xh[b],7===a.pb);b=0;for(c=this.B.Uh.length;b<c;b++)tc(this.B.Uh[b],8===a.pb);b=0;for(c=this.B.Qh.length;b<c;b++)tc(this.B.Qh[b],10===a.pb);this.mk&&(b=this.mk,!0!==b.qf&&Sd(b,a.Hl,!0));if(this.Nf&&(b=this.Nf,a=a.pb,b.qa!==a)){b.qa=a;switch(a){case 0:b.c=b.Fm.c;break;case 1:b.c=b.Hm.c;break;case 2:b.c=b.Cm.c;break;case 3:b.c=b.Km.c;break;case 4:b.c=b.Im.c;break;case 5:b.c=b.Em.c;break;case 6:b.c=b.Lm.c;break;case 7:b.c=b.Jm.c;break;case 8:b.c=b.Gm.c;break;case 10:b.c=b.Dm.c}pc(b)}Td()};m.Oc=function(a){for(var b=0,c=this.Hj.length;b<c;b++)this.Hj[b].Oc(a)};function Td(){var a=Fd[fc];a&&a.rf&&a.Fa()}m.mj=function(){var a=x.mj();this.B.lb&&this.B.lb.aj(a);return a};m.oj=function(){var a=x.oj();this.B.lb&&this.B.lb.dj(a);return a};m.lj=function(){var a=x.lj();this.B.lb&&this.B.lb.df(a);return a};m.kj=function(){var a=x.kj();this.B.lb&&this.B.lb.Wi(a);return a};m.nj=function(){var a=x.nj();this.B.lb&&this.B.lb.cj(a);return a};m.ie=function(a){var b=this.b?this.b.j:null;if(!b||.1>Math.abs(sa(b)))return 0;b=1/sa(b);switch(this.Be){case 1:return b*a;case 2:return this.zm+this.Am+b*a;case 3:return this.wm+this.xm+this.ym+b*a;case 4:return(a-this.Yc)*b;case 5:return(a-this.Yc)*b;default:return 0}};var Ud=0,Vd=1,tb=2,B=new function(){this.ai=this.f=this.g=0;this.pc=Vd;this.t=this.r=this.ig=!1;this.Wa=null;this.af=-1;this.ll=this.kl=this.Se=0;this.Gi=this.wg=!1},la=new function(){this.t=this.r=this.ig=!1;this.Wa=null;this.F=this.ln=0};function ka(a){la.ig=a.altKey;la.r=void 0!==a.metaKey?a.ctrlKey||a.metaKey:a.ctrlKey;la.t=a.shiftKey;la.Wa=a.srcElement?a.srcElement:a.target;la.ln=a.charCode;la.F=a.keyCode;la.Uo=a.which}function ca(a){if(!a.wg||a.Gi){if(a.pageX||a.pageY)B.g=a.pageX,B.f=a.pageY;else if(a.clientX||a.clientY)B.g=a.clientX,B.f=a.clientY;B.ig=a.altKey;B.t=a.shiftKey;B.r=a.ctrlKey||a.metaKey;B.pc=Vd;B.wg||(B.Wa=a.srcElement?a.srcElement:a.target);if(3<Math.abs(B.g-B.kl)||3<Math.abs(B.f-B.ll))B.af=-1,B.Se=0}}function ja(a){if(a.pageX||a.pageY)B.g=a.pageX,B.f=a.pageY;else if(a.clientX||a.clientY)B.g=a.clientX,B.f=a.clientY;B.kl=B.g;B.ll=B.f;B.ig=a.altKey;B.t=a.shiftKey;B.r=a.ctrlKey||a.metaKey;B.pc=Ud;B.ai=a.button;B.Wa=a.srcElement?a.srcElement:a.target;a=(new Date).getTime();0==B.Se?(B.Se=1,B.af=a):500>a-B.af?(B.af=a,B.Se++):(B.Se=1,B.af=a);window.Qg=!1}window.onmousemove=function(a){B.wg&&void 0!=B.Wa&&null!=B.Wa&&void 0!=B.Wa.onmousemove&&null!=B.Wa.onmousemove&&(B.Gi=!0,B.Wa.onmousemove(a),B.Gi=!1)};window.onmouseup=function(a){if(!1===window.Qg){window.Qg=!0;if(B.wg&&B.Wa&&void 0!=B.Wa.onmouseup&&null!=B.Wa.onmouseup)B.Wa.onmouseup(a,!0);B.Wa=null}};function Wd(){this.Mc=this.Lc=this.Hc=this.Fc=!0;this.Hl=this.pb=0};var ya=-1,nb=0,mb=1,lb=2,gb=3,ob=4,hb=5,ib=6,jb=7,kb=8;function xa(a,b,c,d){this.ph={g:void 0===a?0:a,f:void 0==b?0:b};this.M=void 0===c?nb:c;this.Oe=void 0===d?"":d}xa.prototype.od=function(){return this.ph.g};xa.prototype.pd=function(){return this.ph.f};xa.prototype.xl=function(a,b){this.ph.g=a;this.ph.f=b};xa.prototype.Ua=function(a){this.M=a};function Md(a){function b(){if(d.Vc)d.hc=null;else{var a=parseFloat(d.a.Aa.style.opacity),c=parseFloat(d.a.Na.style.opacity),a=Math.max(a-.01,0),c=Math.max(c-.01,0);d.a.Aa.style.opacity=a;d.a.Na.style.opacity=c;.001<a?d.hc=setTimeout(b,10):d.hc=null}}function c(){if(d.Vc)d.hc=null;else{var a=parseFloat(d.a.va.style.opacity),b=parseFloat(d.a.Ga.style.opacity),a=Math.max(a-.01,0),b=Math.max(b-.01,0);d.a.va.style.opacity=a;d.a.Ga.style.opacity=b;.001<a?d.wc=setTimeout(c,10):d.wc=null}}this.h=a;this.b=null;this.da=new Xd;this.bh=this.ah=!0;this.a={d:null,ba:{d:null},Selection:{d:null},ld:{d:null},$:{d:null},gj:{d:null},Qi:{d:null},pn:{d:null},Aa:null,va:null,Na:null,Ga:null,cf:0,bf:0};this.yb=null;this.c={I:0,D:0,ba:null,de:null,te:null,kg:null,Og:null,Ai:null,hl:null,ui:null,gl:null,yi:null,wj:null,Tl:null,Aj:null,Ei:null,Bi:null,Ci:null,Di:null,Fi:null,vi:null,wi:null,xi:null,zi:null,Cj:null,xj:null,yj:null,zj:null,Bj:null,Ml:null,Pl:null,Nl:null,Ql:null,Ol:null,Rl:null,zd:null,ld:null,Oa:null,$b:0};this.X={g:0,f:0};this.Vc=!1;this.Rn=!0;this.zb={I:0,D:0,g:0,f:0};this.wc=this.hc=this.He=this.Ee=null;var d=this;this.Gk=function(){return setTimeout(function(){d.zk()},20)};this.fg=function(a){d.Vc||(d.b&&d.b.za(),ja(a),a=d.Pe(B.g,B.f),a=d.da.J(a.g,a.f),a.Ze()&&d.b&&d.b.ja(a))};this.Gh=function(a){d.Vc||(ca(a),a=d.Pe(B.g,B.f),Yd(d,a.g,a.f))};this.gg=function(){d.Vc||Yd(d,-1,-1)};this.Ym=function(a){if(d.Vc)return!1;var b=0,b=void 0!=a.wheelDelta?0<a.wheelDelta?-45:45:0<a.detail?45:-45;a.preventDefault&&a.preventDefault();var g=20+24*(d.da.Ea()+1)-d.a.ba.d.a.height;d.X.f-=b;d.X.f=Math.min(0,Math.max(d.X.f,-g));Zd(d);d.Gh(a);$d(d);d.wk();d.a.Ga.style.opacity=.3;d.a.va.style.opacity=.5;d.wc=setTimeout(c,500);return!1};this.Fh=function(){d.b&&d.b.za()};this.Ah=function(){null!==d.Ee&&(clearTimeout(d.Ee),d.Ee=null)};this.Vm=function(){null!==d.hc&&(clearTimeout(d.hc),d.hc=null)};this.Do=function(a){function b(a){var c=-d.X.g;c!==l?(c=c<l?Math.min(l,c+200):Math.max(l,c-200),d.X.g=-c,Zd(d),$d(d),c!==l?d.Ee=setTimeout(b,!0===a?300:30):d.Ee=null):d.Ee=null}d.Ah();ja(a);a=B.g-Ka(d.a.Na).g;var c=d.da.Db()+1,h=d.a.cf,k=d.c.I-4;a=Math.max(0,Math.min(k-h,a-h/2));var l=a/(k-h)*(20+24*c-k);b(!0)};this.Oo=function(){d.Ah()};this.Lo=function(){d.Vm();d.a.Na.style.opacity=.3;d.a.Aa.style.opacity=.5};this.Go=function(){d.Ah();d.hc=setTimeout(b,10)};this.xk=function(){null!==d.He&&(clearTimeout(d.He),d.He=null)};this.wk=function(){null!==d.wc&&(clearTimeout(d.wc),d.wc=null)};this.Eo=function(a){function b(a){var c=-d.X.f;c!==l?(c=c<l?Math.min(l,c+48):Math.max(l,c-48),d.X.f=-c,Zd(d),$d(d),c!==l?d.He=setTimeout(b,!0===a?300:30):d.He=null):d.He=null}d.xk();ja(a);a=B.f-Ka(d.a.Ga).f;var c=d.da.Ea()+1,h=d.a.bf,k=d.c.D-4;a=Math.max(0,Math.min(k-h,a-h/2));var l=a/(k-h)*(20+24*c-k);b(!0)};this.Po=function(){d.xk()};this.No=function(){d.wk();d.a.Ga.style.opacity=.3;d.a.va.style.opacity=.5};this.Io=function(){d.xk();d.wc=setTimeout(c,10)};this.Ko=function(){d.Vm();d.a.Aa.style.opacity=.7;d.a.Na.style.opacity=.3};this.Fo=function(){d.Ah();d.hc=setTimeout(b,10)};this.Mo=function(){d.wk();d.a.va.style.opacity=.7;d.a.Ga.style.opacity=.3};this.Ho=function(){d.a.va.style.opacity=.5;d.wc=setTimeout(c,10)};this.Xm=function(){d.Vc=!0};this.Wm=function(){d.Vc=!1;var a=B.g,f=B.f,g=Ka(d.a.Na),h=g.g,g=g.f,k=d.a.Na.clientWidth,l=d.a.Na.clientHeight;if(a<h||a>h+k||f<g||f>g+l)d.hc=setTimeout(b,10);g=Ka(d.a.Ga);h=g.g;g=g.f;k=d.a.Ga.clientWidth;l=d.a.Ga.clientHeight;if(a<h||a>h+k||f<g||f>g+l)d.wc=setTimeout(c,10)};this.oo=function(a){a-=2;var b=d.da.Db()+1,c=d.c.I;d.X.g=-(a/(c-4-d.a.cf)*(20+24*b-c));Zd(d)};this.wo=function(a,b){b-=2;var c=d.da.Ea()+1,h=d.c.D;d.X.f=-(b/(h-4-d.a.bf)*(20+24*c-h));Zd(d)}}m=Md.prototype;m.o=function(a,b){this.h&&(this.h.lh=this);this.b=b;this.b.L=this;this.da.Yi(b);this.a.d=D(a);var c=this.a.d.a,d=this.a.d,e=a+"_Board",f=a+"_Selection",g=a+"_Current",h=a+"_Lines",k=a+"_Shadows",l=a+"_Nodes",n=a+"_Events";this.Va(c,e);this.Va(c,f);this.Va(c,g);this.Va(c,h);this.Va(c,k);this.Va(c,l);var p=this.oa(c,n);this.a.Na=this.oa(c,a+"HorScroll_BG");this.a.Aa=this.oa(c,a+"HorScroll");this.a.Ga=this.oa(c,a+"VerScroll_BG");this.a.va=this.oa(c,a+"VerScroll");this.a.Na.style.background="rgb(0,0,0)";this.a.Na.style.opacity="0";this.a.Ga.style.background="rgb(0,0,0)";this.a.Ga.style.opacity="0";this.a.Na.onmousedown=this.Do;this.a.Na.onmouseup=this.Oo;this.a.Na.onmouseover=this.Lo;this.a.Na.onmouseout=this.Go;this.a.Ga.onmousedown=this.Eo;this.a.Ga.onmouseup=this.Po;this.a.Ga.onmouseover=this.No;this.a.Ga.onmouseout=this.Io;this.a.Aa.onmouseover=this.Ko;this.a.Aa.onmouseout=this.Fo;this.a.va.onmouseover=this.Mo;this.a.va.onmouseout=this.Ho;c=D(a+"HorScroll_BG");I(c.i,2,0,2,4,!0,!1,!0,!0,-1,8);c.n=K|L|O;d.k(c);c=D(a+"VerScroll_BG");I(c.i,0,2,4,2,!1,!0,!0,!0,8,-1);c.n=J|L|O;d.k(c);this.sa(this.a.ba,d,e);this.sa(this.a.Selection,d,f);this.sa(this.a.ld,d,g);this.sa(this.a.$,d,h);this.sa(this.a.gj,d,k);this.sa(this.a.Qi,d,l);this.sa(this.a.pn,d,n);p.onmousedown=this.fg;p.onmousemove=this.Gh;p.onmouseout=this.gg;p.onmousewheel=this.Ym;p.addEventListener&&p.addEventListener("DOMMouseScroll",this.Ym,!1);p.onfocus=this.Fh;p.tabIndex=-1;p.style.Pn=!0;p.style.outline=0;this.dg();this.bg();ae(this);this.cg()};m.p=function(a){var b=this.a.d.a.clientWidth,c=this.a.d.a.clientHeight;this.a.d.cb(b,c);this.Tb(b,c,a)};m.Fa=function(){if(!(0>=this.c.I||0>=this.c.D)){var a=this.da.Db()+1,b=this.da.Ea()+1,c=this.c.I,d=this.c.D,a=20+24*a,b=20+24*b;a>c?(this.a.cf=Math.max(50,c*c/a),this.a.Aa.style.width=Math.max(50,c*c/a)+"px",this.a.Aa.style.display="block",this.a.Aa.style.position="absolute",this.a.Aa.style.top=d-12+"px",this.a.Aa.style.height="8px",this.a.Aa.style.background=this.kc()?"rgb(220, 220, 220)":"rgb(0,0,0)",this.a.Aa.style.opacity=0,be(this.a.Aa,2,c-this.a.cf-2,d-12,d-12),this.a.Aa.ob=this.oo,this.a.Aa.zh=this.Xm,this.a.Aa.yh=this.Wm,this.a.Na.style.display="block"):(this.a.Na.style.display="none",this.a.Aa.style.display="none");b>d?(this.a.bf=Math.max(50,d*d/b),this.a.va.style.height=Math.max(50,d*d/b)+"px",this.a.va.style.display="block",this.a.va.style.position="absolute",this.a.va.style.left=c-12+"px",this.a.va.style.width="8px",this.a.va.style.background=this.kc()?"rgb(220, 220, 220)":"rgb(0,0,0)",this.a.va.style.opacity=0,be(this.a.va,c-12,c-12,2,d-this.a.bf-2),this.a.va.ob=this.wo,this.a.va.zh=this.Xm,this.a.va.yh=this.Wm,this.a.Ga.style.display="block"):(this.a.Ga.style.display="none",this.a.va.style.display="none");this.zb.D=-1;this.zb.I=-1;Zd(this);$d(this)}};m.Cb=function(){this.da.Cb();this.zb.D=-1;this.zb.I=-1};function ce(a,b){a.ah=!0;var c=a.c.I,d=a.c.D;if(!(0>=c||0>=d)){var e=a.b.m.gb,f=e.g,e=e.f,g=10+a.X.g+24*f,h=10+a.X.f+24*e;if(0!=b&&!0===a.Rn&&(10>=g||g>=c-10||10>=h||h>=d-10)){var k=20+24*(a.da.Ea()+1)-d,l=20+24*(a.da.Db()+1)-c;10>=g?a.X.g=24*-f:g>=c-10&&(a.X.g=c-24-10-10-24*f);10>=h?a.X.f=24*-e:h>=d-10&&(a.X.f=d-24-10-10-24*e);a.X.g=Math.min(0,Math.max(a.X.g,-l));a.X.f=Math.min(0,Math.max(a.X.f,-k));$d(a);Zd(a)}}}m.Va=function(a,b){var c=document.createElement("canvas");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};m.oa=function(a,b){var c=document.createElement("div");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};m.sa=function(a,b,c){a.d=D(c);a=a.d;I(a.i,0,0,1E3,1E3,!1,!1,!1,!1,-1,-1);a.n=J|K|L|O;b.k(a)};m.Tb=function(a,b,c){var d=this.a.ba.d.a.getContext("2d");a!==this.c.I||b!==this.c.D||null===this.c.ba||null!==this.yb||!0===c?(this.c.I=a,this.c.D=b,d.fillStyle=P(this.eg()),d.fillRect(0,0,a,b),null!==this.yb&&clearTimeout(this.yb),this.yb=this.Gk()):d.putImageData(this.c.ba,0,0);this.Fa();ce(this,!0)};m.zk=function(){this.yb=null;var a=this.c.I,b=this.c.D,c=this.a.ba.d.a.getContext("2d");if(0!==a&&0!==b){for(var d=c.createImageData(a,b),e=this.eg(),f=e.u,g=e.w,e=e.v,h=Array(a),k=0;k<a;k++)h[k]=(Math.tan(300*k/a)+1)/2+(Math.tan(100*k/a)+1)/10;for(var l=Array(b),n=0;n<b;n++)l[n]=.02*Math.tan(n/b);var p,r,q,k=this.ae();if(!0===this.Dh())for(q=.9,n=0;n<b;n++)for(k=0;k<a;k++){q=40*(h[k]+l[n])+.5;q-=Math.floor(q);q=.2>q?1-q/2:.4>q?1-(.4-q)/2:1;if(n==b-1||n==b-2&&k<a-2||k>=a-1||k==a-2&&n<b-1)q/=2;0==n||1==n&&1<k||0==k||1==k&&1<n?(p=128+f*q/2,r=128+g*q/2,q=128+e*q/2):(p=f*q,r=g*q,q*=e);var u=4*(k+n*a);d.data[u+0]=p;d.data[u+1]=r;d.data[u+2]=q;d.data[u+3]=255}else for(h=0;h<b;h++)for(l=0;l<a;l++)0==h||0==l||h===b-1||l===a-1?(p=k.u,r=k.w,q=k.v):(p=f,r=g,q=e),u=4*(l+h*a),d.data[u+0]=p,d.data[u+1]=r,d.data[u+2]=q,d.data[u+3]=255;this.c.ba=d;c.putImageData(this.c.ba,0,0)}};m.dg=function(){var a=this.a.Qi.d.a.getContext("2d");this.c.de=a.createImageData(20,20);this.c.te=a.createImageData(20,20);this.c.kg=a.createImageData(20,20);this.c.Og=a.createImageData(20,20);var a=this.c.de.data,b=this.c.te.data,c=this.c.kg.data,d=this.c.Og.data,e=this.Ck(),f=this.Ak(),g=this.kc();if(!0===this.Bk())for(var h=9.5,k=h-.2,e=Math.sqrt(3),l=0;20>l;l++)for(var n=0;20>n;n++){var p=l-h,r=n-h,q=k-Math.sqrt(p*p+r*r),u=4*(20*l+20-n-1);if(0<=q){var v=k*k-p*p-r*r,v=0<v?Math.sqrt(v)*e:0,g=p,t=r,f=Math.sqrt(6*(g*g+t*t+v*v)),f=(2*v-g+t)/f,g=0;.9<f&&(g=10*(f-.9));v=255;.8>=q&&(q=(.8-q)/.8,v=.7,p-r<k/3&&(v=1),v=parseInt(255*(1-q*v)));p=parseInt(10+10*f+140*g);a[u+0]=p;a[u+1]=p;a[u+2]=p;a[u+3]=v;c[u+0]=p;c[u+1]=p;c[u+2]=p;c[u+3]=parseInt(.5*v);p=parseInt(200+10*f+45*g);b[u+0]=p;b[u+1]=p;b[u+2]=p;b[u+3]=v;d[u+0]=p;d[u+1]=p;d[u+2]=p;d[u+3]=parseInt(.7*v)}else a[u+0]=0,a[u+1]=0,a[u+2]=0,a[u+3]=0,d[u+0]=0,d[u+1]=0,d[u+2]=0,d[u+3]=0}else for(h=9.5,k=h-.2,l=0;20>l;l++)for(n=0;20>n;n++)if(p=l-h,r=n-h,q=k-Math.sqrt(p*p+r*r),u=4*(20*l+20-n-1),0<=q){v=255;if(.8>=q){var y=(.8-q)/.8,v=.7;p-r<k/3&&(v=1);v=parseInt(255*(1-y*v))}else 1.6>=q&&.8<=q&&!0===g&&(y=(1.6-q)/.8,v=.7,p-r<k/3&&(v=1),v=parseInt(y*v*255));t=!1;1.6>=q&&(t=!0);!1===t||!1===g?(a[u+0]=f.u,a[u+1]=f.w,a[u+2]=f.v,a[u+3]=v,c[u+0]=f.u,c[u+1]=f.w,c[u+2]=f.v):(a[u+0]=e.u,a[u+1]=e.w,a[u+2]=e.v,a[u+3]=v,c[u+0]=e.u,c[u+1]=e.w,c[u+2]=e.v);c[u+3]=parseInt(.5*v);v=255;.8>=q?(y=(.8-q)/.8,v=.7,p-r<k/3&&(v=1),v=parseInt(255*(1-y*v))):1.6>=q&&.8<=q&&!1===g&&(y=(1.6-q)/.8,v=.7,p-r<k/3&&(v=1),v=parseInt(y*v*255));!1===t||!0===g?(b[u+0]=e.u,b[u+1]=e.w,b[u+2]=e.v,b[u+3]=v,d[u+0]=e.u,d[u+1]=e.w,d[u+2]=e.v):(b[u+0]=f.u,b[u+1]=f.w,b[u+2]=f.v,b[u+3]=v,d[u+0]=f.u,d[u+1]=f.w,d[u+2]=f.v);d[u+3]=parseInt(v/2)}else a[u+0]=0,a[u+1]=0,a[u+2]=0,a[u+3]=0,c[u+0]=0,c[u+1]=0,c[u+2]=0,c[u+3]=0,b[u+0]=0,b[u+1]=0,b[u+2]=0,b[u+3]=0,d[u+0]=0,d[u+1]=0,d[u+2]=0,d[u+3]=0};m.bg=function(){var a=this.a.$.d.a.getContext("2d");this.c.Ai=a.createImageData(24,24);this.c.hl=a.createImageData(24,24);this.c.ui=a.createImageData(24,24);this.c.gl=a.createImageData(24,24);this.c.yi=a.createImageData(24,24);this.c.wj=a.createImageData(24,24);this.c.Tl=a.createImageData(24,24);this.c.Aj=a.createImageData(24,24);this.c.Ei=a.createImageData(24,24);this.c.Bi=a.createImageData(24,24);this.c.Ci=a.createImageData(24,24);this.c.Di=a.createImageData(24,24);this.c.Fi=a.createImageData(24,24);this.c.vi=a.createImageData(24,24);this.c.wi=a.createImageData(24,24);this.c.xi=a.createImageData(24,24);this.c.zi=a.createImageData(24,24);this.c.Cj=a.createImageData(24,24);this.c.xj=a.createImageData(24,24);this.c.yj=a.createImageData(24,24);this.c.zj=a.createImageData(24,24);this.c.Bj=a.createImageData(24,24);for(var a=this.c.Ai.data,b=this.c.hl.data,c=this.c.ui.data,d=this.c.gl.data,e=this.c.yi.data,f=this.c.wj.data,g=this.c.Tl.data,h=this.c.Aj.data,k=this.c.Ei.data,l=this.c.Bi.data,n=this.c.Ci.data,p=this.c.Di.data,r=this.c.Fi.data,q=this.c.vi.data,u=this.c.wi.data,v=this.c.xi.data,t=this.c.zi.data,y=this.c.Cj.data,M=this.c.xj.data,N=this.c.yj.data,C=this.c.zj.data,H=this.c.Bj.data,U=!0===this.kc()?200:28,A=new z(U,U,U,255),Q=0;24>Q;Q++)for(var W=0;24>W;W++){var w=4*(24*Q+W);12<=W&&(11===Q||12===Q)?(a[w+0]=A.u,a[w+1]=A.v,a[w+2]=A.w,a[w+3]=255,k[w+0]=A.u,k[w+1]=A.v,k[w+2]=A.w,k[w+3]=96):(a[w+3]=0,k[w+3]=0);11<=W&&(11===Q||12===Q)||12<=Q&&(11===W||12===W)?(b[w+0]=A.u,b[w+1]=A.v,b[w+2]=A.w,b[w+3]=255,p[w+0]=A.u,p[w+1]=A.v,p[w+2]=A.w,p[w+3]=96):(b[w+3]=0,p[w+3]=0);11<=W&&(11===Q||12===Q)?(l[w+0]=A.u,l[w+1]=A.v,l[w+2]=A.w,l[w+3]=255):12<=Q&&(11===W||12===W)?(l[w+0]=A.u,l[w+1]=A.v,l[w+2]=A.w,l[w+3]=96):l[w+3]=0;12<=Q&&(11===W||12===W)?(n[w+0]=A.u,n[w+1]=A.v,n[w+2]=A.w,n[w+3]=255):11<=W&&(11===Q||12===Q)?(n[w+0]=A.u,n[w+1]=A.v,n[w+2]=A.w,n[w+3]=96):n[w+3]=0;11===Q||12===Q?(c[w+0]=A.u,c[w+1]=A.v,c[w+2]=A.w,c[w+3]=255,r[w+0]=A.u,r[w+1]=A.v,r[w+2]=A.w,r[w+3]=96):(c[w+3]=0,r[w+3]=0);11===Q||12===Q||12<=Q&&(11===W||12===W)?(d[w+0]=A.u,d[w+1]=A.v,d[w+2]=A.w,d[w+3]=255,v[w+0]=A.u,v[w+1]=A.v,v[w+2]=A.w,v[w+3]=96):(d[w+3]=0,v[w+3]=0);11===Q||12===Q?(q[w+0]=A.u,q[w+1]=A.v,q[w+2]=A.w,q[w+3]=255):12<=Q&&(11===W||12===W)?(q[w+0]=A.u,q[w+1]=A.v,q[w+2]=A.w,q[w+3]=96):q[w+3]=0;(11===Q||12===Q)&&12>=W||12<=Q&&(11===W||12===W)?(u[w+0]=A.u,u[w+1]=A.v,u[w+2]=A.w,u[w+3]=255):(11===Q||12===Q)&&12<W?(u[w+0]=A.u,u[w+1]=A.v,u[w+2]=A.w,u[w+3]=96):(d[w+3]=0,v[w+3]=0);11>=W&&(11===Q||12===Q)?(e[w+0]=A.u,e[w+1]=A.v,e[w+2]=A.w,e[w+3]=255,t[w+0]=A.u,t[w+1]=A.v,t[w+2]=A.w,t[w+3]=96):(e[w+3]=0,t[w+3]=0);11===W||12===W?(f[w+0]=A.u,f[w+1]=A.v,f[w+2]=A.w,f[w+3]=255,y[w+0]=A.u,y[w+1]=A.v,y[w+2]=A.w,y[w+3]=96):(f[w+3]=0,y[w+3]=0);11===W||12===W||12<=W&&(11===Q||12===Q)?(g[w+0]=A.u,g[w+1]=A.v,g[w+2]=A.w,g[w+3]=255,C[w+0]=A.u,C[w+1]=A.v,C[w+2]=A.w,C[w+3]=96):(g[w+3]=0,C[w+3]=0);(11===W||12===W)&&12>=Q||12<=W&&(11===Q||12===Q)?(M[w+0]=A.u,M[w+1]=A.v,M[w+2]=A.w,M[w+3]=255):(11===W||12===W)&&12<Q?(M[w+0]=A.u,M[w+1]=A.v,M[w+2]=A.w,M[w+3]=96):M[w+3]=0;11===W||12===W?(N[w+0]=A.u,N[w+1]=A.v,N[w+2]=A.w,N[w+3]=255):12<W&&(11===Q||12===Q)?(N[w+0]=A.u,N[w+1]=A.v,N[w+2]=A.w,N[w+3]=96):N[w+3]=0;11>=Q&&(11===W||12===W)||11<=W&&(11===Q||12===Q)?(h[w+0]=A.u,h[w+1]=A.v,h[w+2]=A.w,h[w+3]=255,H[w+0]=A.u,H[w+1]=A.v,H[w+2]=A.w,H[w+3]=96):(h[w+3]=0,H[w+3]=0)}this.c.Ml=this.Sb(20,20,20*.07,A,1,null);this.c.Pl=this.Sb(20,20,20*.07,new z(U,U,U,96),1,null);this.c.Nl=this.Sb(20,20,1.2,new z(255,255,255,255),1,this.c.de);this.c.Ql=this.Sb(20,20,1.2,new z(0,0,0,255),1,this.c.te);this.c.Ol=this.Sb(20,20,1.2,new z(255,255,255,96),1,this.c.kg);this.c.Rl=this.Sb(20,20,1.2,new z(0,0,0,96),1,this.c.Og)};function ae(a){var b=a.a.Selection.d.a.getContext("2d");a.c.zd=b.createImageData(24,24);a.c.ld=b.createImageData(24,24);for(var c=a.c.zd.data,d=a.c.ld.data,e=0;24>e;e++)for(var f=0;24>f;f++){var g=4*(f+24*e);c[g+3]=255;d[g+3]=255;0===f&&23===e||23===f&&0===e?(c[g+0]=135,c[g+1]=125,c[g+2]=135,d[g+0]=216):23===f||23===e?(c[g+0]=89,c[g+1]=89,c[g+2]=89,d[g+0]=178):(0===e||0===f?(c[g+0]=182,c[g+1]=182,c[g+2]=182):(c[g+0]=128,c[g+1]=128,c[g+2]=128),d[g+0]=255);d[g+1]=0;d[g+2]=0}b.putImageData(a.c.zd,0,0);b.putImageData(a.c.ld,0,30)}m.Sb=function(a,b,c,d,e,f){void 0===e&&(e=1);var g=this.a.$.d.a.getContext("2d");g.clearRect(0,0,a,b);null!==f&&g.putImageData(f,0,0);g.globalAlpha=e;g.strokeStyle=P(d);g.fillStyle=P(d);g.lineWidth=c;e=a/2;d=3*b/4;var h=.1*a;c=Math.sqrt(e*e-(d-e)*(d-e))+e-h;e=-Math.sqrt(e*e-(d-e)*(d-e))+e+h;null!==f&&(c=Math.floor(c-.5),e=Math.ceil(e+.5),h=Math.ceil(h+.5),d=Math.floor(d-.5));g.beginPath();g.moveTo(a/2,h);g.lineTo(c,d);g.lineTo(e,d);g.closePath();g.stroke();a=g.getImageData(0,0,a,b);g.putImageData(a,0,0);return a};m.cg=function(){var a=this.a.gj.d.a.getContext("2d");this.c.Oa=a.createImageData(20,20);a=this.c.Oa.data;this.c.$b=Math.max(3,3);for(var b=0;20>b;b++)for(var c=0;20>c;c++){var d=Math.abs(b-8.5),e=Math.abs(c-8.5),d=Math.sqrt(e*e+d*d)/8.5,d=1>d?.15+.75*(1-d):0,e=4*(20*b+c);a[e+0]=0;a[e+1]=0;a[e+2]=0;a[e+3]=parseInt(255*d)}};function Zd(a){a.bh=!0;ce(a,!1)}m.Pe=function(a,b){var c=Ka(this.a.ba.d.a);return{g:(a-c.g-10-this.X.g)/24|0,f:(b-c.f-10-this.X.f)/24|0}};function Yd(a,b,c){var d=a.c.I,e=a.c.D;if(!(0>=d||0>=e)){var f=a.a.Selection.d.a.getContext("2d");f.clearRect(0,0,d,e);0<=b&&0<=c&&(d=10+a.X.g+24*b,e=10+a.X.f+24*c,a.da.J(b,c).Ze()&&f.putImageData(a.c.zd,d,e))}}function $d(a){var b=-a.X.g,c=a.da.Db()+1,d=a.c.I,b=b/(20+24*c-d)*(d-4-a.a.cf)+2,c=-a.X.f,d=a.da.Ea()+1,e=a.c.D,c=c/(20+24*d-e)*(e-4-a.a.bf)+2;a.a.Aa.style.left=b+"px";a.a.va.style.top=c+"px"}m.Dh=function(){return x.ra.Tc};m.Bk=function(){return x.ra.Dd};m.Ch=function(){return x.ra.Cd};m.Ck=function(){return x.ra.$d};m.Ak=function(){return x.ra.Yd};m.eg=function(){return x.ra.hd};m.ae=function(){return x.ra.Zd};m.kc=function(){return x.ra.Bd};var zd=-9,Ad=-8,Bd=-7;function de(a,b,c){this.M=a;this.ga=b;this.nh=c}de.prototype.Ze=function(){return!1};de.prototype.R=function(){return this.nh};de.prototype.pe=function(){if(-10!==this.M)if(zd===this.M){if(this.ga.pe()&&0<Cd(this.ga)&&this.ga.R().gb.f>=this.nh.gb.f)return{Sc:!0}}else if(Ad===this.M){if(!this.ga.pe())return{Sc:!1};var a=this.nh.gb.f,b=this.ga.R().gb.f;if(a<b)return{Sc:!0,Bl:0};if(a===b)return{Sc:!0,Bl:1}}else if(Bd===this.M)return{Sc:this.nh.pe()};return{Sc:!1}};function Xd(){this.da=[];this.b=null;this.nb=0}m=Xd.prototype;m.Yi=function(a){this.b=a};m.Da=function(){this.da=[];this.nb=0};m.Cb=function(){this.b&&(this.Da(),ee(this,this.b.ia,0,0))};function ee(a,b,c,d){var e,f=1;for(e=b;0<Cd(e);)f++,e=e.R(0);for(e=f;!fe(a,c,d,e);)d++;var f=c,g=d,h=b;for(a.Set(f,g,b);0<Cd(h);)f++,h=h.R(0),a.Set(f,g,h);f=ge(b);c+=e-1;for(e={Sl:d};;){for(var g=d,h=a.nb,k=Cd(f),l=1;l<k;l++){a.nb=h;var n=d,p=ee(a,f.R(l),c+1,d+1);d=p.f;for(n+=1;n<=d;n++)if(n===p.Sl)if(k-1===l){a.Set(c,n,new de(Bd,f,f.R(l)));break}else a.Set(c,n,new de(Ad,f,f.R(l)));else n<p.Sl?a.Set(c,n,new de(zd,f,f.R(l))):a.Set(c,n,new de(zd,f,f.R(l+1)))}a.nb=h;if(f===b)break;f.Kc()&&a.nb--;f=f.ga;c--;d=g}e.f=d;return e}m.J=function(a,b){return void 0===this.da[b]||void 0===this.da[b][a]?new de(-10,null,null):this.da[b][a]};m.Set=function(a,b,c){void 0===this.da[b]&&(this.da[b]=[]);if(c.Ze())if(c.Kc()){this.nb++;var d=this.nb;c.gb.g=a;c.gb.f=b;c.gb.Dg=d}else c.gb.g=a,c.gb.f=b,c.gb.Dg=-1;this.da[b][a]=c};function fe(a,b,c,d){for(var e=0;e<d;e++){var f=b+e;if(!1===(void 0===a.da[c]||void 0===a.da[c][f]||-10===a.da[c][f].M?!0:!1))return!1}return!0}m.Ea=function(){return this.da.length};m.Db=function(){for(var a=0,b=this.Ea(),c=0;c<b;c++){var d=this.da[c].length-1;d>a&&(a=d)}return a};function he(a){if(this.b=a)a.h=this;this.Qa=null;this.S=[];this.a={Oi:null,Ad:null,sl:null,nl:null,Cg:null,Fg:null,lg:null};this.uc=this.eh=this.Kb=0}m=he.prototype;m.o=function(a,b){ie(this,b);var c=this.b,d=D(a),e=a+"_Board",f=a+"_Message",g=a+"_Next";this.K(d.a,e);var h=this.K(d.a,g),k=this.K(d.a,f);k.style.backgroundColor="rgb(255,255,255)";k.style["border-radius"]="6px";k.style["-webkit-border-radius"]="6px";k.style["-moz-border-radius"]="5px";k.style["-khtml-border-radius"]="10px";k.style.borderColor="#e3e3e3";k.style.borderWidth="5px";k.style.borderStyle="ridge";k.style.display="block";var l=D(e);I(l.i,0,0,1E3,1E3,!1,!1,!1,!1,-1,-1);l.n=J|K|O|L;d.k(l);this.K(l.a,e+"_Centred");var n=D(e);l.Ua(2);l.k(n);l=D(f);I(l.i,350,350,650,650,!1,!1,!1,!1,-1,-1);l.n=J|K|O|L;d.k(l);n=new aa(this);n.o(e,c);n.Qd=this;var p=D(g);I(p.i,0,0,1E3,1E3,!1,!1,!1,!1,-1,-1);p.n=J|K|O|L;d.k(p);c=g+"_Centred";this.K(p.a,c);e=D(c);p.Ua(2);p.k(e);p=c+"_Next";g=je(e.a,p);g.value="\u0414\u0430\u043b\u0435\u0435";g.style.display="none";var r=c+"_Prev",c=je(e.a,r);c.value="\u041d\u0430\u0437\u0430\u0434";c.style.display="none";var q=this;g.addEventListener("click",function(){q.a.Cg.style.display="none";q.a.Fg.style.display="none";ke(q)},!1);c.addEventListener("click",function(){q.a.Cg.style.display="none";q.a.Fg.style.display="none";le(q)},!1);p=D(p);I(p.i,501,0,2,2,!1,!1,!0,!0,-1,25);p.n=K|O|L;e.k(p);p=D(r);I(p.i,2,0,499,2,!0,!1,!1,!0,-1,25);p.n=K|O|L;e.k(p);var u=f+"_Text",r=f+"_Next",v=f+"_Prev",f=this.K(k,u);f.style.fontFamily="verdana";f.style.textAlign="justify";f.style.Vo="center";f.style.overflowY="scroll";e=je(k,r);p=je(k,v);p.addEventListener("click",function(){le(q)},!1);e.addEventListener("click",function(){ke(q)},!1);u=D(u);I(u.i,0,0,1E3,35,!1,!1,!1,!0,-1,-1);u.n=J|K|L|O;l.k(u);r=D(r);I(r.i,0,0,5,5,!1,!1,!0,!0,100,25);r.n=L|O;l.k(r);r=D(v);I(r.i,5,0,0,5,!0,!1,!1,!0,100,25);r.n=L|K;l.k(r);this.a.Oi=k;this.a.Ad=f;this.a.sl=p;this.a.nl=e;this.a.Cg=g;this.a.Fg=c;this.a.lg=h;this.S.push(n);this.Qa=d;this.p();me(this,0,0)};m.p=function(a){this.Qa&&this.Qa.cb(this.Qa.a.clientWidth,this.Qa.a.clientHeight);for(var b=0,c=this.S.length;b<c;b++)this.S[b].p(a)};function zb(a){return null===a.ka[a.Kb].eb||void 0===a.ka[a.Kb].eb.ei?0:a.ka[a.Kb].eb.ei}function Ab(a){null!==a.ka[a.Kb].eb&&!0===a.ka[a.Kb].eb.Gn?(a.a.lg.style.display="block",a.a.Cg.style.display="block",a.a.Fg.style.display="block"):a.Zo(a.Kb,2)}m.ul=function(){};m.Oc=function(){};m.bc=function(){};m.sj=function(){};m.uj=function(){};m.tj=function(){};m.vj=function(){};m.Pc=function(){};m.hf=function(){};m.Ri=function(){};m.pl=function(){};function ie(a,b){var c=b.length;a.eh=c;a.ka=[];for(var d=0;d<c;d++)a.ka[d]={},a.ka[d].fj=b[d].Sgf,a.ka[d].Ro=b[d].Before,a.ka[d].Qo=b[d].After,a.ka[d].Ni=b[d].Message,null===b[d].SgfPr?a.ka[d].eb=null:(a.ka[d].eb={},a.ka[d].eb.ei=b[d].SgfPr.Count,a.ka[d].eb.Gn=b[d].SgfPr.WaitOnEnd,a.ka[d].eb.Ue={},b[d].SgfPr.Flags&&(a.ka[d].eb.Ue.Bg=b[d].SgfPr.Flags.NewNode,a.ka[d].eb.Ue.yg=b[d].SgfPr.Flags.Move,a.ka[d].eb.Ue.bi=b[d].SgfPr.Flags.ChangeBoardMode,a.ka[d].eb.Ue.Ji=b[d].SgfPr.Flags.LoadFile))}function ke(a){var b=a.Kb;0===a.uc?null!==a.ka[b].fj?me(a,b,1):(a.uc=1,ke(a)):1!==a.uc||b>=a.eh-1||(null!==a.ka[b+1].Ni?me(a,b+1,0):(a.Kb++,a.uc=0,ke(a)))}function le(a){var b=a.Kb;0===a.uc?0>=b||(null!==a.ka[b-1].fj?me(a,b-1,1):(a.Kb--,a.uc=1,le(a))):1===a.uc&&(null!==a.ka[b].Ni?me(a,b,0):(a.uc=0,le(a)))}function me(a,b,c){if(!(0>b||b>=a.eh)){a.Kb=b;a.uc=c;var d=a.ka[b].fj,e=a.ka[b].eb,f=a.ka[b].Ni;if(0===c)if(a.a.lg.style.display="block",null!==f){c=0===b?null:"\u041d\u0430\u0437\u0430\u0434";b=b===a.eh-1&&null===d?null:"\u0414\u0430\u043b\u0435\u0435";d=a.a.sl;e=a.a.nl;for(a.a.Oi.style.display="block";a.a.Ad.firstChild;)a.a.Ad.removeChild(a.a.Ad.firstChild);fd(a.a.Ad,"");"string"===typeof f?fd(a.a.Ad,f):a.a.Ad.appendChild(f);null===c?d.style.display="none":(d.style.display="block",d.value=c);null===b?e.style.display="none":(e.style.display="block",e.value=b)}else ke(a);else 1===c&&(a.a.lg.style.display="none",null!==d?(a.a.Oi.style.display="none",a.b.H=4294967295,a.b.oc(d),ne(a.b,e.Ue),a.b.za()):ke(a))}}m.K=function(a,b){var c=document.createElement("div");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};function je(a,b){var c=document.createElement("input");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("type","button");a.appendChild(c);return c};var oe=0,pe=0,qe=1;function re(a,b){this.h=a;this.b=null;this.M=b?b:oe;this.a={d:null,ml:null,yn:null,wd:null};this.gk=new z(217,217,217,255);this.ao=new z(80,80,80,255);this.eo=new z(190,190,190,255);this.Qm=new z(80,80,80,255);this.ho=new z(130,130,130,255);this.Ka=this.Ae=this.A=0;this.jc=this.Nd=17;this.qf=!1;var c=this;this.lo=function(a){var b=c.A-c.Ka;0!==b&&(Sd(c,(a-c.jc)/b,!1),se(c,!1))};this.Dk=function(){c.qf=!0;se(c,!1)};this.no=function(a){c.qf=!1;var b=c.A-c.Ka;0!==b&&(Sd(c,(a-c.jc)/b,!1),se(c,!0))}}re.prototype.o=function(a){this.b=this.h?this.h.b:null;switch(this.M){case pe:this.h.If=this;break;case qe:this.h.mk=this}this.a.d=D(a);var b=this.a.d.a;b.style.backgroundColor=P(this.gk);b.style.$o=P(new z(255,255,255,255));var c=a+"_Left",d=a+"_Right";a=a+"_Slider";this.a.yn=this.oa(b,d);this.a.ml=this.oa(b,c);this.a.wd=this.oa(b,a);var e=this;this.a.wd.onmouseover=function(){this.style.backgroundColor=P(e.ho)};this.a.wd.onmouseout=function(){this.style.backgroundColor=P(e.Qm)};b=D(d);I(b.i,this.jc,this.Nd-1,this.jc,this.Nd-1,!0,!0,!0,!0,-1,-1);b.n=J|K|L|O;this.a.d.k(b);b.a.style.background=P(this.eo);c=D(c);I(c.i,this.jc,this.Nd,500,this.Nd,!0,!0,!1,!0,-1,-1);c.n=J|K|L|O;this.a.d.k(c);c.a.style.background=P(this.ao);this.p();Sd(this,0)};re.prototype.p=function(){var a=this.a.d.a.clientWidth,b=this.a.d.a.clientHeight;this.A=a-2*this.jc;this.a.d.cb(a,b);this.Tb(a,b);Sd(this,this.Ae,!0)};re.prototype.Tb=function(a){var b=32;switch(this.M){case pe:b=45;break;case qe:b=32}this.Ka=b;var c=this.a.wd;c.style.width=b+"px";c.style.height="12px";c.style.display="block";c.style.position="absolute";c.style.backgroundColor=P(this.Qm);c.style.top=this.Nd-5+"px";c.style.left=this.jc+"px";c.style.borderRadius="5px";be(c,this.jc,a-this.jc-b,this.Nd-5,this.Nd-5);c.ob=this.lo;c.zh=this.Dk;c.yh=this.no;c.style.fontSize="12px";c.style.lineHeight="12px";c.style.color="rgb(255,255,255)";c.style.textOverflow="clip";c.style.overflow="hidden";c.style.textAlign="center";c.style.cursor="default";c.style.transitionProperty="background";c.style.transitionDuration="0.25s";c.style.fontFamily='"Times New Roman", Times, serif'};re.prototype.oa=function(a,b){var c=document.createElement("div");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};function Sd(a,b,c){a.Ae=Math.min(1,Math.max(b,0));a.a.ml.style.width=a.Ae*a.A+"px";!1!==c&&(a.a.wd.style.left=a.Ae*(a.A-a.Ka)+a.jc+"px")}function se(a,b){if(a.b)switch(a.M){case pe:var c=a.b,d=a.Ae;c.sf=d;if(c.h){var e=c.h;e.If&&(e=e.If,!0!==e.qf&&Sd(e,d,!0))}null!==c.rc&&c.gf();b?fd(a.a.wd,""):fd(a.a.wd,((100+6900*(1-a.b.sf))/1E3*1E3|0)/1E3+" s");break;case qe:c=a.b;d=c.ia;for(e=1;0<Cd(d);)e++,d=d.R();d=a.Ae*(e-1);for(e=c.ia;0<Cd(e)&&0<d;)d--,e=e.R();c.ja(e)}};function te(){this.Uk=this.Tk=this.Sk=this.Rk=this.rl=null;this.em=!1;this.ye=!0}te.prototype.o=function(a){var b=document.getElementsByTagName("body");if(!(0>=b.length)){this.ye=!0;var c="",d=navigator.userAgent;-1!=d.indexOf("Opera")?c="Opera":-1!=d.indexOf("Chrome")?c="Chrome":-1!=d.indexOf("MSIE")?c="IE":-1!=d.indexOf("Safari")?c="Safari":-1!=d.indexOf("Mozilla")&&(c="Mozilla");"IE"===c&&(this.em=!0);b=b[0];this.rl=ue(b,"GoBoardApiSoundPlaceStone",a+"/Stone.mp3");this.Rk=ue(b,"GoBoardApiSoundCapture1",a+"/Capture1.mp3");this.Sk=ue(b,"GoBoardApiSoundCapture3",a+"/Capture3.mp3");this.Tk=ue(b,"GoBoardApiSoundCapture5",a+"/Capture5.mp3");this.Uk=ue(b,"GoBoardApiSoundCaptureN",a+"/CaptureN.mp3")}};function ve(a,b){1>=b?we(a,a.Rk):3>=b?we(a,a.Sk):5>=b?we(a,a.Tk):we(a,a.Uk)}function ue(a,b,c){var d=document.getElementById(b);d||(d=document.createElement("audio"),d.id=b,d.Qg="preload",d.src=c,a.appendChild(d));return d}function we(a,b){if(b&&a.ye&&x.$e())try{a.em?(b.setActive(),b.click(),b.autoplay="",b.autoplay="autoplay"):b.play()}catch(c){}};function cd(a){this.h=a;this.b=null;this.a={d:null};this.fk=new z(217,217,217,255);this.Vg=[];this.nf=[]}function S(a,b,c,d){a.nf.push(new xe(b,c,d))}cd.prototype.o=function(a,b){this.b=b;this.a.d=D(a);var c=this.a.d.a,d=this.a.d;c.style.backgroundColor=P(this.fk);for(var e=0,f=0,g=0,h=this.nf.length;g<h;++g){var k=this.nf[g],l=k.Qa;if(null!==l){var n=a+g;this.oa(c,n);T===k.Tn?(this.sa(d,n,e,k.A,!0),e+=k.A+k.ck):(this.sa(d,n,f,k.A,!1),f+=k.A+k.ck);l.o(n,b);this.Vg.push(l)}}this.p()};cd.prototype.p=function(){this.a.d.cb(this.a.d.a.clientWidth,this.a.d.a.clientHeight);for(var a=0,b=this.Vg.length;a<b;a++)this.Vg[a].p()};function ye(a){for(var b=0,c=0,d=a.nf.length;c<d;++c){var e=a.nf[c],f=e.A;-1===f&&(f=16777215);b+=f+e.ck}return b}cd.prototype.oa=function(a,b){var c=document.createElement("div");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};cd.prototype.sa=function(a,b,c,d,e){b=D(b);e?(I(b.i,c,0,1E3,1E3,!0,!1,!1,!1,d,-1),b.n=J|K|L):(I(b.i,0,0,c,1E3,!1,!1,!0,!1,d,-1),b.n=J|O|L);a.k(b)};function Qd(a){this.h=a;this.b=null;this.a={d:null,So:{d:null},To:{d:null}};this.fk=new z(217,217,217,255);this.ih=this.mh=this.$c=this.Pd=null;this.Vg=[]}m=Qd.prototype;m.o=function(a,b,c,d){this.b=b;this.a.d=D(a);var e=this.a.d.a,f=this.a.d;e.style.backgroundColor=P(this.fk);var g=new Yc(this.h),h=a+"C";this.oa(e,h);this.sa(f,h,0);g.o(h,b);this.$c=g;g=new Zc(this.h);a=a+"N";this.oa(e,a);this.sa(f,a,1);g.o(a,b);this.Pd=g;this.Pd.lk=this;this.$c.lk=this;this.mh=document.getElementById(c);this.ih=document.getElementById(d);this.ud(this.$c);this.p()};m.p=function(){this.a.d.cb(this.a.d.a.clientWidth,this.a.d.a.clientHeight);this.Pd.p();this.$c.p()};m.oa=function(a,b){var c=document.createElement("div");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};m.sa=function(a,b,c){b=D(b);I(b.i,0,36*c+c,1E3,0,!1,!0,!1,!1,-1,36);b.n=J|K|O;a.k(b)};m.ud=function(a){a===this.Pd?(tc(this.Pd,!0),tc(this.$c,!1),this.mh.style.visibility="visible",this.ih.style.visibility="hidden"):a===this.$c?(tc(this.Pd,!1),tc(this.$c,!0),this.mh.style.visibility="hidden",this.ih.style.visibility="visible"):(tc(this.Pd,!1),tc(this.$c,!1),this.mh.style.visibility="hidden",this.ih.style.visibility="hidden")};var T=1,Jd=2;function xe(a,b,c){this.Qa=a;this.A=b;this.ck=1;this.Tn=c}function Nd(a){this.h=a;this.a={d:null,ej:null,Cn:null,oi:null,al:null,Mh:null,Mk:null,jj:null,Gl:null,bl:null,pi:null,qj:null,Ll:null};this.cm=x.we;this.gm=x.xe;this.dm=x.Fd;this.am=x.Ed;this.fm=x.Gd;this.G=this.A=-1;this.yf=36;this.sm=1;this.Xn=110;this.Le=new cd(a);S(this.Le,new Wc(a),36,T);S(this.Le,new Sc(a),36,T);S(this.Le,new Tc(a,this),36,T);this.Ac=new cd(a);S(this.Ac,new zc(a),36,T);S(this.Ac,new Ac(a),36,T);S(this.Ac,new Bc(a),36,T);S(this.Ac,new Cc(a),36,T);S(this.Ac,new Dc(a),36,T);S(this.Ac,new Ec(a),36,T);this.Pf=new cd(a);S(this.Pf,new Fc(a),36,T);S(this.Pf,new Gc(a),36,T);this.Je=new cd(a);S(this.Je,new Vc(a),73,T);S(this.Je,new $c(a),36,T);S(this.Je,new qc(a),36,T);this.Jf=new cd(a);S(this.Jf,new Qc(a),36,T);S(this.Jf,new re(a,pe),-1,T);this.rh=new cd(a);S(this.rh,new re(a,qe),-1,T);this.Xj=1;this.S=[];this.ok=null}m=Nd.prototype;m.o=function(a){this.a.d=D(a);var b=this.a.d.a,c=this.a.d,d=a+"SS",e=a+"GN",f=a+"TN",g=a+"GL",h=a+"AP";a=a+"TL";this.a.Cn=ze(b,d);this.a.bl=ze(b,e);this.a.Ll=ze(b,f);this.a.al=ze(b,g);this.a.Mk=ze(b,h);this.a.Gl=ze(b,a);this.a.ej=D(d);c.k(this.a.ej);this.Le.o(d,this.h.b);this.a.pi=D(e);c.k(this.a.pi);this.Ac.o(e,this.h.b);this.a.qj=D(f);c.k(this.a.qj);this.Pf.o(f,this.h.b);this.a.oi=D(g);c.k(this.a.oi);this.Je.o(g,this.h.b);this.a.Mh=D(h);c.k(this.a.Mh);this.Jf.o(h,this.h.b);this.a.jj=D(a);c.k(this.a.jj);this.rh.o(a,this.h.b);Ae(this);Be(this)};m.Ea=function(){var a=Math.max(this.Xj,1);return a*this.yf+(a-1)*this.sm};m.p=function(a){var b=this.a.d.a.clientWidth,c=this.a.d.a.clientHeight;if(b!==this.A||c!==this.G||!0===a)for(this.A=b,this.G=c,this.ta(),this.a.d.cb(b,c),this.Le.p(),a=0,b=this.S.length;a<b;++a)this.S[a].p()};function Od(a,b){a.ok=b}m.aj=function(a){this.cm=a;this.ta();this.p(!0)};m.dj=function(a){this.gm=a;this.ta();this.p(!0)};m.df=function(a){this.dm=a;this.ta();this.p(!0)};m.Wi=function(a){this.am=a;this.ta();this.p(!0)};m.cj=function(a){this.fm=a;this.ta();this.p(!0)};m.ta=function(){Ae(this);Be(this);this.ok&&this.ok()};function Ae(a){a.S=[];Ce(a,a.cm,a.Ac,a.a.bl);Ce(a,a.gm,a.Pf,a.a.Ll);Ce(a,a.dm,a.Je,a.a.al);Ce(a,a.am,a.Jf,a.a.Mk);Ce(a,a.fm,a.rh,a.a.Gl)}function Ce(a,b,c,d){!0===b?(a.S.push(c),d.style.display="block"):d.style.display="none"}function Be(a){var b=a.a.d.a.clientWidth;a.Xj=1;var c=a.a.ej;I(c.i,0,0,0,1E3,!1,!0,!0,!1,a.Xn,a.yf);c.n=J|O;for(var c=b-ye(a.Le),d=0,e=0,f=0,g=a.S.length;f<g;++f){var h=a.S[f],k=ye(h),l=null;h===a.Ac?l=a.a.pi:h===a.Pf?l=a.a.qj:h===a.Je?l=a.a.oi:h===a.Jf?l=a.a.Mh:h===a.rh&&(l=a.a.jj);if(h=l).1>=d||d+k<c?I(h.i,d,e,1E3,1E3,!0,!0,!0,!1,Math.min(k,c),a.yf):(c=b,a.Xj++,d=0,e+=a.yf+a.sm,I(h.i,d,e,1E3,1E3,!0,!0,!0,!1,Math.min(k,c-d),a.yf)),h.n=J|K,d+=k}};function De(){this.Wg=[];this.zc=null;this.ec=[]}De.prototype.o=function(a,b,c,d){var e=d?d:200,f=document.getElementById(a);a=document.createElement("div");a.style.position="absolute";a.style.left="0px";a.style.top="0px";a.style.bottom="0px";a.style.width=e-1+"px";a.style.borderRight="1px solid #cbcbcb";f.appendChild(a);d=document.createElement("div");d.style.position="absolute";d.style.left=e+"px";d.style.top="0px";d.style.bottom="0px";d.style.right="0px";f.appendChild(d);e=0;for(f=b.length;e<f;e++)Ee(this,a,b[e],d);(b=this.Wg[c?c:0])&&Fe(this,b)};function Ee(a,b,c,d){var e=document.createElement("div");b.appendChild(e);e.style.color="rgb(68, 68, 68)";e.addEventListener("mouseenter",function(){a.zc!==this&&(this.style.backgroundColor="rgb(241, 241, 241)")},!1);e.addEventListener("mouseleave",function(){a.zc!==this&&(this.style.backgroundColor="")},!1);e.addEventListener("click",function(){Fe(a,this)},!1);b=document.createElement("div");e.appendChild(b);b.style.padding="7px 2px 7px 20px";var f=document.createElement("div");b.appendChild(f);f.style["-webkit-user-select"]="none";f.style.borderCollapse="collapse";f.style.boxSizing="border-box";f.style.cursor="pointer";f.style.display="block";f.style.fontFamily="Helvetica Neue', Helvetica, Arial, sans-serif";f.style.fontSize="16px";f.style.height="17px";f.style.lineHeight="17.142858505249px";f.style.width="177px";fd(f,c);f=document.createElement("div");f.style.display="none";f.style.width="100%";f.style.height="100%";d.appendChild(f);a.ec.push(f);a.Wg.push(e)}function Fe(a,b){if(a.zc!==b){if(null!==a.zc){a.zc.style.backgroundColor="";a.zc.style.color="rgb(68, 68, 68)";var c=Ge(a,a.zc);a.ec[c]&&(a.ec[c].style.display="none")}a.zc=b;b.style.backgroundColor="#7d858c";b.style.color="#fff";c=Ge(a,a.zc);a.ec[c]&&(a.ec[c].style.display="block")}}function Ge(a,b){for(var c=0,d=a.Wg.length;c<d;c++)if(b===a.Wg[c])return c;return-1};function He(){this.a={d:null,rb:null,rd:null,Vk:null,kd:null,Qk:null,Xe:null,le:null,ke:null,me:null,qd:null,Jc:null,Ic:null,nc:null};this.co=new z(166,166,166,255);this.Zn=new z(185,185,185,255);this.gk=new z(217,217,217,255);this.h=null;this.G=this.A=-1;this.rf=!1;var a=this;this.qo=function(){var b=parseInt(a.a.d.a.style.left),c=parseInt(a.a.d.a.style.width),d=parseInt(a.a.Xe.style.left);60>c-d||(a.a.d.a.style.left=b+d+"px",a.a.d.a.style.width=c-d+"px");a.a.Xe.style.left="0px";a.p()};this.to=function(){var b=parseInt(a.a.d.a.style.width),c=parseInt(a.a.le.style.left)+6-b;60>b+c?a.a.le.style.left=b-6+"px":(a.a.d.a.style.width=b+c+"px",a.a.le.style.left=b+c-6+"px",a.p())};this.mo=function(){var b=parseInt(a.a.d.a.style.height),c=parseInt(a.a.ke.style.top)+6-b;60>b+c?a.a.ke.style.top=b-6+"px":(a.a.d.a.style.height=b+c+"px",a.a.ke.style.top=b+c-6+"px",a.p())};this.vo=function(){var b=parseInt(a.a.d.a.style.top),c=parseInt(a.a.d.a.style.height),d=parseInt(a.a.me.style.top);60>c-d?a.a.me.style.top="0px":(a.a.d.a.style.top=b+d+"px",a.a.d.a.style.height=c-d+"px",a.a.me.style.top="0px",a.p())};this.ro=function(){var b=parseInt(a.a.d.a.style.top),c=parseInt(a.a.d.a.style.height),d=parseInt(a.a.qd.style.top);60>c-d||(a.a.d.a.style.top=b+d+"px",a.a.d.a.style.height=c-d+"px");a.a.qd.style.top="0px";b=parseInt(a.a.d.a.style.left);c=parseInt(a.a.d.a.style.width);d=parseInt(a.a.qd.style.left);60>c-d||(a.a.d.a.style.left=b+d+"px",a.a.d.a.style.width=c-d+"px");a.a.qd.style.left="0px";a.p()};this.uo=function(){var b=parseInt(a.a.d.a.style.top),c=parseInt(a.a.d.a.style.height),d=parseInt(a.a.Jc.style.top);60>c-d||(a.a.d.a.style.top=b+d+"px",a.a.d.a.style.height=c-d+"px");a.a.Jc.style.top="0px";b=parseInt(a.a.d.a.style.width);c=parseInt(a.a.Jc.style.left)+6-b;60>b+c?a.a.Jc.style.left=b-6+"px":(a.a.d.a.style.width=b+c+"px",a.a.Jc.style.left=b+c-6+"px");a.p()};this.po=function(){var b=parseInt(a.a.d.a.style.left),c=parseInt(a.a.d.a.style.width),d=parseInt(a.a.Ic.style.left);60>c-d||(a.a.d.a.style.left=b+d+"px",a.a.d.a.style.width=c-d+"px");a.a.Ic.style.left="0px";b=parseInt(a.a.d.a.style.height);c=parseInt(a.a.Ic.style.top)+6-b;60>b+c?a.a.Ic.style.top=b-6+"px":(a.a.d.a.style.height=b+c+"px",a.a.Ic.style.top=b+c-6+"px");a.p()};this.so=function(){var b=parseInt(a.a.d.a.style.width),c=parseInt(a.a.nc.style.left)+6-b;60>b+c?a.a.nc.style.left=b-6+"px":(a.a.d.a.style.width=b+c+"px",a.a.nc.style.left=b+c-6+"px");b=parseInt(a.a.d.a.style.height);c=parseInt(a.a.nc.style.top)+6-b;60>b+c?a.a.nc.style.top=b-6+"px":(a.a.d.a.style.height=b+c+"px",a.a.nc.style.top=b+c-6+"px");a.p()}}m=He.prototype;m.o=function(a,b){var c=this;this.rf=!0;this.a.d=D(a);var d=this.a.d.a,e=this.a.d;d.style.border="1px solid "+P(this.co);d.style.backgroundColor=P(this.gk);d.style.boxSizing="content-box";var f=a+"_Inner",g=Ie(d,f),f=D(f);I(f.i,6,29,8,8,!0,!0,!0,!0,-1,-1);f.n=J|K|L|O;e.k(f);g.style.border="1px solid "+P(this.Zn);g.style.backgroundColor=P(new z(255,255,255,255));g.style.overflow="hidden";this.a.rb=g;this.a.rd=f;f=a+"_Caption";Ie(d,f);g=D(f);I(g.i,0,0,1E3,1E3,!1,!1,!1,!1,-1,30);g.n=J|K|O;e.k(g);var h=f+"_Text",f=Ie(d,h),h=D(h);I(h.i,15,0,55,1E3,!0,!1,!0,!1,-1,30);h.n=J|K|O|L;g.k(h);f.style.fontFamily="Tahoma, Sans serif";f.style.fontSize="13pt";f.style.textAlign="center";f.style.height="29px";f.style.lineHeight="29px";f.style.overflow="hidden";f.style.textOverflow="ellipsis";f.style["-o-text-overflow"]="ellipsis";f.style.cursor="default";fd(f,"Caption");this.a.Qk=f;f=a+"_Caption2";g=Ie(d,f);f=D(f);I(f.i,0,0,1E3,1E3,!1,!1,!1,!1,-1,30);f.n=J|K|O;e.k(f);this.a.kd=g;be(g);g.ob=function(){var a=parseInt(c.a.d.a.style.top),b=parseInt(c.a.kd.style.top);c.a.d.a.style.left=parseInt(c.a.d.a.style.left)+parseInt(c.a.kd.style.left)+"px";c.a.d.a.style.top=a+b+"px";c.a.kd.style.left="0px";c.a.kd.style.top="0px";c.p()};!1!==b&&(f=a+"_LeftHandler",g=Ie(d,f),f=D(f),I(f.i,0,6,1E3,6,!1,!0,!1,!0,6,-1),f.n=J|K|L,e.k(f),g.style.cursor="w-resize",this.a.Xe=g,f=a+"_RightHandler",g=Ie(d,f),f=D(f),I(f.i,0,6,0,6,!1,!0,!0,!0,6,-1),f.n=J|O|L,e.k(f),g.style.cursor="w-resize",this.a.le=g,f=a+"_BottomHandler",g=Ie(d,f),f=D(f),I(f.i,6,0,6,0,!0,!1,!0,!0,-1,6),f.n=L|O|K,e.k(f),g.style.cursor="s-resize",this.a.ke=g,f=a+"_TopHandler",g=Ie(d,f),f=D(f),I(f.i,6,0,6,1E3,!0,!0,!0,!1,-1,6),f.n=J|O|K,e.k(f),g.style.cursor="s-resize",this.a.me=g,f=a+"_LeftTopHandler",g=Ie(d,f),f=D(f),I(f.i,0,0,1E3,1E3,!1,!1,!1,!1,6,6),f.n=J|K,e.k(f),g.style.cursor="se-resize",this.a.qd=g,f=a+"_RightTopHandler",g=Ie(d,f),f=D(f),I(f.i,0,0,0,1E3,!1,!1,!0,!1,6,6),f.n=J|O,e.k(f),g.style.cursor="ne-resize",this.a.Jc=g,f=a+"_LeftBottomHandler",g=Ie(d,f),f=D(f),I(f.i,0,0,0,1E3,!1,!1,!1,!1,6,6),f.n=L|K,e.k(f),g.style.cursor="ne-resize",this.a.Ic=g,f=a+"_RightBottomHandler",g=Ie(d,f),f=D(f),I(f.i,0,0,0,1E3,!1,!1,!0,!1,6,6),f.n=L|O,e.k(f),g.style.cursor="se-resize",this.a.nc=g,be(this.a.Xe,null,null,null,null),this.a.Xe.ob=this.qo,be(this.a.le,null,null,null,null),this.a.le.ob=this.to,be(this.a.me,null,null,null,null),this.a.me.ob=this.vo,be(this.a.ke,null,null,null,null),this.a.ke.ob=this.mo,be(this.a.qd,null,null,null,null),this.a.qd.ob=this.ro,be(this.a.Jc,null,null,null,null),this.a.Jc.ob=this.uo,be(this.a.Ic,null,null,null,null),this.a.Ic.ob=this.po,be(this.a.nc,null,null,null,null),this.a.nc.ob=this.so);g=a+"_Close";d=Ie(d,g);f=D(g);I(f.i,0,0,6,1E3,!1,!0,!0,!1,45,20);f.n=J|O;e.k(f);d.style.backgroundColor=P(new z(255,0,0,255));e=new vc(this.h);e.o(g,this);e.oh=new z(199,80,80,255);e.Mf=new z(224,67,67,255);e.fh=new z(153,61,61,255);this.a.Vk=e};m.p=function(a){var b=this.a.d.a.clientWidth,c=this.a.d.a.clientHeight;if(b!==this.A||c!==this.G||!0===a)this.A=b,this.G=c,this.a.d.cb(b,c),this.a.Vk.p()};m.jb=function(){this.rf=!1;this.a.d.a.style.display="none";this.b&&this.b.za()};m.Pa=function(a){this.rf=!0;var b=this.a.d.a;b.style.display="block";var c=parseInt(b.style.left),d=parseInt(b.style.top);if(a.Z){var e=a.Z;a=e.Db();e=e.Ea();d>e-100&&(b.style.top=e-100+"px");c>a-100&&(b.style.left=a-100+"px")}0>c&&(b.style.left="0px");0>d&&(b.style.top="0px")};m.za=function(){};function Ca(a,b){fd(a.a.Qk,b)}function Ie(a,b){var c=document.createElement("div");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c}function Je(a,b){if(b){a.h=b;var c=a.a.d.a,d=a.md();null!==d&&void 0!==d&&(c.style.width=d.I+"px",c.style.height=d.D+"px");var d=parseInt(c.style.width),e=parseInt(c.style.height);c.style.left=(a.h.Db()-d)/2+"px";c.style.top=(a.h.Ea()-e)/2+"px"}}m.md=function(){return null};m.Fa=function(){};function Ke(){Ke.s.constructor.call(this);this.a.qe=null;this.a.Re=null;this.a.qb=null;this.a.og=null}R(Ke,He);Ke.prototype.o=function(a,b){Ke.s.o.call(this,a,b);var c=this.a.rb,d=this.a.rd,e=c.id,f=e+"Content",e=e+"Buttons",g=Ie(c,f),c=Ie(c,e),f=D(f);I(f.i,0,0,0,40,!0,!0,!0,!0,-1,-1);f.n=K|J|L|O;d.k(f);var h=D(e);I(h.i,0,0,0,0,!0,!1,!0,!0,-1,40);h.n=K|L|O;d.k(h);this.a.og=f;this.a.qb=g;c.style.borderTop="1px solid rgb(172,172,172)";c.style.backgroundColor="rgb(240,240,240)";g=e+"OK";Ie(c,g);f=D(g);I(f.i,0,9,85,1E3,!1,!0,!0,!1,66,21);f.n=J|O;d.k(f);f=new wc(this.h);f.o(g,this);this.a.qe=f;f.kk=new z(234,234,234,255);f.oh=new z(172,172,172,255);f.jk=new z(227,240,252,255);f.Mf=new z(126,180,234,255);f.ek=new z(207,230,252,255);f.fh=new z(86,157,229,255);f.hk=new z(239,239,239,255);f.ik=new z(217,217,217,255);e+="Cancel";Ie(c,e);c=D(e);I(c.i,0,9,11,1E3,!1,!0,!0,!1,66,21);c.n=J|O;d.k(c);d=new xc(this.h);d.o(e,this);this.a.Re=d;d.kk=new z(234,234,234,255);d.oh=new z(172,172,172,255);d.jk=new z(227,240,252,255);d.Mf=new z(126,180,234,255);d.ek=new z(207,230,252,255);d.fh=new z(86,157,229,255);d.hk=new z(239,239,239,255);d.ik=new z(217,217,217,255)};Ke.prototype.p=function(a){Ke.s.p.call(this,a);this.a.qe&&this.a.qe.p();this.a.Re&&this.a.Re.p()};Ke.prototype.fl=function(){this.jb()};Ke.prototype.We=function(){this.jb()};function Le(){Le.s.constructor.call(this);this.q={};this.b=null;this.lm=10;this.$j=20;this.Vn=5}R(Le,Ke);m=Le.prototype;m.o=function(a,b){Le.s.o.call(this,a);Je(this,b.Z);var c=b.T;this.b=c;!0!==(c.H&16?!0:!1)&&rc(this.a.qe,!1);Ca(this,"Game info");var d=this.a.og,e=this.a.qb,f=this.a.qb.id;e.style.overflowX="hidden";e.style.overflowY="scroll";var g=this.$j,h=10,k=this.Vn,l=this.lm,n=c.H&16?!0:!1;this.q.rn=this.ha(e,d,f,"Game name",c.dd,h,g,n);h+=g+k;this.q.xn=this.ha(e,d,f,"Result",c.ib,h,g,n);h+=g+k;this.q.An=this.ha(e,d,f,"Rules",c.Yf,h,g,n);h+=g+k;this.q.Hi=this.ha(e,d,f,"Komi",c.Xc,h,g,n);h+=g+k;this.q.ti=this.ha(e,d,f,"Handicap",c.Lb,h,g,n);h+=g+k;this.q.En=this.ha(e,d,f,"Time settings",c.Ff+(""===c.Xf?"":" + "+c.Xf),h,g,n);h+=g+k;this.q.en=this.ha(e,d,f,"Black",c.ad,h,g,n);h+=g+k;this.q.gn=this.ha(e,d,f,"Black rank",c.Qf,h,g,n);h+=g+k;this.q.Hn=this.ha(e,d,f,"White",c.ed,h,g,n);h+=g+k;this.q.Jn=this.ha(e,d,f,"White rank",c.Zf,h,g,n);h+=g+k;this.q.mn=this.ha(e,d,f,"Copyright",c.Rf,h,g,n);h+=g+k;this.q.Date=this.ha(e,d,f,"Date",c.Ud,h,g,n);h+=g+k;this.q.Event=this.ha(e,d,f,"Event",c.Me,h,g,n);h+=g+k;this.q.zn=this.ha(e,d,f,"Round",c.Uf,h,g,n);h+=g+k;this.q.vn=this.ha(e,d,f,"Place",c.Ne,h,g,n);h+=g+k;this.q.dn=this.ha(e,d,f,"Annotator",c.Sf,h,g,n);h+=g+k;this.q.qn=this.ha(e,d,f,"Fuseki",c.Tf,h,g,n);h+=g+k;this.q.Dn=this.ha(e,d,f,"Source",c.Vf,h,g,n);h+=g+k;this.q.Kl=this.ha(e,d,f,"Transcriber",c.Wf,h,g,n);h+=g+k;this.q.Kl=this.yk(e,d,f,"Game Info",c.cd,h,g,n);h+=3*g;Ie(e,f+"Bottom");c=D(f+"Bottom");I(c.i,0,h,1E3,1E3,!0,!0,!1,!1,0,l);c.n=K|J|O;d.k(c)};m.p=function(a){Le.s.p.call(this,a);this.a.qe&&this.a.qe.p();this.a.Re&&this.a.Re.p();a=parseInt(this.q.he.style.top)|0;var b=(parseInt(this.a.qb.style.height)|0)-this.lm;this.q.he.style.height=b-a<3*this.$j?3*this.$j+"px":b-a+"px"};m.fl=function(){this.jb()};m.We=function(){this.b&&(this.b.dd=this.q.rn.value,this.b.ib=this.q.xn.value,this.b.Yf=this.q.An.value,this.b.Xc=parseFloat(this.q.Hi.value),this.b.Lb=this.q.ti.value,this.b.Ff=this.q.En.value,Me(this.b,this.q.en.value),Ne(this.b,this.q.gn.value),Oe(this.b,this.q.Hn.value),Pe(this.b,this.q.Jn.value),this.b.Rf=this.q.mn.value,this.b.cd=this.q.he.value,this.b.Ud=this.q.Date.value,this.b.Me=this.q.Event.value,this.b.Uf=this.q.zn.value,this.b.Ne=this.q.vn.value,this.b.Sf=this.q.dn.value,this.b.Tf=this.q.qn.value,this.b.Vf=this.q.Dn.value,this.b.Wf=this.q.Kl.value);this.jb()};m.oa=function(a,b,c){var d=document.createElement("div");d.setAttribute("id",b);d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.style.fontFamily="Tahoma, Sans serif";d.style.fontSize=15*c/20+"px";d.style.lineHeight=c+"px";d.style.height=c+"px";a.appendChild(d);return d};m.ag=function(a,b,c){var d=document.createElement("input");d.setAttribute("id",b);d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.setAttribute("type","text");d.style.fontFamily="Tahoma, Sans serif";d.style.fontSize="10pt";d.style.outline="none";d.style.border="1px solid rgb(169,169,169)";!1===c&&(d.disabled="disabled");a.appendChild(d);return d};m.ha=function(a,b,c,d,e,f,g,h){var k;k=30;c+=d;var l=this.oa(a,c,g),n=D(c);I(n.i,10,f,1E3,1E3,!0,!0,!1,!1,100,g);n.n=K|J;b.k(n);fd(l,d);d=c+"Value";a=this.ag(a,d,h);h=D(d);I(h.i,110,f+1,k,1E3,!0,!0,!0,!1,-1,g-2);h.n=K|J|O;b.k(h);a.value=e;return a};m.yk=function(a,b,c,d,e,f,g,h){var k;k=30;c+=d;var l=this.oa(a,c,g),n=D(c);I(n.i,10,f,1E3,1E3,!0,!0,!1,!1,100,g);n.n=K|J;b.k(n);fd(l,d);c=c+"Value";d=document.createElement("textarea");d.setAttribute("id",c);d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.style.fontFamily="Tahoma, Sans serif";d.style.fontSize="10pt";d.style.resize="none";d.style.outline="none";d.style.border="1px solid rgb(169,169,169)";d.style.height=3*g+"px";this.q.he=d;!1===h&&(d.disabled="disabled");a.appendChild(d);a=D(c);I(a.i,110,f+1,k,1E3,!0,!0,!0,!1,-1,3*g);a.n=K|J|O;b.k(a);d.value=e;return d};function Qe(){Qe.s.constructor.call(this);this.A=300;this.G=100;this.Nm=null}R(Qe,He);m=Qe.prototype;m.o=function(a,b){Qe.s.o.call(this,a,!1);Je(this,b.Z);Ca(this,b.kd?b.kd:"Error");this.b=b.T;this.h=b.Z;var c=this.a.rd,d=a+"E",e=this.oa(this.a.rb,d,20),d=D(d);I(d.i,10,5,10,5,!0,!0,!0,!0,-1,-1);d.n=K|J|L|O;c.k(d);this.Nm=e;this.Pa(b)};m.jb=function(){this.h&&Gd(this.h);Le.s.jb.call(this)};m.Pa=function(a){Qe.s.Pa.call(this,a);this.A=a.I;this.G=a.D;fd(this.Nm,a.mc);this.h&&(Ed(this.h),Je(this,this.h),this.p(!0))};m.oa=function(a,b,c){var d=document.createElement("div");d.setAttribute("id",b);d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.style.fontFamily="Tahoma, Sans serif";d.style.fontSize=15*c/20+"px";d.style.lineHeight=c+"px";d.style.height=c+"px";a.appendChild(d);return d};m.md=function(){return{I:this.A,D:this.G}};function Re(){Re.s.constructor.call(this);this.b=null;this.q={vb:{rj:null,hj:null,$h:null,ji:null},ij:null,Li:null,Pi:null,ii:null,Ki:null,yl:null}}R(Re,Ke);Re.prototype.o=function(a,b){Re.s.o.call(this,a,!1);Je(this,b.Z);this.b=b.T;Ca(this,"Settings");var c=new De;c.o(this.a.qb.id,["Appearance","Color Scheme","Loading Settings"],0,150);var d=Se(c.ec[0]),e=this.a.qb.id+"A";this.q.yl=Te(d,e+"T",this.b.xg(),"Show Target");this.q.ii=Te(d,e+"C",this.b.sd(),"Cycle through variants");this.q.ij=Te(d,e+"S",this.b.$e(),"Sound");this.q.Pi=Ue(d,this.b.je(),["No labels","Move numbers","Move numbers current variant only","Move coordinates"],"Labels in navigator");d=Se(c.ec[1]);e=this.a.qb.id+"CS";this.q.vb.rj=Ve(d,e+"TC","TrueColor");this.q.vb.hj=Ve(d,e+"SC","SimpleColor");this.q.vb.$h=Ve(d,e+"BS","BookStyle");this.q.vb.ji=Ve(d,e+"D","Dark");We(this);c=Se(c.ec[2]);this.q.Li=Te(c,this.a.qb.id+"LSU",this.b.Ye(),"Load unfinished files on the last node");this.q.Ki=Ue(c,this.b.nd(),["Don't show variants","Show variations of successor node (children)","Show variations of current node   (siblings)","Load option from file"],"Show variants")};Re.prototype.md=function(){return{I:400,D:210}};Re.prototype.Pa=function(a){Re.s.Pa.call(this,a);this.q.ii.checked=this.b.sd();this.q.ij.checked=this.b.$e();this.q.Pi.selectedIndex=this.b.je();We(this);this.q.Li.checked=this.b.Ye();this.q.Ki.selectedIndex=this.b.nd()};function Se(a){var b=document.createElement("div");a.appendChild(b);b.style.margin="0";b.style.padding="10px 20px";b.style.fontFamily="Tahoma, Arial, Verdana";b.style.fontSize="10px";b.style.color="#666";b.style.background="#fff";return b}Re.prototype.We=function(){var a=1,a=this.q.vb.hj.checked?3:this.q.vb.$h.checked?2:this.q.vb.ji.checked?4:1,a=ud(x,a);this.q.ij.checked?x.re(!0):x.re(!1);this.b.vd(this.q.yl.checked?!0:!1);this.b.$i(this.q.Li.checked?!0:!1);this.b.bj(this.q.Pi.selectedIndex);this.b.Xi(this.q.ii.checked?!0:!1);this.b.Zi(this.q.Ki.selectedIndex);var b=this.b.j,c=this.b.L;b&&!0===a.ba&&b.p(!0);c&&!0===a.Navigator&&(c.dg(),c.bg(),ae(c),c.cg(),c.p(!0));this.jb()};function Ve(a,b,c){var d=document.createElement("div");d.style.paddingLeft="10px";d.style.paddingBottom="5px";a.appendChild(d);var e=document.createElement("input");e.type="radio";e.name="ThemeId";e.value=c;e.setAttribute("id",b);d.appendChild(e);a=document.createElement("span");a.setAttribute("oncontextmenu","return false;");a.style.fontFamily="Tahoma, Sans serif";fd(a,c);a.style.fontFamily="Tahoma, Sans serif";a.style.fontSize="12pt";a.style.height="15px";a.style.lineHeight="15px";a.style.cursor="default";d.appendChild(a);a.addEventListener("click",function(){e.checked=!0},!1);return e}function Te(a,b,c,d){var e=document.createElement("div");e.style.paddingLeft="10px";e.style.paddingBottom="5px";a.appendChild(e);var f=document.createElement("input");f.type="checkbox";f.checked=c;f.setAttribute("id",b);e.appendChild(f);a=document.createElement("span");a.setAttribute("oncontextmenu","return false;");a.style.fontFamily="Tahoma, Sans serif";fd(a,d);a.style.fontFamily="Tahoma, Sans serif";a.style.fontSize="12pt";a.style.height="15px";a.style.lineHeight="15px";a.style.cursor="default";e.appendChild(a);a.addEventListener("click",function(){f.checked=!f.checked},!1);return f}function Ue(a,b,c,d){var e=document.createElement("div");e.style.paddingLeft="10px";e.style.paddingBottom="5px";e.style.fontFamily="Tahoma, Sans serif";e.style.fontSize="9pt";e.style.height="12px";e.style.lineHeight="12px";a.appendChild(e);a=document.createElement("div");fd(a,d);a.style.paddingBottom="5px";e.appendChild(a);d=document.createElement("select");d.style.width="170px";a=0;for(var f=c.length;a<f;a++){var g=document.createElement("option");g.value=c[a];fd(g,c[a]);d.appendChild(g)}d.selectedIndex=b;e.appendChild(d);return d}function We(a){var b=x.fa.hd.u;231===b?x.fa.Tc?a.q.vb.rj.checked=!0:a.q.vb.hj.checked=!0:255===b?a.q.vb.$h.checked=!0:30===b?a.q.vb.ji.checked=!0:a.q.vb.rj.checked=!0}function Xe(){Xe.s.constructor.call(this);this.j=null}R(Xe,He);Xe.prototype.o=function(a,b){Xe.s.o.call(this,a,!0);Je(this,b.Z);this.b=b.T;Ca(this,"Score estimate");var c=this.a.rb,d=this.a.rd,e=this.a.rb.id;c.style.background="url('"+Rd+"')";var f=new aa;d.Ua(2,f);var e=e+"B",c=Ie(c,e),g=D(e);I(g.i,0,0,1E3,1E3,!0,!0,!1,!1,-1,-1);g.n=J|K|L|O;d.k(g);this.yc=c;this.Kf=g;f.o(e,Ye(this.b));f.Ie=this;Da(f,9);this.j=f};Xe.prototype.p=function(a){Xe.s.p.call(this,a);this.j&&this.j.p(a)};Xe.prototype.Pa=function(a){for(;this.yc.firstChild;)this.yc.removeChild(this.yc.firstChild);this.Kf&&this.Kf.Da();var b=new aa;b.o(this.yc.id,Ye(a.T));var c=b;c.Ie=this;Da(c,9);this.j=b;Xe.s.Pa.apply(this,arguments);this.p(!0)};function Ze(){Ze.s.constructor.call(this)}R(Ze,He);m=Ze.prototype;m.o=function(a,b){Ze.s.o.call(this,a,!1);this.b=b.T;this.j=b.ki;Je(this,b.Z);Ca(this,"Colors counter");var c=this.a.rb,d=this.a.rd,e=this.a.rb.id;c.style.overflowX="hidden";c.style.overflowY="scroll";var f=10,g=b.ki.Za,h=[0,0,0,0],k=[0,0,0,0],l=[0,0,0,0],n=[0,0,0,0],p;for(p in g){var r=g[p],q=-1;0!==r.u&&0!==r.w&&0!==r.v?q=3:0!==r.u?q=0:0!==r.w?q=1:0!==r.v&&(q=2);var u=0,u=50>=r.Ha?0:100>=r.Ha?1:150>=r.Ha?2:3;switch(q){case 0:h[u]++;break;case 1:k[u]++;break;case 2:l[u]++;break;case 3:n[u]++}}this.wn=this.ha(c,d,e,"Red","4 x "+h[3]+"+ 3 x "+h[2]+" + 2 x "+h[1]+" + 1 x "+h[0]+" ="+(4*h[3]+3*h[2]+2*h[1]+h[0]),f,20);f+=25;this.tn=this.ha(c,d,e,"Green","4 x "+k[3]+"+ 3 x "+k[2]+" + 2 x "+k[1]+" + 1 x "+k[0]+" ="+(4*k[3]+3*k[2]+2*k[1]+k[0]),f,20);f+=25;this.hn=this.ha(c,d,e,"Blue","4 x "+l[3]+"+ 3 x "+l[2]+" + 2 x "+l[1]+" + 1 x "+l[0]+" ="+(4*l[3]+3*l[2]+2*l[1]+l[0]),f,20);f+=25;this.sn=this.ha(c,d,e,"Gray","4 x "+n[3]+"+ 3 x "+n[2]+" + 2 x "+n[1]+" + 1 x "+n[0]+" ="+(4*n[3]+3*n[2]+2*n[1]+n[0]),f,20);f+=25;Ie(c,e+"Bottom");c=D(e+"Bottom");I(c.i,0,f,1E3,1E3,!0,!0,!1,!1,0,10);c.n=K|J|O;d.k(c)};m.oa=function(a,b,c){var d=document.createElement("div");d.setAttribute("id",b);d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.style.fontFamily="Tahoma, Sans serif";d.style.fontSize=15*c/20+"px";d.style.lineHeight=c+"px";d.style.height=c+"px";a.appendChild(d);return d};m.ag=function(a,b){var c=document.createElement("input");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");c.setAttribute("type","text");c.style.fontFamily="Tahoma, Sans serif";c.style.fontSize="10pt";c.style.outline="none";c.disabled="disabled";a.appendChild(c);return c};m.ha=function(a,b,c,d,e,f,g,h){var k;k=30;c+=d;var l=this.oa(a,c,g),n=D(c);I(n.i,10,f,1E3,1E3,!0,!0,!1,!1,100,g);n.n=K|J;b.k(n);fd(l,d);d=c+"Value";a=this.ag(a,d,h);h=D(d);I(h.i,110,f+1,k,1E3,!0,!0,!0,!1,-1,g-2);h.n=K|J|O;b.k(h);a.value=e;return a};m.Pa=function(a){Ze.s.Pa.call(this,a);this.b=a.T;this.j=a.ki;this.Fa()};m.Fa=function(){if(this.rf&&this.j){var a=this.j.Za,b=[0,0,0,0],c=[0,0,0,0],d=[0,0,0,0],e=[0,0,0,0],f;for(f in a){var g=a[f],h=-1;0!==g.u&&0!==g.w&&0!==g.v?h=3:0!==g.u?h=0:0!==g.w?h=1:0!==g.v&&(h=2);var k=0,k=50>=g.Ha?0:100>=g.Ha?1:150>=g.Ha?2:3;switch(h){case 0:b[k]++;break;case 1:c[k]++;break;case 2:d[k]++;break;case 3:e[k]++}}this.wn.value="4 x "+b[3]+"+ 3 x "+b[2]+" + 2 x "+b[1]+" + 1 x "+b[0]+" ="+(4*b[3]+3*b[2]+2*b[1]+b[0]);this.tn.value="4 x "+c[3]+"+ 3 x "+c[2]+" + 2 x "+c[1]+" + 1 x "+c[0]+" ="+(4*c[3]+3*c[2]+2*c[1]+c[0]);this.hn.value="4 x "+d[3]+"+ 3 x "+d[2]+" + 2 x "+d[1]+" + 1 x "+d[0]+" ="+(4*d[3]+3*d[2]+2*d[1]+d[0]);this.sn.value="4 x "+e[3]+"+ 3 x "+e[2]+" + 2 x "+e[1]+" + 1 x "+e[0]+" ="+(4*e[3]+3*e[2]+2*e[1]+e[0])}};m.md=function(){return{I:410,D:160}};function $e(){$e.s.constructor.call(this);this.b=this.h=this.Pm=this.Om=null}R($e,He);$e.prototype.o=function(a,b){$e.s.o.call(this,a,!1);Je(this,b.Z);Ca(this,"Creating Gif file...");b.T&&(this.b=b.T);var c=this.a.rb,d=this.a.rd,e=this.a.rb.id,f=e+"PB",g=Ie(c,f),f=D(f);I(f.i,6,30,8,8,!0,!0,!0,!0,-1,-1);f.n=J|K|L|O;d.k(f);g.style.border="1px solid rgb(221,221,221)";g.style.backgroundColor="rgb(140, 140, 140)";f=e+"P";g=Ie(c,f);f=D(f);I(f.i,7,31,0,7,!0,!0,!1,!0,10,-1);f.n=J|K|L;d.k(f);g.style.backgroundColor="rgb(54, 101, 179)";this.Om=g;e=e+"PV";c=Ie(c,e);e=D(e);I(e.i,0,7,1E3,32,!1,!1,!1,!0,-1,-1);e.n=J|K|L;d.k(e);c.style.fontFamily="Tahoma, Sans serif";c.style.fontSize="15px";c.style.lineHeight="20px";c.style.height="20px";c.style.color="rgb(0, 0, 0)";c.style.textAlign="center";this.Pm=c};$e.prototype.md=function(){return{I:240,D:100}};function af(a,b){a.Om.style.width=b/100*214+"px";fd(a.Pm,(100*b|0)/100+"%")}function bf(a){af(a,0);a.h&&Ed(a.h)}function cf(a){af(a,100);setTimeout(function(){a.jb(!0)},300)}$e.prototype.jb=function(a){!0!==a&&this.b&&(this.b.De=null);this.h&&Gd(this.h);$e.s.jb.apply(this)};function df(){df.s.constructor.call(this);this.j=null}R(df,He);df.prototype.o=function(a,b){$e.s.o.call(this,a,!0);Je(this,b.Z);Ca(this,"About");this.b=b.T;var c=new De;c.o(this.a.rb.id,["About Web Go Board","Keyboard Shortcuts"],0);var d=c.ec[0],e=document.createElement("div");d.appendChild(e);d.style.overflowX="hidden";d.style.overflowY="scroll";e.style.margin="0";e.style.padding="10px 20px";e.style.fontFamily="Tahoma, Arial, Verdana";e.style.fontSize="12px";e.style.color="#666";e.style.background="#fff";d=document.createElement("img");d.src=ef;d.width=100;d.height=100;d.style["float"]="left";e.appendChild(d);d=document.createElement("div");d.style.width="10px";d.style.height="100px";d.style["float"]="left";e.appendChild(d);d=document.createElement("h1");e.appendChild(d);fd(d,"Web Go/Baduk Board");d=document.createElement("div");e.appendChild(d);fd(d,"Version "+GoBoardApi.ug());d=document.createElement("div");d.style.paddingTop="40px";e.appendChild(d);fd(d,"Visit our Github project for feedback and issue reports:");d=document.createElement("a");d.target="_blank";d.href="https://github.com/IlyaKirillov/GoProject";e.appendChild(d);fd(d,"https://github.com/IlyaKirillov/GoProject");d=document.createElement("div");d.style.paddingTop="20px";e.appendChild(d);fd(d,"Our site:");d=document.createElement("a");d.target="_blank";d.href="http://webgoboard.org/";e.appendChild(d);fd(d,"http://webgoboard.org/");d=document.createElement("div");d.style.paddingTop="20px";e.appendChild(d);fd(d,"Discussions:");d=document.createElement("a");d.target="_blank";d.href="http://www.lifein19x19.com/forum/viewtopic.php?f=18&t=11239";e.appendChild(d);fd(d,"http://www.lifein19x19.com/");e.appendChild(document.createElement("br"));d=document.createElement("a");d.target="_blank";d.href="http://kido.com.ru/253-web-go-doska";e.appendChild(d);fd(d,"http://kido.com.ru/");d=document.createElement("div");d.style.paddingTop="20px";e.appendChild(d);fd(d,"Browsers extension:");d=document.createElement("a");d.target="_blank";d.href="https://chrome.google.com/webstore/detail/web-go-board/cdmhoehokaoghadonjfdbhieajggfbmd";e.appendChild(d);fd(d,"Chrome and OperaNext");e.appendChild(document.createElement("br"));d=document.createElement("a");d.target="_blank";d.href="https://addons.mozilla.org/ru/firefox/addon/web-gobaduk-board/";e.appendChild(d);fd(d,"FireFox");d=document.createElement("div");d.style.paddingTop="30px";e.appendChild(d);fd(d,"\u00a9 Ilya Kirillov, 2014-2015. All rights reserved.");e=c.ec[1];e.style.overflowX="hidden";e.style.overflowY="scroll";c=document.createElement("div");e.appendChild(c);c.style.margin="0";c.style.padding="10px 20px";c.style.fontFamily="Tahoma, Arial, Verdana";c.style.fontSize="12px";c.style.color="#666";c.style.background="#fff";e=document.createElement("h1");c.appendChild(e);fd(e,"Keyboard Shortcuts");e.style.fontSize="16px";e.style.fontWeight="bold";e=document.createElement("table");c.appendChild(e);e.style.margin="20px 0";e.style.width="100%";c=document.createElement("tbody");e.appendChild(c);this.j=null;b.T&&(this.j=b.T.j);ff(c,"Working with Files");V(this,c,{r:!0,F:79,t:!1},"Open Sgf/Gib/Ngf","Ctrl+O","Open the Sgf/Gib/Ngf file from disk. (Not in color mode, see below)");V(this,c,{r:!0,F:79,t:!0},"Open Sgf","Ctrl+Shift+O","Open the Sgf file from source. (Not in color mode, see below)");V(this,c,{r:!0,F:67,t:!1},"Create new","Ctrl+C","Create new empty board. (not in color mode see below)");V(this,c,{r:!0,F:83,t:!1},"Save Sgf","Ctrl+S","Save Sgf file.");V(this,c,{r:!0,F:72,t:!1},"Save png shot","Ctrl+H","Save board shot in png format.");V(this,c,{r:!0,F:72,t:!0},"Save gif shot","Ctrl+Shift+H","Save board shot in gif format.");V(this,c,{r:!0,F:73,t:!1},"Save multipage gif file.","Ctrl+I","Save gif file for current variant.");V(this,c,{r:!0,F:73,t:!0},"Save multipage gif file.","Ctrl+Shift+I","Save gif file for all branches with comment RIGHT (for problem mode).");ff(c,"Navigation");V(this,c,{r:!1,F:39,t:!1},"Next node","Right arrow","Jump to next node.");V(this,c,{r:!0,F:39,t:!1},"Next 5 node","Ctrl+Right arrow","Jump over 5 nodes.");V(this,c,{r:!0,F:39,t:!0},"End of the variant","Ctrl+Shift+Right arrow","Jump to the end of the current variant.");V(this,c,{r:!1,F:37,t:!1},"Previous node","Left arrow","Jump to previous node.");V(this,c,{r:!0,F:37,t:!1},"Previous 5 node","Shift+Left arrow","Jump back over 5 nodes.");V(this,c,{r:!0,F:37,t:!0},"Start of the file","Ctrl+Shift+Right arrow","Jump to the start of the file.");V(this,c,{r:!1,F:38,t:!1},"Previous variant","Up arrow","Jump to previous variant.");V(this,c,{r:!1,F:40,t:!1},"Next variant","Down arrow","Jump to next variant.");V(this,c,{r:!0,F:36,t:!0},"Start node","Ctrl+Shift+Home",'Jump to the start node of the file. This node can be different from the first node. See "load unfinished files" checkbox in settings.');gf(this,c,{r:!1,F:112,t:!1},"Play mode","F1");V(this,c,{},"Add move","Left mouse click","Set sequentially stones.");V(this,c,{},"Add alternative move","Right mouse click","Create new brunch and add alternative move.");V(this,c,{},"Go to the point","Shift+Left mouse click onto a board position","Teleports you to the moment of the game forth or back, when the stone on this position has been played.");V(this,c,{},"Change move order","Ctrl+Shift+Left mouse click","When sequentially stones are entered: changes the colour of the next stone to be set. What stone will appear on the board is shown by the tools field (useful e.g. after a problem has been set up).");V(this,c,{},"Add comment with coordinates","Ctrl+Left mouse click","Add comment with coordinates.");gf(this,c,{r:!1,F:113,t:!1},"Count scores","F2");V(this,c,{},"Mark dead groups","Left mouse click","Mark dead groups.");V(this,c,{},"End count scores","Ctrl+Left mouse click onto board","Return to play mode.");gf(this,c,{r:!1,F:114,t:!1},"Set up a board position","F3");V(this,c,{},"Add black stone or remove stone","Left mouse click","Add black stone or remove stone.");V(this,c,{},"Add white stone or remove stone","Shift+Left mouse click","Add white stone or remove stone.");hf(this,c,{r:!1,F:115,t:!1},"Triangles","F4","Add triangles.");hf(this,c,{r:!1,F:116,t:!1},"Squares","F5","Add squares.");hf(this,c,{r:!1,F:117,t:!1},"Circles","F6","Add circles.");hf(this,c,{r:!1,F:118,t:!1},"X mark","F7",'Add "X" mark.');gf(this,c,{r:!1,F:119,t:!1},"Text label","F8");V(this,c,{},"Letter","Left mouse click","Add letter.");V(this,c,{},"Text","Shift+Left mouse click","Add text entered by the user.");gf(this,c,{r:!1,F:120,t:!1},"Numeric label","F9");V(this,c,{},"Number","Left mouse click","Add the smallest positive number.");V(this,c,{},"Move number","Shift+Left mouse click","Add number of the first move which was played here.");gf(this,c,{r:!1,F:121,t:!1},"Color mode","F10");V(this,c,{},"Blue region","Left mouse click","Add blue region.");V(this,c,{},"Green region","Shift+Left mouse click","Add green region.");V(this,c,{},"Red region","Ctrl+Left mouse click","Add red region.");V(this,c,{},"Gray region","Ctrl+Shift+Left mouse click","Add gray region.");V(this,c,{},"Clear region","Right mouse click","Clear region.");V(this,c,{r:!0,F:67,t:!1},"Continue","Ctrl+C","Copy all colors from previous node.");V(this,c,{r:!0,F:79,t:!1},"Count colors","Ctrl+O","Count all colors with depth.");V(this,c,{r:!0,F:82,t:!1},"Clear colors","Ctrl+R","Clear all colors in the current node.");ff(c,"Miscellaneous");V(this,c,{r:!1,F:8,t:!1},"Remove node","Backspace/Delete","Deletes the current node and all of the following brunches.");V(this,c,{r:!0,F:69,t:!1},"Score estimator","Ctrl+E","Show window with score estimator (you can mark dead groups by click on them).");V(this,c,{r:!0,F:86,t:!1},"View mode change of the next move","Ctrl+V","There are 3 mods: Show all next move variants, show all alternative variants of the current move, show nothing.");V(this,c,{r:!0,F:82,t:!1},"Show/Hide coordinates","Ctrl+R","Show/Hide coordinates. (Not in color mode, see above)");V(this,c,{r:!0,F:77,t:!0},"Make the current variant mainly","Ctrl+Shift+M","Make the current variant mainly by uplifting it to the root of the game tree.");V(this,c,{r:!0,F:85,t:!0},"Lift up the current variant","Ctrl+Shift+U","Lift up the current variant.");V(this,c,{r:!0,F:68,t:!0},"Lower down the current variant","Ctrl+Shift+D","Lower down the current variant.");V(this,c,{r:!0,F:86,t:!0},"Setting up view port","Ctrl+Shift+V","Setting up visible part of the board.");V(this,c,{r:!0,F:68,t:!1},"Ascii Diagram","Ctrl+D","Make ascii diagram by current position.")};df.prototype.md=function(){if(this.h){var a=this.h.Db(),b=this.h.Ea(),a=Math.max(100,Math.min(700,.9*a)),b=Math.max(100,Math.min(600,.9*b));return{I:a,D:b}}return null};function jf(a){var b=document.createElement("tr");a.appendChild(b);b.style.borderLeft="0";b.style.borderRight="0";b.style.borderBottom="solid 1px #E4E4E4";b.style.borderCollapse="collapse";b.style.padding="8px";b.style.fontSize="12px";b.style.textAlign="left";b.style.cursor="default";return b}function kf(a,b){var c=document.createElement("td");a.appendChild(c);fd(c,b);c.style.borderLeft="0";c.style.borderRight="0";c.style.borderBottom="solid 1px #E4E4E4";c.style.borderCollapse="collapse";c.style.padding="8px";c.style.fontSize="12px";c.style.textAlign="left";c.style.cursor="default";return c}function lf(a,b,c){var d=a.j;d&&c.F&&(b.title="Click to do it",b.style.cursor="pointer",b.style.textDecoration="underline",b.addEventListener("click",function(){ma(d,c)},!1))}function ff(a,b){var c=jf(a),c=kf(c,b);c.colSpan="3";c.style.fontSize="14px";c.style.fontWeight="bold";c.style.paddingTop="20px"}function gf(a,b,c,d,e){b=jf(b);kf(b,d).style.fontWeight="bold";d=kf(b,e);lf(a,d,c);d.colSpan="2"}function hf(a,b,c,d,e,f){b=jf(b);kf(b,d).style.fontWeight="bold";d=kf(b,e);lf(a,d,c);kf(b,f)}function V(a,b,c,d,e,f){b=jf(b);kf(b,d).style.width="35%";d=kf(b,e);d.style.width="15%";lf(a,d,c);kf(b,f).style.width="50%"}function mf(){mf.s.constructor.call(this);this.Of=null}R(mf,He);mf.prototype.o=function(a,b){mf.s.o.call(this,a,!0);Ca(this,"Ascii Diagram");var c=this.a.rb,d=this.a.rd,e=this.a.rb.id;this.b=b.T;this.yk(c,d,e);nf(this,b.T);this.Of.select()};mf.prototype.Pa=function(a){mf.s.Pa.call(this,a);nf(this,a.T);this.Of.select()};mf.prototype.yk=function(a,b,c){var d=document.createElement("textarea");c=c+"TA";d.setAttribute("id",c);d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.style.fontFamily="Courier New, monospacef";d.style.fontSize="10pt";d.style.resize="none";d.style.outline="none";d.style.border="1px solid rgb(169,169,169)";d.style.height="100%";d.style.width="100%";this.Of=d;a.appendChild(d);a=D(c);I(a.i,0,0,1E3,1E3,!1,!1,!1,!1,-1,-1);a.n=K|J|O|L;b.k(a);return d};function nf(a,b){a.Of.value="";if(void 0!==b){var c=b.j,d=b.ma;if(c&&d){for(var e="",f=c.l,g=f.P,h=f.Q,k=f.U,f=f.V,l=0==g?!0:!1,n=d.ca().g-1==k?!0:!1,p=0==h?!0:!1,r=d.ca().f-1==f?!0:!1,q=[],u=h;u<f;u++)for(var v=g;v<k;v++){var t=za(c,v+1,u+1),y=null!=t?t.M:ya,t=null!=t?t.Oe:"";y==gb&&Oa(t)&&(y=parseInt(t),t={Number:y,Hb:d.J(v+1,u+1)},G!=t.Hb&&q.push(t))}var u=!0,y=c.wb,M=-1;if(0<q.length){for(var v=-1,N=G,C=-1,H=0,U=q.length;H<U;H++){t=q[H];if(-1==v||t.Number<v)v=t.Number,N=t.Hb;if(-1==C||t.Number>C)C=t.Number}if(10>C-v){C=!0;H=0;for(U=q.length;H<U;H++){var t=q[H],A=(t.Number-v)%2;if(0==A&&N!=t.Hb||1==A&&N==t.Hb){C=!1;break}}!0===C&&(M=v,u=E===N?!0:!1)}}q=l?"$$  --":"$$ -";for(v=g+1;v<=k;v++)q+="--";q+=n?"- \n":"\n";l=l?"$$ |":"$$";n=n?" |\n":"\n";e=u?e+"$$B":e+"$$W";y&&(e+="c");-1!=M&&(e+="m"+M);e+="\n";p&&(e+=q);for(u=h;u<=f;u++){e+=l;for(v=g;v<=k;v++)if(t=za(c,v+1,u+1),y=null!=t?t.M:ya,t=null!=t?t.Oe:"",h=d.J(v+1,u+1),G==h)if(nb===y)e=e+" T";else if(lb===y)e=e+" C";else if(mb===y)e=e+" S";else if(ob===y)e=e+" M";else if(gb===y&&1===t.length&&97<=t.charCodeAt(0)&&122>=t.charCodeAt(0))e=e+String.fromCharCode(32,t.charCodeAt(0));else if(gb===y&&1===t.length&&65<=t.charCodeAt(0)&&90>=t.charCodeAt(0))e=e+String.fromCharCode(32,t.charCodeAt(0)+32);else{a:{h=v+1;p=u+1;if(d.A===d.G)for(y=La(d),t=0,N=y.length;t<N;t++)if(h-1===y[t][0]&&p-1===y[t][1]){h=!0;break a}h=!1}e=h?e+" ,":e+" ."}else-1!==M&&y==gb&&Oa(t)?(y=parseInt(t)-M+1,e=10==y?e+" 0":e+(" "+y)):E==h?e=nb===y?e+" Y":lb===y?e+" B":mb===y?e+" #":ob===y?e+" Z":e+" X":F==h&&(e=nb===y?e+" Q":lb===y?e+" W":mb===y?e+" @":ob===y?e+" P":e+" O");e+=n}r&&(e+=q);a.Of.value=e}}}function of(){of.s.constructor.call(this)}R(of,Ke);of.prototype.o=function(a,b){of.s.o.call(this,a,!0);Je(this,b.Z);this.b=b.T;this.h=b.Z;Ca(this,"Setting up view port...");var c=this.a.qb,d=this.a.og,e=this.a.qb.id;c.style.background="url('"+Rd+"')";var f=new aa;d.Ua(2,f);var e=e+"B",c=Ie(c,e),g=D(e);I(g.i,0,0,1E3,1E3,!0,!0,!1,!1,-1,-1);g.n=J|K|L|O;d.k(g);this.yc=c;this.Kf=g;f.o(e,Ye(this.b));Da(f,11);this.j=f};of.prototype.p=function(a){of.s.p.call(this,a);this.j&&this.j.p(a)};of.prototype.Pa=function(a){for(;this.yc.firstChild;)this.yc.removeChild(this.yc.firstChild);this.Kf&&this.Kf.Da();var b=new aa;b.o(this.yc.id,Ye(a.T));Da(b,11);this.j=b;of.s.Pa.apply(this,arguments);this.p(!0)};of.prototype.We=function(){if(this.b){var a=this.b.j;if(a){var b=this.j,c=Math.min(b.pa.Kg,b.pa.fe),d=Math.max(b.pa.Kg,b.pa.fe),e=Math.min(b.pa.Lg,b.pa.ge),b=Math.max(b.pa.Lg,b.pa.ge);if(d===c&&b===e)va(a);else{if(3>d-c||3>b-e){a=this.b;(c=this.h)&&Hb(c.W.id,Ib,{T:a,Z:c,mc:"Sorry, viewport can't be so small.",I:270,D:80});return}ua(a,c-1,e-1,d-1,b-1)}this.h.p(!0)}}this.jb()};function pf(){pf.s.constructor.call(this)}R(pf,Ke);m=pf.prototype;m.o=function(a,b){of.s.o.call(this,a,!1);Je(this,b.Z);this.b=b.T;this.h=b.Z;Ca(this,"Create new");var c=this.a.qb,d=this.a.og,e=this.a.qb.id,f=5;this.fn=this.ha(c,d,e,"Black","Black",f,20);f+=50;this.In=this.ha(c,d,e,"White","White",f,20);f+=50;this.jn=this.ha(c,d,e,"Board size","19",f,20);f+=50;this.ti=this.ha(c,d,e,"Handicap","0",f,20);this.Hi=this.ha(c,d,e,"Komi","6.5",f+50,20)};m.oa=function(a,b,c){var d=document.createElement("div");d.setAttribute("id",b);d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.style.fontFamily="Tahoma, Sans serif";d.style.fontSize=15*c/20+"px";d.style.lineHeight=c+"px";d.style.height=c+"px";d.style.fontWeight=550;a.appendChild(d);return d};m.ag=function(a,b){var c=document.createElement("input");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");c.setAttribute("type","text");c.style.fontFamily="Tahoma, Sans serif";c.style.fontSize="10pt";c.style.outline="none";c.style.border="1px solid rgb(169,169,169)";a.appendChild(c);return c};m.ha=function(a,b,c,d,e,f,g){c+=d;var h=this.oa(a,c,g),k=D(c);I(k.i,20,f,10,1E3,!0,!0,!1,!1,-1,g);k.n=K|J|O;b.k(k);fd(h,d);f+=g;d=c+"Value";a=this.ag(a,d);d=D(d);I(d.i,10,f+1,10,1E3,!0,!0,!0,!1,-1,g-2);d.n=K|J|O;b.k(d);a.value=e;return a};m.md=function(){return{I:195,D:340}};m.We=function(){var a=this.jn.value,b=19,c=19,d=-1;-1==(d=a.indexOf(":"))?c=b=Math.min(52,Math.max(parseInt(a),2)):(b=parseInt(a.substr(0,d)),c=parseInt(a.substr(d+1,a.length-d-1)));if(isNaN(b)||2>b||52<b||isNaN(c)||2>c||52<c)Hb(this.h.W.id,Ib,{T:this.b,Z:this.h,mc:"Size value must be an integer number from 2 to 52, or pair of such numbers separated by ':' character.",I:300,D:115});else{var e=parseInt(this.ti.value);if(isNaN(e)||0>e||9<e)Hb(this.h.W.id,Ib,{T:this.b,Z:this.h,mc:"Handicap value must be an integer number from 0 to 9.",I:300,D:95});else if(0!=e&&(6>=c||6>=b||b!==c))Hb(this.h.W.id,Ib,{T:this.b,Z:this.h,mc:"Handicap value must be 0 for this board size.",I:300,D:95});else if(5<e&&(10>=b||10>=c))Hb(this.h.W.id,Ib,{T:this.b,Z:this.h,mc:"Handicap value must be an integer number from 0 to 5 for this board size.",I:300,D:95});else if(a=parseFloat(this.Hi.value),isNaN(a)||.001<Math.abs(2*a-(2*a|0)))Hb(this.h.W.id,Ib,{T:this.b,Z:this.h,mc:"Invalid komi value.",I:175,D:85});else{if(this.b){a="(;FF[4]"+("SZ["+(b===c?b:b+":"+c)+"]")+("KM["+a+"]");a+="PB["+this.fn.value+"]";a+="PW["+this.In.value+"]";a+="HA["+e+"]";d=[];if(b===c){var f=b,b=10>f?2:3,c=((f+1)/2|0)-1,f=10>f?f-3:f-4;switch(e){case 2:d.push([f,b]);d.push([b,f]);break;case 3:d.push([f,f]);d.push([b,f]);d.push([f,b]);break;case 4:d.push([b,b]);d.push([f,f]);d.push([b,f]);d.push([f,b]);break;case 5:d.push([b,b]);d.push([b,f]);d.push([f,b]);d.push([f,f]);d.push([c,c]);break;case 6:d.push([b,b]);d.push([b,f]);d.push([f,b]);d.push([f,f]);d.push([b,c]);d.push([f,c]);break;case 7:d.push([b,b]);d.push([b,f]);d.push([f,b]);d.push([f,f]);d.push([b,c]);d.push([f,c]);d.push([c,c]);break;case 8:d.push([b,b]);d.push([b,f]);d.push([f,b]);d.push([f,f]);d.push([b,c]);d.push([f,c]);d.push([c,b]);d.push([c,f]);break;case 9:d.push([b,b]),d.push([b,f]),d.push([f,b]),d.push([f,f]),d.push([b,c]),d.push([f,c]),d.push([c,b]),d.push([c,f]),d.push([c,c])}}if(0<d.length)for(a+="AB",e=0,b=d.length;e<b;e++)c=d[e][0],f=d[e][1],c+=25>=c?97:39,f+=25>=f?97:39,a+=String.fromCharCode(91,c,f,93);a+=")";this.b.oc(a,null,null,"sgf")}this.jb()}}};var Ib=2,Rc=3,Uc=4,ac=5,fc=6,qf=7,Xc=8,$b=9,kc=10,Zb=11,Fd={};function Hb(a,b,c){if(Fd[b]){var d=Fd[b];d.Pa(c);return d}d="unknownwindow";switch(b){case Rc:d="Info";break;case Uc:d="Settings";break;case Ib:d="Error";break;case ac:d="ScoreEstimate";break;case fc:d="CountColors";break;case qf:d="GifWriter";break;case Xc:d="About";break;case $b:d="DiagramSL";break;case kc:d="ViewPort";break;case Zb:d="CreateNew"}a=a+d+GoBoardApi.ug();d=document.createElement("div");d.setAttribute("id",a);d.setAttribute("style","position:absolute;padding:0;margin:0;width:500px;height:500px;left:300px;top:300px;");d.setAttribute("oncontextmenu","return false;");if(c.Z){c.Z.W.appendChild(d);d=null;switch(b){case Rc:d=new Le;break;case Uc:d=new Re;break;case Ib:d=new Qe;break;case ac:d=new Xe;break;case fc:d=new Ze;break;case qf:d=new $e;break;case Xc:d=new df;break;case $b:d=new mf;break;case kc:d=new of;break;case Zb:d=new pf}Fd[b]=d;null!==d&&(d.o(a,c),d.p(!0));return d}return null};function Z(){}m=Z.prototype;m.Yk=function(){return new rf};m.rg=function(a,b){(new xd(a)).rg(b)};m.sg=function(a,b){(new xd(a)).sg(b)};m.Xk=function(a,b){var c=new xd(a);c.$g=!1;Id(c,b);Pd(c);c.Be=3};m.Wk=function(a,b){var c=new xd(a);c.$g=!1;Id(c,b);Ld(c);c.Be=4};m.hi=function(a,b){(new xd(a)).hi(b)};m.kn=function(a,b){var c=new xd(a);c.$g=!0;c.Yc=400;c.Md=200;Id(c,b);Dd(c,!0)};m.nn=function(a,b,c){(new he(a)).o(b,c)};m.qg=function(a,b,c){(new xd(a)).qg(b);b=.3;c.TutorTime&&(b=parseFloat(c.TutorTime));c.TutorColor&&"Black"===c.TutorColor?sf(a,!1,E,b):c.TutorColor&&"White"===c.TutorColor?sf(a,!1,F,b):sf(a,!0,G,b);a.H=0;void 0!==c.NewNode&&(ne(a,{Bg:!0}),(b=c.NewNode)&&""!==b||(b="Wrong.\nOut of variants."),a.tk=b);b=void 0!==c.WrongCallback?c.WrongCallback:null;var d=void 0!==c.ResetCallback?c.ResetCallback:null;a.qk=void 0!==c.RightCallback?c.RightCallback:null;a.rk=b;a.pk=d};m.li=function(a){return a.li()};m.gf=function(a){a.gf(!0)};m.se=function(a){a.se()};m.wl=function(a,b){var c={};c.Bg=b.NewNode;c.yg=b.Move;c.bi=b.ChangeBoardMode;c.Ji=b.LoadFile;c.he=b.GameInfo;c.Ul=b.ViewPort;ne(a,c)};m.oc=function(a,b,c,d,e){var f={};c&&!0===c.Auto?f.Lk=!0:c&&void 0!==c.X0&&void 0!==c.X1&&void 0!==c.Y0&&void 0!==c.Y1?(f.Lk=!1,f.P=c.X0,f.U=c.X1,f.Q=c.Y0,f.V=c.Y1):f=null;c=a.H;a.H=4294967295;a.oc(b,f,d,e);a.H=c};m.Gg=function(a){return a.Gg()};m.qi=function(a){return a.qi()};m.p=function(a){a.p()};m.Ve=function(a){return a?a.Ve():"White vs. Black"};m.re=function(a,b){a.re(b)};m.za=function(a){a&&a.za()};m.ug=function(){return this.Fn};m.pj=function(a){a&&a.pj()};m.Bn=function(a,b){a&&b&&(a.Ma=b)};m.ja=function(a,b){if(a){var c=tf(a.ia,b);null!==c&&a.ja(c)}};m.vg=function(a,b){a&&a.vg(b)};m.vd=function(a,b){a&&a.vd(b,!0)};m.ie=function(a,b){if(a)return a.ie(b)};m.on=function(a,b){function c(a){a=decodeURIComponent(a);var b=new XMLHttpRequest;b.open("GET",a,!1);b.onreadystatechange=function(){4!==b.readyState||200!==b.status&&0!=b.status||(g=b.responseText,d())};b.send(null)}function d(){var c=document.getElementById(a);if(c){var d={LoadFile:!1,GameInfo:!1,ChangeBoardMode:!1,NewNode:!1,Move:!1,ViewPort:!1},q=400;"image"===h?(l.rg(n,a),l.vd(n,!1),q=600):"viewer"==h?(l.sg(n,a),d.Move=!0,q=600):"vereditor"===h?(l.Xk(n,a),d.ChangeBoardMode=!0,d.NewNode=!0,d.Move=!0,q=600):"horeditor"===h?(l.Wk(n,a),d.ChangeBoardMode=!0,d.NewNode=!0,d.Move=!0,q=900):"problems"==h&&(d={},b.problemsTime&&(d.TutorTime=b.problemsTime),b.problemsColor&&(d.TutorColor=b.problemsColor),b.problemsNewNode&&(d.NewNode=b.problemsNewNode),l.qg(n,a,d),d=null,q=400,null===f&&(f={Auto:!0}));l.oc(n,g,f);null!==k&&(q=k);var u=l.ie(n,q);c.style.width=q+"px";c.style.height=u+"px";-1!==e&&l.vg(n,e);l.p(n);d&&l.wl(n,d)}}var e=-1,f=null,g=null,h=null,k=null,l=this,n=this.Yk();b.viewPort&&(f={},"auto"===b.viewPort?f.Auto=!0:(f.Auto=!1,f.X0=parseInt(b.viewPort.X0),f.X1=parseInt(b.viewPort.X1),f.Y0=parseInt(b.viewPort.Y0),f.Y1=parseInt(b.viewPort.Y1)));b.moveNumber&&(e=parseInt(b.moveNumber));b.boardMode?h=b.boardMode:h="viewer";b.width&&(k=b.width);null!=b.sgfUrl?c(b.sgfUrl):(null!==b.sgfData?g=b.sgfData:g="(;FF[4]GM[1]SZ[19])",d())};window.GoBoardApi=new Z;Z.prototype.Embed=Z.prototype.on;Z.prototype.Create_GameTree=Z.prototype.Yk;Z.prototype.Create_SimpleBoard=Z.prototype.rg;Z.prototype.Create_Viewer=Z.prototype.sg;Z.prototype.Create_EditorHor=Z.prototype.Wk;Z.prototype.Create_EditorVer=Z.prototype.Xk;Z.prototype.Create_BoardWithNavigateButtons=Z.prototype.hi;Z.prototype.Create_BoardCommentsButtonsNavigator=Z.prototype.kn;Z.prototype.Create_Presentation=Z.prototype.nn;Z.prototype.Create_Problems=Z.prototype.qg;Z.prototype.Set_Permissions=Z.prototype.wl;Z.prototype.Load_Sgf=Z.prototype.oc;Z.prototype.Save_Sgf=Z.prototype.Gg;Z.prototype.Get_MoveReference=Z.prototype.qi;Z.prototype.Update_Size=Z.prototype.p;Z.prototype.Set_Sound=Z.prototype.re;Z.prototype.Find_ProblemRightVariant=Z.prototype.li;Z.prototype.Start_AutoPlay=Z.prototype.gf;Z.prototype.Stop_AutoPlay=Z.prototype.se;Z.prototype.Focus=Z.prototype.za;Z.prototype.Get_MatchName=Z.prototype.Ve;Z.prototype.Get_Version=Z.prototype.ug;Z.prototype.Toggle_Rulers=Z.prototype.pj;Z.prototype.Set_GameTreeHandler=Z.prototype.Bn;Z.prototype.GoTo_Node=Z.prototype.ja;Z.prototype.GoTo_NodeByMoveNumber=Z.prototype.vg;Z.prototype.Set_ShowTarget=Z.prototype.vd;Z.prototype.Get_DivHeightByWidth=Z.prototype.ie;function uf(a,b,c){this.M=void 0===a?0:a;this.nk=void 0===b?null:b;this.Xa=void 0===c?0:c}uf.prototype.xa=function(){return this.nk};uf.prototype.Ua=function(a){this.M=a};uf.prototype.Jg=function(a){this.nk=a};function vf(){var a=Command;return JSON.stringify({pc:a.M,Hb:a.nk,ei:a.Xa})};function wf(){Y=X=0}function z(a,b,c,d){this.u=a;this.w=b;this.v=c;this.Ha="undefined"===typeof d?255:d}function P(a){return"rgba("+a.u+","+a.w+","+a.v+","+a.Ha/255+")"}function wd(a,b){return a.u!==b.u||a.w!==b.w||a.v!==b.v||a.Ha!==b.Ha?!1:!0}z.prototype.ee=function(){return new z(this.u,this.w,this.v,this.Ha)};function xf(a){return a.u<<24&4278190080|a.w<<16&16711680|a.v<<8&65280|a.Ha&255}function pb(a){var b=new wf;b.g=a&255;b.f=a>>8&255;return b}function yf(a){for(var b=[],c=0,d=a.length;c<d;c++)b.push(a[c]);return b}function Ka(a){if("undefined"!=typeof a.offsetParent){for(var b=0,c=0;a;a=a.offsetParent)b+=a.offsetLeft,c+=a.offsetTop;return{g:b,f:c}}return{g:a.x,f:a.y}}function Na(a,b){var c=Math.max(0,Math.min(a-1,b-1));return 8>c?String.fromCharCode(65+c):24>=c?String.fromCharCode(65+c+1):33>c?String.fromCharCode(65+c-25,65+c-25):50>c?String.fromCharCode(65+c-24,65+c-24):String.fromCharCode(65+c-50,65+c-50,65+c-50)}function Oa(a){if("string"!=typeof a)return!1;for(var b=0;b<a.length;b++){var c=a.charCodeAt(b);if(48>c||57<c)return!1}return!0}function Jb(a,b){return a>b?1:b>a?-1:0}var zf=null;function be(a,b,c,d,e){a.onmousedown=Af;a.cc=!0;a.lc=!0;a.root=a;a.cc&&isNaN(parseInt(a.root.style.left))&&(a.root.style.left="0px");a.lc&&isNaN(parseInt(a.root.style.top))&&(a.root.style.top="350px");!a.cc&&isNaN(parseInt(a.root.style.right))&&(a.root.style.right="0px");!a.lc&&isNaN(parseInt(a.root.style.bottom))&&(a.root.style.bottom="0px");a.fd="undefined"!=typeof b?b:null;a.gd="undefined"!=typeof d?d:null;a.Wd="undefined"!=typeof c?c:null;a.Xd="undefined"!=typeof e?e:null;a.an=null;a.bn=null;a.root.zh=function(){};a.root.yh=function(){};a.root.ob=function(){}}function Af(a){var b=zf=this;a=Bf(a);var c=parseInt(b.lc?b.root.style.top:b.root.style.bottom),d=parseInt(b.cc?b.root.style.left:b.root.style.right);b.root.zh(d,c);b.Zl=a.clientX;b.$l=a.clientY;b.cc?(null!=b.fd&&(b.wh=a.clientX-d+b.fd),null!=b.Wd&&(b.uk=b.wh+b.Wd-b.fd)):(null!=b.fd&&(b.uk=-b.fd+a.clientX+d),null!=b.Wd&&(b.wh=-b.Wd+a.clientX+d));b.lc?(null!=b.gd&&(b.xh=a.clientY-c+b.gd),null!=b.Xd&&(b.vk=b.xh+b.Xd-b.gd)):(null!=b.gd&&(b.vk=-b.gd+a.clientY+c),null!=b.Xd&&(b.xh=-b.Xd+a.clientY+c));document.onmousemove=Cf;document.onmouseup=Df;return!1}function Cf(a){ca(a);a=Bf(a);var b=zf,c=a.clientY;a=a.clientX;var d=parseInt(b.lc?b.root.style.top:b.root.style.bottom),e=parseInt(b.cc?b.root.style.left:b.root.style.right),f,g;null!=b.fd&&(a=b.cc?Math.max(a,b.wh):Math.min(a,b.uk));null!=b.Wd&&(a=b.cc?Math.min(a,b.uk):Math.max(a,b.wh));null!=b.gd&&(c=b.lc?Math.max(c,b.xh):Math.min(c,b.vk));null!=b.Xd&&(c=b.lc?Math.min(c,b.vk):Math.max(c,b.xh));f=e+(a-b.Zl)*(b.cc?1:-1);g=d+(c-b.$l)*(b.lc?1:-1);b.an?f=b.an(d):b.bn&&(g=b.bn(e));null!=b.fd&&(f=Math.max(f,b.fd));null!=b.Wd&&(f=Math.min(f,b.Wd));null!=b.gd&&(g=Math.max(g,b.gd));null!=b.Xd&&(g=Math.min(g,b.Xd));zf.root.style[b.cc?"left":"right"]=f+"px";zf.root.style[b.lc?"top":"bottom"]=g+"px";zf.Zl=a;zf.$l=c;zf.root.ob(f,g);return!1}function Df(){document.onmousemove=null;document.onmouseup=null;zf.root.yh(parseInt(zf.root.style[zf.cc?"left":"right"]),parseInt(zf.root.style[zf.lc?"top":"bottom"]));zf=null}function Bf(a){"undefined"==typeof a&&(a=window.event);"undefined"==typeof a.layerX&&(a.layerX=a.offsetX);"undefined"==typeof a.layerY&&(a.layerY=a.offsetY);return a}function R(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.s=b.prototype}var yd=window.requestAnimationFrame?window.requestAnimationFrame:window.webkitRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1E3/60)};function ic(a,b,c){if("undefined"!==typeof navigator&&navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(a,b);else{var d=document.createElementNS("http://www.w3.org/1999/xhtml","a");a=(window.URL||window.webkitURL||window).createObjectURL(a);d.href=a;d.download=b;c&&(d.type=c);hc(d)}}function hc(a){var b=document.createEvent("MouseEvents");b.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null);a.dispatchEvent(b)}function td(a){return void 0!==window.localStorage?localStorage.getItem("HTMLGoBoard"+a):""}function vd(a,b){void 0!==window.localStorage&&localStorage.setItem("HTMLGoBoard"+a,b)}function Ef(a){var b="",c,d,e=0,f,g,h=0,k=0;do c=a[k++],d=a[k++],e=a[k++],f=c>>2,c=(c&3)<<4|d>>4,g=(d&15)<<2|e>>6,h=e&63,isNaN(d)?g=h=64:isNaN(e)&&(h=64),b=b+Ff.charAt(f)+Ff.charAt(c)+Ff.charAt(g)+Ff.charAt(h);while(k<a.length);return b}function Gf(a){var b,c,d=0,e="",f=0,g=a.replace(/[^A-Za-z0-9\+\/\=]/g,""),h=[];do b=Ff.indexOf(g.charAt(f++)),d=Ff.indexOf(g.charAt(f++)),a=Ff.indexOf(g.charAt(f++)),e=Ff.indexOf(g.charAt(f++)),b=b<<2|d>>4,c=(d&15)<<4|a>>2,d=(a&3)<<6|e,h.push(b),64!=a&&h.push(c),64!=e&&h.push(d);while(f<g.length);return h}function fd(a,b){a.innerText?a.innerText=b:a.textContent=b}function ze(a,b){var c=document.createElement("div");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c}var Ff="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var G=0,E=1,F=2,Hf=2,mc=0,lc=2,Ha=23.61,Ia=17.51,Ja=Ha/2,Rd="data:image/png;base64,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",ef="data:image/png;base64,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";var Ea=4,gc=8,jc=32,If=4294967295^Ea,Jf=4294967295^gc,Kf=4294967295^jc;function rf(a){this.$a=new te;this.h=a;this.$n=new Wd;this.ma=new Lf;this.L=this.j=null;this.Rm=this.m=this.ia=new Mf(this);this.Od=this.Ld=0;this.ic=E;this.wf=this.Fe=this.Bm=this.km=this.Lb=this.Xc=0;this.Xf=this.Tf=this.cd=this.dd=this.Me=this.Ud=this.Rf=this.Tm=this.Qf=this.Sf="";this.ad="Black";this.Ne="";this.ed="White";this.Vf=this.Yf=this.Uf=this.ib="";this.Ff=0;this.Um=this.Zf=this.Wf="";this.Kd=Hf;this.H=4294967295;this.rc=null;this.sf=.75;this.jm=-1;this.Qj=!1;this.Zc=G;this.vm=300;this.tk="";this.Ma=this.De=this.pk=this.rk=this.qk=this.dk=null}function Ye(a){var b=new rf;b.ma=a.ma.ee();b.ia=Nf(a.ia,a.m);b.m=b.ia;Wb(b);return b}function sf(a,b,c,d){!0===b?(a.Qj=!0,a.Zc=G):(a.Qj=!1,a.Zc=c);void 0!==d&&(a.vm=1E3*d)}m=rf.prototype;m.li=function(){var a=[];Of(this.ia,a);if(0<a.length){var b=Math.max(0,Math.min(a.length-1,Math.floor(Math.random()*a.length)));Pf(a[b]);return!0}return!1};m.gf=function(a){if(2&this.H||!0===a){this.se();this.h&&this.h.pl();var b=this,c=function(){0<Cd(b.m)&&(b.rc=0,xb(b,1,a));0<Cd(b.m)?(b.jm=(new Date).getTime(),b.rc=setTimeout(c,100+6900*(1-b.sf))):(b.rc=null,b.h&&b.h.Ri())},d=100+6900*(1-this.sf)-((new Date).getTime()-this.jm);0>=d?c():this.rc=setTimeout(c,d)}};m.se=function(){this.h&&this.h.Ri();null!==this.rc&&(clearTimeout(this.rc),this.rc=null)};function Kd(a){a.L&&a.L.Cb();if(a.h){a.bc();var b=a.h;b.If&&(b=b.If,!0!==b.qf&&Sd(b,a.sf,!0))}}m.p=function(){this.h&&this.h.p()};m.za=function(){this.j&&this.j.za()};m.oc=function(a,b,c,d){if(this.H&gc){Qf.Nc();var e=this.H;this.H=4294967295;var f=null,f="gib"===d?new Rf(this):"ngf"===d?new Sf(this):new Tf(this);f.Ii(a);this.Qj&&(this.Zc=this.ic===E?F:E);a=this.ma.ca().g;d=this.ma.ca().f;this.j&&b?!0===b.Lk?ua(this.j,4>=f.l.P?0:f.l.P-2,4>=f.l.Q?0:f.l.Q-2,3>=a-f.l.U?a-1:f.l.U,3>=d-f.l.V?d-1:f.l.V):void 0!==b.P&&void 0!==b.U&&void 0!==b.Q&&void 0!==b.V&&ua(this.j,b.P,b.Q,b.U,b.V):this.j&&ua(this.j,0,0,a-1,d-1);this.L&&(this.L.Cb(),this.L.Fa());if(c)if(b=this.ia,c=c.replace(RegExp("~","g"),"+"),c=c.replace(RegExp("-","g"),"/"),c=c.replace(RegExp("_","g"),"="),c=Gf(c),c=new Uf(c,c.length),"GBMR"!==Vf(c,4))this.ja(b);else if(Wf(c),f=Xf(c),f=Vf(c,f),a=tf(b,f),null!==a){b=c.e>=c.Ka?0:c.na[c.e++];this.ub(a);if(1===b)for(b=Xf(c),f=0;f<b&&1===Wf(c);f++){this.Ec(!1,!1);a=Xf(c);for(d=0;d<a;d++){var g=Wf(c),h=Xf(c);switch(g){case 16:h=pb(Xf(c));this.Bb(h.g,h.f,E);break;case 17:h=pb(Xf(c));this.Bb(h.g,h.f,F);break;case 32:case 33:case 34:h=E;switch(g){case 32:h=E;break;case 33:h=F;break;case 34:h=G}for(var g=Xf(c),k=[],l=0;l<g;l++)k.push(Xf(c));this.be(h,k);break;default:c.e+=h}}Wf(c);a=this.m;this.L&&(this.L.Cb(),this.L.Fa())}this.ja(a,!0)}else this.ja(b,!0);else this.Rm=c=!this.Ye()||""!==this.ib&&null!==this.ib&&void 0!==this.ib?this.ia:ge(this.ia),this.ja(c);c=this.nd();3!==this.nd()&&(this.Kd=c);this.H=e;this.j&&(e=this.j,null!==e.Qd&&yb(e.b.m)>=zb(e.Qd)&&Ab(e.Qd));this.h&&this.h.p(!0)}};m.Gg=function(){var a=new Yf;a.b=this;a.bd="";a.xb=null;Zf(a,this.ia);return a.bd};m.Nc=function(){this.ia=new Mf(this);this.Yf=this.ib=this.dd="";this.Xc=0;this.Lb="0";this.Xf=this.Ff="";Me(this,"Black");Ne(this,"");Oe(this,"White");Pe(this,"");this.Wf=this.Vf=this.Tf=this.Sf=this.Ne=this.Uf=this.Me=this.Ud=this.cd=this.Rf="";this.Kd=0;$f(this)};function Ub(a){a.ja(a.Rm)}function wb(a){var b=a.H;G!==a.Zc&&ne(a,{yg:!0});a.ja(a.ia);a.H=b;G!==a.Zc&&a.pk&&ag(a,a.pk)}function ub(a,b){for(var c=a.m;null!=c.ga&&0<b&&!(c=c.ga,b--,1<Cd(c)););a.ja(c)}function xb(a,b,c){if(1===b)bg(a,c)&&(a.Ma&&a.Ma.GoTo_Node&&a.Ma.GoTo_Node(a.m.Vd),Eb(a));else{for(c=0;c<b&&!(bg(a),1<Cd(a.m));c++);a.ja(a.m)}}function Wb(a){for(;bg(a););a.ja(a.m)}m.ql=function(){!0===Sb(this,0,0,this.ic)&&Eb(this)};function Vb(a){var b=a.m.ga;if(null!==b){var c=b.la,d=Cd(b);1<d&&(a.sd()?(b=0<c?b.R(c-1):b.R(d-1),a.ja(b)):0<c&&(b=b.R(c-1),a.ja(b)))}}function Xb(a){var b=a.m.ga;if(null!==b){var c=b.la,d=Cd(b);1<d&&(a.sd()?(b=c<d-1?b.R(c+1):b.R(0),a.ja(b)):c<d-1&&(b=b.R(c+1),a.ja(b)))}}m.si=function(){for(var a=this.m;!cg(a);){var b=a.ga;if(null===b&&a!==this.ia)return;a=b}a.si();this.ja(a)};m.ef=function(a){this.ic=a;this.m.ef(a)};m.ub=function(a){this.Ma&&this.Ma.ub&&this.Ma.ub(a.Vd);this.m=a};m.Bb=function(a,b,c){this.m.Bb(a,b,c)};m.Ec=function(a,b){if(!(this.H&1))return!1;var c=new Mf(this);this.Ma&&this.Ma.Ec&&this.Ma.Ec(oNode.Vd);var d=c.ga=this.m;d.ua.push(c);if(!0===b||-1===d.la)d.la=d.ua.length-1;this.ub(c);this.wf++;!0===a&&this.L&&(this.L.Cb(),this.L.Fa());return!0};function Sb(a,b,c,d){for(var e=(c<<8)+b,f=0,g=Cd(a.m);f<g;f++){var h=a.m.R(f),k=h.Qb,l=k.M;if(e===k.xa()&&d===l&&(E===d||F===d))return b=a.m.la,dg(a.m,f),a.ub(h),a.wf++,a.L&&b!==f&&a.L.Fa(),!0}if(!(a.H&1))return!1;a.Ec(!1,!0);a.m.Bb(b,c,d);a.L&&(a.L.Cb(),a.L.Fa());G!==a.Zc&&""!==a.tk&&a.m.Hg(a.tk);return!0}m.be=function(a,b){this.m.be(a,b)};m.hg=function(a){var b=this.m.bb;this.m.hg(a);this.h&&this.h.Oc(this.m.bb);this.L&&""===b&&""!==a&&this.L.Fa()};m.Hg=function(a){var b=this.m.bb;this.m.Hg(a);this.L&&(""===b&&""!==a||""!==b&&""===a)&&this.L.Fa()};m.Ca=function(a,b){this.m.Ca(a,b)};m.Fb=function(a){this.m.Ca(513,a)};m.ce=function(a,b){this.m.ce(a,b)};m.Kh=function(a,b){this.m.Rb.Hd||(this.m.Rb.Hd=!0);for(var c=0,d=b.length;c<d;c++)this.m.Kh(b[c],a)};m.Ih=function(a){this.m.Ih(a)};m.Lh=function(a){this.m.Lh(a)};m.ci=function(){!0===this.m.Rb.Hd&&(this.m.Rb.Hd=!1,this.m.ci());if(this.j){this.j.Ra={};for(var a=0,b=this.m.Ia.length;a<b;a++){var c=this.m.Ia[a],d=c.xa(),e=c.Xa;switch(c.M){case 529:for(c=0;c<e;c++){var f=pb(d[c]);this.j.Ca(new xa(f.g,f.f,lb,""))}break;case 530:for(c=0;c<e;c++)f=pb(d[c]),this.j.Ca(new xa(f.g,f.f,ob,""));break;case 531:for(c=0;c<e;c++)f=pb(d[c]),this.j.Ca(new xa(f.g,f.f,mb,""));break;case 532:for(c=0;c<e;c++)f=pb(d[c]),this.j.Ca(new xa(f.g,f.f,nb,""));break;case 533:f=pb(d.Si);this.j.Ca(new xa(f.g,f.f,gb,d.Text));break;case 513:for(c=0;c<e;c++)f=pb(d[c]),this.j.Fb(f.g,f.f)}}this.m.Kc()?(b=this.m.Qb,a=b.od(),b=b.pd(),eb(this.j,a,b)):eb(this.j,-1,-1);Sa(this.j)}};function Tb(a){var b=a.m.ga;if(null===b)a.m.Da(),a.L&&(a.L.Cb(),a.L.Fa()),a.ja(a.m);else for(var c=0,d=Cd(b);c<d;c++)if(a.m===b.R(c)){d=b;d.ua.splice(c,1);d.la>=c&&d.la--; -1===d.la&&0<d.ua.length&&(d.la=0);a.ub(b);a.L&&(a.L.Cb(),a.L.Fa());a.ja(b);break}}m.Kc=function(){return this.m.Kc()};function Eb(a){a.j&&(1===a.j.qa&&Da(a.j,0),a.j.Ra={},a.ff());for(var b=0,c=a.m.Ia.length;b<c;b++){var d=a.m.Ia[b],e=d.xa(),f=d.Xa;switch(d.M){case 1:d=pb(e);eg(a,d.g,d.f,E,!1);break;case 2:d=pb(e);eg(a,d.g,d.f,F,!1);break;case 257:for(var g=0;g<f;g++)d=pb(e[g]),fg(a,d.g,d.f,E,-1);break;case 258:for(g=0;g<f;g++)d=pb(e[g]),fg(a,d.g,d.f,F,-1);break;case 259:for(g=0;g<f;g++)d=pb(e[g]),fg(a,d.g,d.f,G,-1);break;case 260:a.ic=e;break;case 529:if(a.j)for(g=0;g<f;g++)d=pb(e[g]),a.j.Ca(new xa(d.g,d.f,lb,""));break;case 530:if(a.j)for(g=0;g<f;g++)d=pb(e[g]),a.j.Ca(new xa(d.g,d.f,ob,""));break;case 531:if(a.j)for(g=0;g<f;g++)d=pb(e[g]),a.j.Ca(new xa(d.g,d.f,mb,""));break;case 532:if(a.j)for(g=0;g<f;g++)d=pb(e[g]),a.j.Ca(new xa(d.g,d.f,nb,""));break;case 533:a.j&&(d=pb(e.Si),a.j.Ca(new xa(d.g,d.f,gb,e.Text)));break;case 513:if(a.j)for(g=0;g<f;g++)d=pb(e[g]),a.j.Fb(d.g,d.f)}}a.j&&(a.m.Kc()?(c=a.m.Qb,b=c.od(),c=c.pd(),eb(a.j,b,c)):eb(a.j,-1,-1),a.m.Rb.Hd&&Da(a.j,1),Sa(a.j),gg(a.m,a.j));a.h&&(b=a.m.bb,c=!0,G!==a.Zc?(-1!==b.indexOf("CHOICE")&&(b=b.replace("CHOICE","")),0>=Cd(a.m)&&(-1!==b.indexOf("RIGHT")&&null!==a.qk?(a.h.Oc(b.replace("RIGHT","")),ag(a,a.qk),c=!1):-1===b.indexOf("RIGHT")&&null!==a.rk&&(a.h.Oc(b),ag(a,a.rk),c=!1)),c&&a.h.Oc(b)):a.h.Oc(b));a.L&&ce(a.L,!0);a.bc();if(a.ic===a.Zc&&null===a.dk&&null===a.rc&&null===a.De&&0<=Cd(a.m)){var h=a.H;a.dk=setTimeout(function(){a.H=4294967295;for(var b=a.m,c=[],d=0,e=Cd(b);d<e;d++)-1!==b.R(d).bb.indexOf("CHOICE")&&c.push(d);0<c.length?(d=Math.max(0,Math.min(c.length-1,Math.floor(Math.random()*c.length))),dg(b,c[d])):0<Cd(b)&&dg(b,0);xb(a,1);a.H=h;a.dk=null},a.vm);a.H=0}}function eg(a,b,c,d,e){if(0!=b||0!=c){if(a.$a&&!0!==e){var f=a.$a;we(f,f.rl)}fg(a,b,c,d,a.Fe+1,e);f=null;if(null!==(f=Qb(a.ma,b,c,d,!1))&&0<f.ca()){b=f.ca();for(c=0;c<b;c++){var g=pb(f.xa(c));fg(a,g.g,g.f,G,-1)}a.$a&&!0!==e&&ve(a.$a,f.ca());E===d?a.Ld+=b:a.Od+=b}else if(null!==(f=Rb(a.ma,b,c,d))&&0<f.ca()){b=f.ca();for(c=0;c<b;c++)g=pb(f.xa(c)),fg(a,g.g,g.f,G,-1);a.$a&&!0!==e&&ve(a.$a,f.ca());E===d?a.Od+=b:a.Ld+=b}else a.ma.Bc.Nc()}a.ic=E===d?F:E;a.Fe++}function bg(a,b){if(!(a.H&2)&&!0!==b||0===Cd(a.m)||-1===a.m.la)return!1;a.ub(a.m.R(a.m.la));a.wf++;return!0}m.ff=function(){this.j&&this.m.ff(this.Kd,this.j)};m.pg=function(){if(this.j){var a=this.ma.pg(this.j);Sa(this.j);this.m.Rb.Hd||(this.m.Rb.Hd=!0);var b=this.ma,c=this.m.Rb;c.Ib={};for(var d=b.ca(),e=1;e<=d.f;e++)for(var f=1;f<=d.g;f++){var g=b.qc[Fa(b,f,e)],h=(e<<8)+f;if(E===g||F===g)c.Ib[""+h]=g}this.km=a.de+this.Ld;this.Bm=a.te+this.Od+this.Xc;this.bc()}};m.re=function(a){this.$a.o(a)};m.ja=function(a,b){if(this.H&2||!0===b){this.Ma&&this.Ma.GoTo_Node&&this.Ma.GoTo_Node(a.Vd);this.se();$f(this);this.ma.Da();this.$a&&(this.$a.ye=!1);var c=Pf(a);for(this.ub(this.ia);this.m!=a&&0<Cd(this.m);){for(var d=this.m.Ia.length,e=0;e<d;e++){var f=this.m.Ia[e],g=f.xa(),h=f.Xa;switch(f.M){case 1:f=pb(g);eg(this,f.g,f.f,E,!0);break;case 2:f=pb(g);eg(this,f.g,f.f,F,!0);break;case 257:for(var k=0;k<h;k++)f=pb(g[k]),this.ma.Set(f.g,f.f,E,-1);break;case 258:for(k=0;k<h;k++)f=pb(g[k]),this.ma.Set(f.g,f.f,F,-1);break;case 259:for(k=0;k<h;k++)f=pb(g[k]),this.ma.Set(f.g,f.f,G,-1)}}if(!bg(this,b))break}this.j&&Qa(this.j);Eb(this);this.L&&!0===c&&this.L.Fa();this.$a&&(this.$a.ye=!0)}};function nc(a,b){b!==a.Kd&&(a.Kd=b,a.ff())}function Ne(a,b){a.Qf=b;a.h&&a.h.tj(a.Qf)}m.Ve=function(){var a=this.dd;""===a&&(a=this.ed+" vs. "+this.ad);""===a&&(a="White vs. Black");return a};function Me(a,b){a.ad=b;a.h&&a.h.sj(a.ad)}function Oe(a,b){a.ed=b;a.h&&a.h.uj(a.ed)}function Pe(a,b){a.Zf=b;a.h&&a.h.vj(a.Zf)}function hg(a,b,c){b=Math.min(52,Math.max(b,2));c=Math.min(52,Math.max(c,2));var d=a.ma.ca();if(b!==d.g||c!==d.f)d=a.ma,d.A=b,d.G=c,ig(d),d.Bc.Nc(),a.j&&(a=a.j,ta(a),a.Tb(!0))}function $f(a){a.ub(a.ia);a.Ld=0;a.Od=0;a.Fe=0;a.wf=0;a.ic=E}function fg(a,b,c,d,e,f){a.ma.Set(b,c,d,e);a.j&&!0!==f&&wa(a.j,b,c,d)}m.bc=function(a){if(this.h){var b=this.$n,c=this.m.ga;b.Fc=null===this.m.ga?!1:!0;b.Hc=0>=Cd(this.m)?!1:!0;if(null!==c){var d=c.la,c=Cd(c);this.sd()?(b.Lc=1<c?!0:!1,b.Mc=1<c?!0:!1):(b.Lc=d<c-1?!0:!1,b.Mc=0<d?!0:!1)}else b.Lc=!1,b.Mc=!1;this.j&&(b.pb=this.j.qa);for(var d=this.ia,e=c=1;0<Cd(d);)c++,d=d.R(),d===this.m&&(e=c);b.Hl=0<c?(e-1)/(c-1):1;this.h.bc(b);this.j&&1===this.j.qa?this.h.Pc(this.km,this.Bm):this.h.hf(this.Ld,this.Od);a&&(this.h.tj(this.Qf),this.h.vj(this.Zf),this.h.sj(this.ad),this.h.uj(this.ed))}};function ne(a,b){b&&(!0===b.Bg?a.H|=1:!1===b.Bg&&(a.H&=-2),!0===b.yg?a.H|=2:!1===b.yg&&(a.H&=-3),!0===b.bi?a.H|=Ea:!1===b.bi&&(a.H&=If),!0===b.Ji?a.H|=gc:!1===b.Ji&&(a.H&=Jf),!0===b.he?a.H|=16:!1===b.he&&(a.H&=-17),!0===b.Ul?a.H|=jc:!1===b.Ul&&(a.H&=Kf))}function cc(a){if(a=a.j){a=ra(a,!0).toDataURL("image/png");var b=document.createElement("a");b.download="BoardShot.png";b.href="data:image/png;base64"+a;hc(b)}}function ec(a){var b=[],c=a.ia;for(b.push(c);0<Cd(c);)c=c.R(c.la),b.push(c);jg(a,b)}function dc(a){var b=[],c=[];Of(a.ia,c);for(var d=0,e=c.length;d<e;d++){var f=c[d];Pf(f);var g=a.ia;for(b.push(g);g!==f&&0<Cd(g);)g=g.R(g.la),b.push(g)}jg(a,b)}function bc(a){jg(a,[a.m])}function jg(a,b){var c=a.j;if(c){var d=a.m,e=c.c.I,f=c.c.D,g=b.length,h=Math.max(1,Math.ceil(2E6/e/f)),k=0,l=null,n=null,p=5<Math.ceil(g/h)?!0:!1,r=!0===p?Hb(c.a.d.a.id,qf,{Z:a.h,T:a}):null;c.Xg=!0;var q=new kg;q.om=Math.floor(150);q.xd();f=e=0;null!==r&&bf(r);a.De=!0;var u=function(){var v,t;if(null===a.De)c.Xg=!1,a.ja(d,!0);else{for(var y=Math.min(k+h,g);k<y;k++){a.ja(b[k],!0);oCanvas=ra(c,!1);oContext=oCanvas.getContext("2d");v=c;var M={};t={};var N=void 0;for(N in v.Lf)M[N]=v.Lf[N];var C=void 0;for(C in v.Ra){var N=parseInt(C),H=v.Ra[C];gb===H.M&&G===v.N.J(H.od(),H.pd())?t[N]=!1:t[N]=!0}M=v=M;C=t;if(0===e||0===f)e=oCanvas.width,f=oCanvas.height;if(null===l||null===n)lg(q,0,0,e,f,[{P:0,Q:0,U:e,V:f}]);else{var N={},U;for(U in C)N[U]=C[U];for(U in n)N[U]=void 0===N[U]||!1!==N[U]&&!1!==n[U]?n[U]:!1;for(U in l)l[U]!==M[U]&&!1!==N[U]&&(N[U]=!0);M=[];for(U in N){C=pb(U);var A=C.g,H=C.f;if(!0!==ea(c,A-1,H-1))C=null;else if(C=c.c.$,!0===N[U])var Q=c.c.Gb,W=(Q-1)/2,w=c.Ch()?c.c.$b:0,A=C[A-1].g-W,C=C[H-1].f-W,C={P:A,Q:C,U:A+Q+w,V:C+Q+w};else Q=C[A-1].Qc,H=C[H-1].Rc,C={P:Q,Q:H,U:Q+(C[1].g-C[0].g+2),V:H+(C[1].f-C[0].f+2)};null!==C&&M.push(C)}if(0<M.length){N=e;H=f;A=w=Q=0;for(W=M.length;A<W;A++)C=M[A],C.P<N&&(N=C.P),C.Q<H&&(H=C.Q),C.U>Q&&(Q=C.U),C.V>w&&(w=C.V);lg(q,N,H,Q-N,w-H,M)}else lg(q,0,0,e,f,[])}l=v;n=t}null!==r&&af(r,Math.min(100,k/g*100));k<g?!0===p?setTimeout(u,10):u():(r&&cf(r),mg(q.O,59),y=a.dd,""===y&&(y=a.ed+" vs. "+a.ad),""===y&&(y="download"),y+=".gif",U=new Blob([ng(q.O)],{type:"image/gif"}),ic(U,y),a.De=null,c.Xg=!1,a.ja(d,!0))}};!0===p?setTimeout(u,10):u()}}function ag(a,b){null===a.De&&b&&b()}m.$e=function(){return x.$e()};m.$i=function(a){x.$i(a)};m.Ye=function(){return x.Ye()};m.xg=function(){return x.xg()};m.vd=function(a,b){if(!0===b&&!1===a&&this.j){var c=this.j.hb;c.bm=!0;fa(c)}else x.vd(a),this.j&&ha(this.j)};m.sd=function(){return x.sd()};m.Xi=function(a){x.Xi(a);this.bc()};m.je=function(){return x.je()};m.bj=function(a){a!==this.je()&&(x.bj(a),this.L&&this.L.Fa())};m.nd=function(){return x.nd()};m.Zi=function(a){a!==this.nd()&&x.Zi(a)};m.Jh=function(a,b,c){this.m.Jh(a,b,c);this.h&&Td()};m.Ui=function(a,b){this.m.Ui(a,b);this.h&&Td()};m.Ti=function(){this.m.Ti();this.h&&Td()};m.di=function(){this.m.di();this.j&&gg(this.m,this.j);this.h&&Td()};m.qi=function(){for(var a=this.m,b=a;!a.Zg;){var c=a.ga;if(null===c)return"";a=c}c=new og;pg(c,"GBMR");qg(c,1);var d=a.Vd;rg(c,d.length);pg(c,d);if(a!==b){mg(c,1);for(d=[];b!==a;)d.splice(0,0,b),b=b.ga;rg(c,d.length);a=0;for(b=d.length;a<b;a++){var e=d[a];qg(c,1);var f=c.e;c.e+=4;for(var g=0,h=0,k=e.Ia.length;h<k;h++){var l=e.Ia[h],n=l.M,p=l.xa(),l=l.Xa;switch(n){case 1:qg(c,16);rg(c,4);rg(c,p);g++;break;case 2:qg(c,17);rg(c,4);rg(c,p);g++;break;case 257:case 258:case 259:switch(n){case 257:qg(c,32);break;case 258:qg(c,33);break;case 259:qg(c,34)}rg(c,4*(l+1));rg(c,l);for(n=0;n<l;n++)rg(c,p[n]);g++}}e=c.e;c.e=f;rg(c,g);c.e=e;qg(c,0)}}else mg(c,0);c=ng(c);c=Ef(c);c=c.replace(RegExp("\\+","g"),"~");c=c.replace(RegExp("\\/","g"),"-");return c=c.replace(RegExp("=","g"),"_")};m.Mi=function(){this.ia.Mi();this.L&&(this.L.Cb(),this.L.Fa(),ce(this.L,!0))};m.zg=function(a){this.m.zg(a);this.L&&(this.L.Cb(),this.L.Fa(),ce(this.L,!0))};m.pj=function(){this.j&&this.j.Ig(!this.j.wb)};m.vg=function(a){var b=this.ia;if(0!==a)for(var c=0;c!==a&&!(0>=Cd(b));){b=b.R(b.la);if(!b)break;b.Kc()&&c++}a=b;null!==a&&this.ja(a)};m.ie=function(a){return this.h?this.h.ie(a):0};function kg(){this.O=null;this.Yg=!0;this.Td=this.Sm=null;this.Ya={};this.um=0;this.bb=String.fromCharCode(71,101,110,101,114,97,116,101,100,32,98,121,32,103,111,98,97,110,46,111,114,103);this.om=0;this.th=null;this.pm=this.Wn=this.G=this.A=0}function lg(a,b,c,d,e,f){var g=oContext;a.Yg&&(a.A=g.canvas.width,a.G=g.canvas.height);a.Sm=g.getImageData(0,0,g.canvas.width,g.canvas.height).data;if(a.Yg){a.Td=Array(768);for(var h=g=0;768>g;g+=3,h+=6)a.Td[g+0]=parseInt("ff0000e0b65ce0b65ce0b65ce0b65ce0b75ce0b75ce1b75ce0b75ce0b75de1b75de1b75de1b85de2b85de2b85de2b85de2b85de3b85de3b85de3b95de3b95de3b95de3b95ee3b95ee3b95ee4b95ee4ba5ee4ba5ee4ba5ee4ba5ee5ba5ee5ba5ee5ba5ee5ba5ee5bb5ee5bb5ee5ba5ee5bb5ee5bb5ee5ba5ee5ba5fe1bc6dddbc75e1bb6ae4bb64e5bb5fe6bb5fe6bb5fe6bb5ee6bb5ee6bb5fe6bb5edeb65cdeb55cdfb55cdeb55cdeb55bdeb45bddb45bddb45bddb45bddb35bddb35bdcb35bdcb35bdbb35ddcb35adcb35adbb35adbb25adbb25adab25adab25adab15ad9b15ad9b15adab159d9b159d9b159d9b059d9b059d8b059d8b059d8af58d8b059d7b059d7af59d7af58d7af58d7ae58d6af58d6ae58d6ae58d5ae58d5ae58d5ae58d4ae5ad4ad58d5ad57d5ad57d4ad57d4ad57d4ac57d3ac57d4ac57d4ac57d3ac57d3ac57d3ac57d2ac57d2ac57d3ab56d2ab56d2ab56d2ab56d2ab56d2aa56d1aa56d1aa56d1aa56d1aa55d0aa55cfa956d0a955cfa855cfa855cba554c9a65bbea87ac5b38cd5c197cdc4b0e2d0aaead6abeed9adf1dcaef3ddaff3ddaffaf0dbfefefefdfdfdfafafaf8f8f8f5f5f5f1f1f1eeeeeeebebebe8e8e8e4e4e4e1e1e1dedededadadad6d6d6d3d3d3d0d0d0d0d0d0cfcfcfcecececececdcdcdcdcdcdcccfccc5cccbcbcacacacacac9c8c8c8cac8c3c7c7c7c6c6c5c4c4c4c3c3c2c2c1c1c0c0c0bfbebebdbdbdbbbbbab3b3b2bcb6a9b4ad9da7a49d9c9c9c9494948e8e8e8888888282827c7c7c7474746e6e6e6767677b756aa39370b99a59c29e50c09c4ebc994db9964bb6944ab29149af8e48ac8b47a88945a68744a28443a082429d7f40997c3f967a3d91753b876e387a6434735d2f6f5b2e6b572c64522a6359435e5e5e5757575050504a4a4a404040363636413c31524324423821352d1a2c2c2c2725212222221f1d191c171016161413131212121112111111111111111011101010101010100f0f0f0f0f0f0f0f0e0e0e0e0d0d0d0d0d0d0d0c0c0b0b0b0a0909090d0a07640909ef02023e0000000000000000000000000000"[h+0]+"ff0000e0b65ce0b65ce0b65ce0b65ce0b75ce0b75ce1b75ce0b75ce0b75de1b75de1b75de1b85de2b85de2b85de2b85de2b85de3b85de3b85de3b95de3b95de3b95de3b95ee3b95ee3b95ee4b95ee4ba5ee4ba5ee4ba5ee4ba5ee5ba5ee5ba5ee5ba5ee5ba5ee5bb5ee5bb5ee5ba5ee5bb5ee5bb5ee5ba5ee5ba5fe1bc6dddbc75e1bb6ae4bb64e5bb5fe6bb5fe6bb5fe6bb5ee6bb5ee6bb5fe6bb5edeb65cdeb55cdfb55cdeb55cdeb55bdeb45bddb45bddb45bddb45bddb35bddb35bdcb35bdcb35bdbb35ddcb35adcb35adbb35adbb25adbb25adab25adab25adab15ad9b15ad9b15adab159d9b159d9b159d9b059d9b059d8b059d8b059d8af58d8b059d7b059d7af59d7af58d7af58d7ae58d6af58d6ae58d6ae58d5ae58d5ae58d5ae58d4ae5ad4ad58d5ad57d5ad57d4ad57d4ad57d4ac57d3ac57d4ac57d4ac57d3ac57d3ac57d3ac57d2ac57d2ac57d3ab56d2ab56d2ab56d2ab56d2ab56d2aa56d1aa56d1aa56d1aa56d1aa55d0aa55cfa956d0a955cfa855cfa855cba554c9a65bbea87ac5b38cd5c197cdc4b0e2d0aaead6abeed9adf1dcaef3ddaff3ddaffaf0dbfefefefdfdfdfafafaf8f8f8f5f5f5f1f1f1eeeeeeebebebe8e8e8e4e4e4e1e1e1dedededadadad6d6d6d3d3d3d0d0d0d0d0d0cfcfcfcecececececdcdcdcdcdcdcccfccc5cccbcbcacacacacac9c8c8c8cac8c3c7c7c7c6c6c5c4c4c4c3c3c2c2c1c1c0c0c0bfbebebdbdbdbbbbbab3b3b2bcb6a9b4ad9da7a49d9c9c9c9494948e8e8e8888888282827c7c7c7474746e6e6e6767677b756aa39370b99a59c29e50c09c4ebc994db9964bb6944ab29149af8e48ac8b47a88945a68744a28443a082429d7f40997c3f967a3d91753b876e387a6434735d2f6f5b2e6b572c64522a6359435e5e5e5757575050504a4a4a404040363636413c31524324423821352d1a2c2c2c2725212222221f1d191c171016161413131212121112111111111111111011101010101010100f0f0f0f0f0f0f0f0e0e0e0e0d0d0d0d0d0d0d0c0c0b0b0b0a0909090d0a07640909ef02023e0000000000000000000000000000"[h+1],16),a.Td[g+1]=parseInt("ff0000e0b65ce0b65ce0b65ce0b65ce0b75ce0b75ce1b75ce0b75ce0b75de1b75de1b75de1b85de2b85de2b85de2b85de2b85de3b85de3b85de3b95de3b95de3b95de3b95ee3b95ee3b95ee4b95ee4ba5ee4ba5ee4ba5ee4ba5ee5ba5ee5ba5ee5ba5ee5ba5ee5bb5ee5bb5ee5ba5ee5bb5ee5bb5ee5ba5ee5ba5fe1bc6dddbc75e1bb6ae4bb64e5bb5fe6bb5fe6bb5fe6bb5ee6bb5ee6bb5fe6bb5edeb65cdeb55cdfb55cdeb55cdeb55bdeb45bddb45bddb45bddb45bddb35bddb35bdcb35bdcb35bdbb35ddcb35adcb35adbb35adbb25adbb25adab25adab25adab15ad9b15ad9b15adab159d9b159d9b159d9b059d9b059d8b059d8b059d8af58d8b059d7b059d7af59d7af58d7af58d7ae58d6af58d6ae58d6ae58d5ae58d5ae58d5ae58d4ae5ad4ad58d5ad57d5ad57d4ad57d4ad57d4ac57d3ac57d4ac57d4ac57d3ac57d3ac57d3ac57d2ac57d2ac57d3ab56d2ab56d2ab56d2ab56d2ab56d2aa56d1aa56d1aa56d1aa56d1aa55d0aa55cfa956d0a955cfa855cfa855cba554c9a65bbea87ac5b38cd5c197cdc4b0e2d0aaead6abeed9adf1dcaef3ddaff3ddaffaf0dbfefefefdfdfdfafafaf8f8f8f5f5f5f1f1f1eeeeeeebebebe8e8e8e4e4e4e1e1e1dedededadadad6d6d6d3d3d3d0d0d0d0d0d0cfcfcfcecececececdcdcdcdcdcdcccfccc5cccbcbcacacacacac9c8c8c8cac8c3c7c7c7c6c6c5c4c4c4c3c3c2c2c1c1c0c0c0bfbebebdbdbdbbbbbab3b3b2bcb6a9b4ad9da7a49d9c9c9c9494948e8e8e8888888282827c7c7c7474746e6e6e6767677b756aa39370b99a59c29e50c09c4ebc994db9964bb6944ab29149af8e48ac8b47a88945a68744a28443a082429d7f40997c3f967a3d91753b876e387a6434735d2f6f5b2e6b572c64522a6359435e5e5e5757575050504a4a4a404040363636413c31524324423821352d1a2c2c2c2725212222221f1d191c171016161413131212121112111111111111111011101010101010100f0f0f0f0f0f0f0f0e0e0e0e0d0d0d0d0d0d0d0c0c0b0b0b0a0909090d0a07640909ef02023e0000000000000000000000000000"[h+2]+"ff0000e0b65ce0b65ce0b65ce0b65ce0b75ce0b75ce1b75ce0b75ce0b75de1b75de1b75de1b85de2b85de2b85de2b85de2b85de3b85de3b85de3b95de3b95de3b95de3b95ee3b95ee3b95ee4b95ee4ba5ee4ba5ee4ba5ee4ba5ee5ba5ee5ba5ee5ba5ee5ba5ee5bb5ee5bb5ee5ba5ee5bb5ee5bb5ee5ba5ee5ba5fe1bc6dddbc75e1bb6ae4bb64e5bb5fe6bb5fe6bb5fe6bb5ee6bb5ee6bb5fe6bb5edeb65cdeb55cdfb55cdeb55cdeb55bdeb45bddb45bddb45bddb45bddb35bddb35bdcb35bdcb35bdbb35ddcb35adcb35adbb35adbb25adbb25adab25adab25adab15ad9b15ad9b15adab159d9b159d9b159d9b059d9b059d8b059d8b059d8af58d8b059d7b059d7af59d7af58d7af58d7ae58d6af58d6ae58d6ae58d5ae58d5ae58d5ae58d4ae5ad4ad58d5ad57d5ad57d4ad57d4ad57d4ac57d3ac57d4ac57d4ac57d3ac57d3ac57d3ac57d2ac57d2ac57d3ab56d2ab56d2ab56d2ab56d2ab56d2aa56d1aa56d1aa56d1aa56d1aa55d0aa55cfa956d0a955cfa855cfa855cba554c9a65bbea87ac5b38cd5c197cdc4b0e2d0aaead6abeed9adf1dcaef3ddaff3ddaffaf0dbfefefefdfdfdfafafaf8f8f8f5f5f5f1f1f1eeeeeeebebebe8e8e8e4e4e4e1e1e1dedededadadad6d6d6d3d3d3d0d0d0d0d0d0cfcfcfcecececececdcdcdcdcdcdcccfccc5cccbcbcacacacacac9c8c8c8cac8c3c7c7c7c6c6c5c4c4c4c3c3c2c2c1c1c0c0c0bfbebebdbdbdbbbbbab3b3b2bcb6a9b4ad9da7a49d9c9c9c9494948e8e8e8888888282827c7c7c7474746e6e6e6767677b756aa39370b99a59c29e50c09c4ebc994db9964bb6944ab29149af8e48ac8b47a88945a68744a28443a082429d7f40997c3f967a3d91753b876e387a6434735d2f6f5b2e6b572c64522a6359435e5e5e5757575050504a4a4a404040363636413c31524324423821352d1a2c2c2c2725212222221f1d191c171016161413131212121112111111111111111011101010101010100f0f0f0f0f0f0f0f0e0e0e0e0d0d0d0d0d0d0d0c0c0b0b0b0a0909090d0a07640909ef02023e0000000000000000000000000000"[h+3],16),a.Td[g+2]=parseInt("ff0000e0b65ce0b65ce0b65ce0b65ce0b75ce0b75ce1b75ce0b75ce0b75de1b75de1b75de1b85de2b85de2b85de2b85de2b85de3b85de3b85de3b95de3b95de3b95de3b95ee3b95ee3b95ee4b95ee4ba5ee4ba5ee4ba5ee4ba5ee5ba5ee5ba5ee5ba5ee5ba5ee5bb5ee5bb5ee5ba5ee5bb5ee5bb5ee5ba5ee5ba5fe1bc6dddbc75e1bb6ae4bb64e5bb5fe6bb5fe6bb5fe6bb5ee6bb5ee6bb5fe6bb5edeb65cdeb55cdfb55cdeb55cdeb55bdeb45bddb45bddb45bddb45bddb35bddb35bdcb35bdcb35bdbb35ddcb35adcb35adbb35adbb25adbb25adab25adab25adab15ad9b15ad9b15adab159d9b159d9b159d9b059d9b059d8b059d8b059d8af58d8b059d7b059d7af59d7af58d7af58d7ae58d6af58d6ae58d6ae58d5ae58d5ae58d5ae58d4ae5ad4ad58d5ad57d5ad57d4ad57d4ad57d4ac57d3ac57d4ac57d4ac57d3ac57d3ac57d3ac57d2ac57d2ac57d3ab56d2ab56d2ab56d2ab56d2ab56d2aa56d1aa56d1aa56d1aa56d1aa55d0aa55cfa956d0a955cfa855cfa855cba554c9a65bbea87ac5b38cd5c197cdc4b0e2d0aaead6abeed9adf1dcaef3ddaff3ddaffaf0dbfefefefdfdfdfafafaf8f8f8f5f5f5f1f1f1eeeeeeebebebe8e8e8e4e4e4e1e1e1dedededadadad6d6d6d3d3d3d0d0d0d0d0d0cfcfcfcecececececdcdcdcdcdcdcccfccc5cccbcbcacacacacac9c8c8c8cac8c3c7c7c7c6c6c5c4c4c4c3c3c2c2c1c1c0c0c0bfbebebdbdbdbbbbbab3b3b2bcb6a9b4ad9da7a49d9c9c9c9494948e8e8e8888888282827c7c7c7474746e6e6e6767677b756aa39370b99a59c29e50c09c4ebc994db9964bb6944ab29149af8e48ac8b47a88945a68744a28443a082429d7f40997c3f967a3d91753b876e387a6434735d2f6f5b2e6b572c64522a6359435e5e5e5757575050504a4a4a404040363636413c31524324423821352d1a2c2c2c2725212222221f1d191c171016161413131212121112111111111111111011101010101010100f0f0f0f0f0f0f0f0e0e0e0e0d0d0d0d0d0d0d0c0c0b0b0b0a0909090d0a07640909ef02023e0000000000000000000000000000"[h+4]+"ff0000e0b65ce0b65ce0b65ce0b65ce0b75ce0b75ce1b75ce0b75ce0b75de1b75de1b75de1b85de2b85de2b85de2b85de2b85de3b85de3b85de3b95de3b95de3b95de3b95ee3b95ee3b95ee4b95ee4ba5ee4ba5ee4ba5ee4ba5ee5ba5ee5ba5ee5ba5ee5ba5ee5bb5ee5bb5ee5ba5ee5bb5ee5bb5ee5ba5ee5ba5fe1bc6dddbc75e1bb6ae4bb64e5bb5fe6bb5fe6bb5fe6bb5ee6bb5ee6bb5fe6bb5edeb65cdeb55cdfb55cdeb55cdeb55bdeb45bddb45bddb45bddb45bddb35bddb35bdcb35bdcb35bdbb35ddcb35adcb35adbb35adbb25adbb25adab25adab25adab15ad9b15ad9b15adab159d9b159d9b159d9b059d9b059d8b059d8b059d8af58d8b059d7b059d7af59d7af58d7af58d7ae58d6af58d6ae58d6ae58d5ae58d5ae58d5ae58d4ae5ad4ad58d5ad57d5ad57d4ad57d4ad57d4ac57d3ac57d4ac57d4ac57d3ac57d3ac57d3ac57d2ac57d2ac57d3ab56d2ab56d2ab56d2ab56d2ab56d2aa56d1aa56d1aa56d1aa56d1aa55d0aa55cfa956d0a955cfa855cfa855cba554c9a65bbea87ac5b38cd5c197cdc4b0e2d0aaead6abeed9adf1dcaef3ddaff3ddaffaf0dbfefefefdfdfdfafafaf8f8f8f5f5f5f1f1f1eeeeeeebebebe8e8e8e4e4e4e1e1e1dedededadadad6d6d6d3d3d3d0d0d0d0d0d0cfcfcfcecececececdcdcdcdcdcdcccfccc5cccbcbcacacacacac9c8c8c8cac8c3c7c7c7c6c6c5c4c4c4c3c3c2c2c1c1c0c0c0bfbebebdbdbdbbbbbab3b3b2bcb6a9b4ad9da7a49d9c9c9c9494948e8e8e8888888282827c7c7c7474746e6e6e6767677b756aa39370b99a59c29e50c09c4ebc994db9964bb6944ab29149af8e48ac8b47a88945a68744a28443a082429d7f40997c3f967a3d91753b876e387a6434735d2f6f5b2e6b572c64522a6359435e5e5e5757575050504a4a4a404040363636413c31524324423821352d1a2c2c2c2725212222221f1d191c171016161413131212121112111111111111111011101010101010100f0f0f0f0f0f0f0f0e0e0e0e0d0d0d0d0d0d0d0c0c0b0b0b0a0909090d0a07640909ef02023e0000000000000000000000000000"[h+5],16)}a.th=[];for(var g=a.Ya,h=a.Sm,k=c;k<c+e;k++)for(var l=b;l<b+d;l++){var n=l-b+(k-c)*d,p;a:{p=0;for(var r=f.length;p<r;p++){var q=f[p];if(l>=q.P&&l<=q.U&&k>=q.Q&&k<=q.V){p=!0;break a}}p=!1}if(!0===p){q=4*(l+k*a.A);p=h[q+0]&255;var r=h[q+1]&255,q=h[q+2]&255,u=p<<16|r<<8|q;if(void 0===g[u]){for(var v=a.Td,t=0,y=16777216,M=1;256>M;M++){var N=3*M,C=p-(v[N+0]&255),H=r-(v[N+1]&255),N=q-(v[N+2]&255),C=C*C+H*H+N*N;C<y&&(y=C,t=M)}g[u]=t}a.th[n]=g[u]}else a.th[n]=a.um}a.Yg&&(qg(a.O,a.A),qg(a.O,a.G),mg(a.O,247),mg(a.O,0),mg(a.O,0),a.Hk(),mg(a.O,33),mg(a.O,255),mg(a.O,11),pg(a.O,"NETSCAPE2.0"),mg(a.O,3),mg(a.O,1),qg(a.O,a.Wn),mg(a.O,0),mg(a.O,33),mg(a.O,254),mg(a.O,a.bb.length),pg(a.O,a.bb),mg(a.O,0));mg(a.O,33);mg(a.O,249);mg(a.O,4);mg(a.O,5);qg(a.O,a.om);mg(a.O,a.um);mg(a.O,0);mg(a.O,44);qg(a.O,void 0!==b?b:0);qg(a.O,void 0!==c?c:0);qg(a.O,void 0!==d?d:a.A);qg(a.O,void 0!==e?e:a.G);mg(a.O,0);b=new sg(a.A,a.G,a.th);c=a.O;mg(c,b.rm);b.Zj=b.A*b.G;b.nm=0;d=b.rm+1;b.qm=d;b.of=!1;b.Wc=d;b.Bf=(1<<b.Wc)-1;d=1<<d-1;b.Wj=d+1;b.xf=d+2;b.Xa=0;e=tg(b);f=0;for(g=5003;65536>g;g*=2)++f;f=8-f;ug(b);vg(b,d,c);for(k=[];-1!==(h=tg(b));)if(g=(h<<12)+e,l=h<<f^e,g===b.ue[l])e=k[l];else{if(0<=b.ue[l]){n=5003-l;p=!1;0===l&&(n=1);do if(0>(l-=n)&&(l+=5003),g===b.ue[l]){e=k[l];p=!0;break}while(0<=b.ue[l]);if(p)continue}vg(b,e,c);e=h;4096>b.xf?(k[l]=b.xf++,b.ue[l]=g):(ug(b),b.xf=d+2,b.of=!0,vg(b,d,c))}vg(b,e,c);vg(b,b.Wj,c);mg(c,0);a.Yg=!1;console.log("Frame "+a.pm);a.pm++}kg.prototype.xd=function(){this.O=new og;pg(this.O,"GIF89a")};kg.prototype.Hk=function(){wg(this.O,this.Td);for(var a=768-this.Td.length,b=0;b<a;b++)mg(this.O,0)};function sg(a,b,c){this.A=a;this.G=b;this.na=c;this.rm=Math.max(2,8);this.nm=this.Zj=0;this.ue=[];this.qm=0;this.of=!1;this.Jb=this.gc=this.xf=this.Wj=this.Bf=this.Wc=0;this.Qn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535];this.Xa=0;this.Gj=[]}function tg(a){if(0===a.Zj)return-1;--a.Zj;return a.na[a.nm++]&255}function ug(a){for(var b=0;5003>b;b++)a.ue[b]=-1}function vg(a,b,c){a.gc&=a.Qn[a.Jb];a.gc=0<a.Jb?a.gc|b<<a.Jb:b;for(a.Jb+=a.Wc;8<=a.Jb;){var d=a,e=a.gc&255,f=c;d.Gj[d.Xa++]=e;254<=d.Xa&&xg(d,f);a.gc>>=8;a.Jb-=8}if(a.xf>a.Bf||a.of)a.of?(a.Wc=a.qm,a.Bf=(1<<a.Wc)-1,a.of=!1):(a.Wc++,12==a.Wc?a.Bf=4096:a.Bf=(1<<a.Wc)-1);if(b===a.Wj){for(;0<a.Jb;)b=a,d=a.gc&255,e=c,b.Gj[b.Xa++]=d,254<=b.Xa&&xg(b,e),a.gc>>=8,a.Jb-=8;xg(a,c)}}function xg(a,b){0<a.Xa&&(mg(b,a.Xa),wg(b,a.Gj,0,a.Xa),a.Xa=0)};"use strict;";function yg(){this.vf=this.nb=0}yg.prototype.Nc=function(){this.vf=this.nb=0};yg.prototype.ee=function(){var a=new yg;a.Te(this);return a};yg.prototype.Te=function(a){this.nb=a.nb;this.vf=a.vf};yg.prototype.Set=function(a,b){this.nb=a;this.vf=b};function zg(a,b){this.uf=void 0===a?G:a;this.Cf=void 0===b?-1:b}m=zg.prototype;m.Te=function(a){this.uf=a.uf;this.Cf=a.Cf};m.Da=function(){this.uf=G;this.Cf=-1};m.Jg=function(a){this.uf=a};m.xa=function(){return this.uf};m.ri=function(){return this.Cf};function Ag(){this.mf=[];this.ve=[]}Ag.prototype.ca=function(){return this.ve.length};Ag.prototype.xa=function(a){return this.ve[a]};function Bg(a,b,c){b=(c<<8)+b;c=0;for(var d=a.ve.length;c<d;c++)if(a.ve[c]==b)return!0;return!1}function Cg(){this.Ib={}}Cg.prototype.Da=function(){this.Ib={}};Cg.prototype.td=function(a,b){var c=(b<<8)+a;if(void 0!==this.Ib[c])return!0;this.Ib[c]=1;return!1};function Kb(){this.qh={};this.vc=null}Kb.prototype.td=function(a,b,c){if(G===c)return null;a=(b<<8)+a;if(null===this.vc)return this.vc=c,this.qh[a]=1,!1;if(c!==this.vc)return null;if(void 0!==this.qh[a])return!0;this.qh[a]=1;return!1};Kb.prototype.xa=function(){return this.vc};function Dg(){this.Ba={};this.Df=G}Dg.prototype.Da=function(){this.Ba={};this.Df=G};Dg.prototype.td=function(a,b){var c=(b<<8)+a;if(void 0!==this.Ba[c])return!0;this.Ba[c]=1;return!1};function Db(a,b,c){c=void 0===c?a.Df:c;for(var d in a.Ba)a=pb(d|0),b.qc[Fa(b,a.g,a.f)]=c}function Lf(a,b){this.A=void 0===a?19:a;this.G=void 0===b?19:b;this.dc=null;ig(this);this.Bc=new yg;this.qc=null;this.Ba=new Dg;this.hh=new Cg}m=Lf.prototype;m.ee=function(){for(var a=new Lf(this.A,this.G),b=0,c=this.dc.length;b<c;b++)a.dc[b].Te(this.dc[b]);a.Bc.Te(this.Bc);return a};m.Da=function(){for(var a=this.A*this.G,b=0;b<a;b++)this.dc[b].Da()};m.ca=function(){return{g:this.A,f:this.G}};m.Set=function(a,b,c,d){a=Fa(this,a,b);this.dc[a].Jg(c);void 0!==d&&null!==d&&-1!==d&&(this.dc[a].Cf=d)};m.J=function(a,b){return this.dc[Fa(this,a,b)].xa()};m.ri=function(a,b){return this.dc[Fa(this,a,b)].ri()};function La(a){for(var b=[],c=Eg(a.A),d=Eg(a.G),e=0;e<c.length;e++)for(var f=0;f<d.length;f++)b.push([c[e],d[f]]);(9!=a.A&&11!=a.A||1!=a.G%2)&&(9!=a.G&&11!=a.G||1!=a.A%2)||b.push([(a.A-1)/2,(a.G-1)/2]);return b}function Eg(a){var b=[];5==a?b=[2]:7==a?b=[3]:8==a?b=[2,5]:9==a?b=[2,6]:10==a?b=[3,6]:11==a?b=[3,7]:12<=a&&(b=1==a%2?[3,(a-1)/2,a-4]:[3,a-4]);return b}function Rb(a,b,c,d){var e=new Ag;Fg(a,b,c,d,e);return 0<e.ca()?e:null}function Qb(a,b,c,d,e){var f;switch(d){case E:f=F;break;case F:f=E;break;default:return null}d=new Ag;!0!==Bg(d,b+1,c)&&Fg(a,b+1,c,f,d);!0!==Bg(d,b-1,c)&&Fg(a,b-1,c,f,d);!0!==Bg(d,b,c+1)&&Fg(a,b,c+1,f,d);!0!==Bg(d,b,c-1)&&Fg(a,b,c-1,f,d);f=d.ca();if(1==f){b=(c<<8)+b;c=d.xa(0);f=a.Bc;if(c===f.nb&&b===f.vf&&1==e)return null;a.Bc.Set(b,c)}else if(1<f)a.Bc.Nc();else if(0>=f)return null;return d}function ig(a){var b=a.A*a.G;a.dc=Array(b);for(var c=0;c<b;c++)a.dc[c]=new zg}function Fa(a,b,c){return(c-1)*a.A+(b-1)}function Gg(a,b,c,d,e){if(b>a.A||1>b||c>a.G||1>c)return!1;var f=a.J(b,c);return G===f?!0:d===f?Hg(a,b,c,d,e):!1}function Hg(a,b,c,d,e){var f;a:{f=(c<<8)+b;for(var g=0,h=e.mf.length;g<h;g++)if(e.mf[g]==f){f=!0;break a}e.mf.push(f);f=!1}return!0===f?!1:!0===Gg(a,b+1,c,d,e)||!0===Gg(a,b-1,c,d,e)||!0===Gg(a,b,c+1,d,e)||!0===Gg(a,b,c-1,d,e)?!0:!1}function Fg(a,b,c,d,e){b>a.A||1>b||c>a.G||1>c||d!==a.J(b,c)||(!0!==Hg(a,b,c,d,e)&&(e.ve=e.ve.concat(e.mf)),e.mf=[])}m.pg=function(a){for(var b=0,c=0,d=1;d<=this.G;d++)for(var e=1;e<=this.A;e++){var f=null,g=this.qc[Fa(this,e,d)];E===g?(f=new xa(e,d,hb,""),F===this.J(e,d)?b+=2:b++):F===g&&(f=new xa(e,d,ib,""),E===this.J(e,d)?c+=2:c++);null===f?a.Fb(e,d):a.Ca(f)}return{de:b,te:c}};function Ig(a,b,c){if(!(b>a.A||1>b||c>a.G||1>c)){var d=a.J(b,c);if(G!==a.J(b,c))switch(b=a.Ba.Df,b){case G:a.Ba.Df=d;break;case E:case F:b!==d&&(a.Ba.Df=3)}else!1===a.Ba.td(b,c)&&(Ig(a,b+1,c),Ig(a,b-1,c),Ig(a,b,c+1),Ig(a,b,c-1))}}function Bb(a,b,c,d){b>a.A||1>b||c>a.G||1>c||(3-d===a.J(b,c)?d===a.qc[Fa(a,b,c)]&&a.hh.td(b,c):!0!==a.Ba.td(b,c)&&(Bb(a,b+1,c,d),Bb(a,b-1,c,d),Bb(a,b,c+1,d),Bb(a,b,c-1,d)))}function Cb(a,b,c,d){if(!(b>a.A||1>b||c>a.G||1>c)&&3-d!==a.J(b,c)){if(d===a.J(b,c)){var e=a.hh,f=(c<<8)+b;void 0!==e.Ib[f]&&delete e.Ib[f]}!0!==a.Ba.td(b,c)&&(Cb(a,b+1,c,d),Cb(a,b-1,c,d),Cb(a,b,c+1,d),Cb(a,b,c-1,d))}}function Ga(a,b){for(var c=1;c<=a.G;c++)for(var d=1;d<=a.A;d++)G===a.J(d,c)&&(G===a.qc[Fa(a,d,c)]||!0===b&&3===a.qc[Fa(a,d,c)])&&(a.Ba.Da(),Ig(a,d,c),Db(a.Ba,a))}m.tg=function(a){var b;this.Ja=[];for(var c=0;c<=this.G+1;c++){this.Ja[c]=[];for(var d=0;d<=this.A+1;d++)if(0===d||this.A+1===d||0===c||this.G+1===c){this.Ja[c][d]=0;b=d;for(var e=c,f=100,g=[],h=b-4;h<=b+4;h++)for(var k=e-4;k<=e+4;k++)if(!(1>h||h>this.A||1>k||k>this.G||4<Math.abs(b-h)+Math.abs(e-k))){var l=Ya(this,h,k);if(G!==l){var n=Math.abs(b-h)+Math.abs(e-k);n<f?(f=n,g=[],g.push({g:h,f:k,Hb:l})):n===f&&g.push({g:h,f:k,Hb:l})}}b=g;e=b.length;if(0<e){g=f=!1;for(h=0;h<e;h++)E===b[h].Hb&&(g=!0),F===b[h].Hb&&(f=!0);if(!0!==f||!0!==g)this.Ja[c][d]=f?-128:128}}else b=Ya(this,d,c),this.Ja[c][d]=E===b?128:F===b?-128:0}for(c=0;5>c;c++){d=[];for(b=0;b<=this.G+1;b++)for(d[b]=[],e=0;e<=this.A+1;e++){k=[];k[0]=0<e?this.Ja[b][e-1]:0;k[1]=e<this.A+1?this.Ja[b][e+1]:0;k[2]=0<b?this.Ja[b-1][e]:0;k[3]=b<this.G+1?this.Ja[b+1][e]:0;f=0;h=g=!1;for(l=0;4>l;l++)0<k[l]?(g=!0,f++):0>k[l]&&(h=!0,f--);k=this.Ja[b][e];d[b][e]=0<=k&&!1===h||0>=k&&!1===g?k+f:k}this.Ja=d}for(c=0;3>c;c++)Jg(this);b=d=0;for(c=1;c<=this.G;c++)for(e=1;e<=this.A;e++)f=null,g=this.Ja[c][e],0<g&&E!==this.J(e,c)?(f=new xa(e,c,hb,""),F===this.J(e,c)?d+=2:d++):0>g&&F!==this.J(e,c)&&(f=new xa(e,c,ib,""),E===this.J(e,c)?b+=2:b++),null===f?a.Fb(e,c):a.Ca(f);for(c=0;23>c;c++)Jg(this);k=h=0;for(c=1;c<=this.G;c++)for(e=1;e<=this.A;e++)f=null,g=this.Ja[c][e],0<g&&E!==this.J(e,c)?(f=new xa(e,c,jb,""),F===this.J(e,c)?h+=2:h++):0>g&&F!==this.J(e,c)&&(f=new xa(e,c,kb,""),E===this.J(e,c)?k+=2:k++),null!==f&&a.Ca(f);return{Pk:h,Ok:d,Xl:k,Wl:b}};function Lb(a,b,c,d){1>b||b>a.A||1>c||c>a.G||!1!==d.td(b,c,a.J(b,c))||(Lb(a,b+1,c,d),Lb(a,b-1,c,d),Lb(a,b,c+1,d),Lb(a,b,c-1,d),1<b&&1<c&&G===a.J(b-1,c)&&G===a.J(b,c-1)&&Lb(a,b-1,c-1,d),b<a.A&&1<c&&G===a.J(b+1,c)&&G===a.J(b,c-1)&&Lb(a,b+1,c-1,d),b<a.A&&c<a.G&&G===a.J(b+1,c)&&G===a.J(b,c+1)&&Lb(a,b+1,c+1,d),1<b&&c<a.G&&G===a.J(b-1,c)&&G===a.J(b,c+1)&&Lb(a,b-1,c+1,d))}function Ya(a,b,c){return void 0===a.Uc||void 0===a.Uc[c]||void 0===a.Uc[c][b]?G:a.Uc[c][b]}function Ba(a,b,c,d){void 0===a.Uc&&(a.Uc=[]);void 0===a.Uc[c]&&(a.Uc[c]=[]);a.Uc[c][b]=d}function Jg(a){for(var b=[],c=0;c<=a.G+1;c++){b[c]=[];for(var d=0;d<=a.A+1;d++){var e=[];e[0]=0<d?a.Ja[c][d-1]:null;e[1]=d<a.A+1?a.Ja[c][d+1]:null;e[2]=0<c?a.Ja[c-1][d]:null;e[3]=c<a.G+1?a.Ja[c+1][d]:null;for(var f=0,g=0,h=0;4>h;h++)null!==e[h]&&(0<=e[h]&&f++,0>=e[h]&&g--);e=a.Ja[c][d];b[c][d]=0<e&&0!==g?Math.max(e+g,0):0>e&&0!==f?Math.min(e+f,0):e}}a.Ja=b};function og(){this.sh=this.na=null;this.e=this.mb=0;this.o()}og.prototype.o=function(){var a=document.createElement("canvas").getContext("2d");this.mb=5242880;this.sh=a.createImageData(this.mb/4,1);this.na=this.sh.data;this.e=0};function Kg(a,b){if(a.e+b>=a.mb){var c=document.createElement("canvas").getContext("2d"),d=a.na;a.mb*=2;a.sh=c.createImageData(a.mb/4,1);a.na=a.sh.data;for(var c=a.na,e=0;e<a.Xo;e++)c[e]=d[e]}}function ng(a){for(var b=new Uint8Array(a.e),c=0;c<a.e;c++)b[c]=a.na[c];return b}function mg(a,b){Kg(a,1);a.na[a.e++]=b}function pg(a,b){var c=b.length;Kg(a,c);for(var d=0;d<c;d++)a.na[a.e++]=b.charCodeAt(d)}function wg(a,b,c,d){c=c||0;d=d||b.length;for(Kg(a,d-c);c<d;c++)a.na[a.e++]=b[c]}function qg(a,b){Kg(a,2);a.na[a.e++]=b&255;a.na[a.e++]=b>>8&255}function rg(a,b){Kg(a,4);a.na[a.e++]=b&255;a.na[a.e++]=b>>8&255;a.na[a.e++]=b>>16&255;a.na[a.e++]=b>>24&255}function Uf(a,b){this.na=a;this.Ka=b;this.e=0}function Wf(a){return a.e+1>=a.Ka?0:a.na[a.e++]|a.na[a.e++]<<8}function Xf(a){return a.e+3>=a.Ka?0:a.na[a.e++]|a.na[a.e++]<<8|a.na[a.e++]<<16|a.na[a.e++]<<24}function Vf(a,b){if(a.e+b>a.Ka)return"";for(var c=[],d=0;d<b;d++)c.push(String.fromCharCode(a.na[a.e+d]));a.e+=b;return c.join("")};function Lg(a,b){this.vc=a;this.M=b}m=Lg.prototype;m.od=function(){return pb(this.vc).g};m.pd=function(){return pb(this.vc).f};m.xa=function(){return this.vc};m.Jg=function(a){this.vc=a};m.Ua=function(a){this.M=a};function Mg(){this.mm=0}Mg.prototype.Nc=function(){this.mm=0};var Qf=new Mg;function Mf(a){this.Vd=++Qf.mm+"";this.Ma=(this.b=a)?a.Ma:null;this.ua=[];this.la=-1;this.ga=null;this.Ia=[];this.Qb=new Lg(0,G);this.bb="";this.Rb=new Ng;this.gb={g:-1,f:-1,Dg:-1};this.Zg=!1;this.Ya={}}function tf(a,b){if(b===a.Vd)return a;for(var c=0,d=Cd(a);c<d;c++){var e=tf(a.ua[c],b);if(null!==e)return e}return null}function Nf(a,b){var c=new Mf;c.Ia=a.Ia;0<a.ua.length&&a!==b&&(c.ua[0]=Nf(a.ua[a.la],b),c.la=0,c.ua[0].ga=c);return c}m=Mf.prototype;m.Ze=function(){return!0};m.Da=function(){this.ua=[];this.la=-1;this.Ia=[];this.Qb=new Lg(0,G);this.bb="";this.Rb=new Ng};m.R=function(a){return void 0!==this.ua[a]?this.ua[a]:this.ua[this.la]};function dg(a,b){a.la=b>=a.ua.length?a.ua.length-1:b}function Cd(a){return a.ua.length}function Og(a,b){a.Ia.push(b);a.Ma&&a.Ma.cn&&a.Ma.cn(a.Vd,vf())}m.Kc=function(){return G===this.Qb.M?!1:!0};m.hg=function(a){this.bb+=a};m.Hg=function(a){this.bb=a};m.Kh=function(a,b){this.Rb.Ib[""+a]=b};m.ci=function(){this.Rb.Ib={}};m.si=function(){for(var a=this;0<Cd(a);)dg(a,0),a=a.R(0)};function ge(a){for(;0<Cd(a);)a=a.R(0);return a}function Pf(a){for(var b=!1,c=a.ga;null!=c;){for(var d=!1,e=0,f=Cd(c);e<f;e++)if(a===c.R(e)){e!==c.la&&(b=!0);dg(c,e);d=!0;break}if(!d)return!1;a=c;c=c.ga}return b}function cg(a){for(var b=null;null!==(b=a.ga);){if(0!=b.la)return!1;a=b}return!0}m.pe=function(){for(var a=this,b=null;null!=(b=a.ga);){if(b.R(b.la)!=a)return!1;a=b}return!0};m.Bb=function(a,b,c){a=(b<<8)+a;Og(this,new uf(E===c?1:2,a));G===this.Qb.M&&(this.Qb.Jg(a),this.Qb.Ua(c))};m.be=function(a,b){Og(this,new uf(E===a?257:F===a?258:259,yf(b),b.length))};m.Ca=function(a,b){var c=0;switch(a){case lb:c=529;break;case ya:return;case mb:c=531;break;case nb:c=532;break;case gb:c=533;break;case ob:c=530;break;case 513:c=513}Og(this,new uf(c,yf(b),b.length))};m.ce=function(a,b){Og(this,new uf(533,{Text:a,Si:b}))};m.ef=function(a){Og(this,new uf(260,a))};m.Ih=function(a){Og(this,new uf(769,a))};m.Lh=function(a){Og(this,new uf(770,a))};m.ff=function(a,b){b.a.Ng.d.a.getContext("2d").clearRect(0,0,b.c.I,b.c.D);switch(a){case Hf:Pg(this,b,-1);break;case 1:var c=this.ga;null!==c&&Pg(c,b,this.Qb.xa())}};function yb(a){for(var b=1,c=null;null!==(c=a.ga);)b++,a=c;return b}function Pg(a,b,c){if(b)for(var d=0,e=Cd(a);d<e;d++){var f=a.R(d).Qb;if(G!==f.M&&c!==f.xa()){var g=pb(f.xa()),f=b,h=g.g,k=g.f;if(f.c.$){var g=(f.c.Gb/2-1)/2,l=f.c.$;!0===ea(f,h-1,k-1)&&(h=l[h-1].g,k=l[k-1].f,l=f.a.Ng.d.a.getContext("2d"),l.fillStyle=P(f.ko),l.beginPath(),l.arc(h,k,g,0,2*Math.PI,!1),l.fill())}}}}function Of(a,b){-1!==a.bb.indexOf("RIGHT")&&b.push(a);for(var c=0,d=Cd(a);c<d;c++)Of(a.R(c),b)}m.Jh=function(a,b,c){this.Ya[(b<<8)+a]=c};m.Ui=function(a,b){delete this.Ya[(b<<8)+a]};m.Ti=function(){this.Ya={}};function gg(a,b){rb(b);for(var c in a.Ya)b.Za[c]=a.Ya[c];Ra(b)}m.di=function(){this.Ya={};if(null!==this.ga){var a=this.ga.Ya,b;for(b in a)this.Ya[b]=a[b].ee()}};function Rg(a,b){for(var c in a.Ya)b[xf(a.Ya[c])]=!0;c=0;for(var d=Cd(a);c<d;c++)Rg(a.ua[c],b)}m.Mi=function(){for(var a=this,b=this.la,c=this.R(b);null!==c&&void 0!==c;)0!==b&&(a.ua.splice(b,1),a.ua.splice(0,0,c),dg(a,0)),a=c,b=a.la,c=a.R(b)};m.zg=function(a){for(var b=this,c=this.ga;null!==c&&void 0!==c;){var d=Cd(c);if(1<Cd(c)){for(var e=0;e<d;++e)if(b===c.R(e)){0<a?0<e&&(c.ua.splice(e,1),c.ua.splice(e-1,0,b),dg(c,e-1)):e<d-1&&(c.ua.splice(e,1),c.ua.splice(e+1,0,b),dg(c,e+1));break}break}b=c;c=c.ga}};var Sg=0;function Tf(a){this.b=a;this.C=[];this.Ge=this.e=0;this.Ij=[];this.fc=!0;this.mb=0;this.l={P:100,Q:100,U:-1,V:-1};this.Un=Sg;this.xb=null}Tf.prototype.Ii=function(a){if(void 0!==a&&""!==a&&(this.C=[],this.Ge=this.e=0,this.Ij=[],this.fc=!0,this.mb=0,this.Eh(a),!Tg(this)&&this.b&&this.b.h)){a=this.b;var b=a.h;Hb(b.W.id,Ib,{T:a,Z:b,mc:"File cannot be read. Invalid SGF file.",I:275,D:80})}};Tf.prototype.Eh=function(a){for(var b=0,c=a.length,d=[],e=!1;b<c;){(e||32<a.charCodeAt(b))&&d.push(a.charAt(b));if(3<=d.length&&"["==d[d.length-1]){var f=d[d.length-3]+d[d.length-2];if("C"==d[d.length-2]&&"UC"!=f||"AN"==f||"BR"==f||"BT"==f||"CP"==f||"DT"==f||"EV"==f||"GN"==f||"GC"==f||"ON"==f||"OT"==f||"PB"==f||"PC"==f||"PW"==f||"RE"==f||"RO"==f||"RU"==f||"SO"==f||"TM"==f||"US"==f||"WR"==f||"WT"==f)e=!0}else e&&1<=d.length&&"]"==d[d.length-1]&&(2>d.length||"\\"!=d[d.length-2])&&(e=!1);b++}this.C=d;this.mb=this.C.length};function Tg(a){a.b.Nc();if("("===a.C[0]&&";"===a.C[1])for(a.e++;a.e<a.mb&&(")"!==a.C[a.e]||0!==a.Ge);){var b=a.C[a.e];if(";"===b){1!=a.e?a.b.Ec(!1,!1):a.b.ub(a.b.ia);a.b.m.Zg=!0;a:{b=a;b.e++;for(var c=b.C[b.e],d=b.C[b.e+1];void 0!==c&&")"!==c&&";"!==c&&"("!==c;){switch(c){case "A":switch(d){case "B":Ug(b,E);break;case "E":Ug(b,G);break;case "W":Ug(b,F);break;case "N":c=b;c.e+=3;d=Vg(c);c.b.Sf=d;break;case "P":c=b;c.e+=3;Vg(c);break;default:Wg(b)}break;case "B":switch(d){case "[":Xg(b,E);break;case "R":c=b;c.e+=3;Ne(c.b,Vg(c));break;case "T":c=b;c.e+=3;d=Vg(c);c.b.Tm=d;break;case "L":c=b;c.e+=3;c.b.Ih(Yg(c));break;default:Wg(b)}break;case "C":switch(d){case "[":d=b;d.e+=2;for(c="";"]"!==d.C[d.e]||"\\"===d.C[d.e-1];)"]"===d.C[d.e+1]&&"\\"===d.C[d.e]?(c+="]",d.e++):c+=d.C[d.e],d.e++;d.e++;switch(d.Un){case 1:for(var e="",f=0,g=0,h=0,k=0,l=c.length;f<l;)g=c.charCodeAt(f),128>g?(e+=String.fromCharCode(g),f++):191<g&&224>g?(h=c.charCodeAt(f+1),e+=String.fromCharCode((g&31)<<6|h&63),f+=2):(h=c.charCodeAt(f+1),k=c.charCodeAt(f+2),e+=String.fromCharCode((g&15)<<12|(h&63)<<6|k&63),f+=3);c=e}(d=d.b.m)&&d.hg(c);break;case "A":c=b;c.e+=3;Vg(c);break;case "P":c=b;c.e+=3;d=Vg(c);c.b.Rf=d;break;case "R":Zg(b,lb);break;case "T":c=b;c.e+=3;d=Vg(c);if(""!==d&&(d=Gf(d),d=new Uf(d,d.length),"SGFCT"===Vf(d,5)))for(Wf(d),e=Xf(d),c.xb=[],f=0;f<e;f++)h=Xf(d),c.xb[f]=new z(0,0,0,0),g=c.xb[f],g.u=h>>24&255,g.w=h>>16&255,g.v=h>>8&255,g.Ha=h&255;break;case "M":c=b;c.e+=3;d=Vg(c);if(""!==d&&(d=Gf(d),d=new Uf(d,d.length),"SGFCM"===Vf(d,5)))for(Wf(d),e=Wf(d),f=Wf(d),g=c.b.m,g.Ya={},h=0;h<f;h++)for(k=0;k<e;k++)l=d.e>=d.Ka?0:d.na[d.e++],void 0!==c.xb[l]&&0!==c.xb[l].Ha&&(g.Ya[(h+1<<8)+(k+1)]=c.xb[l].ee());break;default:Wg(b)}break;case "D":switch(d){case "T":c=b;c.e+=3;d=Vg(c);c.b.Ud=d;break;default:Wg(b)}break;case "E":switch(d){case "V":c=b;c.e+=3;d=Vg(c);c.b.Me=d;break;default:Wg(b)}break;case "F":switch(d){case "F":Wg(b);break;default:Wg(b)}break;case "G":switch(d){case "N":c=b;c.e+=3;d=Vg(c);c.b.dd=d;break;case "C":c=b;c.e+=3;d=Vg(c);c.b.cd=d;break;case "M":c=b;c.e+=3;1!==$g(c)&&(c.fc=!1);break;default:Wg(b)}break;case "H":switch(d){case "A":c=b;c.e+=3;d=$g(c);c.b.Lb=d;break;default:Wg(b)}break;case "K":switch(d){case "M":c=b;c.e+=3;d=Yg(c);c.b.Xc=d;break;default:Wg(b)}break;case "L":switch(d){case "B":c=b;for(c.e+=3;;){d=c.C[c.e];c.e++;e=c.C[c.e];c.e++;d=ah(c,d);e=ah(c,e);c.e++;for(f="";"]"!==c.C[c.e]&&c.e<c.mb;)f+=c.C[c.e],c.e++;bh(c,d,e);c.b.ce(f,(e<<8)+d);if("]"!==c.C[c.e]){c.fc=!1;break}c.e++;if("["!==c.C[c.e])break;c.e++}break;default:Wg(b)}break;case "M":switch(d){case "A":Zg(b,ob);break;default:Wg(b)}break;case "O":switch(d){case "N":c=b;c.e+=3;d=Vg(c);c.b.Tf=d;break;case "T":c=b;c.e+=3;d=Vg(c);c.b.Xf=d;break;default:Wg(b)}break;case "P":switch(d){case "B":c=b;c.e+=3;Me(c.b,Vg(c));break;case "C":c=b;c.e+=3;d=Vg(c);c.b.Ne=d;break;case "W":c=b;c.e+=3;Oe(c.b,Vg(c));break;case "L":c=b;c.e+=3;"W"===Vg(c)?c.b.ef(F):c.b.ef(E);break;default:Wg(b)}break;case "R":switch(d){case "E":c=b;c.e+=3;d=Vg(c);c.b.ib=d;break;case "O":c=b;c.e+=3;d=Vg(c);c.b.Uf=d;break;case "U":c=b;c.e+=3;d=Vg(c);c.b.Yf=d;break;default:Wg(b)}break;case "S":switch(d){case "Q":Zg(b,mb);break;case "T":c=b;c.e+=3;switch($g(c)){case 0:nc(c.b,Hf);break;case 1:nc(c.b,1);break;default:nc(c.b,0)}break;case "Z":c=b;c.e+=3;d=Vg(c);f=e=19;f=-1;-1==(f=d.indexOf(":"))?f=e=Math.min(52,Math.max(parseInt(d),2)):(e=parseInt(d.substr(0,f)),f=parseInt(d.substr(f+1,d.length-f-1)));hg(c.b,e,f);break;case "O":c=b;c.e+=3;d=Vg(c);c.b.Vf=d;break;default:Wg(b)}break;case "T":switch(d){case "R":Zg(b,nb);break;case "M":c=b;c.e+=3;d=Vg(c);c.b.Ff=d;break;case "B":ch(b,E);break;case "W":ch(b,F);break;default:Wg(b)}break;case "U":switch(d){case "S":c=b;c.e+=3;d=Vg(c);c.b.Wf=d;break;default:Wg(b)}break;case "W":switch(d){case "[":Xg(b,F);break;case "R":c=b;c.e+=3;Pe(c.b,Vg(c));break;case "T":c=b;c.e+=3;d=Vg(c);c.b.Um=d;break;case "L":c=b;c.e+=3;c.b.Lh(Yg(c));break;default:Wg(b)}break;default:Wg(b)}if(!b.fc){b=!1;break a}c=b.C[b.e];d=b.C[b.e+1]}b=!0}if(!b)return!1}else if("("===b)a.Ij[a.Ge]=a.b.m,a.Ge++,a.e++;else if(")"===b)a.Ge--,a.b.ub(a.Ij[a.Ge]),a.e++;else return!1}else return!1;return!0}function Vg(a,b){void 0===b&&(b="]");for(var c="";void 0!==a.C[a.e]&&b!==a.C[a.e];)c+=a.C[a.e],a.e++;void 0===a.C[a.e]&&(a.fc=!1);a.e++;return c}function Yg(a){a=parseFloat(Vg(a,void 0));return isNaN(a)?0:a}function $g(a){a=parseInt(Vg(a,void 0));return isNaN(a)?0:a}function Wg(a){for(;;){for(;void 0!==a.C[a.e]&&"]"!==a.C[a.e]&&a.e<a.mb;)for(a.e++;"]"===a.C[a.e]&&"\\"===a.C[a.e-1];)a.e++;a.e++;if("["!==a.C[a.e])break}}function ah(a,b){var c=b.charCodeAt(0);if(97<=c&&122>=c)return c-96;if(65<=c&&90>=c)return c-64+26;a.fc=!1;return 0}function Ug(a,b){a.e+=3;var c=[];if("]"!==a.C[a.e]){for(;;){var d=a.C[a.e];a.e++;var e=a.C[a.e];a.e++;var f=ah(a,d),g=ah(a,e);if(":"===a.C[a.e])for(a.e++,d=a.C[a.e],a.e++,e=a.C[a.e],a.e++,d=ah(a,d),e=ah(a,e);g<=e;g++)for(var h=f;h<=d;h++)bh(a,h,g),c.push((g<<8)+h);else bh(a,f,g),c.push((g<<8)+f);if("]"!==a.C[a.e]){a.fc=!1;return}a.e++;if("["!==a.C[a.e])break;a.e++}a.b.be(b,c)}}function Xg(a,b){a.e+=2;if("]"==a.C[a.e])a.b.Bb(0,0,b);else{var c=a.C[a.e];a.e++;var d=a.C[a.e];a.e++;var e=a.b.ma.ca();if("t"===c&&"t"===d&&19>=e.g&&19>=e.f)a.b.Bb(0,0,b);else for(c=ah(a,c),d=ah(a,d),bh(a,c,d),a.b.Bb(c,d,b);"]"!==a.C[a.e];)if(a.e++,a.e>=a.mb){a.fc=!1;break}}a.e++}function Zg(a,b){a.e+=3;var c=[];if("]"!==a.C[a.e]){for(;;){var d=a.C[a.e];a.e++;var e=a.C[a.e];a.e++;var f=ah(a,d),g=ah(a,e);if(":"===a.C[a.e])for(a.e++,d=a.C[a.e],a.e++,e=a.C[a.e],a.e++,d=ah(a,d),e=ah(a,e);g<=e;g++)for(var h=f;h<=d;h++)bh(a,h,g),c.push((g<<8)+h);else bh(a,f,g),c.push((g<<8)+f);if("]"!==a.C[a.e]){a.fc=!1;return}a.e++;if("["!==a.C[a.e])break;a.e++}a.b.Ca(b,c)}}function ch(a,b){a.e+=3;var c=[];if("]"!==a.C[a.e]){for(;;){var d=a.C[a.e];a.e++;var e=a.C[a.e];a.e++;var f=ah(a,d),g=ah(a,e);if(":"===a.C[a.e])for(a.e++,d=a.C[a.e],a.e++,e=a.C[a.e],a.e++,d=ah(a,d),e=ah(a,e);g<=e;g++)for(var h=f;h<=d;h++)c.push((g<<8)+h);else c.push((g<<8)+f);if("]"!==a.C[a.e]){a.fc=!1;return}a.e++;if("["!==a.C[a.e])break;a.e++}a.b.Kh(b,c)}}function bh(a,b,c){b<a.l.P&&(a.l.P=b);b>a.l.U&&(a.l.U=b);c<a.l.Q&&(a.l.Q=c);c>a.l.V&&(a.l.V=c)}function dh(a){this.b=a;this.bd=[];this.Ka=this.e=0}dh.prototype.Eh=function(a){for(var b=a.length,c=[],d=0;d<b;)c.push(a.charAt(d++));this.e=0;this.bd=c;this.Ka=this.bd.length};function eh(a){a.b.Nc();a.b.ub(a.b.ia);a.b.m.Zg=!0}function fh(a){return a.e>=a.Ka?-1:a.bd[a.e++]}function gh(a){for(var b="",c=null;-1!==c&&"\n"!==c;)c=fh(a),b+=c;return b}function hh(a){return a.e>=a.Ka?!0:!1}function Sf(a){Sf.s.constructor.call(this,a);this.Fe=this.Lb=0;this.Ce=19}R(Sf,dh);Sf.prototype.Ii=function(a){this.Eh(a);eh(this);this.Fk();if(!(1>=this.Lb)){a=[];var b=[];19===this.Ce?b=[4,10,16]:13===this.Ce?b=[4,7,10]:9===this.Ce&&(b=[3,5,7]);if(3===b.length)switch(this.Lb){case 2:a=[[b[2],b[0]],[b[0],b[2]]];break;case 3:a=[[b[2],b[0]],[b[0],b[2]],[b[2],b[2]]];break;case 4:a=[[b[2],b[0]],[b[0],b[2]],[b[2],b[2]],[b[0],b[0]]];break;case 5:a=[[b[2],b[0]],[b[0],b[2]],[b[2],b[2]],[b[0],b[0]],[b[1],b[1]]];break;case 6:a=[[b[2],b[0]],[b[0],b[2]],[b[2],b[2]],[b[0],b[0]],[b[0],b[1]],[b[2],b[1]]];break;case 7:a=[[b[2],b[0]],[b[0],b[2]],[b[2],b[2]],[b[0],b[0]],[b[0],b[1]],[b[2],b[1]],[b[1],b[1]]];break;case 8:a=[[b[2],b[0]],[b[0],b[2]],[b[2],b[2]],[b[0],b[0]],[b[0],b[1]],[b[2],b[1]],[b[1],b[0]],[b[1],b[2]]];break;case 9:a=[[b[2],b[0]],[b[0],b[2]],[b[2],b[2]],[b[0],b[0]],[b[0],b[1]],[b[2],b[1]],[b[1],b[0]],[b[1],b[2]],[b[1],b[1]]]}if(0<a.length){for(var b=[],c=0,d=a.length;c<d;c++)b.push((a[c][1]<<8)+a[c][0]);this.b.be(E,b)}}this.Ek()};Sf.prototype.Fk=function(){var a=gh(this);this.b.cd=a;this.Ce=gh(this)|0;hg(this.b,this.Ce,this.Ce);ih(this,!1);ih(this,!0);gh(this);a=gh(this);this.Lb=Math.min(9,Math.max(a|0,0));this.b.Lb=this.Lb;gh(this);a=gh(this);this.b.Xc=parseFloat(a);a=gh(this);this.b.Ud=a;gh(this);a=gh(this);this.b.ib=a;this.Fe=gh(this)|0};Sf.prototype.Ek=function(){if(!hh(this))for(var a=0;a<this.Fe;a++){this.b.Ec(!1,!1);this.b.m.Zg=!0;if("PM"===fh(this)+fh(this)){fh(this);fh(this);var b="B"===fh(this)?E:F,c=fh(this),d=fh(this),c=c.charCodeAt(0)-65,d=d.charCodeAt(0)-65;0>c||0>d?this.b.Bb(0,0,b):this.b.Bb(c,d,b)}gh(this);if(hh(this))break}};function ih(a,b){var c=gh(a),d=c.indexOf(" "),e="",f="";-1!==d?(e=c.substr(0,d).replace(/\s+/g,""),f=c.substr(d).replace(/\s+/g,"")):e=c.replace(/\s+/g,"");!0===b?(Me(a.b,e),Ne(a.b,f)):(Oe(a.b,e),Pe(a.b,f))}function Rf(a){Rf.s.constructor.call(this,a)}R(Rf,dh);Rf.prototype.Ii=function(a){this.Eh(a);eh(this);!1!==this.Fk()&&this.Ek()};Rf.prototype.Fk=function(){for(var a=-1;"\\"!==a;){if(hh(this))return!1;a=fh(this)}a=fh(this)+fh(this);if("GS"===a)return this.e-=3,!0;if("HS"!==a)return!1;for(;;){for(a=-1;"\\"!==a;){if(hh(this))return!1;a=fh(this)}a=fh(this);if("H"===a){if("E"!==fh(this))break;return!0}if("["!==a)break;for(var b="";;){if(hh(this))return!1;a=fh(this);if("="===a)break;b+=a}for(var c="";;){if(hh(this))return!1;a=fh(this);if("\\"===a){if("]"===fh(this))break;return!1}c+=a}switch(b){case "WUSERINFO":case "BUSERINFO":case "GAMEINFOMAIN":case "GAMEINFOSUB":for(var b=a=null,d=[],e=-1;-1!==(e=c.indexOf(","));){var f=c.substr(0,e),g=f,h="",k=-1;-1!==(k=f.indexOf(":"))&&(g=f.substr(0,k),h=f.substr(k+1));d.push({Ag:g,Hb:h});c=c.substr(e+1)}e=0;for(c=d.length;e<c;e++)switch(f=d[e].Hb,d[e].Ag){case "WNICK":Oe(this.b,f);break;case "BNICK":Me(this.b,f);break;case "WLV":Pe(this.b,jh(f));break;case "BLV":Ne(this.b,jh(f));break;case "GNAME":this.b.Me=f;break;case "GDATE":this.b.Ud=f;break;case "GPLC":this.b.Ne=f;break;case "GCMT":this.b.cd=f;break;case "GONGJE":this.b.Xc=(f|0)/10;break;case "GRLT":a=f;break;case "ZIPSU":b=f}if(null!==a)switch(a){case "0":this.b.ib="Black "+(b|0)/10+" win";break;case "1":this.b.ib="White "+(b|0)/10+" win";break;case "3":this.b.ib="Black wins by resignation";break;case "4":this.b.ib="White wins by resignation";break;case "255":this.b.ib="Unfinished"}}}return!1};Rf.prototype.Ek=function(){for(var a=-1;"\\"!==a;){if(hh(this))return!1;a=fh(this)}a=fh(this)+fh(this);if("GS"!==a)return!1;gh(this);gh(this);for(gh(this);!hh(this);){var b=gh(this);if(-1!==b.indexOf("\\GE"))return!0;var c,a=[];for(c=-1;-1!==(c=b.indexOf(" "));)a.push(b.substr(0,c)),b=b.substr(c+1);c=a;if(0>=c.length)return!1;a=c[0];if("INI"===a)5<=c.length&&(this.b.cd=c[4]);else if("STO"===a){if(6!==c.length)return!1;this.b.Ec(!1,!1);this.b.m.Wo=!0;this.b.Bb((c[4]|0)+1,(c[5]|0)+1,"1"===c[3]?E:F)}}};function jh(a){a=a|0;return 18>a?18-a+"k":26<a?a-26+"p":a-17+"d"};function Yf(){this.xb=this.b=this.bd=null}function kh(a,b){a.bd+=b}function lh(a){return 26>=a?96+a:64+a-26}function mh(a,b){var c=pb(b);kh(a,String.fromCharCode(91,lh(c.g),lh(c.f),93))}function nh(a,b){for(var c=0,d=b.length;c<d;c++)mh(a,b[c])}function oh(a,b,c){kh(a,b);kh(a,"["+c+"]")}function ph(a,b,c){c&&""!==c&&oh(a,b,c)}function Zf(a,b){var c=b.ga,d=!1;if(null===c||1<Cd(c))d=!0;d&&kh(a,"(");kh(a,";");if(b===a.b.ia){var c=a.b,e=c.ma.ca();oh(a,"GM",1);oh(a,"FF",4);oh(a,"CA","UTF-8");oh(a,"AP","WebGoBoard:"+GoBoardApi.ug());oh(a,"ST",c.Kd);ph(a,"RU",c.Yf);oh(a,"SZ",e.g==e.f?e.g:e.g+":"+e.f);oh(a,"KM",c.Xc);oh(a,"HA",c.Lb);ph(a,"TM",c.Ff);ph(a,"OT",c.Xf);ph(a,"RE",c.ib);ph(a,"GN",c.dd);ph(a,"DT",c.Ud);ph(a,"CP",c.Rf);ph(a,"GC",c.cd);ph(a,"PB",c.ad);ph(a,"BR",c.Qf);ph(a,"BT",c.Tm);ph(a,"PW",c.ed);ph(a,"WR",c.Zf);ph(a,"WT",c.Um);ph(a,"EV",c.Me);ph(a,"RO",c.Uf);ph(a,"PC",c.Ne);ph(a,"AN",c.Sf);ph(a,"ON",c.Tf);ph(a,"SO",c.Vf);ph(a,"US",c.Wf);c={};Rg(a.b.ia,c);var e=1,f=[],g;for(g in c)c[g]=e,f[e++]=g|0;1<e&&(c[0]=0,f[0]=0,a.xb=c,a.Hk(f))}g=[];for(var c=[],e=[],f=0,h=b.Ia.length;f<h;f++){var k=b.Ia[f],l=k.M,k=k.xa();switch(l){case 257:case 258:case 259:for(var n=0,p=k.length;n<p;n++){for(var r=k[n],q=0,u=g.length;q<u;q++)r===g[q]&&(g.splice(q,1),u--,q--);q=0;for(u=c.length;q<u;q++)r===c[q]&&(c.splice(q,1),u--,q--);q=0;for(u=e.length;q<u;q++)r===e[q]&&(e.splice(q,1),u--,q--);257===l?g.push(r):258===l?c.push(r):259===l&&e.push(r)}}}0<g.length&&(kh(a,"AB"),nh(a,g));0<c.length&&(kh(a,"AW"),nh(a,c));0<e.length&&(kh(a,"AE"),nh(a,e));g=[[],[],[],[],[],[]];c=[];h=0;for(e=b.Ia.length;h<e;h++){l=b.Ia[h];k=l.xa();n=-1;switch(l.M){case 533:n=0;k=[k.Si];break;case 529:n=1;break;case 530:n=2;break;case 531:n=3;break;case 532:n=4;break;case 513:n=5}f=0;for(p=k.length;f<p;f++)for(r=k[f],q=0,u=g.length;q<u;q++)if(q===n)g[q].push(r),0==q&&c.push(l.xa().Text);else for(var v=0,t=g[q].length;v<t;v++)r===g[q][v]&&(g[q].splice(v,1),0===q&&c.splice(v,1),t--,v--)}if(0<g[0].length)for(kh(a,"LB"),f=0,e=g[0].length;f<e;f++)kh(a,"["),h=a,l=pb(g[0][f]),kh(h,String.fromCharCode(lh(l.g),lh(l.f))),kh(a,":"+c[f]+"]");0<g[1].length&&(kh(a,"CR"),nh(a,g[1]));0<g[2].length&&(kh(a,"MA"),nh(a,g[2]));0<g[3].length&&(kh(a,"SQ"),nh(a,g[3]));0<g[4].length&&(kh(a,"TR"),nh(a,g[4]));g=0;for(c=b.Ia.length;g<c;g++)switch(f=b.Ia[g],e=f.xa(),f.M){case 1:kh(a,"B");f=a;0!=e?mh(f,e):kh(f,String.fromCharCode(91,93));break;case 2:kh(a,"W");f=a;0!=e?mh(f,e):kh(f,String.fromCharCode(91,93));break;case 769:kh(a,"BL");kh(a,"["+e+"]");break;case 770:kh(a,"WL");kh(a,"["+e+"]");break;case 260:kh(a,"PL"),kh(a,"["+(e===F?"W":"B")+"]")}g=b.bb;""!==g&&(g=g.replace(RegExp("]","g"),"\\]"),kh(a,"C"),kh(a,"["),kh(a,g),kh(a,"]"));if(null!==a.xb){g=new og;pg(g,"SGFCM");qg(g,1);e=a.b.ma.ca();c=e.g;e=e.f;qg(g,c);qg(g,e);f=!1;for(h=0;h<e;h++)for(l=0;l<c;l++)(k=b.Ya[(h+1<<8)+(l+1)])?(k=xf(k),void 0!==a.xb[k]?(mg(g,a.xb[k]),f=!0):mg(g,0)):mg(g,0);!0===f&&(g=Ef(ng(g)),oh(a,"CM",g))}g=0;for(c=Cd(b);g<c;g++)Zf(a,b.R(g));d&&kh(a,")")}Yf.prototype.Hk=function(a){var b=new og;pg(b,"SGFCT");qg(b,1);rg(b,a.length);for(var c=0,d=a.length;c<d;c++)rg(b,a[c]);a=Ef(ng(b));oh(this,"CT",a)};function Ng(){this.Hd=!1;this.Ib={}};Z.prototype.Fn="0.10.1";}());