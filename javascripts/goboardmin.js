/*
 * Copyright (C) 2014-2021  Ilya Kirillov 
 * email: ilya_kirillov@inbox.ru
 *  
 * This library is free software; you can redistribute it and/or
 * modify it under the terms of the GNU Lesser General Public
 * License as published by the Free Software Foundation; either
 * version 3.0 of the License, or (at your option) any later version.
 * 
 * This library is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 * Lesser General Public License for more details.
 * 
 * Version 0.10.12
*/
(function(){var l;function aa(a){this.f=a;this.Z=this.b=null;this.Da=0;this.$b=y.$b;this.Lk=this.Eg=this.uf=this.Ee=this.Fe=0;this.Ug={};this.cc=null;this.Yh=!1;this.c={O:0,K:0,xn:0,dm:0,Yb:0,Bb:0,fm:2,pa:null,em:null,ga:null,Vi:null,sg:[],Bn:Array(361),Ll:null,Dn:null,Gh:null,vk:null,wk:null,cn:null,en:null,dn:null,Tm:null,Um:null,Wm:null,Ym:null,Xm:null,Zm:null,vm:null,lj:null,mj:null,Hm:null,am:null,Gl:null,Al:null};this.rq=new A(255,0,0,128);this.a={d:null,ga:{d:null},pa:{d:null},te:{d:null},oh:{d:null},pb:{d:null},Nh:{d:null},oe:{d:null},pe:{d:null},of:{d:null},Event:{d:null},sp:[]};this.Gb=new ca(this.c,this);this.tb={};this.mb={};this.pi=-1;this.Lo={};this.r={ca:0,da:0,ja:18,ka:18};this.ma={mf:!1,re:-1,se:-1,Xc:-1,Yc:-1};this.Oe=this.Ff=null;this.Ag=!1;var b=this;this.Mi=function(a){da(a);a=b.Zf(D.h,D.g);a=ea(b,a.h,a.g);var d=a.h,e=a.g,f=D,g=!1;if(!1===ga(b,d-1,e-1))b.Gb.ke();else if(null===b.cc&&null!==b.c.pa){void 0===g&&(g=!1);var h;h=b.Gb;d==h.Jg&&e==h.Kg&&1!=g?h=!0:(h.Jg=d,h.Kg=e,h.Ka(),h=!1);!1===h&&(10===b.Da&&b.Ag&&!g&&ia(b,d,e,f),f=(b.c.Yb-1)/2,g=b.c.pa,d=g[d-1].h-f,e=g[e-1].g-f,b.Gb.Ka(),b.Gb.ak(d,e),ja(b))}11===b.Da&&(e=a.g,!0===b.ma.mf&&(b.ma.Xc=a.h,b.ma.Yc=e));ma(b)};this.gh=function(a){da(a);!0===b.Ag&&(b.Ag=!1,b.Ni(a));b.Gb.ke()};this.fh=function(a){oa(a);b.Ag=!0;b.a.Event.d.a.focus();var d=b.Zf(D.h,D.g),d=ea(b,d.h,d.g);b.ha(d.h,d.g,D);a.preventDefault();return!1};this.Ni=function(a){da(a);b.Ag=!1;var d=b.Zf(D.h,D.g),d=ea(b,d.h,d.g);11===b.Da&&(a=d.h,d=d.g,!0===b.ma.mf&&(b.ma.mf=!1,b.ma.Xc=a,b.ma.Yc=d));ma(b)};this.hh=function(a){if(b.jb)return!1;var d=0;void 0!=a.wheelDelta?d=a.wheelDelta:d=-a.detail;0>d?pa(b.b,1):ra(b.b,1);a.preventDefault&&a.preventDefault();return!1};this.Lq=function(a){sa(a);var d=!1;16===ta.M&&2===b.Da?(D.D=!0,ja(b),d=!0):16!==ta.M&&17!==ta.M||10!==b.Da?(d=va(b,ta),!0===d&&112<=ta.M&&121>=ta.M?ja(b):!0===d&&b.Gb.ke()):(16===ta.M?D.D=!0:17===ta.M&&(D.C=!0),ja(b),d=!0);!0===d&&a.preventDefault();return d?!1:!0};this.Nq=function(a){sa(a);16===ta.M&&2===b.Da?(D.D=!1,ja(b)):16!==ta.M&&17!==ta.M||10!==b.Da||(16===ta.M?D.D=!1:17===ta.M&&(D.C=!1),ja(b))};this.Mq=function(){};this.yl=function(a){return!0===a?(b.Ii(),b.Vf(),b.Xf(),b.Wf(),wa(b),b.jc(),null):setTimeout(function(){b.Ii();b.Vf();b.Xf();b.Wf();wa(b);b.jc();b.c.Gh=xa(b,!0)},20)};this.Jq=function(a){a.preventDefault();return!1};this.Kq=function(a){a.preventDefault();if(0<a.dataTransfer.files.length&&FileReader){a=a.dataTransfer.files[0];var d=a.name.split(".").pop().toLowerCase(),e=new FileReader;e.onload=function(a){b.b.cd(a.target.result,null,null,d)};e.readAsText(a);b.Sa()}};this.wq=function(a){a.preventDefault();return!1}}l=aa.prototype;l.q=function(a,b){this.f&&this.f.Im(this);this.Uj(b);this.a.d=E(a);var c=this.a.d.a,d=a+"_BoardCanvas",e=a+"_LinesCanvas",f=a+"_ColorCanvas",g=a+"_ShadowsCanvas",h=a+"_StonesCanvas",k=a+"_VariantsCanvas",m=a+"_MarksCanvas",n=a+"_TargetCanvas",p=a+"_SelectCanvas",r=a+"_CursorCanvas",q=a+"_EventDiv";this.cb(c,d);this.cb(c,e);this.cb(c,f);this.cb(c,g);this.cb(c,h);this.cb(c,k);this.cb(c,m);this.cb(c,p);this.cb(c,n);this.Ga(c,r);c=this.Ga(c,q);this.Gb.q(r);r=this.a.d;this.Ma(this.a.ga,r,d);this.Ma(this.a.pa,r,e);this.Ma(this.a.oh,r,f);this.Ma(this.a.pb,r,g);this.Ma(this.a.te,r,h);this.Ma(this.a.Nh,r,k);this.Ma(this.a.oe,r,m);this.Ma(this.a.pe,r,p);this.Ma(this.a.of,r,n);this.Ma(this.a.Event,r,q);c.onmousemove=this.Mi;c.onmouseout=this.gh;c.onmousedown=this.fh;c.onmouseup=this.Ni;c.onkeydown=this.Lq;c.onkeyup=this.Nq;c.onkeypress=this.Mq;c.tabIndex=-1;c.style.Lp=!0;c.style.outline=0;c.ondragover=this.Jq;c.ondrop=this.Kq;c.onmousewheel=this.hh;c.addEventListener&&(c.addEventListener("contextmenu",this.wq,!1),c.addEventListener("DOMMouseScroll",this.hh,!1));return r};l.Cl=function(a){this.a.sp.push(a)};l.Sa=function(){this.a.Event.d.a.focus()};l.Jh=function(a){a!==this.$b&&(y.Jh(a),this.$b=a,this.f.s(!0))};function xa(a,b){var c=document.createElement("canvas"),d=c.getContext("2d");0<a.a.ga.d.a.width&&0<a.a.ga.d.a.height&&(c.width=a.a.ga.d.a.width,c.height=a.a.ga.d.a.height,d.drawImage(a.a.ga.d.a,0,0),d.drawImage(a.a.pa.d.a,0,0),!0===b&&d.drawImage(a.a.oh.d.a,0,0),d.drawImage(a.a.pb.d.a,0,0),d.drawImage(a.a.te.d.a,0,0),d.drawImage(a.a.oe.d.a,0,0));return c}l.s=function(a,b){var c=this.a.d.a.clientWidth,d=this.a.d.a.clientHeight,e=ya(this),f=d*e;f<=c?c=f:d=c/e;if(I.B(c)!==this.c.xn||I.B(d)!==this.c.dm||!0===a)this.c.xn=I.B(c),this.c.dm=I.B(d),this.a.d.zb(c,d),this.Gb.s(c,d),za(this),this.jc(a,b)};function Aa(a,b,c,d,e){var f=a.Z.qa(),g=f.h,f=f.g;a.r.ca=Math.max(0,Math.min(g-1,b));a.r.da=Math.max(0,Math.min(f-1,c));a.r.ja=Math.max(0,Math.min(g-1,d));a.r.ka=Math.max(0,Math.min(f-1,e));a.r.ja<=a.r.ca&&(a.r.ca=0,a.r.ja=g-1);a.r.ka<=a.r.da&&(a.r.da=0,a.r.ka=f-1)}function Ba(a){var b=a.Z.qa(),c=b.h,b=b.g;a.r.ca=0;a.r.da=0;a.r.ja=c-1;a.r.ka=b-1}function Ca(a,b,c,d){if(a.c.pa&&d!==a.Ug[(c<<8)+b]){var e=a.a.te.d.a.getContext("2d"),f=a.a.pb.d.a.getContext("2d"),g=a.c.Yb,h=(g-1)/2,k=a.c.pa,m=a.c.Bb,n=a.Ji();if(!0===ga(a,b-1,c-1)){var p=k[b-1].h-h,h=k[c-1].g-h;e.clearRect(p,h,g,g);!0===n&&f.clearRect(p+m,h+m,g,g);switch(d){case J:e.drawImage(a.c.Vi,p,h);!0===n&&f.drawImage(a.c.pb,p+m,h+m);break;case Da:e.drawImage(a.c.sg[a.c.Bn[b-1+(c-1)*a.Z.qa().h]],p,h),!0===n&&f.drawImage(a.c.pb,p+m,h+m)}}a.Ug[(c<<8)+b]=d;d=a.Gb;!0===(b==d.Jg&&c==d.Kg?!0:!1)&&ja(a)}}l.oc=function(a,b){var c=(b<<8)+a;delete this.mb[""+c];c===this.pi&&(this.mb[""+c]=new Ea(a,b,Ga,""))};function Ha(a,b,c){return(a=a.mb[""+((c<<8)+b)])?a:null}l.Wa=function(a){Ia(this,a.he(),a.ie(),a)};l.Uj=function(a){this.b=a;this.Z=a.sa;a.o=this;Ba(this)};l.sh=function(){for(var a=this.Z,b=1;b<=a.L;b++)for(var c=1;c<=a.A;c++)Ja(a,c,b,a.P(c,b));a=this.Z.sh(this);this.Ff&&Ka(this.Ff,a.mh,a.Ph,a.Il,a.zn,a.mh+this.b.jd-a.Ph-this.b.md-this.b.Ob);this.b.qc()};function Oa(a,b){(a.b.I&Pa||9===b||11===b)&&a.Da!==b&&(1===a.Da&&a.b.ij(),a.Da=b,ja(a),1===b?(Qa(a.Z),a.b.eg()):9===b&&a.sh(),a.b.qc())}function ya(a){var b=a.Z.qa(),c=b.h,b=b.g,d=(a.r.ja-a.r.ca)*Sa+2*Ta,e=(a.r.ka-a.r.da)*Sa+2*Ta;!0===a.$b&&(d+=Sa,e+=Sa);0<a.r.ca&&(d+=Ua/2);a.r.ja<c-1&&(d+=Ua/2);0<a.r.da&&(e+=Ua/2);a.r.ka<b-1&&(e+=Ua/2);return d/e}l.cb=function(a,b){var c=document.createElement("canvas");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};l.Ga=function(a,b){var c=document.createElement("div");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};l.Ma=function(a,b,c){a.d=E(c);a=a.d;a.j.n(0,0,1E3,1E3,!1,!1,!1,!1,-1,-1);a.p=L|M|N|O;b.m(a)};l.Zf=function(a,b){var c=Va(this.a.ga.d.a);return{h:a-c.h,g:b-c.g}};function za(a){var b=a.Z.qa(),c=b.h,b=b.g;a.r.ca=Math.max(0,Math.min(c-1,a.r.ca));a.r.da=Math.max(0,Math.min(b-1,a.r.da));a.r.ja=Math.max(0,Math.min(c-1,a.r.ja));a.r.ka=Math.max(0,Math.min(b-1,a.r.ka));a.r.ja<=a.r.ca&&(a.r.ca=0,a.r.ja=c-1);a.r.ka<=a.r.da&&(a.r.da=0,a.r.ka=b-1);var d=(a.r.ja-a.r.ca)*Sa+2*Ta,e=(a.r.ka-a.r.da)*Sa+2*Ta,f=Ta,g=Ta;!0===a.$b&&(d+=Sa,e+=Sa,f+=Ua,g+=Ua);0<a.r.ca&&(d+=Ua/2,f+=Ua/2);a.r.ja<c-1&&(d+=Ua/2);0<a.r.da&&(e+=Ua/2,g+=Ua/2);a.r.ka<b-1&&(e+=Ua/2);a.Eg=Sa/e;a.uf=Sa/d;a.Ee=f/d;a.Fe=g/e;a.Lk=4/d}l.jc=function(a,b){var c=this.a.ga.d.a.width,d=this.a.ga.d.a.height;if(!(0>=c||0>=d)){if(c!=this.c.O||d!=this.c.K||null===this.c.ga||null!==this.cc||!0===a){if(null!==this.cc&&clearTimeout(this.cc),this.cc=this.yl(b),this.Vf(),0!==c&&0!==d)if(null!==this.c.Gh)this.a.ga.d.a.getContext("2d").drawImage(this.c.Gh,0,0,this.a.ga.d.a.width,this.a.ga.d.a.height);else{var e=this.a.ga.d.a.getContext("2d");e.fillStyle=R(this.eh());e.fillRect(0,0,c,d);var f=this.a.pa.d.a.getContext("2d"),e=this.uf*c,g=this.Eg*d,h=this.Ee*c-this.r.ca*e,k=this.Fe*d-this.r.da*g,m=this.Z.qa();f.clearRect(0,0,c,d);f.strokeStyle=R(this.Ye());for(var n=h+(m.h-1)*e,p=0;p<m.g;p++){var r=k+p*g;f.beginPath();f.moveTo(h,r);f.lineTo(n,r);f.stroke()}for(var n=k+(m.g-1)*g,q=0;q<m.h;q++)r=h+q*e,f.beginPath(),f.moveTo(r,k),f.lineTo(r,n),f.stroke();f.fillStyle=R(this.Ye());for(var p=Math.max(2,this.Lk*c/2),q=Wa(this.Z),u=0,v=q.length;u<v;u++)n=h+q[u][0]*e,r=k+q[u][1]*e,f.beginPath(),f.arc(n,r,p,0,2*Math.PI,!1),f.fill();f=this.a.te.d.a.getContext("2d");f.clearRect(0,0,c,d);f.strokeStyle=R(this.Ye());f.lineWidth=1;u=R(new A(0,0,0,255));v=R(new A(255,255,255,255));for(p=1;p<=m.g;p++)for(q=1;q<=m.h;q++){n=this.Z.P(q,p);if(J===n)f.fillStyle=u;else if(Da===n)f.fillStyle=v;else continue;n=h+(q-1)*e;r=k+(p-1)*g;f.beginPath();f.arc(n,r,e/2,0,2*Math.PI,!1);f.fill();f.stroke()}this.a.pb.d.a.getContext("2d").clearRect(0,0,c,d);this.a.Nh.d.a.getContext("2d").clearRect(0,0,c,d);this.a.oe.d.a.getContext("2d").clearRect(0,0,c,d);this.a.of.d.a.getContext("2d").clearRect(0,0,c,d);this.a.pe.d.a.getContext("2d").clearRect(0,0,c,d)}}else{Xa(this);if(!0===this.$b&&this.c.pa){c=this.a.ga.d.a.getContext("2d");d=this.c.O;p=this.c.K;e=this.Z.qa();g=2*this.c.Yb/3;h=(g-1)/2;k=this.c.pa;m=2*g/3;c.fillStyle=this.Vc()?"rgb(255,255,255)":"rgb(0,0,0)";for(q=this.r.ca;q<=this.r.ja;q++)f=k[q].h-h,n=this.Fe*p/3-h,r=Ya(q+1,e.h),u=Za(r)?"Arial":"Helvetica, Arial, Verdana",u=m+"px "+u,c.font=u,u=g/2+m/3,v=(g-c.measureText(r).width)/2,c.fillText(r,f+v,n+u),n=p-this.Fe*p/3-h,c.fillText(r,f+v,n+u);for(p=this.r.da;p<=this.r.ka;p++)f=this.Ee*d/3-h,n=k[p].g-h,r=e.g-p+"",u=Za(r)?"Arial":"Helvetica, Arial, Verdana",u=m+"px "+u,c.font=u,u=g/2+m/3,v=(g-c.measureText(r).width)/2,c.fillText(r,f+v,n+u),f=d-this.Ee*d/3-h,c.fillText(r,f+v,n+u)}$a(this);c=this.c.O;d=this.c.K;this.a.te.d.a.getContext("2d").clearRect(0,0,c,d);this.a.pb.d.a.getContext("2d").clearRect(0,0,c,d);this.Ug={};ab(this);bb(this);cb(this);this.b&&this.b.pg()}11===this.Da&&ma(this)}};l.Ii=function(){var a=this.a.ga.d.a.width,b=this.a.ga.d.a.height,c=this.a.ga.d.a.getContext("2d");if(0!==a&&0!==b){for(var c=c.createImageData(a,b),d=.9,e=this.eh(),f=e.F,g=e.H,e=e.G,h=100/a,k=1.6,m=2.72,d=2432/150,n=Array(a),p=0,r=0;p<a;p++,r+=h)n[p]=.6+k*r+m*r*r*r+d*r*r*r*r*r;for(var h=Array(b),p=1/b,k=.02,m=.004,d=.04/15,q=0,r=0;q<b;q++,r+=p)h[q]=k*r+m*r*r*r+d*r*r*r*r*r;if(!0===this.Ki())for(q=0;q<b;q++)for(p=0;p<a;p++){d=40*(n[p]+h[q])+.5;d-=Math.floor(d);d=.2>d?1-d/2:.4>d?1-(.4-d)/2:1;if(q==b-1||q==b-2&&p<a-2||p>=a-1||p==a-2&&q<b-1)d/=2;0==q||1==q&&1<p||0==p||1==p&&1<q?(k=128+f*d/2,m=128+g*d/2,d=128+e*d/2):(k=f*d,m=g*d,d*=e);r=4*(p+q*a);c.data[r+0]=k;c.data[r+1]=m;c.data[r+2]=d;c.data[r+3]=255}else for(q=0;q<b;q++)for(p=0;p<a;p++)0==q||1==q&&1<p||0==p||1==p&&1<q?(k=128+f/2,m=128+g/2,d=128+e/2):(k=f,m=g,d=e),r=4*(p+q*a),c.data[r+0]=k,c.data[r+1]=m,c.data[r+2]=d,c.data[r+3]=255;this.c.ga=this.ba(a,b,c);this.c.O=a;this.c.K=b;this.cc=null}};function Xa(a){a.a.ga.d.a.getContext("2d").drawImage(a.c.ga,0,0)}l.Vf=function(){var a=this.c.O,b=this.c.K;if(0!==a&&0!==b){for(var c=this.Ee*a,d=this.Fe*b,b=this.Eg*b,e=this.uf*a,f=this.Z.qa(),g=Math.max(f.h,f.g),f=Array(f.h),c=c-e*this.r.ca,d=d-b*this.r.da,h,k,m,n,p,r,q,u,v,w,B=0;B<g;B++)h=c+B*e,m=c+B*e+.6*e,p=c+B*e-.6*e,q=c+B*e+.5*e,v=c+B*e-.5*e,k=d+B*b,n=d+B*b+.6*b,r=d+B*b-.6*b,u=d+B*b+.5*b,w=d+B*b-.5*b,f[B]={h:Math.floor(h+.5),Gp:Math.floor(m+.5),Hp:Math.floor(p+.5),tg:Math.floor(q+.5),Nd:Math.floor(v+.5),g:Math.floor(k+.5),Ip:Math.floor(n+.5),Jp:Math.floor(r+.5),ug:Math.floor(u+.5),Od:Math.floor(w+.5)};this.c.pa=f;a=Math.max(2,Math.ceil(this.Lk*a/2));g=2*a+1;b=this.c;e=g+2;g=g+2;f=this.Ye();c=document.createElement("canvas").getContext("2d").createImageData(e,g);d=c.data;Math.max(e/2,2);h=e/2-.5;k=h-.2;for(m=0;m<e;m++)for(n=0;n<e;n++)p=m-h,r=n-h,p=k-Math.sqrt(p*p+r*r),r=4*(m*e+e-n-1),0<=p?(q=255,.8>=p&&(q=parseInt(255*(1-(.8-p)/.8))),d[r+0]=f.F,d[r+1]=f.H,d[r+2]=f.G,d[r+3]=q):(d[r+0]=0,d[r+1]=0,d[r+2]=0,d[r+3]=0);e=this.ba(e,g,c);b.em=e;this.c.fm=a+1}};function $a(a,b){if(a.c.pa){var c=a.c.O,d=a.c.K,e=a.a.pa.d.a.getContext("2d"),f=a.Z.qa(),g=a.c.pa;e.clearRect(0,0,c,d);for(var h=a.c.em,k=a.c.fm,m=Wa(a.Z),n=0,p=m.length;n<p;n++)!0===ga(a,m[n][0],m[n][1])&&e.drawImage(h,g[m[n][0]].h-k,g[m[n][1]].g-k);for(var m=0===a.r.ca?g[a.r.ca].h:g[a.r.ca].Hp,n=f.h-1===a.r.ja?g[a.r.ja].h:g[a.r.ja].Gp,r=0===a.r.da?g[a.r.da].g:g[a.r.da].Jp,q=f.g-1===a.r.ka?g[a.r.ka].g:g[a.r.ka].Ip,k=e.createImageData(1,d),p=e.createImageData(c,1),u=a.Ye(),v=0;v<d;v++)h=4*v,v>=r&&v<=q&&(k.data[h+0]=u.F,k.data[h+1]=u.H,k.data[h+2]=u.G,k.data[h+3]=u.Za);for(v=0;v<c;v++)h=4*v,m<=v&&v<=n&&(p.data[h+0]=u.F,p.data[h+1]=u.H,p.data[h+2]=u.G,p.data[h+3]=u.Za);for(c=0;c<f.h;c++)!0===(c>=a.r.ca&&c<=a.r.ja?!0:!1)&&e.putImageData(k,g[c].h,0);for(c=0;c<f.g;c++)!0===(c>=a.r.da&&c<=a.r.ka?!0:!1)&&e.putImageData(p,0,g[c].g);if(void 0!==b)for(f=g[1].h-g[0].h+2,c=g[1].g-g[0].g+2,h=0,p=b.length;h<p;h++)d=b[h].h,k=b[h].g,!0===ga(a,d-1,k-1)&&S===a.Z.P(d,k)&&e.clearRect(g[d-1].Nd,g[k-1].Od,f,c)}}l.ba=function(a,b,c){var d=document.createElement("canvas");d.width=a;d.height=b;d.getContext("2d").putImageData(c,0,0);return d};l.Xf=function(a){if(this.c.pa){var b=this.a.ga.d.a.width,c=this.a.te.d.a.getContext("2d");a=2*Math.floor((a?a:Math.floor(this.uf*b))/2)+1;this.c.Yb=a;this.Gb.ab=a;var d=c.createImageData(a,a),e=c.createImageData(a,a),f=c.createImageData(a,a),g=c.createImageData(a,a),h=d.data,b=e.data,k=f.data,m=g.data,n=this.ul(),p=this.sl(),r=this.Vc();if(!0===this.tl())for(var q=a/2-.5,u=q-.2,n=Math.sqrt(3),v=0;v<a;v++)for(var w=0;w<a;w++){var B=v-q,C=w-q,x=u-Math.sqrt(B*B+C*C),t=4*(v*a+a-w-1);if(0<=x){var H=u*u-B*B-C*C,H=0<H?Math.sqrt(H)*n:0,r=B,U=C,p=Math.sqrt(6*(r*r+U*U+H*H)),p=(2*H-r+U)/p,r=0;.9<p&&(r=10*(p-.9));H=255;.8>=x&&(x=(.8-x)/.8,H=.7,B-C<u/3&&(H=1),H=parseInt(255*(1-x*H)));B=parseInt(10+10*p+140*r);h[t+0]=B;h[t+1]=B;h[t+2]=B;h[t+3]=H;k[t+0]=B;k[t+1]=B;k[t+2]=B;k[t+3]=parseInt(H/2);B=parseInt(200+10*p+45*r);b[t+0]=B;b[t+1]=B;b[t+2]=B;b[t+3]=H;m[t+0]=B;m[t+1]=B;m[t+2]=B;m[t+3]=parseInt(H/2)}else h[t+0]=0,h[t+1]=0,h[t+2]=0,h[t+3]=0,k[t+0]=0,k[t+1]=0,k[t+2]=0,k[t+3]=0,b[t+0]=0,b[t+1]=0,b[t+2]=0,b[t+3]=0,m[t+0]=0,m[t+1]=0,m[t+2]=0,m[t+3]=0}else for(q=a/2-.5,u=q-.2,v=0;v<a;v++)for(w=0;w<a;w++)if(B=v-q,C=w-q,x=u-Math.sqrt(B*B+C*C),t=4*(v*a+a-w-1),0<=x){H=255;if(.8>=x){var Z=(.8-x)/.8,H=.7;B-C<u/3&&(H=1);H=parseInt(255*(1-Z*H))}else 1.6>=x&&.8<=x&&!0===r&&(Z=(1.6-x)/.8,H=.7,B-C<u/3&&(H=1),H=parseInt(Z*H*255));U=!1;1.6>=x&&(U=!0);!1===U||!1===r?(h[t+0]=p.F,h[t+1]=p.H,h[t+2]=p.G,h[t+3]=H,k[t+0]=p.F,k[t+1]=p.H,k[t+2]=p.G,k[t+3]=parseInt(H/2)):(h[t+0]=n.F,h[t+1]=n.H,h[t+2]=n.G,h[t+3]=H,k[t+0]=n.F,k[t+1]=n.H,k[t+2]=n.G,k[t+3]=H);H=255;.8>=x?(Z=(.8-x)/.8,H=.7,B-C<u/3&&(H=1),H=parseInt(255*(1-Z*H))):1.6>=x&&.8<=x&&!1===r&&(Z=(1.6-x)/.8,H=.7,B-C<u/3&&(H=1),H=parseInt(Z*H*255));!1===U||!0===r?(b[t+0]=n.F,b[t+1]=n.H,b[t+2]=n.G,b[t+3]=H,m[t+0]=n.F,m[t+1]=n.H,m[t+2]=n.G,m[t+3]=parseInt(H/2)):(b[t+0]=p.F,b[t+1]=p.H,b[t+2]=p.G,b[t+3]=H,m[t+0]=p.F,m[t+1]=p.H,m[t+2]=p.G,m[t+3]=H)}else h[t+0]=0,h[t+1]=0,h[t+2]=0,h[t+3]=0,k[t+0]=0,k[t+1]=0,k[t+2]=0,k[t+3]=0,b[t+0]=0,b[t+1]=0,b[t+2]=0,b[t+3]=0,m[t+0]=0,m[t+1]=0,m[t+2]=0,m[t+3]=0;this.c.Vi=this.ba(a,a,d);this.c.lr=this.ba(a,a,e);this.c.Ll=this.ba(a,a,f);this.c.Dn=this.ba(a,a,g);d=[];e=[];for(t=0;28>t;t++)for(d[t]=c.createImageData(a,a),e[t]=d[t].data,v=0;v<a;v++)for(w=0;w<a;w++)f=4*(v*a+w),e[t][f+0]=b[f+0],e[t][f+1]=b[f+1],e[t][f+2]=b[f+2],e[t][f+3]=b[f+3];e.push(m);e.push(b);c=this.b.Ea;if(!0===(null===c.R.ve?y.R.ve:c.R.ve)){c=a/51*978|0;b=.9;t=Array(c);for(m=0;m<c;m++)t[m]=(Math.sin(18*m/c)+1)/20+(Math.sin(3*m/c)+1)/10;f=Array(c);for(v=0;v<c;v++)f[v]=.2*Math.cos(5*v/c)+.1*Math.sin(11*v/c);w=Array(c*c);for(v=0;v<c;v++)for(m=0;m<c;m++)b=90*(t[m]+f[v])+.5,b-=Math.floor(b),b=.2>b?1-b/2:.4>b?1-(.4-b)/2:1,w[m+v*c]=b;t=e.length;for(f=0;f<t;f++){var g=e[f],F,K;switch(f){case 0:F=12*c/978|0;K=163*c/978|0;break;case 1:F=12*c/978|0;K=213*c/978|0;break;case 2:F=12*c/978|0;K=263*c/978|0;break;case 3:F=12*c/978|0;K=313*c/978|0;break;case 4:F=62*c/978|0;K=163*c/978|0;break;case 5:F=62*c/978|0;K=213*c/978|0;break;case 6:F=62*c/978|0;K=263*c/978|0;break;case 7:F=62*c/978|0;K=313*c/978|0;break;case 8:F=113*c/978|0;K=163*c/978|0;break;case 9:F=113*c/978|0;K=213*c/978|0;break;case 10:F=113*c/978|0;K=263*c/978|0;break;case 11:F=113*c/978|0;K=313*c/978|0;break;case 12:F=163*c/978|0;K=163*c/978|0;break;case 13:F=163*c/978|0;K=213*c/978|0;break;case 14:F=163*c/978|0;K=263*c/978|0;break;case 15:F=163*c/978|0;K=313*c/978|0;break;case 16:F=213*c/978|0;K=163*c/978|0;break;case 17:F=213*c/978|0;K=213*c/978|0;break;case 18:F=213*c/978|0;K=263*c/978|0;break;case 19:F=213*c/978|0;K=313*c/978|0;break;case 20:F=263*c/978|0;K=163*c/978|0;break;case 21:F=263*c/978|0;K=213*c/978|0;break;case 22:F=263*c/978|0;K=263*c/978|0;break;case 23:F=263*c/978|0;K=313*c/978|0;break;case 24:F=313*c/978|0;K=163*c/978|0;break;case 25:F=313*c/978|0;K=213*c/978|0;break;case 26:F=313*c/978|0;K=263*c/978|0;break;case 27:F=313*c/978|0;K=313*c/978|0;break;case 28:F=12*c/978|0;K=12*c/978|0;break;case 29:F=12*c/978|0,K=12*c/978|0}for(v=0;v<a;v++)for(m=0;m<a;m++)b=w[F+m+(K+v)*c],h=4*(m+v*a),g[h+0]*=Math.pow(b,.8),g[h+1]*=Math.pow(b,.8),g[h+2]*=Math.pow(b,.8)}}F=0;for(K=d.length;F<K;++F)this.c.sg[F]=this.ba(a,a,d[F]);a=this.Z.qa();for(F=0;F<a.g;F++)for(K=0;K<a.h;K++)this.c.Bn[K+F*a.h]=Math.floor(Math.random()*(this.c.sg.length-1))}};function ab(a){for(var b=a.Z.qa(),c=1;c<=b.g;c++)for(var d=1;d<=b.h;d++)Ca(a,d,c,a.Z.P(d,c))}l.Wf=function(){if(this.c.pa){var a=this.a.pb.d.a.getContext("2d"),b=this.c.Yb,a=a.createImageData(b,b),c=a.data;this.c.Bb=Math.max(parseInt(.15*b),3);for(var d=(b-5)/2+1,e=0;e<b;e++)for(var f=0;f<b;f++){var g=Math.abs(e-d),h=Math.abs(f-d),g=Math.sqrt(h*h+g*g)/d,g=1>g?.15+.75*(1-g):0,h=4*(b*e+f);c[h+0]=0;c[h+1]=0;c[h+2]=0;c[h+3]=parseInt(255*g)}this.c.pb=this.ba(b,b,a)}};function ja(a){var b,c=a.Gb;b=c.Jg;var d=c.Kg;if(!1===ga(a,b-1,d-1))a.Gb.ke();else{var c=db,e=a.Z.P(b,d);switch(a.Da){case 0:S===e&&(c=J===a.b.qb?gb:hb);break;case 1:J===e?c=ib:Da===e&&(c=jb);break;case 2:c=J===e?ib:Da===e?jb:D.D?hb:gb;break;case 9:b=kb(a.Z,b,d);J===b?c=ib:Da===b&&(c=jb);break;case 10:c=D.C&&!D.D?lb:!D.C&&D.D?mb:D.C&&D.D?nb:ob;break;default:c=J===e||S===e&&!0===a.Vc()?ib:jb}db!=c&&a.b.Ea.ne()?a.Gb.fb(c):a.Gb.ke()}}function ea(a,b,c){for(var d=I.B(a.c.O,!1),e=I.B(a.c.K,!1),f=a.Eg*e,g=a.uf*d,d=a.Ee*d-f*a.r.ca,h=a.Fe*e-g*a.r.da,e=0,k=a.Z.qa(),e=0;e<k.g-1&&c>h+f*e+f/2;e++);for(c=c=0;c<k.h-1&&b>d+g*c+g/2;c++);c=Math.max(a.r.ca,Math.min(a.r.ja,c));e=Math.max(a.r.da,Math.min(a.r.ka,e));return{h:c+1,g:e+1}}function pb(a,b,c){var d=a.c.O,e=a.c.K;return{h:a.Ee*d+(b-1)*a.uf*d,g:a.Fe*e+(c-1)*a.Eg*e}}function wa(a){if(a.c.pa){var b=a.Ki(),c=a.Vc(),d=a.c.Yb;a.c.vk=tb(d,d,.05*d,new A(0,0,0,255));a.c.wk=tb(d,d,.05*d,new A(255,255,255,255));a.c.cn=a.ic(d,d,.05*d,new A(0,0,0,255));a.c.en=a.ic(d,d,.05*d,new A(255,255,255,255));a.c.dn=a.ic(d,d,.05*d,new A(255,0,0,255));a.c.Tm=ub(d,d,.05*d,new A(0,0,0,255));a.c.Um=ub(d,d,.05*d,new A(255,255,255,255));a.c.Wm=vb(d,d,!1,new A(0,0,0,255),b?new A(0,0,0,255):c?new A(255,255,255,255):new A(0,0,0,255));a.c.Ym=vb(d,d,!1,new A(255,255,255,255),b?new A(255,255,255,255):c?new A(255,255,255,255):new A(0,0,0,255));a.c.Xm=vb(d,d,!0,new A(0,0,0,255),b?new A(0,0,0,255):c?new A(255,255,255,255):new A(0,0,0,255));a.c.Zm=vb(d,d,!0,new A(255,255,255,255),b?new A(255,255,255,255):c?new A(255,255,255,255):new A(0,0,0,255));a.c.vm=wb(d,d,.05*d,new A(255,0,0,255));a.c.lj=wb(d,d,.05*d,new A(0,0,0,255));a.c.mj=wb(d,d,.05*d,new A(255,255,255,255));a.c.Hm=ub(d,d,.05*d,new A(200,0,0,255));a.c.am=ub(d,d,.05*d,new A(0,128,0,255));a.c.Gl=ub(d,d,.05*d,new A(0,0,200,255));a.c.Al=ub(d,d,.05*d,new A(128,128,128,255))}}function tb(a,b,c,d){var e=document.createElement("canvas");e.width=a;e.height=b;var f=e.getContext("2d");f.clearRect(0,0,a,b);f.strokeStyle=R(d);f.fillStyle=R(d);f.lineWidth=c;f.beginPath();f.moveTo(1*a/4,1*b/4);f.lineTo(3*a/4,3*b/4);f.moveTo(3*a/4,1*b/4);f.lineTo(1*a/4,3*b/4);f.stroke();return e}l.ic=function(a,b,c,d,e){void 0===e&&(e=1);var f=document.createElement("canvas");f.width=a;f.height=b;var g=f.getContext("2d");g.clearRect(0,0,a,b);g.globalAlpha=e;g.strokeStyle=R(d);g.fillStyle=R(d);g.lineWidth=c;c=a/2;b=3*b/4;d=.1*a;e=Math.sqrt(c*c-(b-c)*(b-c))+c;c=-Math.sqrt(c*c-(b-c)*(b-c))+c;g.beginPath();g.moveTo(a/2,d);g.lineTo(e-d,b);g.lineTo(c+d,b);g.closePath();g.stroke();return f};function ub(a,b,c,d){var e=document.createElement("canvas");e.width=a;e.height=b;var f=e.getContext("2d");f.clearRect(0,0,a,b);f.strokeStyle=R(d);f.fillStyle=R(d);f.lineWidth=Math.floor(c+.5);var g=a/2,h=-b/2*Math.sqrt(2)/2+b/2,k=Math.floor(-Math.sqrt(g*g-(h-g)*(h-g))+g),g=Math.ceil(+Math.sqrt(g*g-(h-g)*(h-g))+g),h=Math.ceil(h),m=Math.floor(b/2*Math.sqrt(2)/2+b/2);c=Math.floor(c);for(var n=f.createImageData(a,b),p=0;p<b;p++)for(var r=0;r<a;r++){var q=4*(p*a+r);(k<=r&&r<=k+c||g-c<=r&&r<=g)&&h<=p&&p<=m||(h<=p&&p<=h+c||m-c<=p&&p<=m)&&k<=r&&r<=g?(n.data[q+0]=d.F,n.data[q+1]=d.H,n.data[q+2]=d.G,n.data[q+3]=255):(n.data[q+0]=0,n.data[q+1]=0,n.data[q+2]=0,n.data[q+3]=0)}f.putImageData(n,0,0);return e}function vb(a,b,c,d,e){var f=document.createElement("canvas");f.width=a;f.height=b;var g=f.getContext("2d"),h=g.createImageData(a,b),k=c?b/4|0:b/3|0,m=c?3*b/4|0:2*b/3|0,n=c?a/4|0:a/3|0;c=c?3*a/4|0:2*a/3|0;for(var p=0;p<b;p++)for(var r=0;r<a;r++){var q=4*(p*a+r);(p===k||p===m)&&r>=n&&r<=c||(r===n||r===c)&&p>=k&&p<=m?(h.data[q+0]=e.F,h.data[q+1]=e.H,h.data[q+2]=e.G,h.data[q+3]=255):p>k&&p<m&&r>n&&r<c?(h.data[q+0]=d.F,h.data[q+1]=d.H,h.data[q+2]=d.G,h.data[q+3]=255):h.data[q+3]=0}g.putImageData(h,0,0);return f}function wb(a,b,c,d){var e=document.createElement("canvas");e.width=a;e.height=b;var f=e.getContext("2d");f.clearRect(0,0,a,b);var g=a/2,h=4*c;f.strokeStyle=R(d);f.fillStyle=R(d);f.lineWidth=c;f.beginPath();f.arc(a/2,b/2,g-h,0,2*Math.PI,!1);f.stroke();return e}function xb(a,b,c){a=a.mb[""+((c<<8)+b)];return void 0!==a?a:null}function Ia(a,b,c,d){Ga===d.V?yb(a,b,c):a.mb[""+((c<<8)+b)]=d}function yb(a,b,c){if(0>=b||0>=c)a.pi=0;else{var d=(c<<8)+b;void 0===a.mb[""+d]&&(a.mb[""+d]=new Ea(b,c,Ga,""));a.pi=d}}function cb(a){a.a.oe.d.a.getContext("2d").clearRect(0,0,a.c.O,a.c.K);var b=[],c;for(c in a.mb){var d=a.mb[c];void 0===a.Lo[c]&&(zb(a,d),Ab===d.V&&b.push({h:d.he(),g:d.ie()}))}for(c in a.Lo){var d=Bb(c),e=a,f=d.h,g=d.g;if(e.c.pa){var h=e.a.oe.d.a.getContext("2d");if(!0===ga(e,f-1,g-1)){var k=(e.c.Yb-1)/2,m=e.c.pa;h.drawImage(e.c.dn,m[f-1].h-k,m[g-1].g-k)}}b.push({h:d.h,g:d.g})}$a(a,b)}function zb(a,b){if(a.c.pa){var c=b.he(),d=b.ie(),e=b.V,f=a.a.oe.d.a.getContext("2d"),g=a.Vc();if(!0===ga(a,c-1,d-1)){var h=a.c.Yb,k=(h-1)/2,m=a.c.pa,n=m[c-1].h-k,k=m[d-1].g-k,c=a.Z.P(c,d);f.clearRect(n,k,h,h);switch(e){case Cb:f.drawImage(a.c.Wm,n,k);break;case Db:f.drawImage(a.c.Ym,n,k);break;case Eb:f.drawImage(a.c.Xm,n,k);break;case Fb:f.drawImage(a.c.Zm,n,k);break;case Ga:!0===a.Yh?J===c?f.drawImage(a.c.mj,n,k):f.drawImage(a.c.lj,n,k):f.drawImage(a.c.vm,n,k);break;case Gb:f.drawImage(c===J||c==S&&1==g?a.c.mj:a.c.lj,n,k);break;case Hb:f.drawImage(c===J||c==S&&1==g?a.c.Um:a.c.Tm,n,k);break;case Ib:f.drawImage(c===J||c==S&&1==g?a.c.en:a.c.cn,n,k);break;case Jb:f.drawImage(c===J||c==S&&1==g?a.c.wk:a.c.vk,n,k);break;case Ab:e=b.Uc,d=2>=e.length?2*h/3:h/2,m=d+"px "+(Za(e)?"Arial":"Helvetica, Arial, Verdana"),f.fillStyle=c===J||c==S&&1==g?"rgb(255,255,255)":"rgb(0,0,0)",f.font=m,f.fillText(e,n+(h-f.measureText(e).width)/2,k+(h/2+d/3))}}}}function bb(a){for(var b in a.tb){var c=Bb(b);Kb(a,c.h,c.g)}}function Lb(a){for(var b in a.tb){var c=Bb(b);Mb(a,c.h,c.g)}a.tb={}}function ia(a,b,c,d){var e=(c<<8)+b;if(Nb===d.gj)void 0!==a.tb[e]&&(delete a.tb[e],Mb(a,b,c),a.b.Nj(b,c));else{d=d.C&&!d.D?new A(200,0,0,50):d.D&&!d.C?new A(0,100,0,50):d.D&&d.C?new A(80,80,80,50):new A(0,0,200,50);if(void 0!==a.tb[e]){var f=a.tb[e];d.F===f.F&&d.H===f.H&&d.G===f.G?(d=f.Za,a.tb[e].Za=50>d?50:100>d?100:150>d?150:200):a.tb[e]=d}else a.tb[e]=d;Kb(a,b,c);a.b.Pi(b,c,a.tb[e])}}function Kb(a,b,c){Mb(a,b,c);var d=a.a.oh.d.a.getContext("2d"),e=a.c.pa,f=b-1,g=c-1;d.fillStyle=R(a.tb[(c<<8)+b]);d.beginPath();d.moveTo(e[f].Nd,e[g].Od);d.lineTo(e[f].tg,e[g].Od);d.lineTo(e[f].tg,e[g].ug);d.lineTo(e[f].Nd,e[g].ug);d.closePath();d.fill()}function Mb(a,b,c){var d=a.a.oh.d.a.getContext("2d");a=a.c.pa;b=b-1;c=c-1;d.clearRect(a[b].Nd,a[c].Od,a[b].tg-a[b].Nd,a[c].ug-a[c].Od)}l.ha=function(a,b,c){switch(this.Da){case 0:var d=this.b.Y;if(Nb==c.gj)if(d&&d.AddNewNodeWithMove){var e=this.b.l;if(c=e.ta){this.b.Y=null;this.b.ia(c);var f=this.b.qb;if(!1===Ob(this,a,b))this.b.ia(e),this.b.Y=d;else{var g=Pb(this.b.l,a,b,f);-1===g||d.CheckExistNodeOnMove&&!0!==d.CheckExistNodeOnMove()?(this.b.ia(e),this.b.Y=d,d.AddNewNodeWithMove(c,a,b,f)):(b=this.b.l.W(g),this.b.ia(e),this.b.Y=d,d.GoToNode&&d.GoToNode(b))}}}else 1<=this.b.Nc&&(ra(this.b,1),Qb(this,a,b));else if(c.D&&c.C)this.b.ng(J===this.b.qb?Da:J),ja(this);else if(!0===c.C)e=this.Z.qa(),d=e.g,a=Ya(a,e.h),b=a+(d+1-b),this.b.jh(b),(a=this.b.f)&&a.ap&&a.ap(b);else if(c.D){d=this.b;d.vb&&(d.vb.sf=!1);e=d.l;c=d.Y;d.Y=null;Rb(d);for(f=0;1E3>f&&S===d.sa.P(a,b);)pa(d,1),f++;c&&c.GoToNode?(c.GoToNode(d.l),d.ia(e),d.Y=c):(S===d.sa.P(a,b)&&d.ia(e),d.vb&&(d.vb.sf=!0))}else d&&d.AddNewNodeWithMove?!1!==Ob(this,a,b)&&(f=this.b.qb,g=Pb(this.b.l,a,b,f),-1===g||d.CheckExistNodeOnMove&&!0!==d.CheckExistNodeOnMove()?d.AddNewNodeWithMove(this.b.l,a,b,f):(b=this.b.l.W(g),d.GoToNode&&d.GoToNode(b))):(Qb(this,a,b),null!==this.Oe&&Sb(this.b.l)>=Tb(this.Oe)&&Ub(this.Oe));break;case 1:if(e=this.b.Y)e.MarkLife&&S!==this.Z.P(a,b)&&(d=Vb(this.Z,a,b),e.MarkLife(a,b,J!==d&&Da!==d?!1:!0));else if(!0===c.C)Oa(this,0);else{e=this.Z;c=e.P(a,b);if(S!==c)if(e.ji.Xa(),f=Vb(e,a,b),J!==f&&Da!==f){e.Va.Xa();Wb(e,a,b,c);for(d in e.ji.ib)f=Bb(d|0),e.Va.Xa(),$b(e,f.h,f.g,3-c),ac(e.Va,e,3);bc(e,!0);e.Va.Xa();Wb(e,a,b,c);ac(e.Va,e,3-c)}else e.Va.Xa(),Wb(e,a,b,c),ac(e.Va,e,3),bc(e,!0);this.b.eg()}break;case 2:d=J;S!==this.Z.P(a,b)?d=S:c.D&&(d=Da);(e=this.b.Y)?(c=this.b.l,c=!0===c.ad()||c===this.b.Ib(),e.AddOrRemoveStone&&e.AddOrRemoveStone(c,a,b,d)):(!0===this.b.l.ad()&&!0===cc(this.b,!0,!0)&&dc(this.b),Ca(this,a,b,d),this.Z.Set(a,b,d,-1),this.b.Ze(d,[(b<<8)+a]));break;case 3:ec(this,Ib,a,b);break;case 4:ec(this,Hb,a,b);break;case 5:ec(this,Gb,a,b);break;case 6:ec(this,Jb,a,b);break;case 7:fc(this,a,b,c);break;case 8:a:{f=xb(this,a,b);d=this.b.Y;if(null!==f&&Ab===f.V){if(d){d.AddOrRemoveMark&&d.AddOrRemoveMark(!1,a,b,Ab,f.Uc);break a}this.b.oc([(b<<8)+a]);this.oc(a,b)}else{f="";if(c.D){c=this.Z.ge(a,b);if(-1==c){b=this.b;(a=b.f)&&gc(a.$.id,hc,{S:b,U:a,zc:"Sorry, no move has been made at that location, so you can't mark it with the move number.",O:305,K:115});break a}f=""+c}if(void 0===f||""===f||null===f){c=[];f=0;for(e in this.mb)g=this.mb[e],Ab===g.V&&Za(g.Uc)&&(c[f]=parseInt(g.Uc),f++);if(0>=f)f="1";else{c.sort(ic);for(var g=e=0,h=!1,k=0;k<f;k++){if(c[k]>e+1){g=e+1;h=!0;break}e=c[k]}h||(g=e+1);f=""+g}}if(d){d.AddOrRemoveMark&&d.AddOrRemoveMark(!0,a,b,Ab,f);break a}d=new Ea(a,b,Ab,f);this.b.$e(f,(b<<8)+a);Ia(this,a,b,d)}cb(this)}break;case 9:d=this.Z;c=d.P(a,b);if(S!==c){g=new jc;kc(d,a,b,g);e=[];for(f in g.wi)e.push(f);b=kb(d,a,b)!==c?c:J===c?Da:J;a=0;for(c=e.length;a<c;a++)f=Bb(e[a]),Ja(d,f.h,f.g,b)}b=this.Z.sh(this);this.Ff&&Ka(this.Ff,b.mh,b.Ph,b.Il,b.zn,b.mh+this.b.jd-b.Ph-this.b.md-this.b.Ob);cb(this);ja(this);break;case 10:ia(this,a,b,c);break;case 11:this.ma.mf=!0,this.ma.re=a,this.ma.se=b,this.ma.Xc=a,this.ma.Yc=b,ma(this)}};function ma(a){if(11===a.Da&&!(!a.c.pa||0>=a.ma.re||0>=a.ma.se||0>=a.ma.Xc||0>=a.ma.Yc)){var b=a.c.O,c=a.c.K,d=a.c.pa,e=a.a.pe.d.a.getContext("2d");e.clearRect(0,0,b,c);var b=a.ma.re-1,c=a.ma.se-1,f=a.ma.Xc-1;a=a.ma.Yc-1;if(b>f)var g=f,f=b,b=g;c>a&&(g=a,a=c,c=g);e.fillStyle=R(new A(107,112,122,128));e.beginPath();e.moveTo(d[b].Nd,d[c].Od);e.lineTo(d[f].tg,d[c].Od);e.lineTo(d[f].tg,d[a].ug);e.lineTo(d[b].Nd,d[a].ug);e.closePath();e.fill()}}function ec(a,b,c,d){var e=xb(a,c,d),f=a.b.Y;f?f.AddOrRemoveMark&&f.AddOrRemoveMark(null===e||b!==e.V,c,d,b):null!==e&&b===e.V?(a.b.oc([(d<<8)+c]),a.oc(c,d),a.c.pa&&!0===ga(a,c-1,d-1)&&(b=(a.c.Yb-1)/2,f=a.c.pa,e=f[c-1].h-b,f=f[d-1].g-b,a.a.oe.d.a.getContext("2d").clearRect(e,f,2*b,2*b),b=Bb(a.pi),c===b.h&&d===b.g&&(yb(a,c,d),zb(a,xb(a,c,d))))):(e=new Ea(c,d,b,""),a.b.Wa(b,[(d<<8)+c]),Ia(a,c,d,e),zb(a,e))}function fc(a,b,c,d){var e=xb(a,b,c),f=a.b.Y;if(null!==e&&Ab===e.V){if(f){f.AddOrRemoveMark&&f.AddOrRemoveMark(!1,b,c,Ab,e.Uc);return}a.b.oc([(c<<8)+b]);a.oc(b,c)}else{var g="";if(d.D){if(!a.f||!a.a.d||!a.a.d.a)return;d=a.f.$;if(!d)return;var e=pb(a,b,c),h=lc(a.f,a.a.d.a),k=window.i?window.i.v.ds:"Label...",m=50;window.Q&&(window.Q.lf("16px 'Times New Roman', Times, serif"),m=window.Q.ra(k)+6+2+2);var n=document.createElement("input");n.style.position="absolute";n.style.top=h.g+e.g-10+"px";n.style.left=h.h+e.h-m/2+"px";n.style.width=m+"px";n.style.height="20px";n.style.fontFamily='"Times New Roman", Times, serif';n.style.fontSize="16px";n.type="text";n.placeholder=k;n.style.outline=0;n.style.border="1px solid rgb(166, 166, 166)";n.style.boxShadow="rgba(0, 0, 0, 0.8) 0px 1px 15px";n.style.padding="3px";d.appendChild(n);n.focus();n.onblur=function(){mc(a.f)};n.onkeydown=function(d){27===d.keyCode?mc(a.f):13===d.keyCode&&(g=this.value,f?f.AddOrRemoveMark&&f.AddOrRemoveMark(!0,b,c,Ab,g):(d=new Ea(b,c,Ab,g),a.b.$e(g,(c<<8)+b),Ia(a,b,c,d),cb(a)),mc(a.f))};nc(a.f,n);return}if(void 0==g||""===g||null===g)if(g=oc(a),null===g){d=a.b;(e=d.f)&&gc(e.$.id,hc,{S:d,U:e,zc:"Sorry, all standard labels are used up! To add more labels, use shift and click on the board to make up ur own labels.",O:305,K:115});return}if(f){f.AddOrRemoveMark&&f.AddOrRemoveMark(!0,b,c,Ab,g);return}d=new Ea(b,c,Ab,g);a.b.$e(g,(c<<8)+b);Ia(a,b,c,d)}cb(a)}function oc(a){var b=[],c=-1,d;for(d in a.mb){var e=a.mb[d];if(Ab==e.V){var e=e.Uc,f=e.charCodeAt(0);1==e.length&&65<=f&&90>=f&&(b[f]=1)}}for(a=65;90>=a;a++)if(void 0===b[a]||""==b[a]){c=a;break}return-1==c?null:String.fromCharCode(c)}function Qb(a,b,c){1==Ob(a,b,c)&&!0===pc(a.b,b,c,J===a.b.qb?J:Da)&&dc(a.b)}function Ob(a,b,c){var d=!1;if(S===a.Z.P(b,c)){if(!a.b.Zh)return!0;var d=J===a.b.qb?J:Da,e=a.Z.sd.Ad();a.Z.Set(b,c,d,-1);d=null!==sc(a.Z,b,c,d,!0)?!0:null!==tc(a.Z,b,c,d)?!1:!0;a.Z.Set(b,c,S,-1);a.Z.sd.de(e)}return d}function va(a,b){if(9!==a.Da&&11!==a.Da){var c=a.b.Y,d=b.M,e=!1;if(8===d||46===d){if(c&&c.RemoveNode){c.RemoveNode(a.b.l);return}c=a.b;if(c.I&64)if(d=c.l.ta,null===d)c.Td++,c.l.Xa(),uc(c),c.T&&(c.T.lc(),c.T.Ya()),c.ia(c.l);else for(var e=0,f=vc(d);e<f;e++)if(c.l===d.W(e)){c.Td++;f=d;f.Aa.splice(e,1);f.ua>=e&&f.ua--; -1===f.ua&&0<f.Aa.length&&(f.ua=0);f.b&&(f.b.Ba=!0);c.l=d;uc(c);c.T&&(c.T.lc(),c.T.Ya());c.ia(d);break}e=!0}else if(36===d)!0===b.C&&!0===b.D&&(c=a.b,c.ia(c.vi),e=!0);else if(37===d)b.C&&b.D?Rb(a.b):b.C?ra(a.b,5):ra(a.b,1),e=!0;else if(38===d)b.C?a.b.uh():wc(a.b),e=!0;else if(39===d)b.C&&b.D?xc(a.b):b.C?pa(a.b,5):pa(a.b,1),e=!0;else if(40===d)yc(a.b),e=!0;else if(45===d&&!0===b.C){if(c&&c.AddNewNode){c.AddNewNode(a.b.l);return}cc(a.b,!0,!0);e=!0}else if(65===d&&!0===b.C&&!0===b.D){Xa(a);var g=a.c.O,h=a.c.K,k=a.a.pa.d.a.getContext("2d");k.clearRect(0,0,g,h);for(var c=g/406,d=h/348,m=[207,193,1],f=[{h:0,g:49},{h:0,g:198},{h:71,g:348},{h:178,g:348},{h:318,g:348},{h:406,g:238},{h:406,g:41},{h:247,g:0}],e=[[[162,162,2],[221,125,2],[256,156,2],[250,203,1],[234,231,2],[199,236,0],[177,228,1],[150,195,1]],[[133,141,2],[229,89,1],[283,136,1],[282,210,2],[247,249,0],[195,261,2],[158,250,0],[124,196,0]],[[106,122,0],[238,45,0],[309,115,0],[312,216,2],[260,267,0],[187,300,1],[138,272,0],[96,197,1]],[[72,99,2],[246,10,0],[346,88,1],[344,224,0],[272,291,0],[182,329,0],[115,298,0],[60,197,0]],[[28,67,0],[259,-40,0],[373,66,0],[385,233,0],[298,319,2],[170,380,0],[81,336,0],[14,198]]],n=0,p=f.length;n<p;n++)k.beginPath(),k.moveTo(m[0]*c,m[1]*d),k.lineTo(f[n].h*c,f[n].g*d),k.stroke();f=0;for(n=e.length;f<n;f++){p=e[f];k.beginPath();for(var r=0,q=p.length;r<q;r++){var u=p[r];0===r?k.moveTo(u[0]*c,u[1]*d):k.lineTo(u[0]*c,u[1]*d)}k.closePath();k.stroke()}e.push([m]);a.Xf(30*c);a.Wf();k=a.a.te.d.a.getContext("2d");m=a.a.pb.d.a.getContext("2d");k.clearRect(0,0,g,h);m.clearRect(0,0,g,h);g=(a.c.Yb-1)/2;h=a.c.Bb;f=0;for(n=e.length;f<n;f++)for(p=e[f],r=0,q=p.length;r<q;r++){var u=p[r],v=(u[0]*c|0)-g,w=(u[1]*d|0)-g;J===u[2]?k.drawImage(a.c.Vi,v,w):Da===u[2]&&k.drawImage(a.c.sg[Math.random()*(a.c.sg.length-1)|0],v,w);J!==u[2]&&Da!==u[2]||m.drawImage(a.c.pb,v+h,w+h)}e=!0}else if(67===d&&!0===b.C)10===a.Da?a.b.jj():gc(a.a.d.a.id,zc,{S:a.b,U:a.f}),e=!0;else if(68===d&&!0===b.C)!0===b.D?a.b.zh(-1):gc(a.a.d.a.id,Ac,{S:a.b,U:a.f}),e=!0;else if(69===d&&!0===b.C)a.b&&a.b.I&Bc&&gc(a.a.d.a.id,Cc,{S:a.b,U:a.f}),e=!0;else if(72===d&&!0===b.C)!0===b.D?(c=a.b,Dc(c,[c.l])):Ec(a.b),e=!0;else if(73===d&&!0===b.C){if(!0===b.D){c=a.b;d=[];e=[];Fc(c.Ta,e);f=0;for(n=e.length;f<n;f++)for(p=e[f],Gc(p),r=c.Ta,d.push(r);r!==p&&0<vc(r);)r=r.W(r.ua),d.push(r);Dc(c,d)}else Hc(a.b);e=!0}else 75===d&&!0===b.C?(gc(a.a.d.a.id,Ic,{S:a.b,U:a.f}),e=!0):77===d&&!0===b.C&&!0===b.D?(a.b.xh(),e=!0):79===d&&!0===b.C?(10===a.Da?gc(a.a.d.a.id,Jc,{qj:a,U:a.f}):a.b&&a.b.I&Kc&&(!0===b.D?gc(a.a.d.a.id,Lc,{S:a.b,U:a.f}):Mc(a.b)),e=!0):82===d&&!0===b.C?(10===a.Da?(Lb(a),a.b.Mj()):a.Jh(!0===a.$b?!1:!0),e=!0):83===d&&!0===b.C?(c=a.b.mg(),FileReader&&Blob&&(d=a.b.vd,""===d&&(d=a.b.wd+" vs. "+a.b.ud),""===d&&(d="download"),Nc(new Blob([c],{type:"text/plain;charset=utf-8"}),d+".sgf","application/x-go-sgf")),e=!0):85===d&&!0===b.C?!0===b.D&&(a.b.zh(1),e=!0):86===d&&!0===b.C?(!0===b.D?a.b&&a.b.I&Oc&&gc(a.a.d.a.id,Pc,{S:a.b,U:a.f}):(c=a.b.Ge,c++,c>Qc&&(c=Rc),Sc(a.b,c)),e=!0):112===d?(Oa(a,0),e=!0):113===d?(Oa(a,1),e=!0):114===d?(Oa(a,2),e=!0):115===d?(Oa(a,3),e=!0):116===d?(Oa(a,4),e=!0):117===d?(Oa(a,5),e=!0):118===d?(Oa(a,6),e=!0):119===d?(Oa(a,7),e=!0):120===d?(Oa(a,8),e=!0):121===d&&(Oa(a,10),e=!0);return e}}function ga(a,b,c){return b>=a.r.ca&&b<=a.r.ja&&c>=a.r.da&&c<=a.r.ka?!0:!1}l.Ki=function(){var a=this.b.Ea;return null===a.R.Db?y.R.Db:a.R.Db};l.tl=function(){var a=this.b.Ea;return null===a.R.Nb?y.R.Nb:a.R.Nb};l.Ji=function(){var a=this.b.Ea;return null===a.R.Mb?y.R.Mb:a.R.Mb};l.ul=function(){var a=this.b.Ea;return null===a.R.Tb?y.R.Tb:a.R.Tb};l.sl=function(){var a=this.b.Ea;return null===a.R.Rb?y.R.Rb:a.R.Rb};l.eh=function(){var a=this.b.Ea;return null===a.R.Hb?y.R.Hb:a.R.Hb};l.Ye=function(){var a=this.b.Ea;return null===a.R.Sb?y.R.Sb:a.R.Sb};l.Vc=function(){var a=this.b.Ea;return null===a.R.Lb?y.R.Lb:a.R.Lb};var db=-1,gb=0,hb=1,jb=2,ib=3,lb=4,mb=5,ob=6,nb=7;function ca(a,b){this.o=b;this.Kg=this.Jg=-1;this.Sc=this.rd=null;this.Pk=db;this.ab=-1;this.dl=this.cl=0;this.c=a;this.Tc=null}l=ca.prototype;l.q=function(a){this.rd=document.getElementById(a);this.rd.style.position="absolute";this.rd.style.left="0px";this.rd.style.top="0px";this.Sc=document.createElement("canvas");this.rd.appendChild(this.Sc);this.Sc.style.position="absolute";this.Sc.style.left="0px";this.Sc.style.top="0px";this.ke()};l.s=function(a,b){this.rd.style.width=a+"px";this.rd.style.height=b+"px";this.Sc.style.width=a+"px";this.Sc.style.height=b+"px";this.Sc.width=I.B(a);this.Sc.height=I.B(b);this.Pk=db};l.ke=function(){this.rd.style.display="none";this.Kg=this.Jg=-1};l.Ka=function(){var a=this.o.b;a&&!0===a.Ea.ne()&&(this.rd.style.display="block")};l.ak=function(a,b){var c=this.Sc.getContext("2d");c.clearRect(this.cl,this.dl,this.ab,this.ab);this.Tc&&c.drawImage(this.Tc,a,b);this.cl=a;this.dl=b};l.fb=function(a){if(a!=this.Pk&&(this.Pk=a,db!==a)){switch(a){case gb:this.Tc=this.c.Ll;break;case hb:this.Tc=this.c.Dn;break;case jb:this.Tc=this.c.vk;break;case ib:this.Tc=this.c.wk;break;case lb:this.Tc=this.c.Hm;break;case mb:this.Tc=this.c.am;break;case ob:this.Tc=this.c.Gl;break;case nb:this.Tc=this.c.Al}this.ak(this.cl,this.dl)}};function Tc(a){this.b=(this.f=a)?a.b:null;this.bb=0;this.Ng=16;this.Ik=!1;this.c={Xl:null,Am:null,tm:null,Bl:null,Om:null};this.a={d:null,zd:{d:null}};this.ti=new A(0,0,0,51);this.Ne=new A(255,255,255,255);this.oi=new A(0,0,0,102);this.Hf=new A(255,255,255,255);this.Og=new A(0,0,0,153);this.Pg=new A(255,255,255,255);this.mi=new A(0,0,0,0);this.ni=new A(140,140,140,255);this.nq=new A(0,0,0,77);this.$p=this.L=this.A=0;var b=this;this.fh=function(a){4!==b.bb&&(oa(a),b.bb=1,Uc(b),a.stopImmediatePropagation(),b.Uf())};this.Ni=function(a){if(4!==b.bb){if(D.ob!==a.target)return;b.bb=2;Uc(b);b.ha();a.stopImmediatePropagation()}b.Yf();b.Xe()};this.Vq=function(){4!==b.bb&&(1!==b.bb&&(b.bb=2),Uc(b))};this.gh=function(){4!==b.bb&&(b.bb=b.Ik?8:0,Uc(b),b.Xe())};this.Yf=function(){!b.b||b instanceof Vc||b.b.Sa()};this.vl=function(a){a.dataTransfer.effectAllowed="all";a.dataTransfer.setData("text/sgf","(;SZ[19];)")}}l=Tc.prototype;l.q=function(a,b){this.b=b;this.Qa();this.a.d=E(a);var c=this.a.d.a;c.setAttribute("title",this.oa());c.style.backgroundColor="rgba(217,217,217,1)";var d=document.createElement("canvas");d.setAttribute("id",a+"_canvas");d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.style["-webkit-transition"]="background 2s";d.style.transition="background 2s";d.draggable="false";d.ondragstart=function(a){a.preventDefault();return!1};c.appendChild(d);this.a.zd.d=E(a+"_canvas");d=this.a.zd.d;d.j.n(0,0,1E3,1E3,!1,!1,!1,!1,-1,-1);d.p=L|M|N|O;this.a.d.m(d);c.onmousedown=this.fh;c.onmouseup=this.Ni;c.onmouseover=this.Vq;c.onmouseout=this.gh;c.onfocus=this.Yf;c.tabIndex=-1;c.style.outline="none";c.draggable="true";c.ms=this.vl;this.s()};l.s=function(a){if(!0===(0>this.$p?!1:!0)){var b=this.a.d.a.clientWidth,c=this.a.d.a.clientHeight;if(b!==this.A||c!==this.L||!0===a)this.A=b,this.L=c,this.a.d.zb(this.A,this.L),this.jc()}};function Wc(a,b){!0===b&&4===a.bb?(a.bb=0,Uc(a)):!1===b&&4!==a.bb&&(a.bb=4,Uc(a))}function Xc(a,b){a.Ng!==b&&(a.Ng=b,a.jc(),a.a.d.a.setAttribute("title",a.oa()))}function Yc(a,b){a.Ik!==b&&(a.Ik=b,!0===b&&0===a.bb?(a.bb=8,Uc(a)):!1===b&&8===a.bb&&(a.bb=0,Uc(a)))}l.ke=function(){this.a.d&&this.a.d.a&&(this.a.d.a.style.display="none")};l.Ka=function(){this.a.d&&this.a.d.a&&(this.a.d.a.style.display="block")};l.jc=function(){var a=this.L,b=this.A;0!==b&&0!==a&&(this.c.Bl=Zc(this,this.Og,this.Pg,b,a),this.c.tm=Zc(this,this.oi,this.Hf,b,a,!1,!0),this.c.Am=Zc(this,this.ti,this.Ne,b,a),this.c.Xl=Zc(this,this.mi,this.ni,b,a,!0),this.c.Om=Zc(this,this.nq,this.Hf,b,a,!1,!0),Uc(this))};function Zc(a,b,c,d,e,f,g){var h=a.a.zd.d.a.getContext("2d");d=I.B(d);e=I.B(e);h.clearRect(0,0,d,e);h.fillStyle=R(b);h.fillRect(0,0,d,e);h.fillStyle=R(c);h.strokeStyle=R(c);var k=.8*Math.min(d,e)|0;a.na(h,k,(d-k)/2,(e-k)/2,f,d,e,b,c);!0===g&&a.bh(h,d,e);return h.getImageData(0,0,d,e)}l.na=function(){};l.ic=function(a,b,c,d,e){var f=Math.ceil(b+a/5+.5);b=Math.ceil(b+4*a/5+.5);var g=Math.ceil(c+a/5+.5),h=Math.ceil(c+a/2+.5);a=Math.ceil(c+4*a/5+.5);0>e?(d.beginPath(),d.moveTo(f,h),d.lineTo(b,g),d.lineTo(b,a)):(d.beginPath(),d.moveTo(f,g),d.lineTo(b,h),d.lineTo(f,a));d.closePath();d.fill()};function Uc(a){var b=a.a.zd.d.a.getContext("2d"),c=null;switch(a.bb){case 2:c=a.c.tm;break;case 1:c=a.c.Bl;break;case 4:c=a.c.Xl;break;case 8:c=a.c.Om;break;default:case 0:c=a.c.Am}c&&b.putImageData(c,0,0)}l.ha=function(){};l.oa=function(){return""};l.Qa=function(){};l.Uf=function(){this.a.d.a.style.transition="transform 0.1s ease-out";this.a.d.a.style.transform="scale(0.9)"};l.Xe=function(){this.a.d.a.style.transition="transform 0.2s ease-out";this.a.d.a.style.transform="scale(1)"};l.bh=function(a,b,c){a.beginPath();a.lineWidth=1;a.strokeStyle=R(new A(0,0,0,255));a.moveTo(0,0);a.lineTo(b,0);a.lineTo(b,c);a.lineTo(0,c);a.lineTo(0,0);a.stroke();a.beginPath()};function $c(a){$c.u.constructor.call(this,a)}ad($c,Tc);$c.prototype.na=function(a,b,c,d,e,f){a.lineWidth=f/18;a.moveTo(22/36*f,12/36*f);a.lineTo(16/36*f,.5*f);a.lineTo(22/36*f,24/36*f);a.stroke();a.moveTo(13/36*f,10/36*f);a.lineTo(13/36*f,26/36*f);a.stroke()};$c.prototype.ha=function(){Rb(this.b)};$c.prototype.oa=function(){return(window.i?window.i.v.button.hint.qr:"Back to the start")+" (Ctrl+Shift+Left)"};$c.prototype.Qa=function(){this.f.w.Ti.push(this)};function bd(a){bd.u.constructor.call(this,a)}ad(bd,Tc);bd.prototype.na=function(a,b,c,d,e,f){a.lineWidth=f/18;a.moveTo(.5*f,12/36*f);a.lineTo(12/36*f,.5*f);a.lineTo(.5*f,24/36*f);a.stroke();a.moveTo(24/36*f,12/36*f);a.lineTo(.5*f,.5*f);a.lineTo(24/36*f,24/36*f);a.stroke()};bd.prototype.ha=function(){ra(this.b,5)};bd.prototype.oa=function(){return(window.i?window.i.v.button.hint.pr:"Back 5 moves")+" (Ctrl+Left)"};bd.prototype.Qa=function(){this.f.w.Ui.push(this)};function dd(a){dd.u.constructor.call(this,a)}ad(dd,Tc);dd.prototype.na=function(a,b,c,d,e,f){a.lineWidth=f/18;a.moveTo(21/36*f,12/36*f);a.lineTo(15/36*f,.5*f);a.lineTo(21/36*f,24/36*f);a.stroke()};dd.prototype.ha=function(){ra(this.b,1)};dd.prototype.oa=function(){return(window.i?window.i.v.button.hint.or:"Back")+" (Left)"};dd.prototype.Qa=function(){this.f.w.yd.push(this)};function ed(a){ed.u.constructor.call(this,a)}ad(ed,Tc);ed.prototype.na=function(a,b,c,d,e,f){a.lineWidth=f/18;a.moveTo(15/36*f,12/36*f);a.lineTo(21/36*f,.5*f);a.lineTo(15/36*f,24/36*f);a.stroke()};ed.prototype.ha=function(){pa(this.b,1)};ed.prototype.oa=function(){return(window.i?window.i.v.button.hint.Qr:"Forward")+" (Right)"};ed.prototype.Qa=function(){this.f.w.Cd.push(this)};function fd(a){fd.u.constructor.call(this,a)}ad(fd,Tc);fd.prototype.na=function(a,b,c,d,e,f){a.lineWidth=f/18;a.moveTo(12/36*f,12/36*f);a.lineTo(.5*f,.5*f);a.lineTo(12/36*f,24/36*f);a.stroke();a.moveTo(.5*f,12/36*f);a.lineTo(24/36*f,.5*f);a.lineTo(.5*f,24/36*f);a.stroke()};fd.prototype.ha=function(){pa(this.b,5)};fd.prototype.oa=function(){return(window.i?window.i.v.button.hint.Rr:"Forward 5 moves")+" (Ctrl+Right)"};fd.prototype.Qa=function(){this.f.w.tj.push(this)};function gd(a){gd.u.constructor.call(this,a)}ad(gd,Tc);gd.prototype.na=function(a,b,c,d,e,f){a.lineWidth=f/18;a.moveTo(14/36*f,12/36*f);a.lineTo(20/36*f,.5*f);a.lineTo(14/36*f,24/36*f);a.stroke();a.moveTo(23/36*f,10/36*f);a.lineTo(23/36*f,26/36*f);a.stroke()};gd.prototype.ha=function(){xc(this.b)};gd.prototype.oa=function(){return(window.i?window.i.v.button.hint.Sr:"Go to the end")+" (Ctrl+Shift+Right)"};gd.prototype.Qa=function(){this.f.w.sj.push(this)};function hd(a){hd.u.constructor.call(this,a)}ad(hd,Tc);hd.prototype.na=function(a,b,c,d){var e=Math.ceil(c+.2*b+.5),f=Math.ceil(c+.35*b+.5),g=Math.ceil(c+.57*b+.5);c=Math.ceil(c+.92*b+.5);var h=Math.ceil(d+.2*b+.5),k=Math.ceil(d+.38*b+.5),m=Math.ceil(d+.52*b+.5),n=Math.ceil(d+.6*b+.5),p=Math.ceil(d+.68*b+.5);b=Math.ceil(d+.84*b+.5);a.beginPath();a.moveTo(e,h);a.lineTo(f,h);a.lineTo(f,m);a.lineTo(g,m);a.lineTo(g,k);a.lineTo(c,n);a.lineTo(g,b);a.lineTo(g,p);a.lineTo(e,p);a.closePath();a.fill()};hd.prototype.ha=function(){yc(this.b)};hd.prototype.oa=function(){return(window.i?window.i.v.button.hint.ls:"Next variant")+" (Down)"};hd.prototype.Qa=function(){this.f.w.Id.push(this)};function id(a){id.u.constructor.call(this,a)}ad(id,Tc);id.prototype.na=function(a,b,c,d){var e=Math.ceil(c+.2*b+.5),f=Math.ceil(c+.35*b+.5),g=Math.ceil(c+.57*b+.5);c=Math.ceil(c+.92*b+.5);var h=Math.ceil(d+.8*b+.5),k=Math.ceil(d+.62*b+.5),m=Math.ceil(d+.48*b+.5),n=Math.ceil(d+.4*b+.5),p=Math.ceil(d+(1-.68)*b+.5);b=Math.ceil(d+(1-.84)*b+.5);a.beginPath();a.moveTo(e,h);a.lineTo(f,h);a.lineTo(f,m);a.lineTo(g,m);a.lineTo(g,k);a.lineTo(c,n);a.lineTo(g,b);a.lineTo(g,p);a.lineTo(e,p);a.closePath();a.fill()};id.prototype.ha=function(){wc(this.b)};id.prototype.oa=function(){return(window.i?window.i.v.button.hint.os:"Previous variant")+" (Up)"};id.prototype.Qa=function(){this.f.w.Jd.push(this)};function jd(a){jd.u.constructor.call(this,a)}ad(jd,Tc);jd.prototype.na=function(a,b,c,d){var e=Math.ceil(c+.5*b-b/10+.5),f=Math.ceil(d+.5*b-b/10+.5),g=Math.ceil(.25*b+.5);a.fillStyle=R(new A(255,255,255));a.strokeStyle=R(new A(0,0,0));a.beginPath();a.arc(e,f,g,0,2*Math.PI,!1);a.fill();a.stroke();a.fillStyle=R(new A(0,0,0));e=Math.ceil(c+.5*b+b/10+.5);f=Math.ceil(d+.5*b+b/10+.5);g=Math.ceil(.25*b+.5);a.beginPath();a.arc(e,f,g,0,2*Math.PI,!1);a.fill()};jd.prototype.ha=function(){Oa(this.b.o,0)};jd.prototype.oa=function(){return(window.i?window.i.v.button.hint.Gr:"Moves")+" (F1)"};jd.prototype.Qa=function(){this.f.w.Zi.push(this)};function kd(a){kd.u.constructor.call(this,a)}ad(kd,Tc);kd.prototype.na=function(a,b,c,d,e,f,g,h){e=a.createImageData(b,b);f=b/5|0;g=4*b/5|0;for(var k=0;k<b;k++)for(var m=0;m<b;m++){var n=4*(k*b+m);k>=f&&k<=g&&m>=f&&m<=g?(b-k>=m||k===f||k===g||m===f||m===g?(e.data[n+0]=0,e.data[n+1]=0,e.data[n+2]=0):(e.data[n+0]=255,e.data[n+1]=255,e.data[n+2]=255),e.data[n+3]=255):(e.data[n+0]=h.F,e.data[n+1]=h.H,e.data[n+2]=h.G,e.data[n+3]=h.Za)}a.putImageData(e,c,d)};kd.prototype.ha=function(){Oa(this.b.o,1)};kd.prototype.oa=function(){return(window.i?window.i.v.button.hint.Ir:"Count Scores")+" (F2)"};kd.prototype.Qa=function(){this.f.w.aj.push(this)};function ld(a){ld.u.constructor.call(this,a)}ad(ld,Tc);ld.prototype.na=function(a,b,c,d){var e=Math.ceil(c+.75*b+.5),f=Math.ceil(d+.125*b+.5),g=Math.ceil(.25*b+.5),h=Math.ceil(.02*b+.5);a.fillRect(e,f,g,h);e=Math.ceil(c+.875*b+.5);f=Math.ceil(d+.5);g=Math.ceil(.02*b+.5);h=Math.ceil(.25*b+.5);a.fillRect(e,f,g,h);e=Math.ceil(c+.5);f=Math.ceil(d+.875*b+.5);g=Math.ceil(.25*b+.5);h=Math.ceil(.02*b+.5);a.fillRect(e,f,g,h);e=Math.ceil(c+.5*b-b/10+.5);f=Math.ceil(d+.5*b-b/10+.5);g=Math.ceil(.25*b+.5);a.fillStyle=R(new A(255,255,255));a.strokeStyle=R(new A(0,0,0));a.beginPath();a.arc(e,f,g,0,2*Math.PI,!1);a.fill();a.stroke();a.fillStyle=R(new A(0,0,0));e=Math.ceil(c+.5*b+b/10+.5);f=Math.ceil(d+.5*b+b/10+.5);g=Math.ceil(.25*b+.5);a.beginPath();a.arc(e,f,g,0,2*Math.PI,!1);a.fill()};ld.prototype.ha=function(){Oa(this.b.o,2)};ld.prototype.oa=function(){return(window.i?window.i.v.button.hint.Fr:"Editor")+" (F3)"};ld.prototype.Qa=function(){this.f.w.Yi.push(this)};function md(a){md.u.constructor.call(this,a)}ad(md,Tc);md.prototype.na=function(a,b,c,d){var e=b/2,f=3*b/4,g=.1*b,h=Math.sqrt(e*e-(f-e)*(f-e))+e,e=-Math.sqrt(e*e-(f-e)*(f-e))+e;a.lineWidth=Math.ceil(.05*b+.5);a.beginPath();a.moveTo(c+b/2,d+2*g);a.lineTo(c+h-g,d+f+g);a.lineTo(c+e+g,d+f+g);a.closePath();a.stroke()};md.prototype.ha=function(){Oa(this.b.o,3)};md.prototype.oa=function(){return(window.i?window.i.v.button.hint.Lr:"Triangles")+" (F4)"};md.prototype.Qa=function(){this.f.w.dj.push(this)};function nd(a){nd.u.constructor.call(this,a)}ad(nd,Tc);nd.prototype.na=function(a,b,c,d){var e=b/2,f=.05*b,g=-b/2*Math.sqrt(2)/2+b/2,h=Math.floor(c+(Math.sqrt(e*e-(g-e)*(g-e))+e)-f);c=Math.ceil(c+(-Math.sqrt(e*e-(g-e)*(g-e))+e)+f);g=Math.ceil(d+g+f);d=Math.floor(d+(b/2*Math.sqrt(2)/2+b/2)-f);a.lineWidth=Math.ceil(.05*b+.5);a.beginPath();a.moveTo(h,g);a.lineTo(c,g);a.lineTo(c,d);a.lineTo(h,d);a.closePath();a.stroke()};nd.prototype.ha=function(){Oa(this.b.o,4)};nd.prototype.oa=function(){return(window.i?window.i.v.button.hint.Jr:"Squares")+" (F5)"};nd.prototype.Qa=function(){this.f.w.bj.push(this)};function od(a){od.u.constructor.call(this,a)}ad(od,Tc);od.prototype.na=function(a,b,c,d){var e=.05*b,f=b/2,g=4*e;a.lineWidth=Math.ceil(e+.5);a.beginPath();a.arc(c+b/2,d+b/2,f-g,0,2*Math.PI,!1);a.stroke()};od.prototype.ha=function(){Oa(this.b.o,5)};od.prototype.oa=function(){return(window.i?window.i.v.button.hint.Dr:"Circles")+" (F6)"};od.prototype.Qa=function(){this.f.w.Xi.push(this)};function pd(a){pd.u.constructor.call(this,a)}ad(pd,Tc);pd.prototype.na=function(a,b,c,d){var e=c+.25*b;c+=.75*b;var f=d+.25*b;d+=.75*b;a.lineWidth=Math.ceil(.05*b+.5);a.beginPath();a.moveTo(e,f);a.lineTo(c,d);a.moveTo(c,f);a.lineTo(e,d);a.stroke()};pd.prototype.ha=function(){Oa(this.b.o,6)};pd.prototype.oa=function(){return(window.i?window.i.v.button.hint.Mr:"X marks")+" (F7)"};pd.prototype.Qa=function(){this.f.w.ej.push(this)};function qd(a){qd.u.constructor.call(this,a)}ad(qd,Tc);qd.prototype.na=function(a,b,c,d){var e=.8*b;a.font=e+"px Arial";a.fillText("A",c+(b-a.measureText("A").width)/2,d+b/2+e/3)};qd.prototype.ha=function(){Oa(this.b.o,7)};qd.prototype.oa=function(){return(window.i?window.i.v.button.hint.Kr:"Text labels")+" (F8)"};qd.prototype.Qa=function(){this.f.w.cj.push(this)};function rd(a){rd.u.constructor.call(this,a)}ad(rd,Tc);rd.prototype.na=function(a,b,c,d){var e=.8*b;a.font=e+"px Helvetica, Arial, Verdana";a.fillText("1",c+(b-a.measureText("1").width)/2,d+b/2+e/3)};rd.prototype.ha=function(){Oa(this.b.o,8)};rd.prototype.oa=function(){return(window.i?window.i.v.button.hint.Hr:"Numeric labels")+" (F9)"};rd.prototype.Qa=function(){this.f.w.$i.push(this)};function sd(a){sd.u.constructor.call(this,a)}ad(sd,Tc);sd.prototype.na=function(a,b,c,d){if(16===this.Ng)this.ic(b,c,d,a,1);else{var e=Math.floor(c+b/5+b/20+.5);c=Math.ceil(c+4*b/5-b/20+.5);var f=Math.ceil(d+b/5+.5);d=Math.ceil(d+4*b/5+.5);var g=Math.ceil(e+b/5);b=Math.floor(c-b/5);a.beginPath();a.moveTo(e,f);a.lineTo(g,f);a.lineTo(g,d);a.lineTo(e,d);a.closePath();a.fill();a.beginPath();a.moveTo(c,f);a.lineTo(b,f);a.lineTo(b,d);a.lineTo(c,d);a.closePath();a.fill()}};sd.prototype.ha=function(){16===this.Ng?this.b.qg():this.b.nf()};sd.prototype.oa=function(){return 16===this.Ng?window.i?window.i.v.button.hint.ss:"Start autoplay":window.i?window.i.v.button.hint.ts:"Stop autoplay"};sd.prototype.Qa=function(){this.f.Qg=this};function td(a){td.u.constructor.call(this,a)}ad(td,Tc);l=td.prototype;l.na=function(a,b,c,d,e,f,g,h,k){b=Math.min(f,g);c=(f-b)/2;d=(g-b)/2;a.fillStyle=R(k);a.fillRect(0,0,f,g);a.strokeStyle=R(new A(255,255,255));a.lineWidth=b/15;a.moveTo(c+.3*b,d+.3*b);a.lineTo(c+.7*b,d+.7*b);a.moveTo(c+.7*b,d+.3*b);a.lineTo(c+.3*b,d+.7*b);a.stroke()};l.ha=function(){this.b.nb()};l.oa=function(){return window.i?window.i.fd.button.close:"Close"};l.Uf=function(){};l.Xe=function(){};l.bh=function(){};function Vc(a){Vc.u.constructor.call(this,a)}ad(Vc,Tc);Vc.prototype.na=function(a,b,c,d){var e=.02*b,f=b/2,g=4*e;a.lineWidth=Math.ceil(e+.5);a.beginPath();a.arc(c+b/2,d+b/2,f-g,0,2*Math.PI,!1);a.stroke();e=.9*b;a.font=e+"px Times New Roman, Sans serif";a.fillText("i",c+(b-a.measureText("i").width)/2,d+b/2+e/3)};Vc.prototype.ha=function(){gc(this.a.d.a.id,ud,{S:this.b,U:this.f})};Vc.prototype.oa=function(){return window.i?window.i.v.button.hint.Oa:"Game info"};function vd(a){vd.u.constructor.call(this,a)}ad(vd,Tc);l=vd.prototype;l.na=function(a,b,c,d,e,f,g){e="OK";window.i&&(e=window.i.fd.button.uq);a.lineWidth=1;a.moveTo(0,0);a.lineTo(0,g);a.lineTo(f,g);a.lineTo(f,0);a.lineTo(0,0);a.stroke();f=e;g=.8*b;a.fillStyle=R(new A(0,0,0,255));a.font=g+"px Tahoma, Sans serif";a.fillText(f,c+(b-a.measureText(f).width)/2,d+b/2+g/3)};l.ha=function(){this.b.df()};l.oa=function(){var a="OK";window.i&&(a=window.i.fd.button.uq);return a};l.Uf=function(){};l.Xe=function(){};l.bh=function(){};function wd(a){wd.u.constructor.call(this,a)}ad(wd,Tc);l=wd.prototype;l.na=function(a,b,c,d,e,f,g){e="Cancel";window.i&&(e=window.i.fd.button.cancel);a.lineWidth=1;a.moveTo(0,0);a.lineTo(0,g);a.lineTo(f,g);a.lineTo(f,0);a.lineTo(0,0);a.stroke();f=e;g=.8*b;a.fillStyle=R(new A(0,0,0,255));a.font=g+"px Tahoma, Sans serif";a.fillText(f,c+(b-a.measureText(f).width)/2,d+b/2+g/3)};l.ha=function(){this.b.gm()};l.oa=function(){var a="Cancel";window.i&&(a=window.i.fd.button.cancel);return a};l.Uf=function(){};l.Xe=function(){};l.bh=function(){};function xd(a){xd.u.constructor.call(this,a);this.La=null}ad(xd,Tc);xd.prototype.q=function(a,b){yd.u.q.apply(this,arguments);var c=this.a.d.a,d=document.createElement("canvas");d.setAttribute("id",a+"_transform");d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.width=I.B(36);d.height=I.B(36);d.style.width="36px";d.style.height="36px";d.draggable="false";d.ondragstart=function(a){a.preventDefault();return!1};c.appendChild(d);c=E(a+"_canvas");c.j.n(0,0,1E3,1E3,!1,!1,!1,!1,-1,-1);c.p=L|M|N|O;this.a.d.m(c);this.La=d};xd.prototype.na=function(a,b,c,d){var e=this.La.getContext("2d");e.fillStyle=a.fillStyle;e.strokeStyle=a.strokeStyle;var f=.02*b;a=b/2-b/30;var g=b/4;e.lineWidth=Math.ceil(7*f+.5);e.beginPath();e.arc(c+b/2,d+b/2,g,0,2*Math.PI,!1);e.stroke();e.lineWidth=Math.ceil(5*f+.5);for(f=0;9>f;f++){e.beginPath();var h=40*f*Math.PI/180;e.lineTo(c+g*Math.cos(h)+b/2,d-g*Math.sin(h)+b/2);e.lineTo(c+a*Math.cos(h)+b/2,d-a*Math.sin(h)+b/2);e.stroke()}};xd.prototype.ha=function(){gc(this.a.d.a.id,zd,{S:this.b,U:this.f});"rotate(90deg)"!==this.La.style.transform?(this.La.style.transition="transform 0.5s linear",this.La.style.transform="rotate(90deg)"):(this.La.style.transition="transform 0.5s linear",this.La.style.transform="rotate(0deg)")};xd.prototype.oa=function(){return"Settings"};function Ad(a){Ad.u.constructor.call(this,a)}ad(Ad,Tc);Ad.prototype.na=function(a,b,c,d){var e=window.i?window.i.v.button.vq:"Pass",f=.9*b;a.font=f+"px Times New Roman, Sans serif";a.fillText(e,c+(b-a.measureText(e).width)/2,d+b/2+f/3)};Ad.prototype.ha=function(){this.b.Dm()};Ad.prototype.oa=function(){return window.i?window.i.v.button.vq:"Pass"};function Bd(a){Bd.u.constructor.call(this,a)}ad(Bd,Tc);Bd.prototype.na=function(a,b,c,d){var e=.02*b,f=b/2,g=4*e;a.lineWidth=Math.ceil(e+.5);a.beginPath();a.arc(c+b/2,d+b/2,f-g,0,2*Math.PI,!1);a.stroke();e=.9*b;a.font=e+"px Times New Roman, Sans serif";a.fillText("?",c+(b-a.measureText("?").width)/2,d+b/2+e/3)};Bd.prototype.ha=function(){gc(this.a.d.a.id,Cd,{S:this.b,U:this.f})};Bd.prototype.oa=function(){return"About"};function Dd(a){Dd.u.constructor.call(this,a)}ad(Dd,Tc);Dd.prototype.na=function(a,b,c,d){var e=Math.ceil(c+3*b/20+.5),f=Math.ceil(c+16*b/20+.5),g=Math.ceil(c+14*b/20+.5);c=Math.ceil(c+11*b/20+.5);var h=Math.ceil(d+5*b/20+.5),k=Math.ceil(d+14*b/20+.5);b=Math.ceil(d+18*b/20+.5);a.lineWidth=2;a.beginPath();a.moveTo(e,h);a.lineTo(f,h);a.lineTo(f,k);a.lineTo(g,k);a.lineTo(g,b);a.lineTo(c,k);a.lineTo(e,k);a.closePath();a.stroke()};Dd.prototype.ha=function(){this.hl.pe(this)};Dd.prototype.oa=function(){return"Comments"};function Ed(a){Ed.u.constructor.call(this,a)}ad(Ed,Tc);Ed.prototype.na=function(a,b,c,d){var e=c+0,f=c+5*b/20,g=c+15*b/20;c+=b;var h=d+6*b/20;d+=16*b/20;b=b/6+1|0;a.lineWidth=2;a.lineJoin="miter";a.strokeStyle="rgba(0,0,0, 1)";a.beginPath();a.moveTo(e-2|0,h|0);a.lineTo(c+2|0,h|0);a.stroke();a.beginPath();a.moveTo(f|0,h|0);a.lineTo(f|0,d|0);a.lineTo(c+2|0,d|0);a.stroke();a.lineWidth=1;a.strokeStyle=R(new A(0,0,0));a.fillStyle=R(new A(255,255,255));a.beginPath();a.arc(g,h,b,0,2*Math.PI,!1);a.fill();a.stroke();a.beginPath();a.arc(g,d,b,0,2*Math.PI,!1);a.fill();a.stroke();a.fillStyle=R(new A(0,0,0));a.beginPath();a.arc(f,h,b,0,2*Math.PI,!1);a.fill()};Ed.prototype.ha=function(){this.hl.pe(this)};Ed.prototype.oa=function(){return"Navigator"};function Fd(a){Fd.u.constructor.call(this,a);var b=a.$,c=this;this.rb=373;this.Eb=40;var d=document.createElement("div");d.id=b.id+"ButtonBoardModeToolbarWrapper";d.style.position="absolute";d.style.top="100px";d.style.left="100px";d.style.width=this.rb+"px";d.style.height=this.Eb+"px";d.style.background="rgb(217, 217, 217)";d.style.display="block";d.style.border="1px solid rgb(166, 166, 166)";d.style.boxShadow="0px 1px 15px rgba(0,0,0,0.8)";d.style.opacity=0;d.style.overflowY="hidden";d.style.boxSizing="border-box";d.onclick=function(){Gd(c)};b.appendChild(d);var e=document.createElement("div");e.id=b.id+"ButtonBoardModeToolbar";e.style.position="absolute";e.style.top="1px";e.style.left="1px";e.style.right="1px";e.style.bottom="1px";d.appendChild(e);this.Eo=new jd(a);this.Go=new kd(a);this.Bo=new ld(a);this.Jo=new md(a);this.Ho=new nd(a);this.Do=new od(a);this.Ko=new pd(a);this.Io=new qd(a);this.Fo=new rd(a);this.Co=new Hd(a);b=new Id(a);T(b,this.Eo,36,V);T(b,this.Go,36,V);T(b,this.Bo,36,V);T(b,this.Jo,36,V);T(b,this.Ho,36,V);T(b,this.Do,36,V);T(b,this.Ko,36,V);T(b,this.Io,36,V);T(b,this.Fo,36,V);T(b,this.Co,36,V);b.q(e.id,a.b);b.s();d.style.display="none";this.wb=d;this.va=null;this.Cf=0;d.style.transitionProperty="opacity,top,height";d.style.transitionDuration="1s";d.style.transitionTimingFunction="cubic-bezier(0,0,0,1)";d.style.transitionDelay="0s";this.Xk=this.Da=null}ad(Fd,Tc);l=Fd.prototype;l.s=function(){Fd.u.s.apply(this,arguments);var a=lc(this.f,this.a.d.a),b=a.h-this.rb/2+18,a=a.g-50,c=Jd(this.f),d=this.f.mc();b+this.rb>c-5&&(b=c-5-this.rb);5>b&&(b=5);a+this.Eb>d-5&&(a=d-5-this.Eb);5>a&&(a=5);this.Cf=a;this.wb.style.left=b+"px";this.wb.style.top=a+"px"};l.na=function(){};l.ha=function(){if("none"===this.wb.style.display){if(null===this.Xk){var a=this;this.Xk=setTimeout(function(){null!==a.va&&(clearTimeout(a.va),a.va=null);a.wb.style.display="block";a.wb.style.opacity=0;a.wb.style.top=a.Cf+50+"px";a.wb.style.height="0px";a.va=setTimeout(function(){a.wb.style.opacity=1;a.wb.style.top=a.Cf+"px";a.wb.style.height=a.Eb+"px";a.va=null;a.Xk=null},20)},20)}}else Gd(this)};l.oa=function(){return(window.i?window.i.v.button.hint.Cr:"Select Edit mode")+" (F1-F10)"};l.Qa=function(){this.f.Wg=this};l.jc=function(){Uc(this)};function Gd(a){"none"!==a.wb.style.display&&(null!==a.va&&(clearTimeout(a.va),a.va=null),a.wb.style.opacity=0,a.wb.style.top=a.Cf+50+"px",a.wb.style.height="0px",a.va=setTimeout(function(){a.wb.style.display="none";a.va=null},500))}function Hd(a){qd.u.constructor.call(this,a)}ad(Hd,Tc);Hd.prototype.na=function(a,b,c,d,e,f){var g=f/6,h=f/3;b=f/6;c=b+h;d=f/6;e=d+h;var k=b+g,m=k+h,n=d+g,p=n+h,r=k+g,q=r+h,g=n+g,h=g+h;a.lineWidth=f/18;a.strokeStyle="rgb(0, 0, 200)";a.beginPath();a.moveTo(c,n);a.lineTo(c,d);a.lineTo(b,d);a.lineTo(b,e);a.lineTo(k,e);a.stroke();a.strokeStyle="rgb(0, 100, 0)";a.beginPath();a.moveTo(m,g);a.lineTo(m,n);a.lineTo(k,n);a.lineTo(k,p);a.lineTo(r,p);a.stroke();a.strokeStyle="rgb(200, 0, 0)";a.beginPath();a.moveTo(q,h);a.lineTo(q,g);a.lineTo(r,g);a.lineTo(r,h);a.closePath();a.stroke()};Hd.prototype.ha=function(){Oa(this.b.o,10)};Hd.prototype.oa=function(){return(window.i?window.i.v.button.hint.Er:"Color marks")+" (F10)"};Hd.prototype.Qa=function(){this.f.w.Wi.push(this)};function yd(a,b){qd.u.constructor.call(this,a);this.La=null;this.gc=b;var c=a.$,d=window.i?window.i.v.$f.js:"Main navigation",e=window.i?window.i.v.$f.As:"Tree navigation",f=window.i?window.i.v.$f.Wr:"General toolbar",g=window.i?window.i.v.$f.autoplay:"Autoplay toolbar",h=window.i?window.i.v.$f.ws:"Timeline panel",k=window.i?window.i.v.$f.ks:"Navigation map",m=window.i?window.i.v.$f.bs:"Kifu mode";this.rb=160;this.Eb=154;window.Q&&(window.Q.lf('16px "Times New Roman", Times, serif'),this.rb=33+Math.max(window.Q.ra(d),window.Q.ra(e),window.Q.ra(f),window.Q.ra(g),window.Q.ra(h),window.Q.ra(k),window.Q.ra(m))+7);var n=document.createElement("div");n.id=c.id+"ToolbarCustomizeWrapper";n.style.position="absolute";n.style.top="100px";n.style.left="100px";n.style.width=this.rb+"px";n.style.height=this.Eb+"px";n.style.background="rgb(255, 255, 255)";n.style.display="block";n.style.border="1px solid rgb(166, 166, 166)";n.style.boxShadow="0px 1px 15px rgba(0,0,0,0.8)";n.style.overflowY="hidden";c.appendChild(n);n.style.transitionProperty="height";n.style.transitionDuration="0.2s";n.style.transitionDelay="0s";n.style.display="none";this.uc=n;this.Ke=this.va=null;c=document.createElement("ul");c.style.padding="5px 0";c.style.margin="2px 0 0";c.style.listStyle="none";c.style.fontSize="16px";c.style.i="padding-box";c.style.lineHeight="20px";this.jq=Kd(this,c,d,function(){return a.lk()},y.Ae);this.qq=Kd(this,c,e,function(){return a.ok()},y.Ce);this.eq=Kd(this,c,f,function(){return a.jk()},y.ye);this.cq=Kd(this,c,g,function(){return a.ik()},y.xe);this.pq=Kd(this,c,h,function(){return a.nk()},y.Be);this.kq=Kd(this,c,k,function(){return a.mk()},y.rf);this.hq=Kd(this,c,m,function(){return a.kk()},y.ze);n.appendChild(c)}ad(yd,Tc);l=yd.prototype;l.q=function(a,b){yd.u.q.apply(this,arguments);var c=this.a.d.a,d=document.createElement("canvas");d.setAttribute("id",a+"_transform");d.style.position="absolute";d.style.top="0px";d.style.left="0px";d.style.padding="0";d.style.margin="0";d.setAttribute("oncontextmenu","return false;");d.draggable="false";d.ondragstart=function(a){a.preventDefault();return!1};c.appendChild(d);this.La=d};l.s=function(){yd.u.s.apply(this,arguments);var a=this.a.d.a.clientWidth,b=this.a.d.a.clientHeight;if(this.La){var c=10*a/36|0,d=10*b/36|0;this.La.style.top=d+"px";this.La.style.left=c+"px";this.La.style.width=a-2*c+"px";this.La.style.height=b-2*d+"px";this.La.width=I.B(a-2*c);this.La.height=I.B(b-2*d);this.na(null,null,0,0,I.B(a),I.B(b))}c=lc(this.f,this.a.d.a);a=c.h+a-this.rb;b=c.g+b+5;c=Jd(this.f);d=this.f.mc();a+this.rb>c-5&&(a=c-5-this.rb);5>a&&(a=5);b+this.Eb>d-5&&(b=d-5-this.Eb);5>b&&(b=5);this.Cf=b;this.uc.style.left=a+"px";this.uc.style.top=b+"px"};l.na=function(a,b,c,d,e,f){this.La&&(a=this.La.getContext("2d"),a.fillStyle=R(this.Ne),a.strokeStyle=R(this.Ne),a.lineWidth=f/18,a.moveTo(2/36*f,5/36*f),a.lineTo(8/36*f,11/36*f),a.lineTo(14/36*f,5/36*f),a.stroke())};l.ha=function(){if("none"===this.uc.style.display){if(null===this.Ke){var a=this;this.Ke=setTimeout(function(){null!==a.va&&(clearTimeout(a.va),a.va=null);a.uc.style.display="block";a.uc.style.height="0px";a.va=setTimeout(function(){a.uc.style.height=a.Eb+"px";a.va=null;a.Ke=null;a.La.style.transition="transform 0.2s ease";a.La.style.transform="rotate(180deg)";Yc(a,!0)},20)},20)}}else Nd(this)};l.oa=function(){return""};l.Qa=function(){this.f.w.gb=this};function Nd(a,b){"none"!==a.uc.style.display&&(!0===b?(a.uc.style.height="0px",a.uc.style.display="none",a.La.style.transition="transform 0.2s ease",a.La.style.transform="rotate(0deg)",Yc(a,!1)):(null!==a.va&&(clearTimeout(a.va),a.va=null),a.uc.style.height="0px",a.va=setTimeout(function(){a.uc.style.display="none";a.va=null;a.La.style.transition="transform 0.2s ease";a.La.style.transform="rotate(0deg)";Yc(a,!1)},200)))}function Kd(a,b,c,d,e){var f=document.createElement("li");f.style.fontFamily='"Times New Roman", Times, serif';f.style.width=a.rb-10+"px";f.style.height="20px";f.style.color="#444444";f.style.margin="0px 5px 0px 5px";f.style.cursor="pointer";var g=document.createElement("div");g.style.paddingLeft="3px";g.style.width="20px";g.style.height="20px";g.style["float"]="left";Od(g,e?"\u2714":"");f.appendChild(g);e=document.createElement("div");e.style.paddingLeft="5px";e.style.height="20px";e.style.width=a.rb-10-20-10+"px";e.style["float"]="left";e.style.overflow="hidden";Od(e,c);f.appendChild(e);f.onmouseover=function(){f.style.background="#d8dadc";f.style.color="#373737"};f.onmouseout=function(){f.style.background="transparent";f.style.color="#444444"};f.onclick=function(){d&&d();Nd(a,!0)};b.appendChild(f);return g}l.Yj=function(a){this.gc&&this.gc.Yj(a);Pd(this.jq,a)};l.bk=function(a){this.gc&&this.gc.bk(a);Pd(this.qq,a)};l.Vj=function(a){this.gc&&this.gc.Vj(a);Pd(this.eq,a)};l.Oj=function(a){this.gc&&this.gc.Oj(a);Pd(this.cq,a)};l.Qj=function(a){this.gc&&this.gc.Qj(a);Pd(this.pq,a)};l.Pj=function(a){this.gc&&this.gc.Pj(a);Pd(this.hq,a)};function Pd(a,b){a&&(!0===b?Od(a,"\u2714"):Od(a,""))}function Qd(a){Qd.u.constructor.call(this,a);var b=a.$;a=a.b;var c=document.createElement("div");c.style.position="absolute";c.style.top="40px";c.style.width="200px";c.style.backgroundColor="white";c.style.borderWidth="1px";c.style.borderColor="#b3b3b3";c.style.borderStyle="solid";c.style.padding="0px";c.style.boxShadow="0px 0px 2px 0px rgba(0,0,0,0.3)";c.style.opacity="1";c.style.zIndex="10";c.style.overflowX="hidden";c.style.overflowY="hidden";c.style.maxHeight="calc(100vh - 90px)";c.style.transitionProperty="height";c.style.transitionDuration="0.2s";c.style.transitionDelay="0s";this.$=b;this.ec=c;this.Eb=c.clientHeight;this.rb=c.clientWidth;this.Ke=this.va=null;this.b=a;b.appendChild(c);Rd(this);c.style.display="none"}ad(Qd,Tc);l=Qd.prototype;l.na=function(a,b,c,d,e,f,g,h){var k=I.B(9),m=I.B(6),n=I.B(3);e=I.B(2);var p=c|0;c=d|0;d=p+n;b=p+b-n;n=c+k;p=c+m+k;k=c+2*m+k;a.fillStyle=!0===Sd(this.Og,h)?"rgb(167, 167, 167)":"rgb(217, 217, 217)";a.fillRect(0,0,f,g);a.lineWidth=e;a.strokeStyle="rgb(100, 100, 100)";a.beginPath();a.moveTo(d,n);a.lineTo(b,n);a.stroke();a.beginPath();a.moveTo(d,p);a.lineTo(b,p);a.stroke();a.beginPath();a.moveTo(d,k);a.lineTo(b,k);a.stroke()};function Td(a,b,c,d){var e=document.createElement("div");e.style.padding="0px";e.style.Q="0px";b.appendChild(e);var f=document.createElement("div");f.style.display="flex";f.style.Kp="center";f.style.padding="0px";f.style.position="relative";f.style.cursor="pointer";f.style.transition="background-color 0.25s ease";f.style.backgroundColor="#fff";f.style.color="#424242";f.style.border="1px solid transparent";f.style.outline="none";e.appendChild(f);b=document.createElement("div");b.style.padding="10px 20px";b.style.position="relative";b.style.cursor="pointer";b.style.borderBottom="1px solid #e6e7e8";b.style.transition="background-color 0.25s ease";b.style.outline="none";b.style.width="100%";f.appendChild(b);e=document.createElement("span");e.style.color="#4d4d4d";e.style.fontFamily='"Segoe UI Light","Segoe UI Semilight","Segoe UI",Helvetica,Tahoma,Geneva,Verdana,sans-serif';e.style.fontWeight="lighter";e.style.fontSize="15px";e.style.dr="none";e.style.verticalAlign="middle";e.style.cursor="pointer";Od(e,c);b.appendChild(e);f.onmouseover=function(){f.style.backgroundColor="#e6e6e6";f.style.color="#424242"};f.onmouseout=function(){f.style.background="transparent";f.style.color="#424242";f.style.border="1px solid transparent"};f.onmousedown=function(){f.style.backgroundColor="#969696";f.style.border="1px solid #737373";f.style.color="#424242"};f.onmouseup=function(){f.style.backgroundColor="#e6e6e6";f.style.color="#424242";f.style.border="1px solid transparent"};f.onclick=function(){d&&d();Ud(a,!0)}}l.ha=function(){Vd(this)};l.oa=function(){return window.i?window.i.v.xc.hint:"Menu"};function Vd(a){"none"===a.ec.style.display?null===a.Ke&&(a.Ke=setTimeout(function(){null!==a.va&&(clearTimeout(a.va),a.va=null);a.ec.style.display="block";a.ec.style.height="0px";a.va=setTimeout(function(){a.ec.style.height=a.Eb+"px";a.va=null;a.Ke=null;Yc(a,!0)},20)},20)):Ud(a)}function Ud(a,b){"none"!==a.ec.style.display&&(!0===b?(a.ec.style.height="0px",a.ec.style.display="none",Yc(a,!1)):(null!==a.va&&(clearTimeout(a.va),a.va=null),a.ec.style.height="0px",a.va=setTimeout(function(){a.ec.style.display="none";a.va=null;Yc(a,!1)},200)))}l.s=function(){Qd.u.s.apply(this,arguments);var a=lc(this.f,this.a.d.a),b=a.h,a=a.g+36+5,c=Jd(this.f),d=this.f.mc();b+this.rb>c-5&&(b=c-5-this.rb);5>b&&(b=5);a+this.Eb>d-5&&(a=d-5-this.Eb);5>a&&(a=5);this.Cf=a;this.ec.style.left=b+"px";this.ec.style.top=a+"px"};l.Uf=function(){};l.Xe=function(){};function Rd(a){var b=window.i?window.i.v.xc.wr:"Create New",c=window.i?window.i.v.xc.es:"Load from disk",d=window.i?window.i.v.xc.fs:"Load from clipboard",e=window.i?window.i.v.xc.Br:"Download as SGF",f=window.i?window.i.v.xc.xr:"Create snapshot",g=window.i?window.i.v.xc.Pr:"Export to GIF",h=window.i?window.i.v.xc.ur:"Convert to ASCII diagram",k=window.i?window.i.v.xc.qs:"Score estimator",m=window.i?window.i.v.xc.xs:"Toggle coordinates",n=window.i?window.i.v.xc.Oa:"Game info",p=window.i?window.i.v.xc.zr:"Crop the board",r=a.ec,q=a.b,u=a.$;r.style.display="block";r.style.opacity=null;r.style.height=null;Wd(r);Td(a,r,b,function(){gc(u.id,zc,{S:q,U:a.f})});Td(a,r,c,function(){Mc(q)});Td(a,r,d,function(){gc(u.id,Lc,{S:q,U:a.f})});Td(a,r,n,function(){gc(u.id,ud,{S:q,U:a.f})});Td(a,r,e,function(){if(FileReader&&Blob){var a=q.mg(),b=q.bf();""===b&&(b="download");Nc(new Blob([a],{type:"text/plain;charset=utf-8"}),b+".sgf","application/x-go-sgf")}});Td(a,r,f,function(){Ec(q)});Td(a,r,g,function(){Hc(q)});Td(a,r,h,function(){gc(u.id,Ac,{S:q,U:a.f})});Td(a,r,k,function(){gc(u.id,Cc,{S:q,U:a.f})});Td(a,r,m,function(){q.Mh()});Td(a,r,p,function(){gc(u.id,Pc,{S:q,U:a.f})});a.Eb=r.clientHeight;r.style.display="none"}function Xd(a){Xd.u.constructor.call(this,a)}ad(Xd,Tc);Xd.prototype.na=function(a,b,c,d){var e=Math.ceil(c+.5*b-b/10+.5),f=Math.ceil(d+.5*b-b/10+.5),g=Math.ceil(.35*b+.5);a.fillStyle=R(new A(255,255,255));a.strokeStyle=R(new A(0,0,0));a.beginPath();a.arc(e,f,g,0,2*Math.PI,!1);a.fill();a.stroke();var h="\u767d",k=.4*b*1.4;a.font=k+"px Times New Roman, Sans serif";a.fillStyle="rgb(0, 0, 0)";e+=-a.measureText(h).width/2;a.fillText(h,e,f+k/3);a.fillStyle=R(new A(0,0,0));e=Math.ceil(c+.5*b+b/10+.5);f=Math.ceil(d+.5*b+b/10+.5);a.beginPath();a.arc(e,f,g,0,2*Math.PI,!1);a.fill();h="\u9ed2";a.fillStyle="rgb(255, 255, 255)";f+=k/3;e+=-a.measureText(h).width/2;a.fillText(h,e,f)};Xd.prototype.ha=function(){gc(this.a.d.a.id,Ic,{S:this.b,U:this.f})};Xd.prototype.oa=function(){return window.i?window.i.v.button.hint.rs:"Show kifu"};function Yd(a){Xd.u.constructor.call(this,a)}ad(Yd,Tc);Yd.prototype.na=function(a,b,c,d){d=c=0;b=I.B(36);var e=c+I.B(10)|.5,f=c+I.B(25)|.5,g=d+I.B(10)|.5,h=d+I.B(25)|.5;a.lineWidth=I.B(2);a.strokeStyle="rgb(0, 0, 0)";a.beginPath();a.moveTo(c+1,g);a.lineTo(b/2+1,g);a.moveTo(c+1,h);a.lineTo(b+c-1,h);a.moveTo(e,d+1);a.lineTo(e,b+d-1);a.moveTo(f,b/2);a.lineTo(f,b+d-1);a.stroke();a.fillStyle="rgb(255, 255, 255)";a.beginPath();a.arc(e,g,I.B(5.5),0,2*Math.PI,!1);a.stroke();a.fill();a.beginPath();a.arc(f,h,I.B(5.5),0,2*Math.PI,!1);a.stroke();a.fill();a.fillStyle="rgb(0, 0, 0)";a.beginPath();a.arc(e,h,I.B(5.5),0,2*Math.PI,!1);a.stroke();a.fill();b=I.B(22);a.font=b+"px Times New Roman, Sans serif";a.fillText("?",f-a.measureText("?").width/2,g+b/3)};Yd.prototype.ha=function(){if(!0===this.b.Kc){var a=this.b;a.I=a.no;a.Kc=!1}else a=this.b,a.no=a.I,a.I=0,Zd(a,{lg:!0}),Sc(a,2),a.uh(),a.Kc=!0;a.f&&$d(a.f)};Yd.prototype.oa=function(){return window.i?window.i.v.button.hint.ys:"Toggle kifu mode"};Yd.prototype.Qa=function(){this.f.w.Aj=this};function ae(a,b,c){ae.u.constructor.call(this,null);this.ti=new A(234,234,234,255);this.Ne=new A(172,172,172,255);this.oi=new A(227,240,252,255);this.Hf=new A(126,180,234,255);this.Og=new A(207,230,252,255);this.Pg=new A(86,157,229,255);this.mi=new A(239,239,239,255);this.ni=new A(217,217,217,255);this.Uc=a?a:"";this.sq=c?c:"";this.bo=b?b:null}ad(ae,Tc);l=ae.prototype;l.na=function(a,b,c,d,e,f,g){a.lineWidth=1;a.moveTo(0,0);a.lineTo(0,g);a.lineTo(f,g);a.lineTo(f,0);a.lineTo(0,0);a.stroke();e=this.Uc;a.fillStyle=R(new A(0,0,0,255));a.font="16px 'Segoe UI', Helvetica, Tahoma, Geneva, Verdana, sans-serif";a.fillText(e,c+(b-a.measureText(e).width)/2,d+b/2+16/3)};l.ha=function(){if(this.bo)return this.bo()};l.oa=function(){return this.sq};l.Uf=function(){};l.Xe=function(){};l.bh=function(){};function be(a){this.f=a;this.b=null;this.a={d:null,Lh:{d:null}};var b=this;this.Yo=function(){b.b.Ih(b.a.Lh.d.a.value)}}be.prototype.q=function(a,b){this.b=b;this.a.d=E(a);var c=this.a.d.a;c.style.background=R(new A(217,217,217,255));c.style.boxSizing="content-box";var d=a+"_TextArea",e=document.createElement("textarea");e.setAttribute("id",d);e.setAttribute("style","position:absolute;padding:0;margin:0;resize:none;outline: none;-moz-appearance: none;padding:2px;");c.appendChild(e);e.onchange=this.Yo;e.onblur=this.Yo;e.style.outline="none";e.style.margin="0px";e.style.border="1px solid rgb(172,172,172)";e.style.overflowY="auto";c=this.a.d;this.a.Lh.d=E(d);d=this.a.Lh.d;d.j.n(6,0,12,6,!0,!0,!0,!0,-1,-1);d.p=L|M|N|O;c.m(d);this.f&&this.f.Ak.push(this);this.s()};be.prototype.Ld=function(a){this.a.Lh.d.a.value=a};be.prototype.s=function(){this.a.d.zb(this.a.d.a.clientWidth,this.a.d.a.clientHeight)};function ce(a){this.f=a;this.so=S;this.b=null;this.a={d:null,Dc:null,Fc:null,Image:null};this.Di=this.Ci="";this.Mk=0;this.Hk=!1}l=ce.prototype;l.q=function(a,b,c){this.so=c;this.b=b;this.a.d=E(a);b=this.a.d.a;b.style.backgroundColor=R(new A(217,217,217,255));this.a.Dc=document.createElement("div");this.a.Fc=document.createElement("div");this.a.Image=document.createElement("canvas");var d=this.a.Image,e=this.a.Dc,f=this.a.Fc;b.appendChild(d);b.appendChild(e);b.appendChild(f);e.style.paddingLeft="25px";f.style.paddingLeft="25px";e.style.fontSize="14pt";f.style.fontSize="10pt";d.setAttribute("id",a+"_Image");d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.style.left="0px";d.style.top="0px";d.style.width="25px";d.style.height="25px";d.width=I.B(25);d.height=I.B(25);a=d.getContext("2d");e=I.B(25);a.clearRect(0,0,e,e);b=Math.ceil(.5*e+.5);d=Math.ceil(.5*e+.5);e=Math.ceil(.25*e+.5);Da===c?(a.fillStyle=R(new A(255,255,255)),a.strokeStyle=R(new A(0,0,0))):J===c&&(a.fillStyle=R(new A(0,0,0)),a.strokeStyle=R(new A(0,0,0)));a.beginPath();a.arc(b,d,e,0,2*Math.PI,!1);a.fill();a.stroke();this.f&&(J===c?this.f.nd=this:Da===c&&(this.f.td=this));this.Ia()};l.s=function(){this.Ia();var a=this.Wp,b=this.a.d.a.clientWidth-25,c=0,c=b<a?0:(b-a)/2;this.a.Image.style.left=c+"px";c+=25;this.a.Dc.style.paddingLeft=c+"px";this.a.Fc.style.paddingLeft=c+"px";this.a.Dc.style.overflow="hidden";this.a.Dc.style.textOverflow="ellipsis";this.a.Dc.style["-o-text-overflow"]="ellipsis";this.a.Dc.style.height="25px";this.a.Dc.style.lineHeight="25px";this.a.Dc.style.fontFamily='"Times New Roman", Times, serif';this.a.Fc.style.overflow="hidden";this.a.Fc.style.textOverflow="ellipsis";this.a.Fc.style["-o-text-overflow"]="ellipsis";this.a.Fc.style.height="25px";this.a.Fc.style.lineHeight="25px";this.a.Fc.style.fontFamily='"Times New Roman", Times, serif'};l.rg=function(a){this.Hk=!1;this.Mk=a;this.Ia()};l.Md=function(a){this.Hk=!0;this.Mk=a;this.Ia()};l.Ia=function(){var a=this.a.Fc,b=(""===this.Ci?J===this.so?"Black ":"White ":this.Ci)+(""===this.Di?"":"["+this.Di+"]"),c=(!0===this.Hk?"Scores ":"Captured ")+this.Mk;Od(this.a.Dc,b);Od(a,c);a=document.createElement("canvas").getContext("2d");a.font="14pt Times New Roman";this.Wp=a.measureText(b).width};function de(a){this.f=a;this.b=null;this.a={d:null,Kb:null,pc:null,ff:null,ef:null};this.$n=this.ao=0}de.prototype.q=function(a,b){this.b=b;this.a.d=E(a);var c=this.a.d.a;c.style.backgroundColor=R(new A(217,217,217,255));this.a.Kb=document.createElement("div");this.a.ff=document.createElement("canvas");this.a.pc=document.createElement("div");this.a.ef=document.createElement("canvas");c.appendChild(this.a.Kb);c.appendChild(this.a.ff);c.appendChild(this.a.pc);c.appendChild(this.a.ef);this.a.ff.style.position="absolute";this.a.ff.style.left="0px";this.a.ff.style.top="0px";this.a.Kb.style.position="absolute";this.a.Kb.style.left="25px";this.a.Kb.style.top="0px";this.a.Kb.style.overflow="hidden";this.a.Kb.style.textOverflow="ellipsis";this.a.Kb.style.height="25px";this.a.Kb.style.fontFamily='"Times New Roman", Times, serif';this.a.Kb.style.fontSize="16px";this.a.Kb.style.lineHeight="25px";this.a.ef.style.position="absolute";this.a.ef.style.left="61px";this.a.ef.style.top="0px";this.a.pc.style.position="absolute";this.a.pc.style.left="86px";this.a.Kb.style.top="0px";this.a.pc.style.overflow="hidden";this.a.pc.style.textOverflow="ellipsis";this.a.pc.style.height="25px";this.a.pc.style.fontFamily='"Times New Roman", Times, serif';this.a.pc.style.fontSize="16px";this.a.pc.style.lineHeight="25px";ee(this.a.ff,!1);ee(this.a.ef,!0);this.Ia()};function ee(a,b){a.setAttribute("oncontextmenu","return false;");a.style.padding="0px";a.style.margin="0px";a.style.width="25px";a.style.height="25px";a.width=25;a.height=25;var c=a.getContext("2d");c.clearRect(0,0,25,25);var d=Math.ceil(13),e=Math.ceil(13),f=Math.ceil(6.75);c.fillStyle=b?R(new A(0,0,0)):R(new A(255,255,255));c.strokeStyle=R(new A(0,0,0));c.beginPath();c.arc(d,e,f,0,2*Math.PI,!1);c.fill();c.stroke()}de.prototype.s=function(){this.Ia()};de.prototype.Md=function(a,b){this.ao=a;this.$n=b;this.Ia()};de.prototype.Ia=function(){Od(this.a.Kb,""+this.ao);Od(this.a.pc,""+this.$n)};function fe(a){this.f=a;this.b=null;this.a={d:null,Cb:null};this.ol="White vs. Black"}fe.prototype.q=function(a,b){this.b=b;this.a.d=E(a);var c=this.a.d.a;c.style.backgroundColor=R(new A(217,217,217,255));this.a.Cb=document.createElement("div");c.appendChild(this.a.Cb);this.a.Cb.style.position="absolute";this.a.Cb.style.left="0px";this.a.Cb.style.top="0px";this.a.Cb.style.overflow="hidden";this.a.Cb.style.textOverflow="ellipsis";this.a.Cb.style.fontFamily='"Times New Roman", Times, serif';this.a.Cb.style.fontSize="16px";this.a.Cb.style.height="25px";this.a.Cb.style.lineHeight="25px";this.a.Cb.style.width="100%";this.a.Cb.style.textAlign="center";this.Ia()};fe.prototype.s=function(){this.Ia()};fe.prototype.Ia=function(){Od(this.a.Cb,""+this.ol)};function ge(){this.yc=this.Ec=this.Gc=this.Cc=0;this.Sh=this.Uh=this.Vh=this.Th=!1;this.ag=this.be=-1}ge.prototype.n=function(a,b,c,d,e,f,g,h,k,m){this.Cc=a;this.Gc=b;this.Ec=c;this.yc=d;this.Th=e;this.Vh=f;this.Uh=g;this.Sh=h;this.be=k;this.ag=m};var M=1,L=2,O=4,N=8;function he(){this.j=new ge;this.p=M|L;this.a=this.Eh=this.Ah=null;this.xd=new ge;this.Ra=[];this.ed=this.height=this.width=0;this.Bd=null;this.Jb=400}l=he.prototype;l.fb=function(a,b,c){this.ed=a;(this.Bd=b)&&b.Cl&&b.Cl(this);c&&void 0!==c.Jb&&(this.Jb=c.Jb)};l.m=function(a){a.Eh=this;this.Ra[this.Ra.length]=a};l.zb=function(a,b){this.width=I.B(a);this.height=I.B(b);if(null==this.Eh)this.xd.Cc=0,this.xd.Gc=0,this.xd.Ec=a,this.xd.yc=b,null!==this.a&&ie(this,a,b);else{var c=0,d=0,e=0,f=0,g=this.p&5,h=this.p&10;M==g?(this.j.Th?c=this.j.Cc:c=this.j.Cc*a/1E3,-1!=this.j.be?e=c+this.j.be:e=this.j.Uh?a-this.j.Ec:this.j.Ec*a/1E3):O==g?(e=this.j.Uh?a-this.j.Ec:this.j.Ec*a/1E3,-1!=this.j.be?c=e-this.j.be:this.j.Th?c=this.j.Cc:c=this.j.Cc*a/1E3):(M|O)==g?(this.j.Th?c=this.j.Cc:c=this.j.Cc*a/1E3,e=this.j.Uh?a-this.j.Ec:this.j.Ec*a/1E3):(c=this.j.Cc,e=this.j.Ec);L==h?(this.j.Vh?d=this.j.Gc:d=this.j.Gc*b/1E3,-1!=this.j.ag?f=d+this.j.ag:f=this.j.Sh?b-this.j.yc:this.j.yc*b/1E3):N==h?(f=this.j.Sh?b-this.j.yc:this.j.yc*b/1E3,-1!=this.j.ag?d=f-this.j.ag:this.j.Vh?d=this.j.Gc:d=this.j.Gc*b/1E3):(L|N)==h?(this.j.Vh?d=this.j.Gc:d=this.j.Gc*b/1E3,f=this.j.Sh?b-this.j.yc:this.j.yc*b/1E3):(d=this.j.Gc,f=this.j.yc);e<c&&(e=c);f<d&&(f=d);-2===this.j.be?e=c+1*(f-d):-3===this.j.be&&(c=1*(f-d));this.xd.Cc=c;this.xd.Gc=d;this.xd.Ec=e;this.xd.yc=f;var g=c+.5|0,h=e+.5|0,k=d+.5|0,m=f+.5|0;this.a.style.left=g+"px";this.a.style.top=k+"px";this.a.style.width=h-g+"px";this.a.style.height=m-k+"px";this.a.width=I.B(h-g);this.a.height=I.B(m-k);ie(this,e-c,f-d)}};function ie(a,b,c){var d=a.Ra.length;if(1===a.ed&&2===d){var e=a.Bd?ya(a.Bd):1,f=a.Ra[0],g=a.Ra[1],h,k=c;h=b-a.Jb;var m=k*e,e=h/e;m<=h?(e=k,h=k=0):(m=h,h=0,k=(k-e)/2);f.j.n(h,k,1E3,1E3,!0,!0,!1,!1,m,e);f.p=M|L;g.j.n(m,0,1E3,1E3,!0,!1,!1,!1,-1,-1);g.p=O|N|L}else 2===a.ed&&1===d?a.Bd?(e=ya(a.Bd),f=a.Ra[0],m=c*e,e=b/e,m<=b?(e=c,k=0,h=(b-m)/2):(m=b,h=0,k=(c-e)/2),f.j.n(h,k,1E3,1E3,!0,!0,!1,!1,m,e),f.p=M|L):(f=a.Ra[0],h=Math.min(b,c),f.j.n((b-h)/2,(c-h)/2,1E3,1E3,!0,!0,!0,!1,h,h),f.p=M|N|L):3===a.ed&&2===d&&(e=a.Bd?ya(a.Bd):1,f=a.Ra[0],g=a.Ra[1],k=a.Jb,h=b,k=c-k,m=k*e,e=h/e,m<=h?(e=k,k=0,h=(h-m)/2):(m=h,k=h=0),f.j.n(h,k,1E3,1E3,!0,!0,!1,!1,m,e),f.p=M|L,g.j.n(0,e,1E3,1E3,!1,!0,!1,!1,-1,-1),g.p=M|O|N);for(h=0;h<d;h++)a.Ra[h].zb(b,c)}l.Xa=function(){this.Ra=[];this.ed=0;this.Bd=null;this.Jb=400};l.n=function(a,b,c,d,e,f,g,h,k,m){this.j.n(a,b,c,d,e,f,g,h,k,m)};function E(a){var b=new he;b.Ah=a;b.a=document.getElementById(a);return b}function je(a){var b=new he;b.a=a;return b}function ke(){this.a=this.Eh=null;this.K=0;this.Ra=[]}ke.prototype.Set=function(a){this.K=a};ke.prototype.m=function(a){a.Eh=this;this.Ra[this.Ra.length]=a};ke.prototype.zb=function(a,b){var c=b-this.K,d=a;d!==c&&(c=d=Math.min(d,c));var e=(b-this.K-c)/2;this.a.style.left=parseInt((a-d)/2+.5)+"px";this.a.style.top=parseInt(e+.5)+"px";this.a.style.width=parseInt(d+.5)+"px";this.a.style.height=parseInt(c+this.K+.5)+"px";this.a.width=I.B(d+.5);this.a.height=I.B(c+this.K+.5);for(var e=this.Ra.length,f=0;f<e;f++)this.Ra[f].zb(d,c+this.K)};function le(a){if(this.b=a)a.f=this;this.lb=this.li=this.Le=this.$=null;this.X=[];this.w={Ti:[],Ui:[],yd:[],Cd:[],tj:[],sj:[],Id:[],Jd:[],Dm:null,Zi:[],aj:[],Yi:[],dj:[],bj:[],Xi:[],ej:[],cj:[],$i:[],Wi:[],gb:null,yh:null,Aj:null,Yl:null};this.jl={zj:null};this.Pe=this.wc=this.td=this.nd=this.Wg=this.Rg=this.Qg=this.il=this.qi=this.sa=this.ii=null;this.Ak=[];var b=this;this.Fk=!0;this.gd=0;this.ci=!1;this.Tk=-1;this.Ud=400;this.He=200;this.Pc=-1;this.xo=this.zo=this.yo=this.bl=this.al=0;this.Rn=[];this.fi=null;this.Oq=function(){b.Wg&&Gd(b.Wg);b.w.gb&&Nd(b.w.gb,!1);b.w.yh&&Ud(b.w.yh,!1);b.w.Yl&&Ud(b.w.Yl,!1)};this.Xo=function(){null!==b.fi&&(me(b.fi),b.fi=null);b.fi=ne(b.Xo);var a;if(a=b.qi)a=b.qi,a=a.di||a.ei?!0:!1;if(a){a=b.qi;if(a.di&&a.b){var d=a.c.O,e=a.c.K;if(!(0>=d||0>=e)){var f=a.b.l.ub,g=a.Pa+a.la.h+f.h*a.k,f=a.Pa+a.la.g+f.g*a.k,h=a.a.ee.d.a.getContext("2d");h.clearRect(0,0,d,e);g>=-a.k&&g<=d+a.k&&f>=-a.k&&f<=e+a.k&&h.drawImage(a.c.ee,g,f);oe(a);a.di=!1}}if(a.ei&&(d=a.c.O,e=a.c.K,0!==d&&0!==e)){if(!(a.dc.O===d&&a.dc.K===e&&1>Math.abs(a.la.h-a.dc.h)&&1>Math.abs(a.la.g-a.dc.g))){a.dc.O=d;a.dc.K=e;a.dc.h=a.la.h;a.dc.g=a.la.g;var g=a.a.pa.d.a.getContext("2d"),f=a.a.ek.d.a.getContext("2d"),h=a.a.Jj.d.a.getContext("2d"),k=a.a.Selection.d.a.getContext("2d");h.clearRect(0,0,d,e);f.clearRect(0,0,d,e);g.clearRect(0,0,d,e);k.clearRect(0,0,d,e);for(var k=a.Pa+a.la.h,m=a.Pa+a.la.g,n=a.ea.ea.length,p=a.Ji(),r=0;r<n;r++){var q=m+a.k*r;if(q>=-a.k&&q<=e+a.k)for(var u=a.ea.ea[r].length,v=0;v<u;v++){var w=k+a.k*v;if(w>=-a.k&&w<=d+a.k){var B=a.ea.P(v,r);if(!1===B.ig()){var C=B.V,B=B.gf();g.clearRect(w,q,a.k,a.k);switch(C){case pe:B.Pd?g.drawImage(a.c.pn,w,q):g.drawImage(a.c.vn,w,q);break;case qe:B.Pd?1===B.Vm?g.drawImage(a.c.qn,w,q):g.drawImage(a.c.rn,w,q):g.drawImage(a.c.sn,w,q);break;case re:B.Pd?g.drawImage(a.c.tn,w,q):g.drawImage(a.c.un,w,q)}}else{var C=B.gf(),x=B.fc,t=x.V,H=B.xb,U="",Z=0;switch(y.cf()){case se:U="";break;case te:U=""+B.ub.Dh;2>=U.length?h.font="bold "+I.B(10)+"px sans-serif":(h.font="bold "+I.B(9)+"px sans-serif",Z=-1);break;case ue:U=C?""+B.ub.Dh:"";2>=U.length?h.font="bold "+I.B(10)+"px sans-serif":(h.font="bold "+I.B(9)+"px sans-serif",Z=-1);break;case ve:var F=a.b.sa.qa(),U=F.h,F=F.g,K=Bb(x.Na()),x=K.g,U=Ya(K.h,U),U=U+(F+1-x);h.font=2>=U.length?"bold "+I.B(10)+"px sans-serif":"bold "+I.B(8)+"px sans-serif"}x=h.measureText(U).width;J===t?(C&&!0===p&&(f.clearRect(w+a.c.Bb,q+a.c.Bb,a.k,a.k),f.drawImage(a.c.pb,w+a.Fb+a.c.Bb,q+a.Fb+a.c.Bb)),h.clearRect(w,q,a.k,a.k),h.drawImage(C?a.c.lh:a.c.Kl,w+a.Fb,q+a.Fb),""===H?""!==U&&(h.fillStyle=C?"#CCC":"rgb(192, 192, 192)",h.fillText(U,w+a.Zk-x/2+I.B(Z),q+a.k/2+a.hi)):h.drawImage(C?a.c.jn:a.c.kn,w+a.Fb,q+a.Fb)):Da===t?(C&&!0===p&&(f.clearRect(w+a.c.Bb,q+a.c.Bb,a.k,a.k),f.drawImage(a.c.pb,w+a.Fb+a.c.Bb,q+a.Fb+a.c.Bb)),h.clearRect(w,q,a.k,a.k),h.drawImage(C?a.c.Oh:a.c.Cn,w+a.Fb,q+a.Fb),""===H?""!==U&&(h.fillStyle=C?"#000":"rgb(56, 56, 56)",h.fillText(U,w+a.Zk-x/2+I.B(Z),q+a.k/2+a.hi)):h.drawImage(C?a.c.mn:a.c.nn,w+a.Fb,q+a.Fb)):(h.clearRect(w,q,a.k,a.k),h.drawImage(C?a.c.hn:a.c.ln,w+a.Fb,q+a.Fb));H=vc(B);B=B.ua;g.clearRect(w,q,a.k,a.k);0===v?0!==H&&(1===H?C?g.drawImage(a.c.nm,w,q):g.drawImage(a.c.rm,w,q):C?0==B?g.drawImage(a.c.om,w,q):g.drawImage(a.c.pm,w,q):g.drawImage(a.c.qm,w,q)):0===H?C?g.drawImage(a.c.lm,w,q):g.drawImage(a.c.mm,w,q):1===H?C?g.drawImage(a.c.hm,w,q):g.drawImage(a.c.sm,w,q):C?0===B?g.drawImage(a.c.im,w,q):g.drawImage(a.c.jm,w,q):g.drawImage(a.c.km,w,q);J!==t&&Da!==t||g.clearRect(w+a.hi,q+a.hi,a.uo,a.uo)}}}}}a.ei=!1}a.Ek&&oe(a)}b.Fk&&b.ih(!1)};this.Xo()}function we(a){if(a.$){var b=document.createElement("div");b.style.width="100%";b.style.height="100%";b.style.position="absolute";b.style.left="0px";b.style.top="0px";b.style.backgroundColor="rgb(0, 0, 0)";b.style.opacity=.4;a.$.appendChild(b);a.li=b;if(b=xe[a.$.id][hc])b=b.a.d.a;var c;a:{if((c=a.$)&&b)for(var d=0,e=b.parentNode;null!=e;){if(e==c){c=!0;break a}d--;if(0>d)break;e=e.parentNode}c=!1}c&&(a.$.removeChild(b),a.$.appendChild(b))}}function ye(a){a.li&&(a.$.removeChild(a.li),a.li=null)}function Jd(a){return a.$?parseInt(a.$.clientWidth):0}l=le.prototype;l.mc=function(){return this.$?parseInt(this.$.clientHeight):0};function lc(a,b){for(var c=0,d=0,e=b;e!=a.$&&e;)c+=e.offsetLeft-e.scrollLeft+e.clientLeft,d+=e.offsetTop-e.scrollTop+e.clientTop,e=e.offsetParent;return{h:c,g:d}}l.qh=function(a){this.gd=1;ze(this,a);var b=new aa(this);b.q(a,this.b);b.Sa();this.X.push(b);this.s()};l.rh=function(a){this.gd=2;Ae(this,a);this.Pc=295;a=this.b;var b=this.Le,c=this.$.id;this.al=25;this.bl=36;var d=c+"I";this.N(b.a,d);var e=E(d);e.j.n(0,0,1E3,0,!1,!1,!1,!1,-1,25);e.p=L|M|O;b.m(e);var f=d+"S";this.N(e.a,f);var g=E(f);g.j.n(0,0,1E3,1E3,!1,!1,!1,!1,122,-1);g.p=L|M|N;e.m(g);this.wc=new de(this);this.wc.q(f,a);this.X.push(this.wc);d+="T";this.N(e.a,d);f=E(d);f.j.n(122,0,1E3,1E3,!0,!1,!1,!1,-1,-1);f.p=L|O|N;e.m(f);this.Pe=new fe(this);this.Pe.q(d,a);this.X.push(this.Pe);e=c+"T";this.N(b.a,e);d=E(e);d.j.n(0,0,1E3,0,!1,!1,!1,!0,-1,36);d.p=N|M|O;b.m(d);d=new Id(this);T(d,new $c(this),36,V);T(d,new bd(this),36,V);T(d,new dd(this),36,V);T(d,new ed(this),36,V);T(d,new fd(this),36,V);T(d,new gd(this),36,V);T(d,new Bd(this),36,Be);T(d,new Vc(this),36,Be);d.q(e,a);this.X.push(d);d=c+"B";e=this.N(b.a,d);c=E(d);c.j.n(0,25,1E3,36,!1,!0,!1,!0,-1,-1);c.p=M|O|L|N;b.m(c);b=d+"B";this.N(e,b);f=E(b);c.m(f);d+="N";this.N(e,d);e=E(d);c.m(e);e=new aa(this);e.q(b,this.b);e.Sa();this.X.push(e);c.fb(3,e,{Jb:0});this.s();Ce(a)};l.nj=function(a){De();this.Pc=739;ze(this,a);var b=this.b,c=E(a);this.N(c.a,a+"div");var d=a+"div",e=new ke;e.Ah=d;e.a=document.getElementById(d);e.Set(38);var f=e.a;c.m(e);var d=a+"_Board",g=a+"_ToolbarPanel";a=a+"_Toolbar";this.N(f,d);f=this.N(f,g);f.style.background="rgb(217, 217, 217)";this.N(f,a);f=E(d);f.j.n(0,0,1E3,38,!1,!1,!1,!0,-1,-1);f.p=L|M|O;e.m(f);f=new aa(this);f.q(d,b);f.Sa();d=E(g);d.j.n(0,0,1E3,0,!1,!1,!1,!0,-1,38);d.p=M|N|O;e.m(d);e=E(a);e.j.n(0,1,1E3,1,!1,!0,!1,!0,-1,-1);e.p=M|N|O;d.m(e);e=new Id(this);T(e,new $c(this),36,V);T(e,new bd(this),36,V);T(e,new dd(this),36,V);T(e,new ed(this),36,V);T(e,new fd(this),36,V);T(e,new gd(this),36,V);T(e,new hd(this),36,V);T(e,new id(this),36,V);T(e,new jd(this),36,V);T(e,new kd(this),36,V);T(e,new ld(this),36,V);T(e,new md(this),36,V);T(e,new nd(this),36,V);T(e,new od(this),36,V);T(e,new pd(this),36,V);T(e,new qd(this),36,V);T(e,new rd(this),36,V);T(e,new Vc(this),36,V);T(e,new Bd(this),36,Be);T(e,new xd(this),36,Be);e.q(a,b);this.lb=c;this.X.push(f);this.X.push(e);this.s()};function Ae(a,b){De();var c=E(b);a.lb=c;var d=b+"GB";a.N(c.a,d);var e=E(d);e.j.n(0,0,1,1,!1,!1,!0,!0,-1,-1);e.p=L|M|O|N;c.m(e);ze(a,d,e)}function Ee(a){var b=a.b,c=a.Le,d=a.$.id,e=b.Ea.$h;a.Ud=344;var f=new aa(a);c.fb(1,f,{Jb:a.Ud});var g=d+"_Board",h=d+"_Panel";a.N(c.a,g);a.N(c.a,h);var k=E(g),d=E(h);c.m(k);c.m(d);f.q(g,b);f.Sa();g=h+"_CaT";h+="_Navigator";a.N(d.a,g);a.N(d.a,h);c=E(g);c.j.n(0,0,1E3,500,!1,!1,!1,!1,-1,-1);c.p=L|M|O|N;d.m(c);c.a.style.background="rgb(217, 217, 217)";k=E(h);k.j.n(0,500,1E3,1E3,!1,!1,!1,!1,-1,-1);k.p=L|M|O|N;d.m(k);a.Ra={jr:d,Ml:c,Navigator:k};d=new Fe(a);d.q(h,b);var m=g+"_Info",h=g+"_Comments",k=g+"_Toolbar";a.N(c.a,m);a.N(c.a,h);a.N(c.a,k);var n=E(m);n.j.n(!0!==e?43:0,0,1E3,0,!0,!1,!1,!1,-1,50);n.p=L|M|O;c.m(n);var p=m+"_White",m=m+"_Black";a.N(n.a,p);a.N(n.a,m);var r=E(p);r.j.n(0,0,500,1E3,!1,!1,!1,!1,-1,-1);r.p=L|M|O|N;n.m(r);r=E(m);r.j.n(500,0,1E3,1E3,!1,!1,!1,!1,-1,-1);r.p=L|M|O|N;n.m(r);n=new ce(a);n.q(p,b,Da);p=new ce(a);p.q(m,b,J);!0!==e&&(e=g+"_M",a.N(c.a,e),g=E(e),g.j.n(7,7,1E3,7,!0,!0,!1,!0,36,36),g.p=L|M,c.m(g),g=new Qd(a),g.q(e,b),a.w.yh=g,a.X.push(g));var q=new Ge(a);q.q(k);var u=q.mc(),v=E(k);v.j.n(6,0,6,0,!0,!1,!0,!0,-1,u);v.p=M|O|N;c.m(v);var w=E(h);w.j.n(0,50,1E3,u+1,!1,!0,!1,!0,-1,-1);w.p=L|M|O|N;c.m(w);He(q,function(){u=q.mc();v.j.n(6,0,6,0,!0,!1,!0,!0,-1,u);w.j.n(0,50,1E3,u+1,!1,!0,!1,!0,-1,-1);a.s(!1)});e=new be(a);e.q(h,b);a.X.push(f);a.X.push(d);a.X.push(e);a.X.push(q);a.X.push(p);a.X.push(n);a.s();Ce(b)}function Ie(a){a.Pc=332;var b=a.b,c=a.Le,d=a.$.id,e=b.Ea.$h,f=d+"B";a.N(c.a,f).style.background="rgb(217, 217, 217)";f=E(f);f.j.n(0,0,1E3,0,!0,!1,!1,!1,-1,50);f.p=L|M|O;c.m(f);f=d+"I";a.N(c.a,f);if(!0!==e){var g=d+"M";a.N(c.a,g);var h=E(g);h.j.n(7,7,1E3,7,!0,!0,!1,!0,36,36);h.p=L|M;c.m(h);h=new Qd(a);h.q(g,b);a.w.yh=h;a.X.push(h)}g=E(f);g.j.n(!0!==e?43:0,0,1E3,0,!0,!1,!1,!1,-1,50);g.p=L|M|O;c.m(g);d=d+"O";a.N(c.a,d);var k=E(d);k.j.n(0,50,1E3,1E3,!1,!0,!1,!1,-1,-1);k.p=N|M|O;c.m(k);c=f+"W";a.N(g.a,c);e=E(c);e.j.n(0,0,500,1E3,!1,!1,!1,!1,-1,-1);e.p=L|M|O|N;g.m(e);e=new ce(a);e.q(c,b,Da);a.X.push(e);f+="B";a.N(g.a,f);c=E(f);c.j.n(500,0,1E3,1E3,!1,!1,!1,!1,-1,-1);c.p=L|M|O|N;g.m(c);c=new ce(a);c.q(f,b,J);a.X.push(c);var m=new aa(a);a.X.push(m);k.fb(3,m,{Jb:a.He-50});f=d+"B";a.N(k.a,f);c=E(f);k.m(c);m.q(f,b);m.Sa();d+="N";c=a.N(k.a,d);f=E(d);k.m(f);c.style.background="rgb(217, 217, 217)";c=d+"T";a.N(f.a,c);var n=new Ge(a);n.q(c);var p=n.mc();a.X.push(n);a.He=p+160;k.fb(3,m,{Jb:a.He-50});var r=E(c);r.j.n(0,1,1E3,0,!1,!0,!1,!1,-1,p);r.p=M|O|L;f.m(r);d+="U";a.N(f.a,d);var q=E(d);q.j.n(0,p+2,1E3,1E3,!1,!0,!1,!1,-1,-1);q.p=M|O|N;f.m(q);He(n,function(){p=n.mc();a.He=p+160;k.fb(3,m,{Jb:a.He-50});r.j.n(0,1,1E3,0,!1,!0,!1,!1,-1,p);q.j.n(0,p+2,1E3,1E3,!1,!0,!1,!1,-1,-1);a.s(!1)});f=d+"L";a.N(q.a,f);c=E(f);c.j.n(0,0,0,1E3,!1,!1,!1,!1,36,-1);c.p=M|L|N;q.m(c);c=d+"R";a.N(q.a,c);g=E(c);g.j.n(36,0,1E3,1E3,!0,!1,!1,!1,-1,-1);g.p=O|L|N;q.m(g);d=c+"N";a.N(g.a,d);e=E(d);e.j.n(0,0,1E3,1E3,!1,!1,!1,!1,-1,-1);e.p=M|O|L|N;g.m(e);c+="C";a.N(g.a,c);e=E(c);e.j.n(0,0,1E3,1E3,!1,!1,!1,!1,-1,-1);e.p=M|O|L|N;g.m(e);g=new Fe(a);g.q(d,b);a.X.push(g);g=new be(a);g.q(c,b);a.X.push(g);g=new Je(a);g.q(f,b,d,c);a.X.push(g);a.s();Ce(b);a.yo=50;a.zo=36;a.xo=160}l.ph=function(a){this.gd=5;var b=this.b,c=new aa(this),d=E(a),e=a+"GoBoard";this.N(d.a,e);var f=E(e);f.j.n(0,0,1,1,!1,!1,!0,!0,-1,-1);f.p=L|M|O|N;d.m(f);this.Ud=200;f.fb(1,c,{Jb:this.Ud});var g=a+"_Board",h=a+"_Panel";this.N(f.a,g);this.N(f.a,h);var k=E(g);a=E(h);f.m(k);f.m(a);a.a.style.background="rgb(217, 217, 217)";c.q(g,b);c.Sa();c.b&&(c.b.Ea.R.ve=!1);f=h+"_Toolbar";g=h+"_Comments";this.N(a.a,g);this.N(a.a,f);h=E(g);h.j.n(0,38,1E3,1E3,!1,!0,!1,!1,-1,-1);h.p=L|M|O|N;a.m(h);h=E(f);h.j.n(6,1,1E3,1E3,!0,!0,!1,!0,-1,36);h.p=M|O|L;a.m(h);a=new be(this);a.q(g,b);g=new Id(this);T(g,new $c(this),36,V);T(g,new Bd(this),36,V);g.q(f,b);this.X.push(c);this.X.push(a);this.X.push(g);this.lb=d;this.s();Ce(b);ze(this,e)};l.s=function(a){a?this.ih(!0):this.Fk=!0};function ze(a,b,c){a.$=document.getElementById(b);a.Le=c;a.$.style.background="url('"+Ke+"')";a.$.onclick=a.Oq}l.ih=function(a){if(!0===this.ci){var b=this.lb.a.clientWidth,c=this.lb.a.clientHeight;0<this.Pc&&b<this.Pc&&(b=this.Pc);var d=-1,d=c-(b-this.Ud)>this.He+100?1:0;if(this.Tk!==d){this.Tk=d;for(mc(this);this.$.firstChild;)this.$.removeChild(this.$.firstChild);this.Le&&this.Le.Xa();xe={};0===this.Tk?Ee(this):Ie(this);this.b&&(this.b.ia(this.b.l,!0),this.b.qc(!0))}}this.Fk=!1;this.lb&&(b=this.lb.a.clientWidth,c=this.lb.a.clientHeight,0<this.Pc&&b<this.Pc&&(b=this.Pc),this.lb.zb(b,c));b=0;for(c=this.X.length;b<c;b++)this.X[b].s(a)};l.N=function(a,b){var c=document.createElement("div");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};l.Im=function(a){this.sa=a};function nc(a,b){mc(a);a.ii=b}l.Jm=function(a){this.jl.zj=a};function mc(a){if(a.ii){var b=a.ii;a.ii=null;a.$.removeChild(b)}}l.Cm=function(){this.Qg&&Xc(this.Qg,0)};l.Kj=function(){this.Qg&&Xc(this.Qg,16)};function $d(a){a.w.Aj&&Yc(a.w.Aj,a.b.Kc)}l.rk=function(a){if(this.nd){var b=this.nd;b.Ci=a;b.Ia()}this.Pe&&(a=this.Pe,a.ol=this.b.bf(),a.Ia())};l.sk=function(a){if(this.nd){var b=this.nd;b.Di=a;b.Ia()}};l.tk=function(a){if(this.td){var b=this.td;b.Ci=a;b.Ia()}this.Pe&&(a=this.Pe,a.ol=this.b.bf(),a.Ia())};l.uk=function(a){if(this.td){var b=this.td;b.Di=a;b.Ia()}};l.rg=function(a,b){this.nd&&this.nd.rg(a);this.td&&this.td.rg(b);this.wc&&this.wc.Md(b,a)};l.Md=function(a,b){this.nd&&this.nd.Md(a);this.td&&this.td.Md(b);this.wc&&this.wc.Md(b,a)};l.qc=function(a){for(var b=0,c=this.w.Ti.length;b<c;b++)Wc(this.w.Ti[b],a.yd);b=0;for(c=this.w.Ui.length;b<c;b++)Wc(this.w.Ui[b],a.yd);b=0;for(c=this.w.yd.length;b<c;b++)Wc(this.w.yd[b],a.yd);b=0;for(c=this.w.Cd.length;b<c;b++)Wc(this.w.Cd[b],a.Cd);b=0;for(c=this.w.tj.length;b<c;b++)Wc(this.w.tj[b],a.Cd);b=0;for(c=this.w.sj.length;b<c;b++)Wc(this.w.sj[b],a.Cd);b=0;for(c=this.w.Id.length;b<c;b++)Wc(this.w.Id[b],a.Id);b=0;for(c=this.w.Jd.length;b<c;b++)Wc(this.w.Jd[b],a.Jd);b=0;for(c=this.w.Zi.length;b<c;b++)Yc(this.w.Zi[b],0===a.Xb);b=0;for(c=this.w.aj.length;b<c;b++)Yc(this.w.aj[b],1===a.Xb);b=0;for(c=this.w.Yi.length;b<c;b++)Yc(this.w.Yi[b],2===a.Xb);b=0;for(c=this.w.dj.length;b<c;b++)Yc(this.w.dj[b],3===a.Xb);b=0;for(c=this.w.bj.length;b<c;b++)Yc(this.w.bj[b],4===a.Xb);b=0;for(c=this.w.Xi.length;b<c;b++)Yc(this.w.Xi[b],5===a.Xb);b=0;for(c=this.w.ej.length;b<c;b++)Yc(this.w.ej[b],6===a.Xb);b=0;for(c=this.w.cj.length;b<c;b++)Yc(this.w.cj[b],7===a.Xb);b=0;for(c=this.w.$i.length;b<c;b++)Yc(this.w.$i[b],8===a.Xb);b=0;for(c=this.w.Wi.length;b<c;b++)Yc(this.w.Wi[b],10===a.Xb);this.il&&(b=this.il,!0!==b.Bg&&Le(b,a.bn,!0));if(this.Wg&&(b=this.Wg,c=a.Xb,b.Da!==c)){b.Da=c;switch(c){case 0:b.c=b.Eo.c;break;case 1:b.c=b.Go.c;break;case 2:b.c=b.Bo.c;break;case 3:b.c=b.Jo.c;break;case 4:b.c=b.Ho.c;break;case 5:b.c=b.Do.c;break;case 6:b.c=b.Ko.c;break;case 7:b.c=b.Io.c;break;case 8:b.c=b.Fo.c;break;case 10:b.c=b.Co.c}Uc(b)}this.jl.zj&&(b=this.jl.zj,gf(b,b.a.zd.getContext("2d")));hf();b=0;for(c=this.Rn.length;b<c;++b){var d=this.Rn[b];d&&d.vp&&d.vp(this.b,a)}};l.Ld=function(a){for(var b=0,c=this.Ak.length;b<c;b++)this.Ak[b].Ld(a)};function hf(){var a=xe[Jc];a&&a.Cg&&a.Ya()}l.lk=function(){var a=y.lk();this.w.gb&&this.w.gb.Yj(a);return a};l.ok=function(){var a=y.ok();this.w.gb&&this.w.gb.bk(a);return a};l.jk=function(){var a=y.jk();this.w.gb&&this.w.gb.Vj(a);return a};l.ik=function(){var a=y.ik();this.w.gb&&this.w.gb.Oj(a);return a};l.nk=function(){var a=y.nk();this.w.gb&&this.w.gb.Qj(a);return a};l.mk=function(){var a=y.mk();this.w.gb&&Pd(this.w.gb.kq,a);switch(this.gd){case 4:if(a)b=this.Ra.Ml,b.j.n(0,0,1E3,500,!1,!1,!1,!1,-1,-1),b.p=L|M|O|N,b.a.style.background="rgb(217, 217, 217)",b=this.Ra.Navigator,b.j.n(0,500,1E3,1E3,!1,!1,!1,!1,-1,-1),b.p=L|M|O|N,b.a.style.display="block";else{var b=this.Ra.Ml;b.j.n(0,0,1E3,1E3,!1,!1,!1,!1,-1,-1);b.p=L|M|O|N;b.a.style.background="rgb(217, 217, 217)";b=this.Ra.Navigator;b.j.n(0,1E3,1E3,1E3,!1,!1,!1,!1,-1,-1);b.p=L|M|O|N;b.a.style.display="none"}this.s(!0)}return a};l.kk=function(){var a=y.kk();this.w.gb&&this.w.gb.Pj(a);return a};l.af=function(a){var b=this.b?this.b.o:null;if(!b||.1>Math.abs(ya(b)))return 0;b=1/ya(b);switch(this.gd){case 1:return b*a;case 2:return this.al+this.bl+b*a;case 3:return this.xo+this.yo+this.zo+b*a;case 4:return(a-this.Ud)*b;case 5:return(a-this.Ud)*b;default:return 0}};var jf=0,kf=1,Nb=2,D=new function(){this.gj=this.g=this.h=0;this.ed=kf;this.D=this.C=this.kh=!1;this.ob=null;this.kg=-1;this.xm=this.wm=this.cg=0;this.Hd=!1;this.tp=function(){this.Hd||(this.Hd=!0)};this.Cp=function(){this.Hd&&(this.Hd=!1)}},ta=new function(){this.D=this.C=this.kh=!1;this.ob=null;this.M=this.ip=0};function sa(a){ta.kh=a.altKey;ta.C=void 0!==a.metaKey?a.ctrlKey||a.metaKey:a.ctrlKey;ta.D=a.shiftKey;ta.ob=a.srcElement?a.srcElement:a.target;ta.ip=a.charCode;ta.M=a.keyCode;ta.kr=a.which}function da(a){if(!D.Hd){if(a.pageX||a.pageY)D.h=a.pageX,D.g=a.pageY;else if(a.clientX||a.clientY)D.h=a.clientX,D.g=a.clientY;D.kh=a.altKey;D.D=a.shiftKey;D.C=a.ctrlKey||a.metaKey;D.ed=kf;D.Hd||(D.ob=a.srcElement?a.srcElement:a.target);if(3<Math.abs(D.h-D.wm)||3<Math.abs(D.g-D.xm))D.kg=-1,D.cg=0}}function oa(a){if(a.pageX||a.pageY)D.h=a.pageX,D.g=a.pageY;else if(a.clientX||a.clientY)D.h=a.clientX,D.g=a.clientY;D.wm=D.h;D.xm=D.g;D.kh=a.altKey;D.D=a.shiftKey;D.C=a.ctrlKey||a.metaKey;D.ed=jf;D.gj=a.button;D.ob=a.srcElement?a.srcElement:a.target;a=(new Date).getTime();0==D.cg?(D.cg=1,D.kg=a):500>a-D.kg?(D.kg=a,D.cg++):(D.cg=1,D.kg=a);window.Fn=!1}window.onmousemove=function(a){if(D.Hd&&void 0!=D.ob&&null!=D.ob&&void 0!=D.ob.onmousemove&&null!=D.ob.onmousemove)D.ob.onmousemove(a)};window.onmouseup=function(a){if(!1===window.Fn){window.Fn=!0;if(D.Hd&&D.ob&&void 0!=D.ob.onmouseup&&null!=D.ob.onmouseup)D.ob.onmouseup(a,!0);D.ob=null}};function lf(){this.Jd=this.Id=this.Cd=this.yd=!0;this.bn=this.Xb=0};var Ga=-1,Ib=0,Hb=1,Gb=2,Ab=3,Jb=4,Cb=5,Db=6,Eb=7,Fb=8;function Ea(a,b,c,d){this.ui={h:void 0===a?0:a,g:void 0===b?0:b};this.V=void 0===c?Ib:c;this.Uc=void 0===d?"":d}Ea.prototype.he=function(){return this.ui.h};Ea.prototype.ie=function(){return this.ui.g};Ea.prototype.ak=function(a,b){this.ui.h=a;this.ui.g=b};Ea.prototype.fb=function(a){this.V=a};function Fe(a){function b(){if(d.jb)d.Oc=null;else{var a=parseFloat(d.a.za.style.opacity),c=parseFloat(d.a.Ja.style.opacity),a=Math.max(a-.01,0),c=Math.max(c-.01,0);d.a.za.style.opacity=a;d.a.Ja.style.opacity=c;.001<a?d.Oc=setTimeout(b,10):d.Oc=null}}function c(){if(d.jb)d.Oc=null;else{var a=parseFloat(d.a.xa.style.opacity),b=parseFloat(d.a.Ha.style.opacity),a=Math.max(a-.01,0),b=Math.max(b-.01,0);d.a.xa.style.opacity=a;d.a.Ha.style.opacity=b;.001<a?d.ld=setTimeout(c,10):d.ld=null}}this.f=a;this.b=null;this.ea=new mf;this.Ek=this.ei=this.di=!0;this.k=I.B(24);this.ya=I.B(20);this.Pa=I.B(10);this.bq=I.B(11);this.Zk=I.B(12);this.Fb=I.B(2);this.hi=I.B(3);this.uo=I.B(18);this.a={d:null,ga:{d:null},Selection:{d:null},ee:{d:null},pa:{d:null},ek:{d:null},Jj:{d:null},mp:{d:null},za:null,xa:null,Ja:null,Ha:null,kf:0,jf:0};this.cc=null;this.c={O:0,K:0,ga:null,lh:null,Oh:null,Kl:null,Cn:null,nm:null,rp:null,hm:null,qp:null,lm:null,pn:null,Dp:null,tn:null,rm:null,om:null,pm:null,qm:null,sm:null,im:null,jm:null,km:null,mm:null,vn:null,qn:null,rn:null,sn:null,un:null,hn:null,ln:null,jn:null,mn:null,kn:null,nn:null,of:null,ee:null,uj:null,pb:null,Bb:0};this.la={h:0,g:0};this.jb=!1;this.Vp=!0;this.dc={O:0,K:0,h:0,g:0};this.ld=this.Oc=this.Ef=this.yf=null;var d=this;this.yl=function(){return setTimeout(function(){d.Ii()},20)};this.fh=function(a){d.jb||(d.b&&d.b.Sa(),oa(a),a=d.Zf(D.h,D.g),a=d.ea.P(a.h,a.g),a.ig()&&d.b&&d.b.ia(a))};this.Mi=function(a){d.jb||(da(a),a=d.Zf(D.h,D.g),nf(d,a.h,a.g))};this.gh=function(){d.jb||nf(d,-1,-1)};this.hh=function(a){if(d.jb)return!1;var b=0,b=void 0!=a.wheelDelta?0<a.wheelDelta?-45:45:0<a.detail?45:-45;a.preventDefault&&a.preventDefault();var g=d.ya+d.ea.ea.length*d.k-d.c.K;d.la.g-=I.B(b);d.la.g=Math.min(0,Math.max(d.la.g,-g));of(d);d.Mi(a);pf(d);d.Yg();d.a.Ha.style.opacity=.3;d.a.xa.style.opacity=.5;d.ld=setTimeout(c,500);return!1};this.Yf=function(){d.b&&d.b.Sa()};this.Tf=function(){null!==d.yf&&(clearTimeout(d.yf),d.yf=null)};this.Hi=function(){null!==d.Oc&&(clearTimeout(d.Oc),d.Oc=null)};this.Pq=function(a){function b(a){var c=-d.la.h;c!==n?(c=c<n?Math.min(n,c+200):Math.max(n,c-200),d.la.h=-c,of(d),pf(d),c!==n?d.yf=setTimeout(b,!0===a?300:30):d.yf=null):d.yf=null}d.Tf();oa(a);a=D.h-Va(d.a.Ja).h;var c=qf(d.ea),h=d.a.kf,k=d.c.O,m=I.B(k,!1)-4;a=Math.max(0,Math.min(m-h,a-h/2));var n=a/(m-h)*(d.ya+c*d.k-k);b(!0)};this.$q=function(){d.Tf()};this.Xq=function(){if(d.jb)return!1;d.Hi();d.a.Ja.style.opacity=.3;d.a.za.style.opacity=.5;d.a.xa.style.display="none";d.a.Ha.style.display="none";d.a.Ha.style.opacity=0;d.a.xa.style.opacity=0;d.Zg();d.Yg()};this.Sq=function(){if(d.jb)return!1;d.Tf();d.Oc=setTimeout(b,10);d.a.xa.style.display="block";d.a.Ha.style.display="block"};this.Zg=function(){null!==d.Ef&&(clearTimeout(d.Ef),d.Ef=null)};this.Yg=function(){null!==d.ld&&(clearTimeout(d.ld),d.ld=null)};this.Qq=function(a){function b(a){var c=-d.la.g;c!==n?(c=c<n?Math.min(n,c+48):Math.max(n,c-48),d.la.g=-c,of(d),pf(d),c!==n?d.Ef=setTimeout(b,!0===a?300:30):d.Ef=null):d.Ef=null}d.Zg();oa(a);a=D.g-Va(d.a.Ha).g;var c=d.ea.ea.length,h=d.a.jf,k=d.c.K,m=I.B(k,!1)-4;a=Math.max(0,Math.min(m-h,a-h/2));var n=a/(m-h)*(d.ya+c*d.k-k);b(!0)};this.ar=function(){d.Zg()};this.Zq=function(){if(d.jb)return!1;d.Yg();d.a.Ha.style.opacity=.3;d.a.xa.style.opacity=.5;d.a.za.style.display="none";d.a.Ja.style.display="none";d.a.Ja.style.opacity=0;d.a.za.style.opacity=0;d.Tf();d.Hi()};this.Uq=function(){if(d.jb)return!1;d.a.za.style.display="block";d.a.Ja.style.display="block";d.Zg();d.ld=setTimeout(c,10)};this.Wq=function(){if(d.jb)return!1;d.a.xa.style.display="none";d.a.Ha.style.display="none";d.a.Ha.style.opacity=0;d.a.xa.style.opacity=0;d.Zg();d.Yg();d.Hi();d.a.za.style.opacity=.7;d.a.Ja.style.opacity=.3};this.Rq=function(){if(d.jb)return!1;d.a.xa.style.display="block";d.a.Ha.style.display="block";d.Tf();d.Oc=setTimeout(b,10)};this.Yq=function(){if(d.jb)return!1;d.a.za.style.display="none";d.a.Ja.style.display="none";d.a.Ja.style.opacity=0;d.a.za.style.opacity=0;d.Tf();d.Hi();d.Yg();d.a.xa.style.opacity=.7;d.a.Ha.style.opacity=.3};this.Tq=function(){if(d.jb)return!1;d.a.za.style.display="block";d.a.Ja.style.display="block";d.a.xa.style.opacity=.5;d.ld=setTimeout(c,10)};this.Wo=function(){d.jb=!0};this.Vo=function(){d.jb=!1;var a=D.h,f=D.g,g=Va(d.a.Ja),h=g.h,g=g.g,k=d.a.Ja.clientWidth,m=d.a.Ja.clientHeight;if(a<h||a>h+k||f<g||f>g+m)d.Oc=setTimeout(b,10),d.a.xa.style.display="block",d.a.Ha.style.display="block";g=Va(d.a.Ha);h=g.h;g=g.g;k=d.a.Ha.clientWidth;m=d.a.Ha.clientHeight;if(a<h||a>h+k||f<g||f>g+m)d.ld=setTimeout(c,10),d.a.za.style.display="block",d.a.Ja.style.display="block"};this.Aq=function(a){var b=d.c.O;d.la.h=-((a-2)/(I.B(b,!1)-4-d.a.kf)*(d.ya+qf(d.ea)*d.k-b));of(d)};this.Iq=function(a,b){var c=d.c.K;d.la.g=-((b-2)/(I.B(c,!1)-4-d.a.jf)*(d.ya+d.ea.ea.length*d.k-c));of(d)}}l=Fe.prototype;l.q=function(a,b){this.f&&(this.f.qi=this);this.b=b;this.b.T=this;this.ea.Uj(b);this.a.d=E(a);var c=this.a.d.a,d=this.a.d,e=a+"_Board",f=a+"_Selection",g=a+"_Current",h=a+"_Lines",k=a+"_Shadows",m=a+"_Nodes",n=a+"_Events";this.cb(c,e);this.cb(c,f);this.cb(c,g);this.cb(c,h);this.cb(c,k);this.cb(c,m);var p=this.Ga(c,n);this.a.Ja=this.Ga(c,a+"HorScroll_BG");this.a.za=this.Ga(c,a+"HorScroll");this.a.Ha=this.Ga(c,a+"VerScroll_BG");this.a.xa=this.Ga(c,a+"VerScroll");this.a.Ja.style.background="rgb(0,0,0)";this.a.Ja.style.opacity="0";this.a.Ha.style.background="rgb(0,0,0)";this.a.Ha.style.opacity="0";this.a.Ja.onmousedown=this.Pq;this.a.Ja.onmouseup=this.$q;this.a.Ja.onmouseover=this.Xq;this.a.Ja.onmouseout=this.Sq;this.a.Ha.onmousedown=this.Qq;this.a.Ha.onmouseup=this.ar;this.a.Ha.onmouseover=this.Zq;this.a.Ha.onmouseout=this.Uq;this.a.za.onmouseover=this.Wq;this.a.za.onmouseout=this.Rq;this.a.xa.onmouseover=this.Yq;this.a.xa.onmouseout=this.Tq;c=E(a+"HorScroll_BG");c.j.n(2,0,2,2,!0,!1,!0,!0,-1,8);c.p=M|N|O;d.m(c);c=E(a+"VerScroll_BG");c.j.n(0,2,2,2,!1,!0,!0,!0,8,-1);c.p=L|N|O;d.m(c);this.Ma(this.a.ga,d,e);this.Ma(this.a.Selection,d,f);this.Ma(this.a.ee,d,g);this.Ma(this.a.pa,d,h);this.Ma(this.a.ek,d,k);this.Ma(this.a.Jj,d,m);this.Ma(this.a.mp,d,n);p.onmousedown=this.fh;p.onmousemove=this.Mi;p.onmouseout=this.gh;p.onmousewheel=this.hh;p.addEventListener&&p.addEventListener("DOMMouseScroll",this.hh,!1);p.onfocus=this.Yf;p.tabIndex=-1;p.style.Lp=!0;p.style.outline=0;p.style.dr="none";this.Xf();this.Vf();rf(this);this.Wf()};function sf(a){a.Xf();a.Vf();rf(a);a.Wf();a.s(!0)}l.s=function(a){var b=this.a.d.a.clientWidth,c=this.a.d.a.clientHeight;this.a.d.zb(b,c);this.jc(b,c,a)};l.Ya=function(){if(!(0>=this.c.O||0>=this.c.K)){var a=I.B(this.c.O,!1),b=I.B(this.c.K,!1),c=I.B(this.ya,!1),d=I.B(this.k,!1),e=c+qf(this.ea)*d,c=c+this.ea.ea.length*d;e>a?(this.a.kf=Math.max(50,a*a/e)|0,this.a.za.style.width=this.a.kf+"px",this.a.za.style.display="block",this.a.za.style.position="absolute",this.a.za.style.top=b-10+"px",this.a.za.style.height="8px",this.a.za.style.background=this.Vc()?"rgb(220, 220, 220)":"rgb(0,0,0)",this.a.za.style.opacity=0,tf(this.a.za,2,a-this.a.kf-2,b-10,b-10),this.a.za.Ub=this.Aq,this.a.za.Wb=this.Wo,this.a.za.Vb=this.Vo,this.a.Ja.style.display="block"):(this.a.Ja.style.display="none",this.a.za.style.display="none");c>b?(this.a.jf=Math.max(50,b*b/c)|0,this.a.xa.style.height=this.a.jf+"px",this.a.xa.style.display="block",this.a.xa.style.position="absolute",this.a.xa.style.left=a-10+"px",this.a.xa.style.width="8px",this.a.xa.style.background=this.Vc()?"rgb(220, 220, 220)":"rgb(0,0,0)",this.a.xa.style.opacity=0,tf(this.a.xa,a-10,a-10,2,b-this.a.jf-2),this.a.xa.Ub=this.Iq,this.a.xa.Wb=this.Wo,this.a.xa.Vb=this.Vo,this.a.Ha.style.display="block"):(this.a.Ha.style.display="none",this.a.xa.style.display="none");this.dc.K=-1;this.dc.O=-1;of(this);pf(this)}};l.lc=function(){this.ea.lc();this.dc.K=-1;this.dc.O=-1};function uf(a,b){a.di=!0;var c=a.c.O,d=a.c.K;if(!(0>=c||0>=d)){var e=a.b.l.ub,f=e.h,e=e.g,g=a.Pa+a.la.h+f*a.k,h=a.Pa+a.la.g+e*a.k;if(0!=b&&!0===a.Vp&&(g<=a.Pa||g>=c-a.Pa||h<=a.Pa||h>=d-a.Pa)){var k=a.ya+a.ea.ea.length*a.k-d,m=a.ya+qf(a.ea)*a.k-c;g<=a.Pa?a.la.h=-f*a.k:g>=c-a.Pa&&(a.la.h=c-a.k-a.Pa-a.Pa-f*a.k);h<=a.Pa?a.la.g=-e*a.k:h>=d-a.Pa&&(a.la.g=d-a.k-a.Pa-a.Pa-e*a.k);a.la.h=Math.min(0,Math.max(a.la.h,-m));a.la.g=Math.min(0,Math.max(a.la.g,-k));pf(a);of(a)}}}l.cb=function(a,b){var c=document.createElement("canvas");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};l.Ga=function(a,b){var c=document.createElement("div");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};l.Ma=function(a,b,c){a.d=E(c);a=a.d;a.j.n(0,0,1E3,1E3,!1,!1,!1,!1,-1,-1);a.p=L|M|N|O;b.m(a)};l.jc=function(a,b,c){a=I.B(a);b=I.B(b);var d=this.a.ga.d.a.getContext("2d");a!==this.c.O||b!==this.c.K||null===this.c.ga||null!==this.cc||!0===c?(this.c.O=a,this.c.K=b,d.fillStyle=R(this.eh()),d.fillRect(0,0,a,b),null!==this.cc&&clearTimeout(this.cc),this.cc=this.yl()):d.drawImage(this.c.ga,0,0);this.Ya();uf(this,!0);this.Ek=!0};l.Ii=function(){this.cc=null;var a=this.c.O,b=this.c.K,c=this.a.ga.d.a.getContext("2d");if(0!==a&&0!==b){for(var d=c.createImageData(a,b),e=this.eh(),f=e.F,g=e.H,e=e.G,h=Array(a),k=0;k<a;k++)h[k]=(Math.tan(300*k/a)+1)/2+(Math.tan(100*k/a)+1)/10;for(var m=Array(b),n=0;n<b;n++)m[n]=.02*Math.tan(n/b);var p,r,q,k=this.Ye();if(!0===this.Ki())for(q=.9,n=0;n<b;n++)for(k=0;k<a;k++){q=40*(h[k]+m[n])+.5;q-=Math.floor(q);q=.2>q?1-q/2:.4>q?1-(.4-q)/2:1;if(n==b-1||n==b-2&&k<a-2||k>=a-1||k==a-2&&n<b-1)q/=2;0==n||1==n&&1<k||0==k||1==k&&1<n?(p=128+f*q/2,r=128+g*q/2,q=128+e*q/2):(p=f*q,r=g*q,q*=e);var u=4*(k+n*a);d.data[u+0]=p;d.data[u+1]=r;d.data[u+2]=q;d.data[u+3]=255}else for(h=0;h<b;h++)for(m=0;m<a;m++)0==h||0==m||h===b-1||m===a-1?(p=k.F,r=k.H,q=k.G):(p=f,r=g,q=e),u=4*(m+h*a),d.data[u+0]=p,d.data[u+1]=r,d.data[u+2]=q,d.data[u+3]=255;this.c.ga=this.ba(a,b,d);c.drawImage(this.c.ga,0,0)}};l.Xf=function(){var a=this.a.Jj.d.a.getContext("2d"),b=this.ya,c=a.createImageData(b,b),d=a.createImageData(b,b),e=a.createImageData(b,b),a=a.createImageData(b,b),f=c.data,g=d.data,h=e.data,k=a.data,m=this.ul(),n=this.sl(),p=this.Vc();if(!0===this.tl())for(var r=b/2-.5,q=r-.2,m=Math.sqrt(3),u=0;u<b;u++)for(var v=0;v<b;v++){var w=u-r,B=v-r,C=q-Math.sqrt(w*w+B*B),x=4*(u*b+b-v-1);if(0<=C){var t=q*q-w*w-B*B,t=0<t?Math.sqrt(t)*m:0,p=w,H=B,n=Math.sqrt(6*(p*p+H*H+t*t)),n=(2*t-p+H)/n,p=0;.9<n&&(p=10*(n-.9));t=255;.8>=C&&(C=(.8-C)/.8,t=.7,w-B<q/3&&(t=1),t=parseInt(255*(1-C*t)));w=parseInt(10+10*n+140*p);f[x+0]=w;f[x+1]=w;f[x+2]=w;f[x+3]=t;h[x+0]=w;h[x+1]=w;h[x+2]=w;h[x+3]=parseInt(.5*t);w=parseInt(200+10*n+45*p);g[x+0]=w;g[x+1]=w;g[x+2]=w;g[x+3]=t;k[x+0]=w;k[x+1]=w;k[x+2]=w;k[x+3]=parseInt(.7*t)}else f[x+0]=0,f[x+1]=0,f[x+2]=0,f[x+3]=0,k[x+0]=0,k[x+1]=0,k[x+2]=0,k[x+3]=0}else for(r=b/2-.5,q=r-.2,u=0;u<b;u++)for(v=0;v<b;v++)if(w=u-r,B=v-r,C=q-Math.sqrt(w*w+B*B),x=4*(u*b+b-v-1),0<=C){t=255;if(.8>=C){var U=(.8-C)/.8,t=.7;w-B<q/3&&(t=1);t=parseInt(255*(1-U*t))}else 1.6>=C&&.8<=C&&!0===p&&(U=(1.6-C)/.8,t=.7,w-B<q/3&&(t=1),t=parseInt(U*t*255));H=!1;1.6>=C&&(H=!0);!1===H||!1===p?(f[x+0]=n.F,f[x+1]=n.H,f[x+2]=n.G,f[x+3]=t,h[x+0]=n.F,h[x+1]=n.H,h[x+2]=n.G):(f[x+0]=m.F,f[x+1]=m.H,f[x+2]=m.G,f[x+3]=t,h[x+0]=m.F,h[x+1]=m.H,h[x+2]=m.G);h[x+3]=parseInt(.5*t);t=255;.8>=C?(U=(.8-C)/.8,t=.7,w-B<q/3&&(t=1),t=parseInt(255*(1-U*t))):1.6>=C&&.8<=C&&!1===p&&(U=(1.6-C)/.8,t=.7,w-B<q/3&&(t=1),t=parseInt(U*t*255));!1===H||!0===p?(g[x+0]=m.F,g[x+1]=m.H,g[x+2]=m.G,g[x+3]=t,k[x+0]=m.F,k[x+1]=m.H,k[x+2]=m.G):(g[x+0]=n.F,g[x+1]=n.H,g[x+2]=n.G,g[x+3]=t,k[x+0]=n.F,k[x+1]=n.H,k[x+2]=n.G);k[x+3]=parseInt(t/2)}else f[x+0]=0,f[x+1]=0,f[x+2]=0,f[x+3]=0,h[x+0]=0,h[x+1]=0,h[x+2]=0,h[x+3]=0,g[x+0]=0,g[x+1]=0,g[x+2]=0,g[x+3]=0,k[x+0]=0,k[x+1]=0,k[x+2]=0,k[x+3]=0;this.c.lh=this.ba(b,b,c);this.c.Oh=this.ba(b,b,d);this.c.Kl=this.ba(b,b,e);this.c.Cn=this.ba(b,b,a)};l.Vf=function(){for(var a=this.a.pa.d.a.getContext("2d"),b=a.createImageData(this.k,this.k),c=a.createImageData(this.k,this.k),d=a.createImageData(this.k,this.k),e=a.createImageData(this.k,this.k),f=a.createImageData(this.k,this.k),g=a.createImageData(this.k,this.k),h=a.createImageData(this.k,this.k),k=a.createImageData(this.k,this.k),m=a.createImageData(this.k,this.k),n=a.createImageData(this.k,this.k),p=a.createImageData(this.k,this.k),r=a.createImageData(this.k,this.k),q=a.createImageData(this.k,this.k),u=a.createImageData(this.k,this.k),v=a.createImageData(this.k,this.k),w=a.createImageData(this.k,this.k),B=a.createImageData(this.k,this.k),C=a.createImageData(this.k,this.k),x=a.createImageData(this.k,this.k),t=a.createImageData(this.k,this.k),H=a.createImageData(this.k,this.k),a=a.createImageData(this.k,this.k),U=b.data,Z=c.data,F=d.data,K=e.data,ba=f.data,P=g.data,na=h.data,qb=k.data,qa=m.data,La=n.data,eb=p.data,rb=r.data,qc=q.data,Ma=u.data,Ra=v.data,Na=w.data,Xb=B.data,Yb=C.data,Fa=x.data,fb=t.data,rc=H.data,Zb=a.data,sb=!0===this.Vc()?200:28,G=new A(sb,sb,sb,255),fa=this.Zk,la=this.bq,ha=0;ha<this.k;ha++)for(var ka=0;ka<this.k;ka++){var z=4*(ha*this.k+ka);ka>=fa&&la<=ha&&ha<=fa?(U[z+0]=G.F,U[z+1]=G.G,U[z+2]=G.H,U[z+3]=255,qa[z+0]=G.F,qa[z+1]=G.G,qa[z+2]=G.H,qa[z+3]=96):(U[z+3]=0,qa[z+3]=0);ka>=la&&la<=ha&&ha<=fa||ha>=fa&&la<=ka&&ka<=fa?(Z[z+0]=G.F,Z[z+1]=G.G,Z[z+2]=G.H,Z[z+3]=255,rb[z+0]=G.F,rb[z+1]=G.G,rb[z+2]=G.H,rb[z+3]=96):(Z[z+3]=0,rb[z+3]=0);ka>=la&&la<=ha&&ha<=fa?(La[z+0]=G.F,La[z+1]=G.G,La[z+2]=G.H,La[z+3]=255):ha>=fa&&la<=ka&&ka<=fa?(La[z+0]=G.F,La[z+1]=G.G,La[z+2]=G.H,La[z+3]=96):La[z+3]=0;ha>=fa&&la<=ka&&ka<=fa?(eb[z+0]=G.F,eb[z+1]=G.G,eb[z+2]=G.H,eb[z+3]=255):ka>=la&&la<=ha&&ha<=fa?(eb[z+0]=G.F,eb[z+1]=G.G,eb[z+2]=G.H,eb[z+3]=96):eb[z+3]=0;la<=ha&&ha<=fa?(F[z+0]=G.F,F[z+1]=G.G,F[z+2]=G.H,F[z+3]=255,qc[z+0]=G.F,qc[z+1]=G.G,qc[z+2]=G.H,qc[z+3]=96):(F[z+3]=0,qc[z+3]=0);la<=ha||ha<=fa||ha>=fa&&la<=ka&&ka<=fa?(K[z+0]=G.F,K[z+1]=G.G,K[z+2]=G.H,K[z+3]=255,Na[z+0]=G.F,Na[z+1]=G.G,Na[z+2]=G.H,Na[z+3]=96):(K[z+3]=0,Na[z+3]=0);la<=ha&&ha<=fa?(Ma[z+0]=G.F,Ma[z+1]=G.G,Ma[z+2]=G.H,Ma[z+3]=255):ha>=fa&&la<=ka&&ka<=fa?(Ma[z+0]=G.F,Ma[z+1]=G.G,Ma[z+2]=G.H,Ma[z+3]=96):Ma[z+3]=0;la<=ha&&ha<=fa&&ka<=fa||ha>=fa&&la<=ka&&ka<=fa?(Ra[z+0]=G.F,Ra[z+1]=G.G,Ra[z+2]=G.H,Ra[z+3]=255):la<=ha&&ha<=fa&&ka>fa?(Ra[z+0]=G.F,Ra[z+1]=G.G,Ra[z+2]=G.H,Ra[z+3]=96):(K[z+3]=0,Na[z+3]=0);ka<=la&&la<=ha&&ha<=fa?(ba[z+0]=G.F,ba[z+1]=G.G,ba[z+2]=G.H,ba[z+3]=255,Xb[z+0]=G.F,Xb[z+1]=G.G,Xb[z+2]=G.H,Xb[z+3]=96):(ba[z+3]=0,Xb[z+3]=0);la<=ka&&ka<=fa?(P[z+0]=G.F,P[z+1]=G.G,P[z+2]=G.H,P[z+3]=255,Yb[z+0]=G.F,Yb[z+1]=G.G,Yb[z+2]=G.H,Yb[z+3]=96):(P[z+3]=0,Yb[z+3]=0);la<=ka&&ka<=fa||ka>=fa&&la<=ha&&ha<=fa?(na[z+0]=G.F,na[z+1]=G.G,na[z+2]=G.H,na[z+3]=255,rc[z+0]=G.F,rc[z+1]=G.G,rc[z+2]=G.H,rc[z+3]=96):(na[z+3]=0,rc[z+3]=0);la<=ka&&ka<=fa&&ha<=fa||ka>=fa&&la<=ha&&ha<=fa?(Fa[z+0]=G.F,Fa[z+1]=G.G,Fa[z+2]=G.H,Fa[z+3]=255):la<=ka&&ka<=fa&&ha>fa?(Fa[z+0]=G.F,Fa[z+1]=G.G,Fa[z+2]=G.H,Fa[z+3]=96):Fa[z+3]=0;la<=ka&&ka<=fa?(fb[z+0]=G.F,fb[z+1]=G.G,fb[z+2]=G.H,fb[z+3]=255):ka>fa&&la<=ha&&ha<=fa?(fb[z+0]=G.F,fb[z+1]=G.G,fb[z+2]=G.H,fb[z+3]=96):fb[z+3]=0;ha<=la&&la<=ka&&ka<=fa||ka>=la&&la<=ha&&ha<=fa?(qb[z+0]=G.F,qb[z+1]=G.G,qb[z+2]=G.H,qb[z+3]=255,Zb[z+0]=G.F,Zb[z+1]=G.G,Zb[z+2]=G.H,Zb[z+3]=96):(qb[z+3]=0,Zb[z+3]=0)}this.c.nm=this.ba(this.k,this.k,b);this.c.rp=this.ba(this.k,this.k,c);this.c.hm=this.ba(this.k,this.k,d);this.c.qp=this.ba(this.k,this.k,e);this.c.lm=this.ba(this.k,this.k,f);this.c.pn=this.ba(this.k,this.k,g);this.c.Dp=this.ba(this.k,this.k,h);this.c.tn=this.ba(this.k,this.k,k);this.c.rm=this.ba(this.k,this.k,m);this.c.om=this.ba(this.k,this.k,n);this.c.pm=this.ba(this.k,this.k,p);this.c.qm=this.ba(this.k,this.k,r);this.c.sm=this.ba(this.k,this.k,q);this.c.im=this.ba(this.k,this.k,u);this.c.jm=this.ba(this.k,this.k,v);this.c.km=this.ba(this.k,this.k,w);this.c.mm=this.ba(this.k,this.k,B);this.c.vn=this.ba(this.k,this.k,C);this.c.qn=this.ba(this.k,this.k,x);this.c.rn=this.ba(this.k,this.k,t);this.c.sn=this.ba(this.k,this.k,H);this.c.un=this.ba(this.k,this.k,a);this.c.hn=this.ic(this.ya,this.ya,.07*this.ya,G,1,!1);this.c.ln=this.ic(this.ya,this.ya,.07*this.ya,new A(sb,sb,sb,96),1,!1);this.c.jn=this.ic(this.ya,this.ya,.06*this.ya,new A(255,255,255,255),1,!0);this.c.mn=this.ic(this.ya,this.ya,.06*this.ya,new A(0,0,0,255),1,!0);this.c.kn=this.ic(this.ya,this.ya,.06*this.ya,new A(255,255,255,96),1,!0);this.c.nn=this.ic(this.ya,this.ya,.06*this.ya,new A(0,0,0,96),1,!0)};function rf(a){for(var b=a.k,c=a.a.Selection.d.a.getContext("2d"),d=c.createImageData(b,b),e=c.createImageData(b,b),f=c.createImageData(b,b),g=d.data,h=e.data,k=f.data,m=0;m<b;m++)for(var n=0;n<b;n++){var p=4*(n+m*b);g[p+3]=255;h[p+3]=255;k[p+3]=255;0===n&&b-1===m||b-1===n&&0===m?(g[p+0]=135,g[p+1]=125,g[p+2]=135,h[p+0]=216,h[p+1]=0,h[p+2]=0,k[p+0]=216/255*42|0,k[p+1]=216/255*117|0,k[p+2]=216/255*243|0):b-1===n||b-1===m?(g[p+0]=89,g[p+1]=89,g[p+2]=89,h[p+0]=178,h[p+1]=0,h[p+2]=0,k[p+0]=178/255*42|0,k[p+1]=178/255*117|0,k[p+2]=178/255*243|0):(0===m||0===n?(g[p+0]=182,g[p+1]=182,g[p+2]=182):(g[p+0]=128,g[p+1]=128,g[p+2]=128),h[p+0]=255,h[p+1]=0,h[p+2]=0,k[p+0]=42,k[p+1]=117,k[p+2]=243)}a.c.of=a.ba(b,b,d);a.c.ee=a.ba(b,b,e);a.c.uj=a.ba(b,b,f);c.drawImage(a.c.of,0,0);c.drawImage(a.c.ee,0,30);c.drawImage(a.c.uj,0,60)}l.ic=function(a,b,c,d,e,f){void 0===e&&(e=1);var g=document.createElement("canvas"),h=g.getContext("2d");h.clearRect(0,0,a,b);h.globalAlpha=e;h.strokeStyle=R(d);h.fillStyle=R(d);h.lineWidth=c;d=a/2;c=3*b/4;e=.1*a;b=Math.sqrt(d*d-(c-d)*(c-d))+d-e;d=-Math.sqrt(d*d-(c-d)*(c-d))+d+e;f&&(b=Math.floor(b-.5),d=Math.ceil(d+.5),e=Math.ceil(e+.5),c=Math.floor(c-.5));h.beginPath();h.moveTo(a/2,e);h.lineTo(b,c);h.lineTo(d,c);h.closePath();h.stroke();return g};l.Wf=function(){var a=this.a.ek.d.a.getContext("2d"),b=this.ya,a=a.createImageData(b,b),c=a.data;this.c.Bb=Math.max(parseInt(.15*b),3);for(var d=(b-5)/2+1,e=0;e<b;e++)for(var f=0;f<b;f++){var g=Math.abs(e-d),h=Math.abs(f-d),g=Math.sqrt(h*h+g*g)/d,g=1>g?.15+.75*(1-g):0,h=4*(b*e+f);c[h+0]=0;c[h+1]=0;c[h+2]=0;c[h+3]=parseInt(255*g)}this.c.pb=this.ba(b,b,a)};function of(a){a.ei=!0;uf(a,!1)}l.Zf=function(a,b){var c=Va(this.a.ga.d.a),d=I.B(this.Pa,!1),e=I.B(this.k,!1);return{h:(a-c.h-d-I.B(this.la.h,!1))/e|0,g:(b-c.g-d-I.B(this.la.g,!1))/e|0}};function nf(a,b,c){var d=a.c.O,e=a.c.K;if(!(0>=d||0>=e)){var f=a.a.Selection.d.a.getContext("2d");f.clearRect(0,0,d,e);0<=b&&0<=c&&(d=a.Pa+a.la.h+b*a.k,e=a.Pa+a.la.g+c*a.k,a.ea.P(b,c).ig()&&f.drawImage(a.c.of,d,e))}}function pf(a){var b=a.ya,c=a.k,d=-a.la.g/(b+a.ea.ea.length*c-a.c.K)*(I.B(a.c.K,!1)-4-a.a.jf)+2;a.a.za.style.left=-a.la.h/(b+qf(a.ea)*c-a.c.O)*(I.B(a.c.O,!1)-4-a.a.kf)+2+"px";a.a.xa.style.top=d+"px"}function oe(a){if(a.b){var b=a.c.O,c=a.c.K;if(!(0>=b||0>=c)){a.Ek=!1;var d=a.b.l,e=a.b.dq;if(null!==e&&e!==d){var e=e.ub,d=a.Pa+a.la.h+e.h*a.k,e=a.Pa+a.la.g+e.g*a.k,f=a.a.ee.d.a.getContext("2d");d>=-a.k&&d<=b+a.k&&e>=-a.k&&e<=c+a.k&&f.drawImage(a.c.uj,d,e)}}}}l.Ki=function(){var a=this.b.Ea;return null===a.aa.Db?y.aa.Db:a.aa.Db};l.tl=function(){var a=this.b.Ea;return null===a.aa.Nb?y.aa.Nb:a.aa.Nb};l.Ji=function(){var a=this.b.Ea;return null===a.aa.Mb?y.aa.Mb:a.aa.Mb};l.ul=function(){var a=this.b.Ea;return null===a.aa.Tb?y.aa.Tb:a.aa.Tb};l.sl=function(){var a=this.b.Ea;return null===a.aa.Rb?y.aa.Rb:a.aa.Rb};l.eh=function(){var a=this.b.Ea;return null===a.aa.Hb?y.aa.Hb:a.aa.Hb};l.Ye=function(){var a=this.b.Ea;return null===a.aa.Sb?y.aa.Sb:a.aa.Sb};l.Vc=function(){var a=this.b.Ea;return null===a.aa.Lb?y.aa.Lb:a.aa.Lb};l.ba=function(a,b,c){var d=document.createElement("canvas");d.width=a;d.height=b;d.getContext("2d").putImageData(c,0,0);return d};var pe=-9,qe=-8,re=-7;function vf(a,b,c){this.V=a;this.ta=b;this.si=c}vf.prototype.ig=function(){return!1};vf.prototype.W=function(){return this.si};vf.prototype.gf=function(){if(-10!==this.V)if(pe===this.V){if(this.ta.gf()&&0<vc(this.ta)&&this.ta.W().ub.g>=this.si.ub.g)return{Pd:!0}}else if(qe===this.V){if(!this.ta.gf())return{Pd:!1};var a=this.si.ub.g,b=this.ta.W().ub.g;if(a<b)return{Pd:!0,Vm:0};if(a===b)return{Pd:!0,Vm:1}}else if(re===this.V)return{Pd:this.si.gf()};return{Pd:!1}};function mf(){this.ea=[];this.b=null;this.Qb=0}l=mf.prototype;l.Uj=function(a){this.b=a};l.Xa=function(){this.ea=[];this.Qb=0};l.lc=function(){this.b&&(this.Xa(),wf(this,this.b.Ib(),0,0))};function wf(a,b,c,d){var e,f=1;for(e=b;0<vc(e);)f++,e=e.W(0);for(e=f;!xf(a,c,d,e);)d++;var f=c,g=d,h=b;for(a.Set(f,g,b);0<vc(h);)f++,h=h.W(0),a.Set(f,g,h);f=yf(b);c+=e-1;for(e={on:d};;){for(var g=d,h=a.Qb,k=vc(f),m=1;m<k;m++){a.Qb=h;var n=d,p=wf(a,f.W(m),c+1,d+1);d=p.g;for(n+=1;n<=d;n++)if(n===p.on)if(k-1===m){a.Set(c,n,new vf(re,f,f.W(m)));break}else a.Set(c,n,new vf(qe,f,f.W(m)));else n<p.on?a.Set(c,n,new vf(pe,f,f.W(m))):a.Set(c,n,new vf(pe,f,f.W(m+1)))}a.Qb=h;if(f===b)break;f.ad()&&a.Qb--;f=f.ta;c--;d=g}e.g=d;return e}l.P=function(a,b){return void 0===this.ea[b]||void 0===this.ea[b][a]?new vf(-10,null,null):this.ea[b][a]};l.Set=function(a,b,c){void 0===this.ea[b]&&(this.ea[b]=[]);if(c.ig())if(c.ad()){this.Qb++;var d=this.Qb;c.ub.h=a;c.ub.g=b;c.ub.Dh=d}else c.ub.h=a,c.ub.g=b,c.ub.Dh=-1;this.ea[b][a]=c};function xf(a,b,c,d){for(var e=0;e<d;e++){var f=b+e;if(!1===(void 0===a.ea[c]||void 0===a.ea[c][f]||-10===a.ea[c][f].V?!0:!1))return!1}return!0}function qf(a){for(var b=0,c=a.ea.length,d=0;d<c;d++){var e=a.ea[d].length;e>b&&(b=e)}return b};function zf(a){if(this.b=a)a.f=this;this.lb=null;this.X=[];this.a={Hj:null,ue:null,Gm:null,zm:null,Ch:null,Fh:null,nh:null};this.kd=this.gi=this.tc=0}l=zf.prototype;l.q=function(a,b){Af(this,b);var c=this.b,d=E(a),e=a+"_Board",f=a+"_Message",g=a+"_Next";this.N(d.a,e);var h=this.N(d.a,g),k=this.N(d.a,f);k.style.backgroundColor="rgb(255,255,255)";k.style["border-radius"]="6px";k.style["-webkit-border-radius"]="6px";k.style["-moz-border-radius"]="5px";k.style["-khtml-border-radius"]="10px";k.style.borderColor="#e3e3e3";k.style.borderWidth="5px";k.style.borderStyle="ridge";k.style.display="block";var m=E(e);m.j.n(0,0,1E3,1E3,!1,!1,!1,!1,-1,-1);m.p=L|M|O|N;d.m(m);this.N(m.a,e+"_Centred");var n=E(e);m.fb(2);m.m(n);m=E(f);m.j.n(350,350,650,650,!1,!1,!1,!1,-1,-1);m.p=L|M|O|N;d.m(m);n=new aa(this);n.q(e,c);n.Oe=this;var p=E(g);p.j.n(0,0,1E3,1E3,!1,!1,!1,!1,-1,-1);p.p=L|M|O|N;d.m(p);c=g+"_Centred";this.N(p.a,c);e=E(c);p.fb(2);p.m(e);p=c+"_Next";g=Bf(e.a,p);g.value="\u0414\u0430\u043b\u0435\u0435";g.style.display="none";var r=c+"_Prev",c=Bf(e.a,r);c.value="\u041d\u0430\u0437\u0430\u0434";c.style.display="none";var q=this;g.addEventListener("click",function(){q.a.Ch.style.display="none";q.a.Fh.style.display="none";Cf(q)},!1);c.addEventListener("click",function(){q.a.Ch.style.display="none";q.a.Fh.style.display="none";Df(q)},!1);p=E(p);p.j.n(501,0,2,2,!1,!1,!0,!0,-1,25);p.p=M|O|N;e.m(p);p=E(r);p.j.n(2,0,499,2,!0,!1,!1,!0,-1,25);p.p=M|O|N;e.m(p);var u=f+"_Text",r=f+"_Next",v=f+"_Prev",f=this.N(k,u);f.style.fontFamily="verdana";f.style.textAlign="justify";f.style.Kp="center";f.style.overflowY="scroll";e=Bf(k,r);p=Bf(k,v);p.addEventListener("click",function(){Df(q)},!1);e.addEventListener("click",function(){Cf(q)},!1);u=E(u);u.j.n(0,0,1E3,35,!1,!1,!1,!0,-1,-1);u.p=L|M|N|O;m.m(u);r=E(r);r.j.n(0,0,5,5,!1,!1,!0,!0,100,25);r.p=N|O;m.m(r);r=E(v);r.j.n(5,0,0,5,!0,!1,!1,!0,100,25);r.p=N|M;m.m(r);this.a.Hj=k;this.a.ue=f;this.a.Gm=p;this.a.zm=e;this.a.Ch=g;this.a.Fh=c;this.a.nh=h;this.X.push(n);this.lb=d;this.s();Ef(this,0,0)};l.s=function(a){this.lb&&this.lb.zb(this.lb.a.clientWidth,this.lb.a.clientHeight);for(var b=0,c=this.X.length;b<c;b++)this.X[b].s(a)};function Tb(a){return null===a.Ca[a.tc].Ab||void 0===a.Ca[a.tc].Ab.kj?0:a.Ca[a.tc].Ab.kj}function Ub(a){null!==a.Ca[a.tc].Ab&&!0===a.Ca[a.tc].Ab.Ep?(a.a.nh.style.display="block",a.a.Ch.style.display="block",a.a.Fh.style.display="block"):a.ps(a.tc,2)}l.Im=function(){};l.Ld=function(){};l.qc=function(){};l.rk=function(){};l.tk=function(){};l.sk=function(){};l.uk=function(){};l.Md=function(){};l.rg=function(){};l.Kj=function(){};l.Cm=function(){};function Af(a,b){var c=b.length;a.gi=c;a.Ca=[];for(var d=0;d<c;d++)a.Ca[d]={},a.Ca[d].dk=b[d].Sgf,a.Ca[d].fr=b[d].Before,a.Ca[d].er=b[d].After,a.Ca[d].Gj=b[d].Message,null===b[d].SgfPr?a.Ca[d].Ab=null:(a.Ca[d].Ab={},a.Ca[d].Ab.kj=b[d].SgfPr.Count,a.Ca[d].Ab.Ep=b[d].SgfPr.WaitOnEnd,a.Ca[d].Ab.fg={},b[d].SgfPr.Flags&&(a.Ca[d].Ab.fg.Bh=b[d].SgfPr.Flags.NewNode,a.Ca[d].Ab.fg.lg=b[d].SgfPr.Flags.Move,a.Ca[d].Ab.fg.hj=b[d].SgfPr.Flags.ChangeBoardMode,a.Ca[d].Ab.fg.Dj=b[d].SgfPr.Flags.LoadFile))}function Cf(a){var b=a.tc;0===a.kd?null!==a.Ca[b].dk?Ef(a,b,1):(a.kd=1,Cf(a)):1!==a.kd||b>=a.gi-1||(null!==a.Ca[b+1].Gj?Ef(a,b+1,0):(a.tc++,a.kd=0,Cf(a)))}function Df(a){var b=a.tc;0===a.kd?0>=b||(null!==a.Ca[b-1].dk?Ef(a,b-1,1):(a.tc--,a.kd=1,Df(a))):1===a.kd&&(null!==a.Ca[b].Gj?Ef(a,b,0):(a.kd=0,Df(a)))}function Ef(a,b,c){if(!(0>b||b>=a.gi)){a.tc=b;a.kd=c;var d=a.Ca[b].dk,e=a.Ca[b].Ab,f=a.Ca[b].Gj;if(0===c)if(a.a.nh.style.display="block",null!==f){c=0===b?null:"\u041d\u0430\u0437\u0430\u0434";b=b===a.gi-1&&null===d?null:"\u0414\u0430\u043b\u0435\u0435";d=a.a.Gm;e=a.a.zm;for(a.a.Hj.style.display="block";a.a.ue.firstChild;)a.a.ue.removeChild(a.a.ue.firstChild);Od(a.a.ue,"");"string"===typeof f?Od(a.a.ue,f):a.a.ue.appendChild(f);null===c?d.style.display="none":(d.style.display="block",d.value=c);null===b?e.style.display="none":(e.style.display="block",e.value=b)}else Cf(a);else 1===c&&(a.a.nh.style.display="none",null!==d?(a.a.Hj.style.display="none",a.b.I=4294967295,a.b.cd(d),Zd(a.b,e.fg),a.b.Sa()):Cf(a))}}l.N=function(a,b){var c=document.createElement("div");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};function Bf(a,b){var c=document.createElement("input");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("type","button");a.appendChild(c);return c};var Ff=0,Gf=0,Hf=1;function If(a,b){this.f=a;this.b=null;this.V=b?b:Ff;this.a={d:null,ym:null,xp:null,qe:null};this.fl=new A(217,217,217,255);this.iq=new A(80,80,80,255);this.mq=new A(190,190,190,255);this.Po=new A(80,80,80,255);this.oq=new A(130,130,130,255);this.ab=this.vf=this.A=0;this.Qc=this.Je=17;this.Bg=!1;var c=this;this.xq=function(a){var b=c.A-c.ab;0!==b&&(Le(c,(a-c.Qc)/b,!1),Jf(c,!1))};this.vl=function(){c.Bg=!0;Jf(c,!1)};this.zq=function(a){c.Bg=!1;var b=c.A-c.ab;0!==b&&(Le(c,(a-c.Qc)/b,!1),Jf(c,!0))}}If.prototype.q=function(a){this.b=this.f?this.f.b:null;switch(this.V){case Gf:this.f.Rg=this;break;case Hf:this.f.il=this}this.a.d=E(a);var b=this.a.d.a;b.style.backgroundColor=R(this.fl);b.style.us=R(new A(255,255,255,255));var c=a+"_Left",d=a+"_Right";a=a+"_Slider";this.a.xp=this.Ga(b,d);this.a.ym=this.Ga(b,c);this.a.qe=this.Ga(b,a);var e=this;this.a.qe.onmouseover=function(){this.style.backgroundColor=R(e.oq)};this.a.qe.onmouseout=function(){this.style.backgroundColor=R(e.Po)};b=E(d);b.j.n(this.Qc,this.Je-1,this.Qc,this.Je-1,!0,!0,!0,!0,-1,-1);b.p=L|M|N|O;this.a.d.m(b);b.a.style.background=R(this.mq);c=E(c);c.j.n(this.Qc,this.Je,500,this.Je,!0,!0,!1,!0,-1,-1);c.p=L|M|N|O;this.a.d.m(c);c.a.style.background=R(this.iq);this.s();Le(this,0)};If.prototype.s=function(){var a=this.a.d.a.clientWidth,b=this.a.d.a.clientHeight;this.A=a-2*this.Qc;this.a.d.zb(a,b);this.jc(a,b);Le(this,this.vf,!0)};If.prototype.jc=function(a){var b=32;switch(this.V){case Gf:b=45;break;case Hf:b=32}this.ab=b;var c=this.a.qe;c.style.width=b+"px";c.style.height="12px";c.style.display="block";c.style.position="absolute";c.style.backgroundColor=R(this.Po);c.style.top=this.Je-5+"px";c.style.left=this.Qc+"px";c.style.borderRadius="5px";tf(c,this.Qc,a-this.Qc-b,this.Je-5,this.Je-5);c.Ub=this.xq;c.Wb=this.vl;c.Vb=this.zq;c.style.fontSize="12px";c.style.lineHeight="12px";c.style.color="rgb(255,255,255)";c.style.textOverflow="clip";c.style.overflow="hidden";c.style.textAlign="center";c.style.cursor="default";c.style.transitionProperty="background";c.style.transitionDuration="0.25s";c.style.fontFamily='"Times New Roman", Times, serif'};If.prototype.Ga=function(a,b){var c=document.createElement("div");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};function Le(a,b,c){a.vf=Math.min(1,Math.max(b,0));a.a.ym.style.width=a.vf*a.A+"px";!1!==c&&(a.a.qe.style.left=a.vf*(a.A-a.ab)+a.Qc+"px")}function Jf(a,b){if(a.b)switch(a.V){case Gf:var c=a.b,d=a.vf;c.Dg=d;if(c.f){var e=c.f;e.Rg&&(e=e.Rg,!0!==e.Bg&&Le(e,d,!0))}null!==c.hd&&c.qg();b?Od(a.a.qe,""):Od(a.a.qe,((100+6900*(1-a.b.Dg))/1E3*1E3|0)/1E3+" s");break;case Hf:c=a.b;d=c.Ta;for(e=1;0<vc(d);)e++,d=d.W();d=a.vf*(e-1);for(e=c.Ta;0<vc(e)&&0<d;)d--,e=e.W();c.ia(e)}};var se=0,te=1,ue=2,ve=3;function Kf(){this.R={Db:!0,Nb:!0,Hb:new A(231,188,95,255),ve:!0,Mb:!0,Tb:new A(255,255,255,255),Rb:new A(0,0,0,255),Sb:new A(0,0,0,255),Lb:!1};this.aa={Db:!0,Nb:!0,Hb:new A(231,188,95,255),Mb:!0,Tb:new A(255,255,255,255),Rb:new A(0,0,0,255),Sb:new A(0,0,0,255),Lb:!1}}function Lf(a,b){var c=!0,d=!0,e=null,f=!0,g=!0,h=new A(255,255,255,255),k=new A(0,0,0,255),m=new A(0,0,0,255),n=!1;switch(b){default:case 1:g=f=d=c=!0;e=new A(231,188,95,255);m=new A(0,0,0,255);break;case 2:g=f=d=c=!1;e=new A(255,255,255,255);m=new A(0,0,0,255);break;case 3:g=f=d=c=!1;e=new A(231,188,95,255);m=new A(0,0,0,255);break;case 4:g=f=d=c=!1,n=!0,e=new A(30,30,30,255),h=new A(220,220,220,220),m=new A(255,255,255,255)}var p=!1,r=!1;if(a.R.Db!==c||a.R.Nb!==d||!0!==Sd(a.R.Hb,e)||a.R.ve!==f||a.R.Mb!==g||!0!==Sd(a.R.Tb,h)||!0!==Sd(a.R.Rb,k)||!0!==Sd(a.R.Sb,m)||a.R.Lb!==n)a.R.Db=c,a.R.Nb=d,a.R.Hb=e,a.R.ve=f,a.R.Mb=g,a.R.Tb=h,a.R.Rb=k,a.R.Sb=m,a.R.Lb=n,p=!0;if(a.aa.Db!==c||a.aa.Nb!==d||!0!==Sd(a.aa.Hb,e)||a.aa.Mb!==g||!0!==Sd(a.aa.Tb,h)||!0!==Sd(a.aa.Rb,k)||!0!==Sd(a.aa.Sb,m)||a.aa.Lb!==n)a.aa.Db=c,a.aa.Nb=d,a.aa.Hb=e,a.aa.Mb=g,a.aa.Tb=h,a.aa.Rb=k,a.aa.Sb=m,a.aa.Lb=n,r=!0;return{ga:p,Navigator:r}}function Mf(){Mf.u.constructor.call(this);this.Jk=!0;this.Ck=this.$b=this.Dk=!1;this.Ok=te;this.Nk=3;this.ze=this.rf=this.Be=this.xe=this.ye=this.Ce=this.Ae=this.De=!0}ad(Mf,Kf);function De(){var a=y;a.De="0"===Nf("ShowTarget")?!1:!0;a.Ck="1"===Nf("CycleThroughVariants")?!0:!1;a.Jk="0"===Nf("Sound")?!1:!0;var b=Nf("NavigatorLabels");a.Ok=b&&""!==b?parseInt(b):te;var b=1,c=Nf("ColorScheme");"BookStyle"===c?b=2:"SimpleColor"===c?b=3:"Dark"===c&&(b=4);a.Hh(b);a.Dk="1"===Nf("LoadUnfinishedFilesOnLastNode")?!0:!1;b=Nf("ShowVariants");a.Nk=b&&""!==b?parseInt(b):3;a.$b="1"===Nf("Rulers")?!0:!1;a.Ae="0"!==Nf("MultiLevelToolbarMainNavigation");a.Ce="0"!==Nf("MultiLevelToolbarTreeNavigation");a.ye="0"!==Nf("MultiLevelToolbarGeneral");a.xe="1"===Nf("MultiLevelToolbarAutoPlay");a.Be="1"===Nf("MultiLevelToolbarTimeline");a.rf="0"!==Nf("MultiLevelToolbarNavigationMap");a.ze="1"===Nf("MultiLevelToolbarKifuMode")}l=Mf.prototype;l.og=function(a){this.Jk=a;Of("Sound",!0===a?"1":"0")};l.jg=function(){return this.Jk};l.Jh=function(a){this.$b=a;Of("Rulers",!0===a?"1":"0")};l.Xj=function(a){this.Dk=a;Of("LoadUnfinishedFilesOnLastNode",!0===a?"1":"0")};l.hg=function(){return this.Dk};l.Sj=function(a){this.Ck=a;Of("CycleThroughVariants",!0===a?"1":"0")};l.le=function(){return this.Ck};l.dd=function(a){this.De=a;Of("ShowTarget",!0===a?"1":"0")};l.ne=function(){return this.De};l.Hh=function(a){switch(a){case 1:Of("ColorScheme","TrueColor");break;case 2:Of("ColorScheme","BookStyle");break;case 3:Of("ColorScheme","SimpleColor");break;case 4:Of("ColorScheme","Dark")}return Lf(this,a)};l.cf=function(){return this.Ok};l.Zj=function(a){this.Ok=a;Of("NavigatorLabels",a)};l.fe=function(){return this.Nk};l.Wj=function(a){this.Nk=a;Of("ShowVariants",a)};l.lk=function(){this.Ae=!this.Ae;Of("MultiLevelToolbarMainNavigation",!0===this.Ae?"1":"0");return this.Ae};l.ok=function(){this.Ce=!this.Ce;Of("MultiLevelToolbarTreeNavigation",!0===this.Ce?"1":"0");return this.Ce};l.jk=function(){this.ye=!this.ye;Of("MultiLevelToolbarGeneral",!0===this.ye?"1":"0");return this.ye};l.ik=function(){this.xe=!this.xe;Of("MultiLevelToolbarAutoPlay",!0===this.xe?"1":"0");return this.xe};l.nk=function(){this.Be=!this.Be;Of("MultiLevelToolbarTimeline",!0===this.Be?"1":"0");return this.Be};l.mk=function(){this.rf=!this.rf;Of("MultiLevelToolbarNavigationMap",!0===this.rf?"1":"0");return this.rf};l.kk=function(){this.ze=!this.ze;Of("MultiLevelToolbarKifuMode",!0===this.ze?"1":"0");return this.ze};var y=new Mf;function Pf(a){Pf.u.constructor.call(this);this.R={Db:null,Nb:null,Hb:null,ve:null,Mb:null,Tb:null,Rb:null,Sb:null,Lb:null};this.aa={Db:null,Nb:null,Hb:null,Mb:null,Tb:null,Rb:null,Sb:null,Lb:null};this.b=a;this.De=null;this.$h=!1}ad(Pf,Kf);Pf.prototype.Hh=function(a){return null!==a?Lf(this,a):{ga:!0,Navigator:!0}};Pf.prototype.ne=function(){return null===this.De?y.ne():this.De};Pf.prototype.dd=function(a){this.De=a};function Qf(){this.Rl=this.Ql=this.Pl=this.Ol=this.Fm=null;this.Wn=!1;this.sf=!0}Qf.prototype.q=function(a){var b=document.getElementsByTagName("body");if(!(0>=b.length)){this.sf=!0;var c="",d=navigator.userAgent;-1!=d.indexOf("Opera")?c="Opera":-1!=d.indexOf("Chrome")?c="Chrome":-1!=d.indexOf("MSIE")?c="IE":-1!=d.indexOf("Safari")?c="Safari":-1!=d.indexOf("Mozilla")&&(c="Mozilla");"IE"===c&&(this.Wn=!0);b=b[0];this.Fm=Rf(b,"GoBoardApiSoundPlaceStone",a+"/Stone.mp3");this.Ol=Rf(b,"GoBoardApiSoundCapture1",a+"/Capture1.mp3");this.Pl=Rf(b,"GoBoardApiSoundCapture3",a+"/Capture3.mp3");this.Ql=Rf(b,"GoBoardApiSoundCapture5",a+"/Capture5.mp3");this.Rl=Rf(b,"GoBoardApiSoundCaptureN",a+"/CaptureN.mp3");Rf(b,"GoBoardApiSoundNewMessage",a+"/NewMessage.mp3");Rf(b,"GoBoardApiSoundFemale10","");Rf(b,"GoBoardApiSoundFemale9","");Rf(b,"GoBoardApiSoundFemale8","");Rf(b,"GoBoardApiSoundFemale7","");Rf(b,"GoBoardApiSoundFemale6","");Rf(b,"GoBoardApiSoundFemale5","");Rf(b,"GoBoardApiSoundFemale4","");Rf(b,"GoBoardApiSoundFemale3","");Rf(b,"GoBoardApiSoundFemale2","");Rf(b,"GoBoardApiSoundFemale1","");Rf(b,"GoBoardApiSoundTick","/Src/Files/Tick.ogg");Rf(b,"GoBoardApiSoundTickLast3","/Src/Files/TickLast3.ogg");Rf(b,"GoBoardApiSoundBeep","/Src/Files/Beep.wav");Rf(b,"GoBoardApiSoundBeepBeep","/Src/Files/BeepBeep.wav");Rf(b,"GoBoardApiSoundChallenger","/Src/Files/Challenger.wav")}};function Sf(a,b){1>=b?Tf(a,a.Ol):3>=b?Tf(a,a.Pl):5>=b?Tf(a,a.Ql):Tf(a,a.Rl)}function Rf(a,b,c){var d=document.getElementById(b);d||(d=document.createElement("audio"),d.id=b,d.i="preload",d.src=c,a.appendChild(d));return d}function Tf(a,b){if(b&&a.sf&&y.jg())try{a.Wn?(b.setActive(),b.click(),b.autoplay="",b.autoplay="autoplay"):b.play().then(function(){})["catch"](function(){})}catch(c){}};function Id(a){this.f=a;this.b=null;this.a={d:null};this.el=new A(217,217,217,255);this.Wh=[];this.xg=[]}function T(a,b,c,d){a.xg.push(new Uf(b,c,d))}Id.prototype.q=function(a,b){this.b=b;this.a.d=E(a);var c=this.a.d.a,d=this.a.d;c.style.backgroundColor=R(this.el);for(var e=0,f=0,g=0,h=this.xg.length;g<h;++g){var k=this.xg[g],m=k.lb;if(null!==m){var n=a+g;this.Ga(c,n);V===k.Xp?(this.Ma(d,n,e,k.A,!0),e+=k.A+k.Yk):(this.Ma(d,n,f,k.A,!1),f+=k.A+k.Yk);m.q(n,b);this.Wh.push(m)}}this.s()};Id.prototype.s=function(){this.a.d.zb(this.a.d.a.clientWidth,this.a.d.a.clientHeight);for(var a=0,b=this.Wh.length;a<b;a++)this.Wh[a].s()};function Vf(a){for(var b=0,c=0,d=a.xg.length;c<d;++c){var e=a.xg[c],f=e.A;-1===f&&(f=16777215);b+=f+e.Yk}return b}Id.prototype.Ga=function(a,b){var c=document.createElement("div");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};Id.prototype.Ma=function(a,b,c,d,e){b=E(b);e?(b.j.n(c,0,1E3,1E3,!0,!1,!1,!1,d,-1),b.p=L|M|N):(b.j.n(0,0,c,1E3,!1,!1,!0,!1,d,-1),b.p=L|O|N);a.m(b)};function Je(a){this.f=a;this.b=null;this.a={d:null,hr:{d:null},ir:{d:null}};this.el=new A(217,217,217,255);this.ki=this.ri=this.Wd=this.Me=null;this.Wh=[]}l=Je.prototype;l.q=function(a,b,c,d){this.b=b;this.a.d=E(a);var e=this.a.d.a,f=this.a.d;e.style.backgroundColor=R(this.el);var g=new Dd(this.f),h=a+"C";this.Ga(e,h);this.Ma(f,h,0);g.q(h,b);this.Wd=g;g=new Ed(this.f);a=a+"N";this.Ga(e,a);this.Ma(f,a,1);g.q(a,b);this.Me=g;this.Me.hl=this;this.Wd.hl=this;this.ri=document.getElementById(c);this.ki=document.getElementById(d);this.pe(this.Wd);this.s()};l.s=function(){this.a.d.zb(this.a.d.a.clientWidth,this.a.d.a.clientHeight);this.Me.s();this.Wd.s()};l.Ga=function(a,b){var c=document.createElement("div");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};l.Ma=function(a,b,c){b=E(b);b.j.n(0,36*c+c,1E3,0,!1,!0,!1,!1,-1,36);b.p=L|M|O;a.m(b)};l.pe=function(a){a===this.Me?(Yc(this.Me,!0),Yc(this.Wd,!1),this.ri.style.visibility="visible",this.ki.style.visibility="hidden"):a===this.Wd?(Yc(this.Me,!1),Yc(this.Wd,!0),this.ri.style.visibility="hidden",this.ki.style.visibility="visible"):(Yc(this.Me,!1),Yc(this.Wd,!1),this.ri.style.visibility="hidden",this.ki.style.visibility="hidden")};var V=1,Be=2;function Uf(a,b,c){this.lb=a;this.A=b;this.Yk=1;this.Xp=c}function Ge(a){this.f=a;this.a={d:null,ck:null,Bp:null,vj:null,bm:null,Si:null,Fl:null,hk:null,an:null,cm:null,wj:null,pk:null,gn:null,um:null,Bj:null};this.Tn=y.Ae;this.Zn=y.Ce;this.Un=y.ye;this.Sn=y.xe;this.Yn=y.Be;this.Xn=y.ze;this.L=this.A=-1;this.Ig=36;this.qo=1;this.to=110;this.If=new Id(a);T(this.If,new Bd(a),36,V);this.f&&this.f.b&&!0!==this.f.b.Ea.$h?T(this.If,new xd(a),36,V):this.to=73;T(this.If,new yd(a,this),36,V);this.qd=new Id(a);T(this.qd,new $c(a),36,V);T(this.qd,new bd(a),36,V);T(this.qd,new dd(a),36,V);T(this.qd,new ed(a),36,V);T(this.qd,new fd(a),36,V);T(this.qd,new gd(a),36,V);this.Xg=new Id(a);T(this.Xg,new hd(a),36,V);T(this.Xg,new id(a),36,V);this.Gf=new Id(a);T(this.Gf,new Ad(a),73,V);T(this.Gf,new Fd(a),36,V);T(this.Gf,new Vc(a),36,V);this.Sg=new Id(a);T(this.Sg,new sd(a),36,V);T(this.Sg,new If(a,Gf),-1,V);this.xi=new Id(a);T(this.xi,new If(a,Hf),-1,V);this.Vg=new Id(a);T(this.Vg,new Xd(a),36,V);T(this.Vg,new Yd(a),36,V);this.Sk=1;this.X=[];this.kl=null}l=Ge.prototype;l.q=function(a){this.a.d=E(a);var b=this.a.d.a,c=this.a.d,d=a+"SS",e=a+"GN",f=a+"TN",g=a+"GL",h=a+"AP",k=a+"TL";a=a+"KF";this.a.Bp=Wf(b,d);this.a.cm=Wf(b,e);this.a.gn=Wf(b,f);this.a.bm=Wf(b,g);this.a.Fl=Wf(b,h);this.a.an=Wf(b,k);this.a.um=Wf(b,a);this.a.ck=E(d);c.m(this.a.ck);this.If.q(d,this.f.b);this.a.wj=E(e);c.m(this.a.wj);this.qd.q(e,this.f.b);this.a.pk=E(f);c.m(this.a.pk);this.Xg.q(f,this.f.b);this.a.vj=E(g);c.m(this.a.vj);this.Gf.q(g,this.f.b);this.a.Si=E(h);c.m(this.a.Si);this.Sg.q(h,this.f.b);this.a.hk=E(k);c.m(this.a.hk);this.xi.q(k,this.f.b);this.a.Bj=E(a);c.m(this.a.Bj);this.Vg.q(a,this.f.b);Xf(this);Yf(this)};l.mc=function(){var a=Math.max(this.Sk,1);return a*this.Ig+(a-1)*this.qo};l.s=function(a){var b=this.a.d.a.clientWidth,c=this.a.d.a.clientHeight;if(b!==this.A||c!==this.L||!0===a)for(this.A=b,this.L=c,this.Ia(),this.a.d.zb(b,c),this.If.s(),a=0,b=this.X.length;a<b;++a)this.X[a].s()};function He(a,b){a.kl=b}l.Yj=function(a){this.Tn=a;this.Ia();this.s(!0)};l.bk=function(a){this.Zn=a;this.Ia();this.s(!0)};l.Vj=function(a){this.Un=a;this.Ia();this.s(!0)};l.Oj=function(a){this.Sn=a;this.Ia();this.s(!0)};l.Qj=function(a){this.Yn=a;this.Ia();this.s(!0)};l.Pj=function(a){this.Xn=a;this.Ia();this.s(!0)};l.Ia=function(){Xf(this);Yf(this);this.kl&&this.kl()};function Xf(a){a.X=[];Zf(a,a.Tn,a.qd,a.a.cm);Zf(a,a.Zn,a.Xg,a.a.gn);Zf(a,a.Un,a.Gf,a.a.bm);Zf(a,a.Sn,a.Sg,a.a.Fl);Zf(a,a.Yn,a.xi,a.a.an);Zf(a,a.Xn,a.Vg,a.a.um)}function Zf(a,b,c,d){!0===b?(a.X.push(c),d.style.display="block"):d.style.display="none"}function Yf(a){var b=a.a.d.a.clientWidth;a.Sk=1;var c=a.a.ck;c.j.n(0,0,0,1E3,!1,!0,!0,!1,a.to,a.Ig);c.p=L|O;for(var c=b-Vf(a.If),d=0,e=0,f=0,g=a.X.length;f<g;++f){var h=a.X[f],k=Vf(h),m=null;h===a.qd?m=a.a.wj:h===a.Xg?m=a.a.pk:h===a.Gf?m=a.a.vj:h===a.Sg?m=a.a.Si:h===a.xi?m=a.a.hk:h===a.Vg&&(m=a.a.Bj);if(h=m).1>=d||d+k<c?h.j.n(d,e,1E3,1E3,!0,!0,!0,!1,Math.min(k,c),a.Ig):(c=b,a.Sk++,d=0,e+=a.Ig+a.qo,h.j.n(d,e,1E3,1E3,!0,!0,!0,!1,Math.min(k,c-d),a.Ig)),h.p=L|M,d+=k}};function $f(){this.Xh=[];this.pd=null;this.Ic=[]}$f.prototype.q=function(a,b,c,d){var e=d?d:200,f=document.getElementById(a);a=document.createElement("div");a.style.position="absolute";a.style.left="0px";a.style.top="0px";a.style.bottom="0px";a.style.width=e-1+"px";a.style.borderRight="1px solid #cbcbcb";f.appendChild(a);d=document.createElement("div");d.style.position="absolute";d.style.left=e+"px";d.style.top="0px";d.style.bottom="0px";d.style.right="0px";f.appendChild(d);e=0;for(f=b.length;e<f;e++)ag(this,a,b[e],d);(b=this.Xh[c?c:0])&&bg(this,b)};function ag(a,b,c,d){var e=document.createElement("div");b.appendChild(e);e.style.color="rgb(68, 68, 68)";e.addEventListener("mouseenter",function(){a.pd!==this&&(this.style.backgroundColor="rgb(241, 241, 241)")},!1);e.addEventListener("mouseleave",function(){a.pd!==this&&(this.style.backgroundColor="")},!1);e.addEventListener("click",function(){bg(a,this)},!1);b=document.createElement("div");e.appendChild(b);b.style.padding="7px 2px 7px 20px";var f=document.createElement("div");b.appendChild(f);f.style["-webkit-user-select"]="none";f.style.borderCollapse="collapse";f.style.boxSizing="border-box";f.style.cursor="pointer";f.style.display="block";f.style.fontFamily="Helvetica Neue', Helvetica, Arial, sans-serif";f.style.fontSize="16px";f.style.height="17px";f.style.lineHeight="17.142858505249px";f.style.width="177px";Od(f,c);f=document.createElement("div");f.style.display="none";f.style.width="100%";f.style.height="100%";d.appendChild(f);a.Ic.push(f);a.Xh.push(e)}function bg(a,b){if(a.pd!==b){if(null!==a.pd){a.pd.style.backgroundColor="";a.pd.style.color="rgb(68, 68, 68)";var c=cg(a,a.pd);a.Ic[c]&&(a.Ic[c].style.display="none")}a.pd=b;b.style.backgroundColor="#7d858c";b.style.color="#fff";c=cg(a,a.pd);a.Ic[c]&&(a.Ic[c].style.display="block")}}function cg(a,b){for(var c=0,d=a.Xh.length;c<d;c++)if(b===a.Xh[c])return c;return-1};function dg(){this.a={d:null,eb:null,bd:null,Sl:null,ce:null,Nl:null,hp:null,je:null,Fd:null,Ed:null,Gd:null,$c:null,Bc:null,Ac:null,nc:null};this.lq=new A(166,166,166,255);this.fq=new A(185,185,185,255);this.fl=new A(217,217,217,255);this.f=null;this.L=this.A=-1;this.Cg=!1;this.Uo=null;var a=this;this.Cq=function(){var b=parseInt(a.a.d.a.style.left),c=parseInt(a.a.d.a.style.width),d=parseInt(a.a.je.style.left);60>c-d||(a.a.d.a.style.left=b+d+"px",a.a.d.a.style.width=c-d+"px");a.a.je.style.left="0px";a.s()};this.Fq=function(){var b=parseInt(a.a.d.a.style.width),c=parseInt(a.a.Fd.style.left)+6-b;60>b+c?a.a.Fd.style.left=b-6+"px":(a.a.d.a.style.width=b+c+"px",a.a.Fd.style.left=b+c-6+"px",a.s())};this.yq=function(){var b=parseInt(a.a.d.a.style.height),c=parseInt(a.a.Ed.style.top)+6-b;60>b+c?a.a.Ed.style.top=b-6+"px":(a.a.d.a.style.height=b+c+"px",a.a.Ed.style.top=b+c-6+"px",a.s())};this.Hq=function(){var b=parseInt(a.a.d.a.style.top),c=parseInt(a.a.d.a.style.height),d=parseInt(a.a.Gd.style.top);60>c-d?a.a.Gd.style.top="0px":(a.a.d.a.style.top=b+d+"px",a.a.d.a.style.height=c-d+"px",a.a.Gd.style.top="0px",a.s())};this.Dq=function(){var b=parseInt(a.a.d.a.style.top),c=parseInt(a.a.d.a.style.height),d=parseInt(a.a.$c.style.top);60>c-d||(a.a.d.a.style.top=b+d+"px",a.a.d.a.style.height=c-d+"px");a.a.$c.style.top="0px";b=parseInt(a.a.d.a.style.left);c=parseInt(a.a.d.a.style.width);d=parseInt(a.a.$c.style.left);60>c-d||(a.a.d.a.style.left=b+d+"px",a.a.d.a.style.width=c-d+"px");a.a.$c.style.left="0px";a.s()};this.Gq=function(){var b=parseInt(a.a.d.a.style.top),c=parseInt(a.a.d.a.style.height),d=parseInt(a.a.Bc.style.top);60>c-d||(a.a.d.a.style.top=b+d+"px",a.a.d.a.style.height=c-d+"px");a.a.Bc.style.top="0px";b=parseInt(a.a.d.a.style.width);c=parseInt(a.a.Bc.style.left)+6-b;60>b+c?a.a.Bc.style.left=b-6+"px":(a.a.d.a.style.width=b+c+"px",a.a.Bc.style.left=b+c-6+"px");a.s()};this.Bq=function(){var b=parseInt(a.a.d.a.style.left),c=parseInt(a.a.d.a.style.width),d=parseInt(a.a.Ac.style.left);60>c-d||(a.a.d.a.style.left=b+d+"px",a.a.d.a.style.width=c-d+"px");a.a.Ac.style.left="0px";b=parseInt(a.a.d.a.style.height);c=parseInt(a.a.Ac.style.top)+6-b;60>b+c?a.a.Ac.style.top=b-6+"px":(a.a.d.a.style.height=b+c+"px",a.a.Ac.style.top=b+c-6+"px");a.s()};this.Eq=function(){var b=parseInt(a.a.d.a.style.width),c=parseInt(a.a.nc.style.left)+6-b;60>b+c?a.a.nc.style.left=b-6+"px":(a.a.d.a.style.width=b+c+"px",a.a.nc.style.left=b+c-6+"px");b=parseInt(a.a.d.a.style.height);c=parseInt(a.a.nc.style.top)+6-b;60>b+c?a.a.nc.style.top=b-6+"px":(a.a.d.a.style.height=b+c+"px",a.a.nc.style.top=b+c-6+"px");a.s()}}l=dg.prototype;l.q=function(a,b){function c(){D.tp()}function d(){D.Cp()}var e=this;this.Cg=!0;this.Uo=a;this.a.d=E(a);var f=this.a.d.a,g=this.a.d;f.style.border="1px solid "+R(this.lq);f.style.backgroundColor=R(this.fl);f.style.boxSizing="content-box";f.style.boxShadow="0px 1px 15px rgba(0,0,0,0.8)";f.addEventListener("mousedown",function(){e.Yf()},!1);var h=a+"_Inner",k=eg(f,h),h=E(h);h.j.n(6,29,8,8,!0,!0,!0,!0,-1,-1);h.p=L|M|N|O;g.m(h);k.style.border="1px solid "+R(this.fq);k.style.backgroundColor=R(new A(255,255,255,255));k.style.overflow="hidden";this.a.eb=k;this.a.bd=h;h=a+"_Caption";eg(f,h);k=E(h);k.j.n(0,0,1E3,1E3,!1,!1,!1,!1,-1,30);k.p=L|M|O;g.m(k);var m=h+"_Text",h=eg(f,m),m=E(m);m.j.n(15,0,55,1E3,!0,!1,!0,!1,-1,30);m.p=L|M|O|N;k.m(m);h.style.fontFamily="Tahoma, Sans serif";h.style.fontSize="13pt";h.style.textAlign="center";h.style.height="29px";h.style.lineHeight="29px";h.style.overflow="hidden";h.style.textOverflow="ellipsis";h.style["-o-text-overflow"]="ellipsis";h.style.cursor="default";Od(h,"Caption");this.a.Nl=h;this.a.hp=m;h=a+"_Caption2";k=eg(f,h);h=E(h);h.j.n(0,0,1E3,1E3,!1,!1,!1,!1,-1,30);h.p=L|M|O;g.m(h);this.a.ce=k;tf(k);k.Ub=function(){var a=parseInt(e.a.d.a.style.top),b=parseInt(e.a.ce.style.top);e.a.d.a.style.left=parseInt(e.a.d.a.style.left)+parseInt(e.a.ce.style.left)+"px";e.a.d.a.style.top=a+b+"px";e.a.ce.style.left="0px";e.a.ce.style.top="0px";e.s()};k.Wb=c;k.Vb=d;!1!==b&&(h=a+"_LeftHandler",k=eg(f,h),h=E(h),h.j.n(0,6,1E3,6,!1,!0,!1,!0,6,-1),h.p=L|M|N,g.m(h),k.style.cursor="w-resize",this.a.je=k,h=a+"_RightHandler",k=eg(f,h),h=E(h),h.j.n(0,6,0,6,!1,!0,!0,!0,6,-1),h.p=L|O|N,g.m(h),k.style.cursor="w-resize",this.a.Fd=k,h=a+"_BottomHandler",k=eg(f,h),h=E(h),h.j.n(6,0,6,0,!0,!1,!0,!0,-1,6),h.p=N|O|M,g.m(h),k.style.cursor="s-resize",this.a.Ed=k,h=a+"_TopHandler",k=eg(f,h),h=E(h),h.j.n(6,0,6,1E3,!0,!0,!0,!1,-1,6),h.p=L|O|M,g.m(h),k.style.cursor="s-resize",this.a.Gd=k,h=a+"_LeftTopHandler",k=eg(f,h),h=E(h),h.j.n(0,0,1E3,1E3,!1,!1,!1,!1,6,6),h.p=L|M,g.m(h),k.style.cursor="se-resize",this.a.$c=k,h=a+"_RightTopHandler",k=eg(f,h),h=E(h),h.j.n(0,0,0,1E3,!1,!1,!0,!1,6,6),h.p=L|O,g.m(h),k.style.cursor="ne-resize",this.a.Bc=k,h=a+"_LeftBottomHandler",k=eg(f,h),h=E(h),h.j.n(0,0,0,1E3,!1,!1,!1,!1,6,6),h.p=N|M,g.m(h),k.style.cursor="ne-resize",this.a.Ac=k,h=a+"_RightBottomHandler",k=eg(f,h),h=E(h),h.j.n(0,0,0,1E3,!1,!1,!0,!1,6,6),h.p=N|O,g.m(h),k.style.cursor="se-resize",this.a.nc=k,tf(this.a.je,null,null,null,null),this.a.je.Ub=this.Cq,this.a.je.Wb=c,this.a.je.Vb=d,tf(this.a.Fd,null,null,null,null),this.a.Fd.Ub=this.Fq,this.a.Fd.Wb=c,this.a.Fd.Vb=d,tf(this.a.Gd,null,null,null,null),this.a.Gd.Ub=this.Hq,this.a.Gd.Wb=c,this.a.Gd.Vb=d,tf(this.a.Ed,null,null,null,null),this.a.Ed.Ub=this.yq,this.a.Ed.Wb=c,this.a.Ed.Vb=d,tf(this.a.$c,null,null,null,null),this.a.$c.Ub=this.Dq,this.a.$c.Wb=c,this.a.$c.Vb=d,tf(this.a.Bc,null,null,null,null),this.a.Bc.Ub=this.Gq,this.a.Bc.Wb=c,this.a.Bc.Vb=d,tf(this.a.Ac,null,null,null,null),this.a.Ac.Ub=this.Bq,this.a.Ac.Wb=c,this.a.Ac.Vb=d,tf(this.a.nc,null,null,null,null),this.a.nc.Ub=this.Eq,this.a.nc.Wb=c,this.a.nc.Vb=d);k=a+"_Close";f=eg(f,k);h=E(k);h.j.n(0,0,6,1E3,!1,!0,!0,!1,45,20);h.p=L|O;g.m(h);f.style.backgroundColor=R(new A(255,0,0,255));g=new td(this.f);g.q(k,this);g.Ne=new A(199,80,80,255);g.Hf=new A(224,67,67,255);g.Pg=new A(153,61,61,255);this.a.Sl=g;this.ih()};l.xj=function(){return this.Uo};l.s=function(a){var b=this.a.d.a.clientWidth,c=this.a.d.a.clientHeight;if(b!==this.A||c!==this.L||!0===a)this.A=b,this.L=c,this.a.d.zb(b,c),this.a.Sl.s();if(b=this.a.d.a.parentNode){a=parseInt(b.clientWidth);var b=parseInt(b.clientHeight),c=parseInt(this.a.d.a.style.left),d=parseInt(this.a.d.a.style.top),e=parseInt(this.a.d.a.style.width),f=parseInt(this.a.d.a.style.height);e>a+1||f>b+1?(e>a+1&&(this.a.d.a.style.width=a+"px"),f>b+1&&(this.a.d.a.style.height=b+"px"),this.s()):(c+e>a&&(this.a.d.a.style.left=a-e+"px"),0>=c&&(this.a.d.a.style.left="0px"),d+f>b&&(this.a.d.a.style.top=b-f+"px"),0>=d&&(this.a.d.a.style.top="0px"))}};l.nb=function(){this.Cg=!1;this.a.d.a.style.display="none";this.b&&this.b.Sa()};l.Ka=function(a){this.Cg=!0;var b=this.a.d.a;b.style.display="block";var c=parseInt(b.style.left),d=parseInt(b.style.top);if(a&&a.U){var e=a.U;a=Jd(e);e=e.mc();d>e-100&&(b.style.top=e-100+"px");c>a-100&&(b.style.left=a-100+"px")}0>c&&(b.style.left="0px");0>d&&(b.style.top="0px")};l.Sa=function(){};function fg(a,b){Od(a.a.Nl,b)}function eg(a,b){var c=document.createElement("div");b&&c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c}function gg(a,b){if(b){a.f=b;var c=a.a.d.a,d=parseInt(c.style.height),e=Math.max(0,(Jd(a.f)-parseInt(c.style.width))/2),d=Math.max(0,(a.f.mc()-d)/2);c.style.left=e+"px";c.style.top=d+"px"}}l.ih=function(){var a=this.a.d.a,b=this.Zc();null!==b&&void 0!==b&&(a.style.width=b.O+"px",a.style.height=b.K+"px")};l.Zc=function(){return null};l.Ya=function(){};l.Yf=function(){};function hg(){hg.u.constructor.call(this);this.a.hf=null;this.a.bg=null;this.a.up=null;this.a.gp=null;this.a.Bm=null;this.a.yb=null;this.a.dg=null}ad(hg,dg);hg.prototype.q=function(a,b){hg.u.q.call(this,a,b);var c=this.a.eb,d=this.a.bd,e=c.id,f=e+"Content",e=e+"Buttons",g=eg(c,f),c=eg(c,e),f=E(f);f.j.n(0,0,0,40,!0,!0,!0,!0,-1,-1);f.p=M|L|N|O;d.m(f);var h=E(e);h.j.n(0,0,0,0,!0,!1,!0,!0,-1,40);h.p=M|N|O;d.m(h);this.a.dg=f;this.a.yb=g;c.style.borderTop="1px solid rgb(172,172,172)";c.style.backgroundColor="rgb(240,240,240)";this.a.Bm=c;g=e+"OK";eg(c,g);f=E(g);f.j.n(0,9,85,1E3,!1,!0,!0,!1,66,21);f.p=L|O;d.m(f);h=new vd(this.f);h.q(g,this);this.a.hf=h;this.a.up=f;h.ti=new A(234,234,234,255);h.Ne=new A(172,172,172,255);h.oi=new A(227,240,252,255);h.Hf=new A(126,180,234,255);h.Og=new A(207,230,252,255);h.Pg=new A(86,157,229,255);h.mi=new A(239,239,239,255);h.ni=new A(217,217,217,255);e+="Cancel";eg(c,e);c=E(e);c.j.n(0,9,11,1E3,!1,!0,!0,!1,66,21);c.p=L|O;d.m(c);d=new wd(this.f);d.q(e,this);this.a.bg=d;this.a.gp=c;d.ti=new A(234,234,234,255);d.Ne=new A(172,172,172,255);d.oi=new A(227,240,252,255);d.Hf=new A(126,180,234,255);d.Og=new A(207,230,252,255);d.Pg=new A(86,157,229,255);d.mi=new A(239,239,239,255);d.ni=new A(217,217,217,255)};hg.prototype.s=function(a){hg.u.s.call(this,a);this.a.hf&&this.a.hf.s();this.a.bg&&this.a.bg.s()};hg.prototype.gm=function(){this.nb()};hg.prototype.df=function(){this.nb()};function ig(){ig.u.constructor.call(this);this.t={};this.b=null;this.fo=10;this.Wk=20;this.Zp=5;this.zf=100}ad(ig,hg);l=ig.prototype;l.q=function(a,b){ig.u.q.call(this,a);var c=window.i?window.i.v.window.Oa.caption:"Game info",d=window.i?window.i.v.window.Oa.Ur:"Game name",e=window.i?window.i.v.window.Oa.result:"Result",f=window.i?window.i.v.window.Oa.rules:"Rules",g=window.i?window.i.v.window.Oa.cs:"Komi",h=window.i?window.i.v.window.Oa.Yr:"Handicap",k=window.i?window.i.v.window.Oa.vs:"Time settings",m=window.i?window.i.v.window.Oa.rr:"Black",n=window.i?window.i.v.window.Oa.sr:"Black rank",p=window.i?window.i.v.window.Oa.Bs:"White",r=window.i?window.i.v.window.Oa.Cs:"White rank",q=window.i?window.i.v.window.Oa.vr:"Copyright",u=window.i?window.i.v.window.Oa.Ar:"Date",v=window.i?window.i.v.window.Oa.event:"Event",w=window.i?window.i.v.window.Oa.round:"Round",B=window.i?window.i.v.window.Oa.ns:"Place",C=window.i?window.i.v.window.Oa.mr:"Annotator",x=window.i?window.i.v.window.Oa.Tr:"Fuseki",t=window.i?window.i.v.window.Oa.source:"Source",H=window.i?window.i.v.window.Oa.zs:"Transcriber",U=window.i?window.i.v.window.Oa.Oa:"Game info";window.Q&&(window.Q.lf("15px Tahoma, 'Sans serif'"),this.zf=Math.max(window.Q.ra(d),window.Q.ra(e),window.Q.ra(f),window.Q.ra(g),window.Q.ra(h),window.Q.ra(k),window.Q.ra(m),window.Q.ra(n),window.Q.ra(p),window.Q.ra(r),window.Q.ra(q),window.Q.ra(u),window.Q.ra(v),window.Q.ra(w),window.Q.ra(B),window.Q.ra(C),window.Q.ra(x),window.Q.ra(t),window.Q.ra(H),window.Q.ra(U))+12);gg(this,b.U);var Z=b.S;this.b=Z;!0!==(Z.I&16?!0:!1)&&Wc(this.a.hf,!1);fg(this,c);var c=this.a.dg,F=this.a.yb,K=this.a.yb.id;F.style.overflowX="hidden";F.style.overflowY="scroll";var ba=this.Wk,P=10,na=this.Zp,qb=this.fo,qa=Z.I&16?!0:!1;this.t.$l=this.wa(F,c,K,d,Z.vd,P,ba,qa);P+=ba+na;this.t.Lm=this.wa(F,c,K,e,Z.Ue,P,ba,qa);P+=ba+na;this.t.Nm=this.wa(F,c,K,f,Z.Qf,P,ba,qa);P+=ba+na;this.t.wh=this.wa(F,c,K,g,Z.Ob,P,ba,qa);P+=ba+na;this.t.vh=this.wa(F,c,K,h,Z.ac,P,ba,qa);P+=ba+na;this.t.$m=this.wa(F,c,K,k,Z.Bf+(""===Z.Te?"":" + "+Z.Te),P,ba,qa);P+=ba+na;this.t.Hl=this.wa(F,c,K,m,Z.ud,P,ba,qa);P+=ba+na;this.t.Jl=this.wa(F,c,K,n,Z.Jf,P,ba,qa);P+=ba+na;this.t.yn=this.wa(F,c,K,p,Z.wd,P,ba,qa);P+=ba+na;this.t.An=this.wa(F,c,K,r,Z.Rf,P,ba,qa);P+=ba+na;this.t.Tl=this.wa(F,c,K,q,Z.Kf,P,ba,qa);P+=ba+na;this.t.Date=this.wa(F,c,K,u,Z.Xd,P,ba,qa);P+=ba+na;this.t.Event=this.wa(F,c,K,v,Z.Re,P,ba,qa);P+=ba+na;this.t.Mm=this.wa(F,c,K,w,Z.Nf,P,ba,qa);P+=ba+na;this.t.Em=this.wa(F,c,K,B,Z.Se,P,ba,qa);P+=ba+na;this.t.Dl=this.wa(F,c,K,C,Z.Lf,P,ba,qa);P+=ba+na;this.t.Zl=this.wa(F,c,K,x,Z.Mf,P,ba,qa);P+=ba+na;this.t.Sm=this.wa(F,c,K,t,Z.Of,P,ba,qa);P+=ba+na;this.t.fn=this.wa(F,c,K,H,Z.Pf,P,ba,qa);P+=ba+na;this.t.Dd=this.$g(F,c,K,U,Z.Bi,P,ba,qa);P+=3*ba;eg(F,K+"Bottom");d=E(K+"Bottom");d.j.n(0,P,1E3,1E3,!0,!0,!1,!1,0,qb);d.p=M|L|O;c.m(d)};l.s=function(a){ig.u.s.call(this,a);this.a.hf&&this.a.hf.s();this.a.bg&&this.a.bg.s();a=parseInt(this.t.Dd.style.top)|0;var b=(parseInt(this.a.yb.style.height)|0)-this.fo;this.t.Dd.style.height=b-a<3*this.Wk?3*this.Wk+"px":b-a+"px"};l.gm=function(){this.nb()};l.df=function(){if(this.b){var a=this.b;a.vd=this.t.$l.value;jg(a);kg(this.b,this.t.Lm.value);a=this.b;a.Qf=this.t.Nm.value;jg(a);a=this.b;a.Ob=parseFloat(this.t.wh.value);a.Ba=!0;a=this.b;a.ac=this.t.vh.value;jg(a);a=this.b;a.Bf=this.t.$m.value;jg(a);lg(this.b,this.t.Hl.value);mg(this.b,this.t.Jl.value);ng(this.b,this.t.yn.value);og(this.b,this.t.An.value);a=this.b;a.Kf=this.t.Tl.value;jg(a);pg(this.b,this.t.Dd.value);a=this.b;a.Xd=this.t.Date.value;a.Ba=!0;a=this.b;a.Re=this.t.Event.value;jg(a);a=this.b;a.Nf=this.t.Mm.value;jg(a);a=this.b;a.Se=this.t.Em.value;jg(a);a=this.b;a.Lf=this.t.Dl.value;jg(a);a=this.b;a.Mf=this.t.Zl.value;jg(a);a=this.b;a.Of=this.t.Sm.value;jg(a);a=this.b;a.Pf=this.t.fn.value;jg(a)}this.nb()};l.Ga=function(a,b,c){var d=document.createElement("div");d.setAttribute("id",b);d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.style.fontFamily="Tahoma, Sans serif";d.style.fontSize=15*c/20+"px";d.style.lineHeight=c+"px";d.style.height=c+"px";a.appendChild(d);return d};l.ah=function(a,b,c){var d=document.createElement("input");d.setAttribute("id",b);d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.setAttribute("type","text");d.style.fontFamily="Tahoma, Sans serif";d.style.fontSize="10pt";d.style.outline="none";d.style.border="1px solid rgb(169,169,169)";!1===c&&(d.disabled="disabled");a.appendChild(d);return d};l.wa=function(a,b,c,d,e,f,g,h){var k=this.zf,m;m=30;c+=d;var n=this.Ga(a,c,g),p=E(c);p.j.n(10,f,1E3,1E3,!0,!0,!1,!1,k,g);p.p=M|L;b.m(p);Od(n,d);d=c+"Value";a=this.ah(a,d,h);h=E(d);h.j.n(10+k,f+1,m,1E3,!0,!0,!0,!1,-1,g-2);h.p=M|L|O;b.m(h);a.value=e;return a};l.$g=function(a,b,c,d,e,f,g,h){var k=this.zf,m;m=30;c+=d;var n=this.Ga(a,c,g),p=E(c);p.j.n(10,f,1E3,1E3,!0,!0,!1,!1,k,g);p.p=M|L;b.m(p);Od(n,d);c=c+"Value";d=document.createElement("textarea");d.setAttribute("id",c);d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.style.fontFamily="Tahoma, Sans serif";d.style.fontSize="10pt";d.style.resize="none";d.style.outline="none";d.style.border="1px solid rgb(169,169,169)";d.style.height=3*g+"px";this.t.Dd=d;!1===h&&(d.disabled="disabled");a.appendChild(d);a=E(c);a.j.n(10+k,f+1,m,1E3,!0,!0,!0,!1,-1,3*g);a.p=M|L|O;b.m(a);d.value=e;return d};l.Ka=function(a){ig.u.Ka.call(this,a);a=this.b;this.t.$l.value=a.vd;this.t.Lm.value=a.Ue;this.t.Nm.value=a.Qf;this.t.wh.value=a.Ob;this.t.vh.value=a.ac;this.t.$m.value=a.Bf+(""===a.Te?"":" + "+a.Te);this.t.Hl.value=a.ud;this.t.Jl.value=a.Jf;this.t.yn.value=a.wd;this.t.An.value=a.Rf;this.t.Tl.value=a.Kf;this.t.Date.value=a.Xd;this.t.Event.value=a.Re;this.t.Mm.value=a.Nf;this.t.Em.value=a.Se;this.t.Dl.value=a.Lf;this.t.Zl.value=a.Mf;this.t.Sm.value=a.Of;this.t.fn.value=a.Pf;this.t.Dd.value=a.Bi};function qg(){qg.u.constructor.call(this);this.A=300;this.L=100;this.Mo=null}ad(qg,dg);l=qg.prototype;l.q=function(a,b){qg.u.q.call(this,a,!1);gg(this,b.U);var c=window.i?window.i.v.window.error.caption:"Error";fg(this,b.ce?b.ce:c);this.b=b.S;this.f=b.U;var c=this.a.bd,d=a+"E",e=this.Ga(this.a.eb,d,20),d=E(d);d.j.n(10,5,10,5,!0,!0,!0,!0,-1,-1);d.p=M|L|N|O;c.m(d);this.Mo=e;this.Ka(b)};l.nb=function(){this.f&&ye(this.f);ig.u.nb.call(this)};l.Ka=function(a){qg.u.Ka.call(this,a);this.A=a.O;this.L=a.K;Od(this.Mo,a.zc);window.Q&&0<this.A-14&&(window.Q.lf("15px Tahoma, 'Sans serif'"),a=window.Q.ra(a.zc),a=20*Math.ceil(a/(this.A-14)+.5)+47,this.L<a&&(this.L=a),this.s(!0));this.f&&(we(this.f),gg(this,this.f),this.s(!0))};l.Ga=function(a,b,c){var d=document.createElement("div");d.setAttribute("id",b);d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.style.fontFamily="Tahoma, Sans serif";d.style.fontSize=15*c/20+"px";d.style.lineHeight=c+"px";d.style.height=c+"px";a.appendChild(d);return d};l.Zc=function(){return{O:this.A,K:this.L}};function rg(){rg.u.constructor.call(this);this.b=null;this.t={Zb:{qk:null,fk:null,fj:null,pj:null},gk:null,Fj:null,Ij:null,oj:null,Ej:null,Rm:null}}ad(rg,hg);rg.prototype.q=function(a,b){rg.u.q.call(this,a,!1);gg(this,b.U);this.b=b.S;fg(this,"Settings");var c=new $f;c.q(this.a.yb.id,["Appearance","Color Scheme","Loading Settings"],0,150);var d=vg(c.Ic[0]),e=this.a.yb.id+"A";this.t.Rm=wg(d,e+"T",this.b.ne(),"Show target");this.t.oj=wg(d,e+"C",this.b.le(),"Cycle through variants");this.t.gk=wg(d,e+"S",this.b.jg(),"Sound");this.t.Ij=xg(d,this.b.cf(),["No labels","Move numbers","Move numbers current variant only","Move coordinates"],"Labels in navigator");d=vg(c.Ic[1]);e=this.a.yb.id+"CS";this.t.Zb.qk=yg(d,e+"TC","TrueColor");this.t.Zb.fk=yg(d,e+"SC","SimpleColor");this.t.Zb.fj=yg(d,e+"BS","BookStyle");this.t.Zb.pj=yg(d,e+"D","Dark");zg(this);c=vg(c.Ic[2]);this.t.Fj=wg(c,this.a.yb.id+"LSU",this.b.hg(),"Load unfinished files on the last node");this.t.Ej=xg(c,this.b.fe(),["Don't show variants","Show variations of current node   (siblings)","Show variations of successor node (children)","Load option from file"],"Show variants")};rg.prototype.Zc=function(){return{O:400,K:210}};rg.prototype.Ka=function(a){rg.u.Ka.call(this,a);this.t.oj.checked=this.b.le();this.t.gk.checked=this.b.jg();this.t.Ij.selectedIndex=this.b.cf();zg(this);this.t.Fj.checked=this.b.hg();this.t.Ej.selectedIndex=this.b.fe()};function vg(a){var b=document.createElement("div");a.appendChild(b);b.style.margin="0";b.style.padding="10px 20px";b.style.fontFamily="Tahoma, Arial, Verdana";b.style.fontSize="10px";b.style.color="#666";b.style.background="#fff";return b}rg.prototype.df=function(){var a=1,a=this.t.Zb.fk.checked?3:this.t.Zb.fj.checked?2:this.t.Zb.pj.checked?4:1,a=y.Hh(a);y.og(this.t.gk.checked?!0:!1);this.b.dd(this.t.Rm.checked?!0:!1);this.b.Xj(this.t.Fj.checked?!0:!1);this.b.Zj(this.t.Ij.selectedIndex);this.b.Sj(this.t.oj.checked?!0:!1);this.b.Wj(this.t.Ej.selectedIndex);var b=this.b.o,c=this.b.T;b&&!0===a.ga&&b.s(!0);c&&!0===a.Navigator&&sf(c);this.nb()};function yg(a,b,c){var d=document.createElement("div");d.style.paddingLeft="10px";d.style.paddingBottom="5px";a.appendChild(d);var e=document.createElement("input");e.type="radio";e.name="ThemeId";e.value=c;e.setAttribute("id",b);d.appendChild(e);a=document.createElement("span");a.setAttribute("oncontextmenu","return false;");a.style.fontFamily="Tahoma, Sans serif";Od(a,c);a.style.fontFamily="Tahoma, Sans serif";a.style.fontSize="12pt";a.style.height="15px";a.style.lineHeight="15px";a.style.cursor="default";d.appendChild(a);a.addEventListener("click",function(){e.checked=!0},!1);return e}function wg(a,b,c,d){var e=document.createElement("div");e.style.paddingLeft="10px";e.style.paddingBottom="5px";a.appendChild(e);var f=document.createElement("input");f.type="checkbox";f.checked=c;f.setAttribute("id",b);e.appendChild(f);a=document.createElement("span");a.setAttribute("oncontextmenu","return false;");a.style.fontFamily="Tahoma, Sans serif";Od(a,d);a.style.fontFamily="Tahoma, Sans serif";a.style.fontSize="12pt";a.style.height="15px";a.style.lineHeight="15px";a.style.cursor="default";e.appendChild(a);a.addEventListener("click",function(){f.checked=!f.checked},!1);return f}function xg(a,b,c,d){var e=document.createElement("div");e.style.paddingLeft="10px";e.style.paddingBottom="5px";e.style.fontFamily="Tahoma, Sans serif";e.style.fontSize="9pt";e.style.height="12px";e.style.lineHeight="12px";a.appendChild(e);a=document.createElement("div");Od(a,d);a.style.paddingBottom="5px";e.appendChild(a);d=document.createElement("select");d.style.width="170px";a=0;for(var f=c.length;a<f;a++){var g=document.createElement("option");g.value=c[a];Od(g,c[a]);d.appendChild(g)}d.selectedIndex=b;e.appendChild(d);return d}function zg(a){var b=y.R.Hb.F;231===b?y.R.Db?a.t.Zb.qk.checked=!0:a.t.Zb.fk.checked=!0:255===b?a.t.Zb.fj.checked=!0:30===b?a.t.Zb.pj.checked=!0:a.t.Zb.qk.checked=!0}function Ag(){Ag.u.constructor.call(this);this.o=null}ad(Ag,dg);Ag.prototype.q=function(a,b){Ag.u.q.call(this,a,!0);gg(this,b.U);this.b=b.S;fg(this,"Score estimate");var c=this.a.eb,d=this.a.bd,e=this.a.eb.id;c.style.background="url('"+Ke+"')";var f=new aa;d.fb(2,f);var e=e+"B",c=eg(c,e),g=E(e);g.j.n(0,0,1E3,1E3,!0,!0,!1,!1,-1,-1);g.p=L|M|N|O;d.m(g);this.od=c;this.Tg=g;f.q(e,Bg(this.b));f.Ff=this;Oa(f,9);this.o=f};Ag.prototype.s=function(a){Ag.u.s.call(this,a);this.o&&this.o.s(a)};function Ka(a,b,c,d,e,f){fg(a,window.i?window.i.fd.br+" "+b+"("+d+") "+window.i.fd.cr+" "+c+"("+e+") "+(0<f?window.i.fd.br+"+"+f:0>f?window.i.fd.cr+"+"+Math.abs(f):window.i.fd.Vr.Or):"B "+b+"("+d+") W "+c+"("+e+") "+(0<f?"B+"+f:0>f?"W+"+Math.abs(f):"Even"))}Ag.prototype.Ka=function(a){for(;this.od.firstChild;)this.od.removeChild(this.od.firstChild);this.Tg&&this.Tg.Xa();var b=new aa;b.q(this.od.id,Bg(a.S));var c=b;c.Ff=this;Oa(c,9);this.o=b;Ag.u.Ka.apply(this,arguments);this.s(!0)};function Cg(){Cg.u.constructor.call(this);this.zf=100}ad(Cg,dg);l=Cg.prototype;l.q=function(a,b){Cg.u.q.call(this,a,!1);var c=window.i?window.i.v.window.Rh.caption:"Counter of colors",d=window.i?window.i.v.window.Rh.red:"Red",e=window.i?window.i.v.window.Rh.blue:"Blue",f=window.i?window.i.v.window.Rh.green:"Green",g=window.i?window.i.v.window.Rh.Xr:"Gray";window.Q&&(window.Q.lf("15px Tahoma, 'Sans serif'"),this.zf=Math.max(window.Q.ra(d),window.Q.ra(e),window.Q.ra(f),window.Q.ra(g))+12);this.b=b.S;this.o=b.qj;gg(this,b.U);fg(this,c);var h=this.a.eb,c=this.a.bd,k=this.a.eb.id;h.style.overflowX="hidden";h.style.overflowY="hidden";var m=10,n=b.qj.tb,p=[0,0,0,0],r=[0,0,0,0],q=[0,0,0,0],u=[0,0,0,0],v;for(v in n){var w=n[v],B=-1;0!==w.F&&0!==w.H&&0!==w.G?B=3:0!==w.F?B=0:0!==w.H?B=1:0!==w.G&&(B=2);var C=0,C=50>=w.Za?0:100>=w.Za?1:150>=w.Za?2:3;switch(B){case 0:p[C]++;break;case 1:r[C]++;break;case 2:q[C]++;break;case 3:u[C]++}}this.wp=this.wa(h,c,k,d,"4 x "+p[3]+"+ 3 x "+p[2]+" + 2 x "+p[1]+" + 1 x "+p[0]+" ="+(4*p[3]+3*p[2]+2*p[1]+p[0]),m,20);m+=25;this.pp=this.wa(h,c,k,f,"4 x "+r[3]+"+ 3 x "+r[2]+" + 2 x "+r[1]+" + 1 x "+r[0]+" ="+(4*r[3]+3*r[2]+2*r[1]+r[0]),m,20);m+=25;this.dp=this.wa(h,c,k,e,"4 x "+q[3]+"+ 3 x "+q[2]+" + 2 x "+q[1]+" + 1 x "+q[0]+" ="+(4*q[3]+3*q[2]+2*q[1]+q[0]),m,20);m+=25;this.op=this.wa(h,c,k,g,"4 x "+u[3]+"+ 3 x "+u[2]+" + 2 x "+u[1]+" + 1 x "+u[0]+" ="+(4*u[3]+3*u[2]+2*u[1]+u[0]),m,20);m+=25;eg(h,k+"Bottom");d=E(k+"Bottom");d.j.n(0,m,1E3,1E3,!0,!0,!1,!1,0,10);d.p=M|L|O;c.m(d)};l.Ga=function(a,b,c){var d=document.createElement("div");d.setAttribute("id",b);d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.style.fontFamily="Tahoma, Sans serif";d.style.fontSize=15*c/20+"px";d.style.lineHeight=c+"px";d.style.height=c+"px";a.appendChild(d);return d};l.ah=function(a,b){var c=document.createElement("input");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");c.setAttribute("type","text");c.style.fontFamily="Tahoma, Sans serif";c.style.fontSize="10pt";c.style.outline="none";c.disabled="disabled";a.appendChild(c);return c};l.wa=function(a,b,c,d,e,f,g,h){var k=this.zf,m;m=30;c+=d;var n=this.Ga(a,c,g),p=E(c);p.j.n(10,f,1E3,1E3,!0,!0,!1,!1,k,g);p.p=M|L;b.m(p);Od(n,d);d=c+"Value";a=this.ah(a,d,h);h=E(d);h.j.n(10+k,f+1,m,1E3,!0,!0,!0,!1,-1,g-2);h.p=M|L|O;b.m(h);a.value=e;return a};l.Ka=function(a){Cg.u.Ka.call(this,a);this.b=a.S;this.o=a.qj;this.Ya()};l.Ya=function(){if(this.Cg&&this.o){var a=this.o.tb,b=[0,0,0,0],c=[0,0,0,0],d=[0,0,0,0],e=[0,0,0,0],f;for(f in a){var g=a[f],h=-1;0!==g.F&&0!==g.H&&0!==g.G?h=3:0!==g.F?h=0:0!==g.H?h=1:0!==g.G&&(h=2);var k=0,k=50>=g.Za?0:100>=g.Za?1:150>=g.Za?2:3;switch(h){case 0:b[k]++;break;case 1:c[k]++;break;case 2:d[k]++;break;case 3:e[k]++}}this.wp.value="4 x "+b[3]+"+ 3 x "+b[2]+" + 2 x "+b[1]+" + 1 x "+b[0]+" ="+(4*b[3]+3*b[2]+2*b[1]+b[0]);this.pp.value="4 x "+c[3]+"+ 3 x "+c[2]+" + 2 x "+c[1]+" + 1 x "+c[0]+" ="+(4*c[3]+3*c[2]+2*c[1]+c[0]);this.dp.value="4 x "+d[3]+"+ 3 x "+d[2]+" + 2 x "+d[1]+" + 1 x "+d[0]+" ="+(4*d[3]+3*d[2]+2*d[1]+d[0]);this.op.value="4 x "+e[3]+"+ 3 x "+e[2]+" + 2 x "+e[1]+" + 1 x "+e[0]+" ="+(4*e[3]+3*e[2]+2*e[1]+e[0])}};l.Zc=function(){return{O:410,K:160}};function Dg(){Dg.u.constructor.call(this);this.b=this.f=this.Oo=this.No=null}ad(Dg,dg);Dg.prototype.q=function(a,b){Dg.u.q.call(this,a,!1);gg(this,b.U);fg(this,window.i?window.i.v.window.yr.caption:"Creating Gif file...");b.S&&(this.b=b.S);var c=this.a.eb,d=this.a.bd,e=this.a.eb.id,f=e+"PB",g=eg(c,f),f=E(f);f.j.n(6,30,8,8,!0,!0,!0,!0,-1,-1);f.p=L|M|N|O;d.m(f);g.style.border="1px solid rgb(221,221,221)";g.style.backgroundColor="rgb(140, 140, 140)";f=e+"P";g=eg(c,f);f=E(f);f.j.n(7,31,0,7,!0,!0,!1,!0,10,-1);f.p=L|M|N;d.m(f);g.style.backgroundColor="rgb(54, 101, 179)";this.No=g;e=e+"PV";c=eg(c,e);e=E(e);e.j.n(0,7,1E3,32,!1,!1,!1,!0,-1,-1);e.p=L|M|N;d.m(e);c.style.fontFamily="Tahoma, Sans serif";c.style.fontSize="15px";c.style.lineHeight="20px";c.style.height="20px";c.style.color="rgb(0, 0, 0)";c.style.textAlign="center";this.Oo=c};Dg.prototype.Zc=function(){return{O:240,K:100}};function Eg(a,b){a.No.style.width=b/100*214+"px";Od(a.Oo,(100*b|0)/100+"%")}function Fg(a){Eg(a,0);a.f&&we(a.f)}function Gg(a){Eg(a,100);setTimeout(function(){a.nb(!0)},300)}Dg.prototype.nb=function(a){!0!==a&&this.b&&(this.b.xf=null);this.f&&ye(this.f);Dg.u.nb.apply(this)};function Hg(){Hg.u.constructor.call(this);this.o=null}ad(Hg,dg);Hg.prototype.q=function(a,b){Dg.u.q.call(this,a,!0);gg(this,b.U);fg(this,"About");this.b=b.S;var c=new $f;c.q(this.a.eb.id,["About Web Go Board","Keyboard Shortcuts"],0);var d=c.Ic[0],e=document.createElement("div");d.appendChild(e);d.style.overflowX="hidden";d.style.overflowY="scroll";e.style.margin="0";e.style.padding="10px 20px";e.style.fontFamily="Tahoma, Arial, Verdana";e.style.fontSize="12px";e.style.color="#666";e.style.background="#fff";d=document.createElement("img");d.src=Ig;d.width=100;d.height=100;d.style["float"]="left";e.appendChild(d);d=document.createElement("div");d.style.width="10px";d.style.height="100px";d.style["float"]="left";e.appendChild(d);d=document.createElement("h1");e.appendChild(d);Od(d,"Web Go/Baduk Board");d=document.createElement("div");e.appendChild(d);Od(d,"Version "+GoBoardApi.th());d=document.createElement("div");d.style.paddingTop="40px";e.appendChild(d);Od(d,"Visit our Github project for feedback and issue reports:");d=document.createElement("a");d.target="_blank";d.href="https://github.com/IlyaKirillov/GoProject";e.appendChild(d);Od(d,"https://github.com/IlyaKirillov/GoProject");d=document.createElement("div");d.style.paddingTop="20px";e.appendChild(d);Od(d,"Our site:");d=document.createElement("a");d.target="_blank";d.href="http://webgoboard.net/";e.appendChild(d);Od(d,"http://webgoboard.net/");d=document.createElement("div");d.style.paddingTop="20px";e.appendChild(d);Od(d,"Discussions:");d=document.createElement("a");d.target="_blank";d.href="http://www.lifein19x19.com/forum/viewtopic.php?f=18&t=11239";e.appendChild(d);Od(d,"http://www.lifein19x19.com/");e.appendChild(document.createElement("br"));d=document.createElement("a");d.target="_blank";d.href="http://kido.com.ru/253-web-go-doska";e.appendChild(d);Od(d,"http://kido.com.ru/");d=document.createElement("div");d.style.paddingTop="20px";e.appendChild(d);Od(d,"Browsers extension:");d=document.createElement("a");d.target="_blank";d.href="https://chrome.google.com/webstore/detail/web-go-board/cdmhoehokaoghadonjfdbhieajggfbmd";e.appendChild(d);Od(d,"Chrome and OperaNext");e.appendChild(document.createElement("br"));d=document.createElement("a");d.target="_blank";d.href="https://addons.mozilla.org/ru/firefox/addon/web-gobaduk-board/";e.appendChild(d);Od(d,"FireFox");d=document.createElement("div");d.style.paddingTop="30px";e.appendChild(d);Od(d,"\u00a9 Ilya Kirillov, 2014-2021. All rights reserved.");e=c.Ic[1];e.style.overflowX="hidden";e.style.overflowY="scroll";c=document.createElement("div");e.appendChild(c);c.style.margin="0";c.style.padding="10px 20px";c.style.fontFamily="Tahoma, Arial, Verdana";c.style.fontSize="12px";c.style.color="#666";c.style.background="#fff";e=document.createElement("h1");c.appendChild(e);Od(e,"Keyboard Shortcuts");e.style.fontSize="16px";e.style.fontWeight="bold";e=document.createElement("table");c.appendChild(e);e.style.margin="20px 0";e.style.width="100%";c=document.createElement("tbody");e.appendChild(c);this.o=null;b.S&&(this.o=b.S.o);Jg(c,"Working with Files");Kg(this,c,{C:!0,M:79,D:!1},"Open Sgf/Gib/Ngf","Ctrl+O","Open the Sgf/Gib/Ngf file from disk. (Not in color mode, see below)");Kg(this,c,{C:!0,M:79,D:!0},"Open Sgf","Ctrl+Shift+O","Open the Sgf file from source. (Not in color mode, see below)");Kg(this,c,{C:!0,M:67,D:!1},"Create new","Ctrl+C","Create new empty board. (not in color mode see below)");Kg(this,c,{C:!0,M:83,D:!1},"Save Sgf","Ctrl+S","Save Sgf file.");Kg(this,c,{C:!0,M:72,D:!1},"Save png shot","Ctrl+H","Save board shot in png format.");Kg(this,c,{C:!0,M:72,D:!0},"Save gif shot","Ctrl+Shift+H","Save board shot in gif format.");Kg(this,c,{C:!0,M:73,D:!1},"Save multipage gif file.","Ctrl+I","Save gif file for current variant.");Kg(this,c,{C:!0,M:73,D:!0},"Save multipage gif file.","Ctrl+Shift+I","Save gif file for all branches with comment RIGHT (for problem mode).");Jg(c,"Navigation");Kg(this,c,{C:!1,M:39,D:!1},"Next node","Right arrow","Jump to next node.");Kg(this,c,{C:!0,M:39,D:!1},"Next 5 node","Ctrl+Right arrow","Jump over 5 nodes.");Kg(this,c,{C:!0,M:39,D:!0},"End of the variant","Ctrl+Shift+Right arrow","Jump to the end of the current variant.");Kg(this,c,{C:!1,M:37,D:!1},"Previous node","Left arrow","Jump to previous node.");Kg(this,c,{C:!0,M:37,D:!1},"Previous 5 node","Shift+Left arrow","Jump back over 5 nodes.");Kg(this,c,{C:!0,M:37,D:!0},"Start of the file","Ctrl+Shift+Right arrow","Jump to the start of the file.");Kg(this,c,{C:!1,M:38,D:!1},"Previous variant","Up arrow","Jump to previous variant.");Kg(this,c,{C:!1,M:40,D:!1},"Next variant","Down arrow","Jump to next variant.");Kg(this,c,{C:!0,M:36,D:!0},"Start node","Ctrl+Shift+Home",'Jump to the start node of the file. This node can be different from the first node. See "load unfinished files" checkbox in settings.');Lg(this,c,{C:!1,M:112,D:!1},"Play mode","F1");Kg(this,c,{},"Add move","Left mouse click","Set sequentially stones.");Kg(this,c,{},"Add alternative move","Right mouse click","Create new brunch and add alternative move.");Kg(this,c,{},"Go to the point","Shift+Left mouse click onto a board position","Teleports you to the moment of the game forth or back, when the stone on this position has been played.");Kg(this,c,{},"Change move order","Ctrl+Shift+Left mouse click","When sequentially stones are entered: changes the colour of the next stone to be set. What stone will appear on the board is shown by the tools field (useful e.g. after a problem has been set up).");Kg(this,c,{},"Add comment with coordinates","Ctrl+Left mouse click","Add comment with coordinates.");Lg(this,c,{C:!1,M:113,D:!1},"Count scores","F2");Kg(this,c,{},"Mark dead groups","Left mouse click","Mark dead groups.");Kg(this,c,{},"End count scores","Ctrl+Left mouse click onto board","Return to play mode.");Lg(this,c,{C:!1,M:114,D:!1},"Set up a board position","F3");Kg(this,c,{},"Add black stone or remove stone","Left mouse click","Add black stone or remove stone.");Kg(this,c,{},"Add white stone or remove stone","Shift+Left mouse click","Add white stone or remove stone.");Mg(this,c,{C:!1,M:115,D:!1},"Triangles","F4","Add triangles.");Mg(this,c,{C:!1,M:116,D:!1},"Squares","F5","Add squares.");Mg(this,c,{C:!1,M:117,D:!1},"Circles","F6","Add circles.");Mg(this,c,{C:!1,M:118,D:!1},"X mark","F7",'Add "X" mark.');Lg(this,c,{C:!1,M:119,D:!1},"Text label","F8");Kg(this,c,{},"Letter","Left mouse click","Add letter.");Kg(this,c,{},"Text","Shift+Left mouse click","Add text entered by the user.");Lg(this,c,{C:!1,M:120,D:!1},"Numeric label","F9");Kg(this,c,{},"Number","Left mouse click","Add the smallest positive number.");Kg(this,c,{},"Move number","Shift+Left mouse click","Add number of the first move which was played here.");Lg(this,c,{C:!1,M:121,D:!1},"Color mode","F10");Kg(this,c,{},"Blue region","Left mouse click","Add blue region.");Kg(this,c,{},"Green region","Shift+Left mouse click","Add green region.");Kg(this,c,{},"Red region","Ctrl+Left mouse click","Add red region.");Kg(this,c,{},"Gray region","Ctrl+Shift+Left mouse click","Add gray region.");Kg(this,c,{},"Clear region","Right mouse click","Clear region.");Kg(this,c,{C:!0,M:67,D:!1},"Continue","Ctrl+C","Copy all colors from previous node.");Kg(this,c,{C:!0,M:79,D:!1},"Count colors","Ctrl+O","Count all colors with depth.");Kg(this,c,{C:!0,M:82,D:!1},"Clear colors","Ctrl+R","Clear all colors in the current node.");Jg(c,"Miscellaneous");Kg(this,c,{C:!1,M:8,D:!1},"Remove node","Backspace/Delete","Deletes the current node and all of the following brunches.");Kg(this,c,{C:!0,M:69,D:!1},"Score estimator","Ctrl+E","Show window with score estimator (you can mark dead groups by click on them).");Kg(this,c,{C:!0,M:86,D:!1},"View mode change of the next move","Ctrl+V","There are 3 mods: Show all next move variants, show all alternative variants of the current move, show nothing.");Kg(this,c,{C:!0,M:82,D:!1},"Show/Hide coordinates","Ctrl+R","Show/Hide coordinates. (Not in color mode, see above)");Kg(this,c,{C:!0,M:77,D:!0},"Make the current variant mainly","Ctrl+Shift+M","Make the current variant mainly by uplifting it to the root of the game tree.");Kg(this,c,{C:!0,M:85,D:!0},"Lift up the current variant","Ctrl+Shift+U","Lift up the current variant.");Kg(this,c,{C:!0,M:68,D:!0},"Lower down the current variant","Ctrl+Shift+D","Lower down the current variant.");Kg(this,c,{C:!0,M:86,D:!0},"Setting up view port","Ctrl+Shift+V","Setting up visible part of the board.");Kg(this,c,{C:!0,M:68,D:!1},"Ascii Diagram","Ctrl+D","Make ascii diagram by current position.")};Hg.prototype.Zc=function(){if(this.f){var a=Jd(this.f),b=this.f.mc(),a=Math.max(100,Math.min(700,.9*a)),b=Math.max(100,Math.min(600,.9*b));return{O:a,K:b}}return null};function Ng(a){var b=document.createElement("tr");a.appendChild(b);b.style.borderLeft="0";b.style.borderRight="0";b.style.borderBottom="solid 1px #E4E4E4";b.style.borderCollapse="collapse";b.style.padding="8px";b.style.fontSize="12px";b.style.textAlign="left";b.style.cursor="default";return b}function Og(a,b){var c=document.createElement("td");a.appendChild(c);Od(c,b);c.style.borderLeft="0";c.style.borderRight="0";c.style.borderBottom="solid 1px #E4E4E4";c.style.borderCollapse="collapse";c.style.padding="8px";c.style.fontSize="12px";c.style.textAlign="left";c.style.cursor="default";return c}function Pg(a,b,c){var d=a.o;d&&c.M&&(b.title="Click to do it",b.style.cursor="pointer",b.style.textDecoration="underline",b.addEventListener("click",function(){va(d,c)},!1))}function Jg(a,b){var c=Ng(a),c=Og(c,b);c.colSpan="3";c.style.fontSize="14px";c.style.fontWeight="bold";c.style.paddingTop="20px"}function Lg(a,b,c,d,e){b=Ng(b);Og(b,d).style.fontWeight="bold";d=Og(b,e);Pg(a,d,c);d.colSpan="2"}function Mg(a,b,c,d,e,f){b=Ng(b);Og(b,d).style.fontWeight="bold";d=Og(b,e);Pg(a,d,c);Og(b,f)}function Kg(a,b,c,d,e,f){b=Ng(b);Og(b,d).style.width="35%";d=Og(b,e);d.style.width="15%";Pg(a,d,c);Og(b,f).style.width="50%"}function Qg(){Qg.u.constructor.call(this);this.hc=null}ad(Qg,dg);Qg.prototype.q=function(a,b){Qg.u.q.call(this,a,!0);fg(this,window.i?window.i.v.window.nr.caption:"ASCII diagram");var c=this.a.eb,d=this.a.bd,e=this.a.eb.id;this.b=b.S;this.$g(c,d,e);this.dh(b.S);this.hc.select()};Qg.prototype.Ka=function(a){Qg.u.Ka.call(this,a);this.dh(a.S);this.hc.select()};Qg.prototype.$g=function(a,b,c){var d=document.createElement("textarea");c=c+"TA";d.setAttribute("id",c);d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.style.fontFamily="Courier New, monospacef";d.style.fontSize="10pt";d.style.resize="none";d.style.outline="none";d.style.border="1px solid rgb(169,169,169)";d.style.height="100%";d.style.width="100%";this.hc=d;a.appendChild(d);a=E(c);a.j.n(0,0,1E3,1E3,!1,!1,!1,!1,-1,-1);a.p=M|L|O|N;b.m(a);return d};Qg.prototype.dh=function(a){this.hc.value="";if(void 0!==a){var b=a.o;a=a.sa;if(b&&a){for(var c="",d=b.r,e=d.ca,f=d.da,g=d.ja,d=d.ka,h=0==e?!0:!1,k=a.qa().h-1==g?!0:!1,m=0==f?!0:!1,n=a.qa().g-1==d?!0:!1,p=[],r=f;r<d;r++)for(var q=e;q<g;q++){var u=Ha(b,q+1,r+1),v=null!=u?u.V:Ga,u=null!=u?u.Uc:"";v==Ab&&Za(u)&&(v=parseInt(u),u={Number:v,rc:a.P(q+1,r+1)},S!=u.rc&&p.push(u))}var r=!0,v=b.$b,w=-1;if(0<p.length){for(var q=-1,B=S,C=-1,x=0,t=p.length;x<t;x++){u=p[x];if(-1==q||u.Number<q)q=u.Number,B=u.rc;if(-1==C||u.Number>C)C=u.Number}if(10>C-q){C=!0;x=0;for(t=p.length;x<t;x++){var u=p[x],H=(u.Number-q)%2;if(0==H&&B!=u.rc||1==H&&B==u.rc){C=!1;break}}!0===C&&(w=q,r=J===B?!0:!1)}}p=h?"$$  --":"$$ -";for(q=e+1;q<=g;q++)p+="--";p+=k?"- \n":"\n";h=h?"$$ |":"$$";k=k?" |\n":"\n";c=r?c+"$$B":c+"$$W";v&&(c+="c");-1!=w&&(c+="m"+w);c+="\n";m&&(c+=p);for(r=f;r<=d;r++){c+=h;for(q=e;q<=g;q++)if(u=Ha(b,q+1,r+1),v=null!=u?u.V:Ga,u=null!=u?u.Uc:"",f=a.P(q+1,r+1),S==f)if(Ib===v)c=c+" T";else if(Gb===v)c=c+" C";else if(Hb===v)c=c+" S";else if(Jb===v)c=c+" M";else if(Ab===v&&1===u.length&&97<=u.charCodeAt(0)&&122>=u.charCodeAt(0))c=c+String.fromCharCode(32,u.charCodeAt(0));else if(Ab===v&&1===u.length&&65<=u.charCodeAt(0)&&90>=u.charCodeAt(0))c=c+String.fromCharCode(32,u.charCodeAt(0)+32);else{a:{f=q+1;m=r+1;if(a.A===a.L)for(v=Wa(a),u=0,B=v.length;u<B;u++)if(f-1===v[u][0]&&m-1===v[u][1]){f=!0;break a}f=!1}c=f?c+" ,":c+" ."}else-1!==w&&v==Ab&&Za(u)?(v=parseInt(u)-w+1,c=10==v?c+" 0":c+(" "+v)):J==f?c=Ib===v?c+" Y":Gb===v?c+" B":Hb===v?c+" #":Jb===v?c+" Z":c+" X":Da==f&&(c=Ib===v?c+" Q":Gb===v?c+" W":Hb===v?c+" @":Jb===v?c+" P":c+" O");c+=k}n&&(c+=p);this.hc.value=c}}};function Rg(){Rg.u.constructor.call(this);this.gl=null}ad(Rg,hg);Rg.prototype.q=function(a,b){Rg.u.q.call(this,a,!0);gg(this,b.U);this.b=b.S;this.f=b.U;fg(this,window.i?window.i.v.window.En.caption:"Crop the board...");var c=this.a.yb,d=this.a.dg,e=this.a.yb.id;c.style.background="url('"+Ke+"')";var f=new aa;d.fb(2,f);var g=e+"B",c=eg(c,g),h=E(g);h.j.n(0,0,1E3,1E3,!0,!0,!1,!1,-1,-1);h.p=L|M|N|O;d.m(h);this.od=c;this.Tg=h;f.q(g,Bg(this.b));Oa(f,11);this.o=f;g=this.a.Bm;d=window.i?window.i.v.window.En.tr:"Reset";f=100;window.Q&&(window.Q.lf("16px 'Segoe UI', Helvetica, Tahoma, Geneva, Verdana, sans-serif"),f=window.Q.ra(d)+10);e=e+"R";g=eg(g,e);g=je(g);g.j.n(0,9,159,1E3,!1,!0,!0,!1,f+10,21);g.p=L|O;this.a.bd.m(g);var k=this,d=new ae(d,function(){var a=k.b.o;a&&(Ba(a),k.f.s(!0),k.nb())},"");d.q(e,this);this.gl=d;Sg(this)};Rg.prototype.s=function(a){Rg.u.s.call(this,a);this.o&&this.o.s(a);this.gl&&this.gl.s(a)};Rg.prototype.Ka=function(a){for(;this.od.firstChild;)this.od.removeChild(this.od.firstChild);this.Tg&&this.Tg.Xa();var b=new aa;b.q(this.od.id,Bg(a.S));Oa(b,11);this.o=b;Rg.u.Ka.apply(this,arguments);this.s(!0);Sg(this)};Rg.prototype.df=function(){if(this.b){var a=this.b.o;if(a){var b=this.o,c=Math.min(b.ma.re,b.ma.Xc),d=Math.max(b.ma.re,b.ma.Xc),e=Math.min(b.ma.se,b.ma.Yc),b=Math.max(b.ma.se,b.ma.Yc);if(d===c&&b===e)Ba(a);else{if(3>d-c||3>b-e){a=this.b;(c=this.f)&&gc(c.$.id,hc,{S:a,U:c,zc:window.i?window.i.v.window.En.Nr:"Sorry, the cropped part can't be so small.",O:270,K:80});return}Aa(a,c-1,e-1,d-1,b-1)}this.f.s(!0)}}this.nb()};function Sg(a){var b=a.b.o;if(b&&a.o){var b=b.r,c=a.b.sa.qa();if(0!==b.ca||0!==b.da||c.h-1!==b.ja||c.g-1!==b.ka){a=a.o;var c=b.da,d=b.ja,e=b.ka;a.ma.re=b.ca+1;a.ma.se=c+1;a.ma.Xc=d+1;a.ma.Yc=e+1;ma(a)}else b=a.o,b.ma.re=0,b.ma.se=0,b.ma.Xc=0,b.ma.Yc=0,ma(b)}}function Tg(){Tg.u.constructor.call(this)}ad(Tg,hg);l=Tg.prototype;l.q=function(a,b){Rg.u.q.call(this,a,!1);gg(this,b.U);this.b=b.S;this.f=b.U;fg(this,"Create new");var c=this.a.yb,d=this.a.dg,e=this.a.yb.id,f=5;this.cp=this.wa(c,d,e,"Black","Black",f,20);f+=50;this.Fp=this.wa(c,d,e,"White","White",f,20);f+=50;this.ep=this.wa(c,d,e,"Board size","19",f,20);f+=50;this.vh=this.wa(c,d,e,"Handicap","0",f,20);this.wh=this.wa(c,d,e,"Komi","6.5",f+50,20)};l.Ga=function(a,b,c){var d=document.createElement("div");d.setAttribute("id",b);d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.style.fontFamily="Tahoma, Sans serif";d.style.fontSize=15*c/20+"px";d.style.lineHeight=c+"px";d.style.height=c+"px";d.style.fontWeight=550;a.appendChild(d);return d};l.ah=function(a,b){var c=document.createElement("input");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");c.setAttribute("type","text");c.style.fontFamily="Tahoma, Sans serif";c.style.fontSize="10pt";c.style.outline="none";c.style.border="1px solid rgb(169,169,169)";a.appendChild(c);return c};l.wa=function(a,b,c,d,e,f,g){c+=d;var h=this.Ga(a,c,g),k=E(c);k.j.n(20,f,10,1E3,!0,!0,!1,!1,-1,g);k.p=M|L|O;b.m(k);Od(h,d);f+=g;d=c+"Value";a=this.ah(a,d);d=E(d);d.j.n(10,f+1,10,1E3,!0,!0,!0,!1,-1,g-2);d.p=M|L|O;b.m(d);a.value=e;return a};l.Zc=function(){return{O:195,K:340}};l.df=function(){var a=this.ep.value,b=19,c=19,d=-1;-1==(d=a.indexOf(":"))?c=b=Math.min(52,Math.max(parseInt(a),2)):(b=parseInt(a.substr(0,d)),c=parseInt(a.substr(d+1,a.length-d-1)));if(isNaN(b)||2>b||52<b||isNaN(c)||2>c||52<c)gc(this.f.$.id,hc,{S:this.b,U:this.f,zc:"Size value must be an integer number from 2 to 52, or pair of such numbers separated by ':' character.",O:300,K:115});else{var e=parseInt(this.vh.value);if(isNaN(e)||0>e||9<e)gc(this.f.$.id,hc,{S:this.b,U:this.f,zc:"Handicap value must be an integer number from 0 to 9.",O:300,K:95});else if(0!=e&&(6>=c||6>=b||b!==c))gc(this.f.$.id,hc,{S:this.b,U:this.f,zc:"Handicap value must be 0 for this board size.",O:300,K:95});else if(5<e&&(10>=b||10>=c))gc(this.f.$.id,hc,{S:this.b,U:this.f,zc:"Handicap value must be an integer number from 0 to 5 for this board size.",O:300,K:95});else if(a=parseFloat(this.wh.value),isNaN(a)||.001<Math.abs(2*a-(2*a|0)))gc(this.f.$.id,hc,{S:this.b,U:this.f,zc:"Invalid komi value.",O:175,K:85});else{if(this.b){a="(;FF[4]"+("SZ["+(b===c?b:b+":"+c)+"]")+("KM["+a+"]");a+="PB["+this.cp.value+"]";a+="PW["+this.Fp.value+"]";a+="HA["+e+"]";d=[];if(b===c){var f=b,b=10>f?2:3,c=((f+1)/2|0)-1,f=10>f?f-3:f-4;switch(e){case 2:d.push([f,b]);d.push([b,f]);break;case 3:d.push([f,f]);d.push([b,f]);d.push([f,b]);break;case 4:d.push([b,b]);d.push([f,f]);d.push([b,f]);d.push([f,b]);break;case 5:d.push([b,b]);d.push([b,f]);d.push([f,b]);d.push([f,f]);d.push([c,c]);break;case 6:d.push([b,b]);d.push([b,f]);d.push([f,b]);d.push([f,f]);d.push([b,c]);d.push([f,c]);break;case 7:d.push([b,b]);d.push([b,f]);d.push([f,b]);d.push([f,f]);d.push([b,c]);d.push([f,c]);d.push([c,c]);break;case 8:d.push([b,b]);d.push([b,f]);d.push([f,b]);d.push([f,f]);d.push([b,c]);d.push([f,c]);d.push([c,b]);d.push([c,f]);break;case 9:d.push([b,b]),d.push([b,f]),d.push([f,b]),d.push([f,f]),d.push([b,c]),d.push([f,c]),d.push([c,b]),d.push([c,f]),d.push([c,c])}}if(0<d.length)for(a+="AB",e=0,b=d.length;e<b;e++)c=d[e][0],f=d[e][1],c+=25>=c?97:39,f+=25>=f?97:39,a+=String.fromCharCode(91,c,f,93);a+=")";this.b.cd(a,null,null,"sgf")}this.nb()}}};function Ug(){Ug.u.constructor.call(this);this.hc=null}ad(Ug,hg);l=Ug.prototype;l.q=function(a,b){Ug.u.q.call(this,a,!0);gg(this,b.U);fg(this,"Load file from clipboard");var c=this.a.yb,d=this.a.dg,e=this.a.yb.id;this.b=b.S;this.$g(c,d,e);this.dh(b.S);this.hc.select()};l.Ka=function(a){Ug.u.Ka.call(this,a);this.dh();this.hc.select()};l.$g=function(a,b,c){var d=document.createElement("textarea");c=c+"TA";d.setAttribute("id",c);d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.style.fontFamily="Courier New, monospacef";d.style.fontSize="10pt";d.style.resize="none";d.style.outline="none";d.style.border="1px solid rgb(169,169,169)";d.style.height="100%";d.style.width="100%";this.hc=d;a.appendChild(d);a=E(c);a.j.n(0,0,1E3,1E3,!1,!1,!1,!1,-1,-1);a.p=M|L|O|N;b.m(a);return d};l.dh=function(){this.hc.value="";window.clipboardData&&(this.hc.value=window.clipboardData.getData("Text"))};l.df=function(){var a=this.hc.value;a&&""!==a&&this.b.cd(a,null,null,null);this.nb()};l.Zc=function(){return{O:300,K:200}};function Vg(){Vg.u.constructor.call(this);this.ro=this.oo=this.po=-1;this.Uk=72}ad(Vg,dg);l=Vg.prototype;l.q=function(a,b){Vg.u.q.call(this,a,b);gg(this,b.U);fg(this,window.i?window.i.v.window.On.caption:"Kifu");this.a.zd=this.cb(this.a.eb,this.a.bd,a);this.b=b.S;(this.f=b.U)&&this.f.Jm&&this.f.Jm(this)};l.Zc=function(){return{O:650,K:730}};l.cb=function(a,b,c){var d=document.createElement("canvas");c=c+"C";d.setAttribute("style","position:absolute;padding:0;margin:0;");d.id=c;a.appendChild(d);a=E(c);a.j.n(0,0,1E3,1E3,!1,!1,!1,!1,-1,-1);a.p=M|L|O|N;b.m(a);return d};function Wg(a,b,c,d,e){b.clearRect(0,0,c,d);b.strokeStyle="rgba(0, 0, 0, 1)";b.fillStyle="rgba(0, 0, 0, 1)";var f=Xg(b,0,c,e,!1),g=Math.max(50,Math.min(c,d-30-f)),h=e.qa(),k=(h.h-1)*Sa+2*Ta,m=g/k*Ta|0,k=g/k*Sa|0,g=m+((c-g)/2|0),m=m+30;b.lineWidth=2;b.beginPath();b.moveTo(g,m);b.lineTo(g+(h.h-1)*k,m);b.lineTo(g+(h.h-1)*k,m+(h.g-1)*k);b.lineTo(g,m+(h.g-1)*k);b.closePath();b.stroke();b.lineWidth=1;b.beginPath();for(var n=0;n<h.h;++n)b.moveTo(g+n*k+.5,m+.5),b.lineTo(g+n*k+.5,m+(h.g-1)*k+.5);for(var p=0;p<h.g;++p)b.moveTo(g+.5,m+p*k+.5),b.lineTo(g+(h.h-1)*k+.5,m+p*k+.5);b.stroke();b.beginPath();for(var n=Wa(e),p=0,r=n.length;p<r;++p)b.rect(n[p][0]*k+g-3,n[p][1]*k+m-3,7,7);b.fill();for(var r=k/2|0,q=-1,u=-1,p=0;p<h.g;++p)for(n=0;n<h.h;++n){var v=e.P(n+1,p+1),w=e.ge(n+1,p+1),B=n*k+g,C=p*k+m;Yg(b,v,B,C,r);if(-1!==w){Zg(b,v,B,C,r,w);if(-1===q||q>w)q=w;if(-1===u||u<w)u=w}}a.ro=u;h="("+q+" ~ "+u+")";b.fillStyle="rgb(0,0,0)";b.font="16px Arial";b.fillText(h,(c-b.measureText(h).width)/2,20);Xg(b,d-f,c,e,!0);gf(a,b)}l.Ka=function(a){Vg.u.Ka.call(this,a);a=I.B(this.a.eb.clientWidth,!0);var b=I.B(this.a.eb.clientHeight,!0);Wg(this,this.a.zd.getContext("2d"),a,b,$g(this.b))};l.s=function(a){Vg.u.s.call(this,a);var b=I.B(this.a.eb.clientWidth,!0),c=I.B(this.a.eb.clientHeight,!0);if(!0===a||.001<Math.abs(b-this.po)||.001<Math.abs(c-this.oo))this.po=b,this.oo=c,Wg(this,this.a.zd.getContext("2d"),b,c,$g(this.b))};function Yg(a,b,c,d,e){J===b?(a.fillStyle="rgb(0, 0, 0)",a.beginPath(),a.arc(c,d,e,0,2*Math.PI),a.fill()):Da===b&&(a.fillStyle="rgb(255, 255, 255)",a.beginPath(),a.arc(c,d,e,0,2*Math.PI),a.fill(),a.stroke())}function Zg(a,b,c,d,e,f){if(-1!==f){f=""+f;var g=e+"px "+(Za(f)?"Arial":"Helvetica, Arial, Verdana");a.fillStyle=b===Da?"rgb(0,0,0)":"rgb(255,255,255)";a.font=g;b=e/3+.15*e;e=2<f.length?(2*e-a.measureText(f).width)/2-e:(2*e-1.4*a.measureText(f).width)/2-e;2<f.length?a.setTransform(1,0,0,1.4,c+e,d+b):a.setTransform(1.4,0,0,1.4,c+e,d+b);a.fillText(f,0,0);a.setTransform(1,0,0,1,0,0)}}function Xg(a,b,c,d,e){function f(){k+30<g||!0===m?m=!1:(k=15,m=!1,h+=35)}var g=c-15,h=5+b,k=15;if(d.Jc){var h=h+15,m=!0;b=0;for(c=d.Jc.length;b<c;++b){var n=d.Jc[b];if(!(0>=n.Qh.length)){for(var p=0,r=n.Qh.length;p<r;++p){var q=n.Qh[p];f();!0===e&&(Yg(a,q.Sf,k+15,h,15),Zg(a,q.Sf,k+15,h,15,q.Gi));k+=30}f();!0===e&&ah(a,k+15,h);k+=30;f();!0===e&&(Yg(a,n.Sf,k+15,h,15),Zg(a,n.Sf,k+15,h,15,n.Gi));k+=45}}h+=15}return h+=5}function ah(a,b,c){b=b-15|0;a.fillStyle="rgb(0,0,0)";a.beginPath();a.arc(b+6,c,2,0,2*Math.PI);a.arc(b+6+9,c,2,0,2*Math.PI);a.arc(b+6+18,c,2,0,2*Math.PI);a.fill()}function gf(a,b){if(a.b){var c=a.b.Ie+1,d=a.b.qb;b.clearRect(0,0,a.Uk,30);if(0<c&&c<=a.ro){var e=window.i?window.i.v.window.On.next:"Next";b.fillStyle="rgb(0,0,0)";b.font="16px Arial";b.fillText(e,20,20);var f=20;window.Q?(window.Q.lf("16px Arial"),f+=window.Q.ra(e)+5):f+=50;Yg(b,d,f+12,16,12);Zg(b,d,f+12,16,12,c);a.Uk=f+24+2}else 0<c&&(e=window.i?window.i.v.window.On.end:"End",b.fillStyle="rgb(0,0,0)",b.font="16px Arial",b.fillText(e,20,20),a.Uk=100)}}var hc=2,ud=3,zd=4,Cc=5,Jc=6,bh=7,Cd=8,Ac=9,Pc=10,zc=11,Lc=12,Ic=13,xe={};function gc(a,b,c){xe[a]||(xe[a]={});var d=xe[a];if(d[b]){var e=d[b];e.Ka(c);return e}e="unknownwindow";switch(b){case ud:e="Info";break;case zd:e="Settings";break;case hc:e="Error";break;case Cc:e="ScoreEstimate";break;case Jc:e="CountColors";break;case bh:e="GifWriter";break;case Cd:e="About";break;case Ac:e="DiagramSL";break;case Pc:e="ViewPort";break;case zc:e="CreateNew";break;case Lc:e="Clipboard";break;case Ic:e="Kifu"}a=a+e+GoBoardApi.th();e=document.createElement("div");e.setAttribute("id",a);e.setAttribute("style","position:absolute;padding:0;margin:0;width:500px;height:500px;left:300px;top:300px;");e.setAttribute("oncontextmenu","return false;");if(c.U){c.U.$.appendChild(e);e=null;switch(b){case ud:e=new ig;break;case zd:e=new rg;break;case hc:e=new qg;break;case Cc:e=new Ag;break;case Jc:e=new Cg;break;case bh:e=new Dg;break;case Cd:e=new Hg;break;case Ac:e=new Qg;break;case Pc:e=new Rg;break;case zc:e=new Tg;break;case Lc:e=new Ug;break;case Ic:e=new Vg}d[b]=e;null!==e&&(e.q(a,c),e.s(!0));return e}return null};function W(){}l=W.prototype;l.Wl=function(){return new ch};l.qh=function(a,b){(new le(a)).qh(b)};l.rh=function(a,b,c){a=new le(a);if(!0===c){a.gd=2;Ae(a,b);a.$.style.background="";a.Pc=295;b=a.b;c=a.Le;var d=a.$.id;a.al=25;a.bl=36;var e=d+"I";a.N(c.a,e);var f=E(e);f.j.n(0,0,1E3,0,!1,!1,!1,!1,-1,25);f.p=L|M|O;c.m(f);e+="S";a.N(f.a,e);var g=E(e);g.j.n(159,0,1E3,1E3,!0,!1,!1,!1,122,-1);g.p=L|M|N;f.m(g);a.wc=new de(a);a.wc.q(e,b);a.wc.a.d.a.style.backgroundColor="";a.X.push(a.wc);f=d+"T";a.N(c.a,f);e=E(f);e.j.n(109,0,1E3,0,!0,!1,!1,!0,221,36);e.p=N|M;c.m(e);e=new Id(a);T(e,new $c(a),36,V);T(e,new bd(a),36,V);T(e,new dd(a),36,V);T(e,new ed(a),36,V);T(e,new fd(a),36,V);T(e,new gd(a),36,V);e.q(f,b);e.a.d.a.style.backgroundColor="";a.X.push(e);e=d+"B";f=a.N(c.a,e);d=E(e);d.j.n(0,25,1E3,36,!1,!0,!1,!0,-1,-1);d.p=M|O|L|N;c.m(d);c=e+"B";a.N(f,c);g=E(c);d.m(g);e+="N";a.N(f,e);f=E(e);d.m(f);f=new aa(a);f.q(c,a.b);f.Sa();a.X.push(f);d.fb(3,f,{Jb:0});a.s();Ce(b)}else a.rh(b)};l.Vl=function(a,b){var c=new le(a);c.ci=!1;Ae(c,b);Ie(c);c.gd=3};l.Ul=function(a,b){var c=new le(a);c.ci=!1;Ae(c,b);Ee(c);c.gd=4};l.nj=function(a,b){(new le(a)).nj(b)};l.fp=function(a,b){var c=new le(a);c.ci=!0;c.Ud=400;c.He=200;Ae(c,b);c.ih(!0)};l.kp=function(a,b,c){(new zf(a)).q(b,c)};l.ph=function(a,b,c){(new le(a)).ph(b);b=.3;c.TutorTime&&(b=parseFloat(c.TutorTime));c.TutorColor&&"Black"===c.TutorColor?dh(a,!1,J,b):c.TutorColor&&"White"===c.TutorColor?dh(a,!1,Da,b):dh(a,!0,S,b);a.I=0;void 0!==c.NewNode&&(Zd(a,{Bh:!0}),(b=c.NewNode)&&""!==b||(b="Wrong.\nOut of variants."),a.pl=b);b=void 0!==c.WrongCallback?c.WrongCallback:null;var d=void 0!==c.ResetCallback?c.ResetCallback:null;a.ml=void 0!==c.RightCallback?c.RightCallback:null;a.nl=b;a.ll=d};l.rj=function(a){return a.rj()};l.qg=function(a){a.qg(!0)};l.nf=function(a){a.nf()};l.Qm=function(a,b){var c={};c.Bh=b.NewNode;c.Km=b.RemoveNodes;c.lg=b.Move;c.hj=b.ChangeBoardMode;c.Dj=b.LoadFile;c.Dd=b.GameInfo;c.wn=b.ViewPort;Zd(a,c)};l.cd=function(a,b,c,d,e){var f={};c&&!0===c.Auto?f.El=!0:c&&void 0!==c.X0&&void 0!==c.X1&&void 0!==c.Y0&&void 0!==c.Y1?(f.El=!1,f.ca=c.X0,f.ja=c.X1,f.da=c.Y0,f.ka=c.Y1):f=null;c=a.I;a.I=4294967295;a.cd(b,f,d,e);a.I=c};l.mg=function(a){return a.mg()};l.np=function(a,b,c){var d=1===c?a.vi:a.l;a=a.l;Gc(d);a:{var e=d,f=e;c=new eh;fh(c,"GBMR");if(!1!==b){for(;!e.bi;){b=e.ta;if(null===b){c="";break a}e=b}gh(c,1);b=e.xj();hh(c,b.length);fh(c,b);if(e!==f){ih(c,1);b=[];for(d=f;d!==e;)b.splice(0,0,d),d=d.ta;hh(c,b.length);e=0;for(d=b.length;e<d;e++){var g=b[e];gh(c,1);f=c.e;c.e+=4;for(var h=0,k=0,m=g.Ua.length;k<m;k++){var n=g.Ua[k],p=n.V,r=n.Na(),n=n.kb;switch(p){case 1:gh(c,16);hh(c,4);hh(c,r);h++;break;case 2:gh(c,17);hh(c,4);hh(c,r);h++;break;case 257:case 258:case 259:switch(p){case 257:gh(c,32);break;case 258:gh(c,33);break;case 259:gh(c,34)}hh(c,4*(n+1));hh(c,n);for(p=0;p<n;p++)hh(c,r[p]);h++}}g=c.e;c.e=f;hh(c,h);c.e=g;gh(c,0)}}else ih(c,0)}else{gh(c,2);b=c.e;c.e+=4;e=d.Ib();for(d=0;e!==f&&0<vc(e);)d++,hh(c,e.ua),e=e.W();g=c.e;c.e=b;hh(c,d);c.e=g}c=jh(c);c=kh(c);c=c.replace(RegExp("\\+","g"),"~");c=c.replace(RegExp("\\/","g"),"-");c=c.replace(RegExp("=","g"),"_")}a.xh();return c};l.Ap=function(a,b){if(a&&b){var c=a.l;lh(a,b);a.vi=a.l;a.ia(c,!0)}};l.yj=function(a){return a.yj()};l.s=function(a){a.s()};l.bf=function(a){return a?a.bf():"White vs. Black"};l.og=function(a,b){a.og(b)};l.Sa=function(a){a&&a.Sa()};l.th=function(){return"0.10.12"};l.Mh=function(a){a&&a.Mh()};l.zp=function(a,b){a&&b&&(a.Y=b)};l.ia=function(a,b){if(a){var c=mh(a.Ib(),b);null!==c&&a.ia(c)}};l.gg=function(a,b){a&&a.gg(b)};l.dd=function(a,b){a&&a.dd(b,!0)};l.Pm=function(a,b){if(a){var c=null;"TrueColor"===b?c=1:"BookStyle"===b?c=2:"Simple"===b?c=3:"Dark"===b&&(c=4);c&&(c=a.Ea.Hh(c),!0===c.ga&&a.o&&a.o.s(!0),a.T&&!0===c.Navigator&&sf(a.T))}};l.af=function(a,b){if(a)return a.af(b)};l.$j=function(a,b){b&&a&&a.$j(b)};l.Rj=function(a,b){a&&a.Rj(b)};l.Tj=function(a,b){a&&a.Tj(b)};l.lp=function(a,b){function c(a){a=decodeURIComponent(a);var b=new XMLHttpRequest;b.open("GET",a+"?_="+(new Date).getTime(),!0);b.onreadystatechange=function(){4!==b.readyState||200!==b.status&&0!=b.status||(g=b.responseText,d())};b.send(null)}function d(){var c=document.getElementById(a);if(c){var d={LoadFile:!1,GameInfo:!1,ChangeBoardMode:!1,NewNode:!1,Move:!1,ViewPort:!1};n.Pm(r,m);var v=400;"image"===h?(n.qh(r,a),n.dd(r,!1),v=600):"viewer"==h?(n.rh(r,a,p),d.Move=!0,v=600):"vereditor"===h?(n.Vl(r,a),d.ChangeBoardMode=!0,d.NewNode=!0,d.Move=!0,v=600):"horeditor"===h?(n.Ul(r,a),d.ChangeBoardMode=!0,d.NewNode=!0,d.Move=!0,v=900):"problems"==h&&(d={},b.problemsTime&&(d.TutorTime=b.problemsTime),b.problemsColor&&(d.TutorColor=b.problemsColor),b.problemsNewNode&&(d.NewNode=b.problemsNewNode),n.ph(r,a,d),d=null,v=400,null===f&&(f={Auto:!0}));n.cd(r,g,f);null!==k&&(v=k);var w=n.af(r,v);c.style.width=v+"px";c.style.height=w+"px";-1!==e?n.gg(r,e):n.gg(r,0);n.s(r);d&&n.Qm(r,d)}}var e=-1,f=null,g=null,h=null,k=null,m="TrueColor",n=this,p=!1,r=this.Wl();r.Ea.$h=!0;b.viewPort&&(f={},"auto"===b.viewPort?f.Auto=!0:(f.Auto=!1,f.X0=parseInt(b.viewPort.X0),f.X1=parseInt(b.viewPort.X1),f.Y0=parseInt(b.viewPort.Y0),f.Y1=parseInt(b.viewPort.Y1)));b.moveNumber&&(e=parseInt(b.moveNumber));b.boardMode?h=b.boardMode:h="viewer";b.width&&(k=b.width);b.boardTheme&&(m=b.boardTheme);!0===b.booklet&&(p=!0);null!=b.sgfUrl?c(b.sgfUrl):(null!==b.sgfData?g=b.sgfData:g="(;FF[4]GM[1]SZ[19])",d());return r};window.GoBoardApi=new W;W.prototype.Embed=W.prototype.lp;W.prototype.Create_GameTree=W.prototype.Wl;W.prototype.Create_SimpleBoard=W.prototype.qh;W.prototype.Create_Viewer=W.prototype.rh;W.prototype.Create_EditorHor=W.prototype.Ul;W.prototype.Create_EditorVer=W.prototype.Vl;W.prototype.Create_BoardWithNavigateButtons=W.prototype.nj;W.prototype.Create_BoardCommentsButtonsNavigator=W.prototype.fp;W.prototype.Create_Presentation=W.prototype.kp;W.prototype.Create_Problems=W.prototype.ph;W.prototype.Set_Permissions=W.prototype.Qm;W.prototype.Load_Sgf=W.prototype.cd;W.prototype.Save_Sgf=W.prototype.mg;W.prototype.Get_MoveReference=W.prototype.np;W.prototype.Set_StartNodeByReference=W.prototype.Ap;W.prototype.Is_Modified=W.prototype.yj;W.prototype.Update_Size=W.prototype.s;W.prototype.Set_Sound=W.prototype.og;W.prototype.Find_ProblemRightVariant=W.prototype.rj;W.prototype.Start_AutoPlay=W.prototype.qg;W.prototype.Stop_AutoPlay=W.prototype.nf;W.prototype.Focus=W.prototype.Sa;W.prototype.Get_MatchName=W.prototype.bf;W.prototype.Get_Version=W.prototype.th;W.prototype.Toggle_Rulers=W.prototype.Mh;W.prototype.Set_GameTreeHandler=W.prototype.zp;W.prototype.GoTo_Node=W.prototype.ia;W.prototype.GoTo_NodeByMoveNumber=W.prototype.gg;W.prototype.Set_ShowTarget=W.prototype.dd;W.prototype.Get_DivHeightByWidth=W.prototype.af;W.prototype.Set_BoardTheme=W.prototype.Pm;W.prototype.Set_OnGameTreeModifiedCallback=W.prototype.$j;W.prototype.Set_CapturingMode=W.prototype.Rj;W.prototype.Set_DrawHandicapMarks=W.prototype.Tj;function nh(a,b,c){this.V=void 0===a?0:a;this.yi=void 0===b?null:b;this.kb=void 0===c?0:c}nh.prototype.Na=function(){return this.yi};nh.prototype.fb=function(a){this.V=a};nh.prototype.Kh=function(a){this.yi=a};function oh(){var a=Command;return JSON.stringify({ed:a.V,rc:a.yi,kj:a.kb})}nh.prototype.Ad=function(){return new nh(this.V,this.yi,this.kb)};function ph(){Y=X=0}function A(a,b,c,d){this.F=a;this.H=b;this.G=c;this.Za="undefined"===typeof d?255:d}function R(a){return"rgba("+a.F+","+a.H+","+a.G+","+a.Za/255+")"}function Sd(a,b){return a.F!==b.F||a.H!==b.H||a.G!==b.G||a.Za!==b.Za?!1:!0}A.prototype.Ad=function(){return new A(this.F,this.H,this.G,this.Za)};function qh(a){return a.F<<24&4278190080|a.H<<16&16711680|a.G<<8&65280|a.Za&255}A.prototype.Set=function(a,b,c){this.F=a;this.H=b;this.G=c};function Bb(a){var b=new ph;b.h=a&255;b.g=a>>8&255;return b}function rh(a){for(var b=[],c=0,d=a.length;c<d;c++)b.push(a[c]);return b}function Va(a){if("undefined"!=typeof a.offsetParent){for(var b=0,c=0;a;a=a.offsetParent)b+=a.offsetLeft,c+=a.offsetTop;return{h:b,g:c}}return{h:a.x,g:a.y}}function Ya(a,b){var c=Math.max(0,Math.min(a-1,b-1));return 8>c?String.fromCharCode(65+c):24>=c?String.fromCharCode(65+c+1):33>c?String.fromCharCode(65+c-25,65+c-25):50>c?String.fromCharCode(65+c-24,65+c-24):String.fromCharCode(65+c-50,65+c-50,65+c-50)}function Za(a){if("string"!=typeof a)return!1;for(var b=0;b<a.length;b++){var c=a.charCodeAt(b);if(48>c||57<c)return!1}return!0}function ic(a,b){return a>b?1:b>a?-1:0}var sh=null;function tf(a,b,c,d,e){a.onmousedown=th;a.Hc=!0;a.Wc=!0;a.root=a;a.Hc&&isNaN(parseInt(a.root.style.left))&&(a.root.style.left="0px");a.Wc&&isNaN(parseInt(a.root.style.top))&&(a.root.style.top="350px");!a.Hc&&isNaN(parseInt(a.root.style.right))&&(a.root.style.right="0px");!a.Wc&&isNaN(parseInt(a.root.style.bottom))&&(a.root.style.bottom="0px");a.Zd="undefined"!=typeof b?b:null;a.$d="undefined"!=typeof d?d:null;a.Ve="undefined"!=typeof c?c:null;a.We="undefined"!=typeof e?e:null;a.Zo=null;a.$o=null;a.root.Wb=function(){};a.root.Vb=function(){};a.root.Ub=function(){}}function th(a){var b=sh=this;a=uh(a);var c=parseInt(b.Wc?b.root.style.top:b.root.style.bottom),d=parseInt(b.Hc?b.root.style.left:b.root.style.right);b.root.Wb(d,c);b.Pn=a.clientX;b.Qn=a.clientY;b.Hc?(null!=b.Zd&&(b.Ei=a.clientX-d+b.Zd),null!=b.Ve&&(b.ql=b.Ei+b.Ve-b.Zd)):(null!=b.Zd&&(b.ql=-b.Zd+a.clientX+d),null!=b.Ve&&(b.Ei=-b.Ve+a.clientX+d));b.Wc?(null!=b.$d&&(b.Fi=a.clientY-c+b.$d),null!=b.We&&(b.rl=b.Fi+b.We-b.$d)):(null!=b.$d&&(b.rl=-b.$d+a.clientY+c),null!=b.We&&(b.Fi=-b.We+a.clientY+c));document.onmousemove=vh;document.onmouseup=wh;return!1}function vh(a){da(a);a=uh(a);var b=sh,c=a.clientY;a=a.clientX;var d=parseInt(b.Wc?b.root.style.top:b.root.style.bottom),e=parseInt(b.Hc?b.root.style.left:b.root.style.right),f,g;null!=b.Zd&&(a=b.Hc?Math.max(a,b.Ei):Math.min(a,b.ql));null!=b.Ve&&(a=b.Hc?Math.min(a,b.ql):Math.max(a,b.Ei));null!=b.$d&&(c=b.Wc?Math.max(c,b.Fi):Math.min(c,b.rl));null!=b.We&&(c=b.Wc?Math.min(c,b.rl):Math.max(c,b.Fi));f=e+(a-b.Pn)*(b.Hc?1:-1);g=d+(c-b.Qn)*(b.Wc?1:-1);b.Zo?f=b.Zo(d):b.$o&&(g=b.$o(e));null!=b.Zd&&(f=Math.max(f,b.Zd));null!=b.Ve&&(f=Math.min(f,b.Ve));null!=b.$d&&(g=Math.max(g,b.$d));null!=b.We&&(g=Math.min(g,b.We));sh.root.style[b.Hc?"left":"right"]=f+"px";sh.root.style[b.Wc?"top":"bottom"]=g+"px";sh.Pn=a;sh.Qn=c;sh.root.Ub(f,g);return!1}function wh(){document.onmousemove=null;document.onmouseup=null;sh.root.Vb(parseInt(sh.root.style[sh.Hc?"left":"right"]),parseInt(sh.root.style[sh.Wc?"top":"bottom"]));sh=null}function uh(a){"undefined"==typeof a&&(a=window.event);"undefined"==typeof a.layerX&&(a.layerX=a.offsetX);"undefined"==typeof a.layerY&&(a.layerY=a.offsetY);return a}function ad(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.u=b.prototype}var ne=window.requestAnimationFrame?window.requestAnimationFrame:window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){return window.setTimeout(a,1E3/60)},me=window.cancelAnimationFrame?window.cancelAnimationFrame:window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(a){window.clearTimeout(a)};function Nc(a,b,c){if("undefined"!==typeof navigator&&navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(a,b);else{var d=document.createElementNS("http://www.w3.org/1999/xhtml","a");a=(window.URL||window.webkitURL||window).createObjectURL(a);d.href=a;d.download=b;c&&(d.type=c);xh(d)}}function Mc(a){var b=document.getElementsByTagName("body");if(0<b.length){var b=b[0],c=document.createElement("input");b.appendChild(c);c.type="file";c.multiple=!1;c.accept=".sgf,.gib,.ngf";c.style.display="none";c.addEventListener("change",function(b){b=b.target.files;if(0<b.length){b=b[0];var c=b.name.split(".").pop().toLowerCase(),f=new FileReader;f.onload=function(b){a.cd(b.target.result,null,null,c);a.Sa()};f.readAsText(b);a.Sa()}},!1);xh(c);b.removeChild(c)}}function xh(a){var b=document.createEvent("MouseEvents");b.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null);a.dispatchEvent(b)}function Nf(a){return void 0!==window.localStorage?localStorage.getItem("HTMLGoBoard"+a):""}function Of(a,b){void 0!==window.localStorage&&localStorage.setItem("HTMLGoBoard"+a,b)}function kh(a){var b="",c,d,e=0,f,g,h=0,k=0;do c=a[k++],d=a[k++],e=a[k++],f=c>>2,c=(c&3)<<4|d>>4,g=(d&15)<<2|e>>6,h=e&63,isNaN(d)?g=h=64:isNaN(e)&&(h=64),b=b+yh.charAt(f)+yh.charAt(c)+yh.charAt(g)+yh.charAt(h);while(k<a.length);return b}function zh(a){var b,c,d=0,e="",f=0,g=a.replace(/[^A-Za-z0-9\+\/\=]/g,""),h=[];do b=yh.indexOf(g.charAt(f++)),d=yh.indexOf(g.charAt(f++)),a=yh.indexOf(g.charAt(f++)),e=yh.indexOf(g.charAt(f++)),b=b<<2|d>>4,c=(d&15)<<4|a>>2,d=(a&3)<<6|e,h.push(b),64!=a&&h.push(c),64!=e&&h.push(d);while(f<g.length);return h}function Od(a,b){a.innerText?a.innerText=b:a.textContent=b}function Wf(a,b){var c=document.createElement("div");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c}function Wd(a){for(;a.firstChild;)a.removeChild(a.firstChild)}var yh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",I=new function(){};(function(a){var b={userAgent:"",vg:!1,Jn:!1,Rp:!1,Mp:!1,Gn:!1,yk:!1,Op:!1,xk:!1,Qp:!1,Ln:!1,Tp:!1,Mn:!1,Np:!1,Kn:!1,Qd:!1,In:!1,ae:1,Sp:!1,Nn:!1,Hn:!1,Pp:!1};b.userAgent=navigator.userAgent.toLowerCase();b.vg=-1<b.userAgent.indexOf("msie")||-1<b.userAgent.indexOf("trident")||-1<b.userAgent.indexOf("edge");b.as=-1<b.userAgent.indexOf("edge/");b.$r=-1<b.userAgent.indexOf("msie9")||-1<b.userAgent.indexOf("msie 9");b.Zr=-1<b.userAgent.indexOf("msie10")||-1<b.userAgent.indexOf("msie 10");b.Jn=-1<b.userAgent.indexOf("mac");b.xk=!b.vg&&-1<b.userAgent.indexOf("chrome");b.Mn=!b.vg&&!b.xk&&-1<b.userAgent.indexOf("safari");b.Rp=b.Mn&&b.Jn;b.Mp=-1<b.userAgent.indexOf("ipad")||-1<b.userAgent.indexOf("iphone")||-1<b.userAgent.indexOf("ipod");b.Gn=-1<b.userAgent.indexOf("android");b.yk=/android|avantgo|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od|ad)|iris|kindle|lge |maemo|midp|mmp|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent||navigator.vendor||a.opera);b.Op=-1<b.userAgent.indexOf("gecko/");b.Qp=!!a.opera||-1<b.userAgent.indexOf("opr/");b.Ln=!!a.opera;b.Tp=!b.vg&&-1<b.userAgent.indexOf("webkit");b.Np=-1<b.userAgent.indexOf("arm");b.Kn=!b.vg&&-1<b.userAgent.indexOf("firefox");b.In=-1<b.userAgent.indexOf(" linux ");b.Sp=b.In&&-1<b.userAgent.indexOf("vivaldi");b.Nn=-1<b.userAgent.indexOf("sailfish");b.Hn=-1<b.userAgent.indexOf("emulatedevicepixelratio");b.Pp=-1<b.userAgent.indexOf("needemulateupload");b.zoom=1;b.jp=function(){if(b.Nn&&b.Hn){var c=1;540>=screen.width?c=1.5:540<screen.width&&768>=screen.width?c=2:768<screen.width&&(c=3);b.Qd=1.9<=c;b.ae=c;a.devicePixelRatio=c}else b.Gn?(b.Qd=1.9<=a.devicePixelRatio,b.ae=a.devicePixelRatio):(b.zoom=1,b.Qd=!1,b.ae=1,b.xk&&!b.Ln&&!b.yk&&document&&document.firstElementChild&&document.body?(.1<a.devicePixelRatio&&(1.99>a.devicePixelRatio?b.zoom=a.devicePixelRatio/1:(b.zoom=a.devicePixelRatio/2,b.Qd=!0)),c=document.firstElementChild.style,b.Kn?.1<a.devicePixelRatio?(c.transformOrigin="0 0",c.transform="scale("+1/b.zoom+")",c.width=100*b.zoom+"%",c.height=100*b.zoom+"%"):(c.transformOrigin="0 0",c.transform="scale(1)",c.width="100%",c.height="100%"):.1<a.devicePixelRatio?c.zoom=1/b.zoom:c.zoom="normal",b.Qd&&(b.ae=2)):(b.Qd=.01>Math.abs(2-a.devicePixelRatio/b.zoom),b.Qd&&(b.ae=2),b.yk&&(b.Qd=1.9<=a.devicePixelRatio,b.ae=a.devicePixelRatio)))};b.jp();I.gr=b;I.B=function(a,d){return!1!==d?a*b.ae+.5>>0:a/b.ae+.5>>0}})(window);var S=0,J=1,Da=2,Ah=0,Rc=0,Qc=2,Sa=23.61,Ta=17.51,Ua=Sa/2,Ke="data:image/png;base64,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",Ig="data:image/png;base64,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";var Pa=4,Kc=8,Oc=32,Bc=128,Bh=4294967295^Pa,Ch=4294967295^Kc,Dh=4294967295^Oc,Eh=4294967295^Bc;function ch(a){this.Ea=new Pf(this);this.vb=new Qf;this.f=a;this.gq=new lf;this.sa=new Fh;this.T=this.o=null;this.vi=this.l=this.Ta=new Gh(this);this.dq=null;this.md=this.jd=0;this.qb=J;this.Nc=this.Ie=this.Ao=this.eo=this.ac=this.Ob=0;this.Te=this.Mf=this.Bi=this.vd=this.Re=this.Xd=this.Kf=this.Ro=this.Jf=this.Lf="";this.ud="Black";this.Se="";this.wd="White";this.Of=this.Qf=this.Nf=this.Ue="";this.Bf=0;this.To=this.Rf=this.Pf="";this.Ge=Ah;this.I=4294967295;this.hd=null;this.Dg=.75;this.co=-1;this.Kk=!1;this.Vd=S;this.wo=300;this.pl="";this.Y=this.xf=this.ll=this.nl=this.ml=this.$k=null;this.Kc=this.Ba=!1;this.no=0;this.Qk=null;this.Zh=!0;this.Td=0}function Bg(a){var b=new ch;b.sa=a.sa.Ad();b.Ta=Hh(a.Ta,a.l);b.l=b.Ta;b.Ob=a.Ob;xc(b);return b}function dh(a,b,c,d){!0===b?(a.Kk=!0,a.Vd=S):(a.Kk=!1,a.Vd=c);void 0!==d&&(a.wo=1E3*d)}l=ch.prototype;l.rj=function(){var a=[];Fc(this.Ta,a);if(0<a.length){var b=Math.max(0,Math.min(a.length-1,Math.floor(Math.random()*a.length)));Gc(a[b]);return!0}return!1};l.qg=function(a){if(2&this.I||!0===a){this.nf();this.f&&this.f.Cm();var b=this,c=function(){0<vc(b.l)&&(b.hd=0,pa(b,1,a));0<vc(b.l)?(b.co=(new Date).getTime(),b.hd=setTimeout(c,100+6900*(1-b.Dg))):(b.hd=null,b.f&&b.f.Kj())},d=100+6900*(1-this.Dg)-((new Date).getTime()-this.co);0>=d?c():this.hd=setTimeout(c,d)}};l.nf=function(){this.f&&this.f.Kj();null!==this.hd&&(clearTimeout(this.hd),this.hd=null)};function Ce(a){a.T&&a.T.lc();if(a.f){a.qc();var b=a.f;b.Rg&&(b=b.Rg,!0!==b.Bg&&Le(b,a.Dg,!0))}}l.s=function(){this.f&&this.f.s()};l.Sa=function(){this.o&&this.o.Sa()};l.cd=function(a,b,c,d){if(this.I&Kc){Ih.Kd();this.Td++;var e=this.I;this.I=4294967295;var f=null,f="gib"===d?new Jh(this):"ngf"===d?new Kh(this):new Lh(this);f.Cj(a);this.Kk&&(this.Vd=this.qb===J?Da:J);a=this.sa.qa().h;d=this.sa.qa().g;this.o&&b?!0===b.El?Aa(this.o,4>=f.r.ca?0:f.r.ca-2,4>=f.r.da?0:f.r.da-2,3>=a-f.r.ja?a-1:f.r.ja,3>=d-f.r.ka?d-1:f.r.ka):void 0!==b.ca&&void 0!==b.ja&&void 0!==b.da&&void 0!==b.ka&&Aa(this.o,b.ca,b.da,b.ja,b.ka):this.o&&Aa(this.o,0,0,a-1,d-1);this.T&&(this.T.lc(),this.T.Ya());c?lh(this,c):(this.vi=b=!this.hg()||""!==this.Ue&&null!==this.Ue&&void 0!==this.Ue?this.Ta:yf(this.Ta),this.ia(b));b=this.fe();3!==this.fe()&&(this.Ge=b);this.I=e;uc(this);this.o&&(e=this.o,e.c.Gh=null,null!==e.Oe&&Sb(e.b.l)>=Tb(e.Oe)&&Ub(e.Oe));this.f&&this.f.s(!0);this.Ba=!1}};l.mg=function(){var a=new Mh;a.b=this;a.Yd="";a.bc=null;Nh(a,this.Ib());return a.Yd};l.Kd=function(){this.Ta=new Gh(this);this.vd="";jg(this);kg(this,"");this.Qf="";jg(this);this.Ob=0;this.Ba=!0;this.ac="0";jg(this);this.Bf="";jg(this);this.Te="";jg(this);lg(this,"Black");mg(this,"");ng(this,"White");og(this,"");this.Kf="";jg(this);pg(this,"");this.Xd="";this.Ba=!0;this.Re="";jg(this);this.Nf="";jg(this);this.Se="";jg(this);this.Lf="";jg(this);this.Mf="";jg(this);this.Of="";jg(this);this.Pf="";jg(this);this.Ge=2;Oh(this)};function Rb(a){var b=a.I;S!==a.Vd&&Zd(a,{lg:!0});a.ia(a.Ta);a.I=b;S!==a.Vd&&a.ll&&Ph(a,a.ll)}function ra(a,b){for(var c=a.l;null!=c.ta&&0<b&&!(c=c.ta,b--,1<vc(c)););a.ia(c)}function pa(a,b,c){var d=a.l,e=a.Nc;if(1===b)Qh(a,c)&&(a.Y&&a.Y.GoToNode?(a.Y.GoToNode(a.l),a.Nc=e,a.l=d):dc(a));else{for(c=0;c<b&&!(Qh(a),1<vc(a.l));c++);a.Y&&a.Y.GoToNode?(a.Y.GoToNode(a.l),a.Nc=e,a.l=d):a.ia(a.l)}}function xc(a){for(var b=a.l,c=a.Nc;Qh(a););a.Y&&a.Y.GoToNode?(a.Y.GoToNode(a.l),a.Nc=c,a.l=b):a.ia(a.l)}l.Dm=function(){this.Y&&this.Y.Pass?this.Y.Pass(this.qb):!0===pc(this,0,0,this.qb)&&dc(this)};function wc(a){var b=a.l.ta;if(null!==b){var c=b.ua,d=vc(b);1<d&&(a.le()?(b=0<c?b.W(c-1):b.W(d-1),a.ia(b)):0<c&&(b=b.W(c-1),a.ia(b)))}}function yc(a){var b=a.l.ta;if(null!==b){var c=b.ua,d=vc(b);1<d&&(a.le()?(b=c<d-1?b.W(c+1):b.W(0),a.ia(b)):c<d-1&&(b=b.W(c+1),a.ia(b)))}}l.uh=function(){for(var a=this.l;!Rh(a);){var b=a.ta;if(null===b&&a!==this.Ta)return;a=b}a.uh();this.ia(a);this.T&&this.T.Ya()};l.ng=function(a){this.qb=a;this.l.ng(a)};l.Ib=function(){return this.Ta};l.kc=function(a,b,c){this.l.kc(a,b,c)};function cc(a,b,c){if(!(a.I&1))return!1;a.Td++;var d=new Gh(a),e=a.l,f,g=e.b;g&&g.Td++;d.ta=e;if(void 0===f&&!0===e.Gk&&!0===d.Gk)for(f=0;f<e.Aa.length&&!0===e.Aa[f].Gk;)f++;if(void 0===f){if(e.Aa.push(d),!0===c||-1===e.ua)e.ua=e.Aa.length-1}else f=Math.max(0,Math.min(e.Aa.length,f)),e.Aa.splice(f,0,d),!0===c||-1===e.ua?e.ua=f:e.ua>=f&&e.ua++;g&&(jg(g),uc(g));a.l=d;a.Nc++;uc(a);!0===b&&a.T&&(a.T.lc(),a.T.Ya());return!0}function pc(a,b,c,d){for(var e=(c<<8)+b,f=0,g=vc(a.l);f<g;f++){var h=a.l.W(f),k=h.fc,m=k.V;if(!0===a.Kc&&0!==f)return!1;if(e===k.Na()&&d===m&&(J===d||Da===d))return b=a.l.ua,Sh(a.l,f),a.l=h,a.Nc++,a.T&&b!==f&&a.T.Ya(),!0}if(!(a.I&1))return!1;a.Td++;cc(a,!1,!0);a.l.kc(b,c,d);a.T&&(a.T.lc(),a.T.Ya());S!==a.Vd&&""!==a.pl&&a.l.Ih(a.pl);uc(a);return!0}l.Ze=function(a,b){this.l.Ze(a,b)};l.jh=function(a){var b=this.l.xb;this.l.jh(a);this.f&&this.f.Ld(this.l.xb);this.T&&""===b&&""!==a&&this.T.Ya()};l.Ih=function(a){var b=this.l.xb;this.l.Ih(a);this.T&&(""===b&&""!==a||""!==b&&""===a)&&this.T.Ya()};l.Wa=function(a,b){this.l.Wa(a,b)};l.oc=function(a){this.l.Wa(513,a)};l.$e=function(a,b){this.l.$e(a,b)};l.Qi=function(a,b){Th(this.l)||(this.l.vc.tf=!0);for(var c=0,d=b.length;c<d;c++)this.l.Qi(b[c],a)};l.Oi=function(a){this.l.Oi(a)};l.Ri=function(a){this.l.Ri(a)};l.ij=function(){this.sa.we=[];!0===Th(this.l)&&(this.l.vc.tf=!1,this.l.ij());if(this.o){this.o.mb={};for(var a=0,b=this.l.Ua.length;a<b;a++){var c=this.l.Ua[a],d=c.Na(),e=c.kb;switch(c.V){case 529:for(c=0;c<e;c++){var f=Bb(d[c]);this.o.Wa(new Ea(f.h,f.g,Gb,""))}break;case 530:for(c=0;c<e;c++)f=Bb(d[c]),this.o.Wa(new Ea(f.h,f.g,Jb,""));break;case 531:for(c=0;c<e;c++)f=Bb(d[c]),this.o.Wa(new Ea(f.h,f.g,Hb,""));break;case 532:for(c=0;c<e;c++)f=Bb(d[c]),this.o.Wa(new Ea(f.h,f.g,Ib,""));break;case 533:f=Bb(d.Lj);this.o.Wa(new Ea(f.h,f.g,Ab,d.Text));break;case 513:for(c=0;c<e;c++)f=Bb(d[c]),this.o.oc(f.h,f.g)}}this.l.ad()?(b=this.l.fc,a=b.he(),b=b.ie(),yb(this.o,a,b)):yb(this.o,-1,-1);cb(this.o)}};l.ad=function(){return this.l.ad()};function dc(a){a.sa.we=[];a.o&&(1===a.o.Da&&Oa(a.o,0),a.o.mb={},a.pg(),a.l.vc.zg&&Qa(a.sa,!0));for(var b=0,c=a.l.Ua.length;b<c;b++){var d=a.l.Ua[b],e=d.Na(),f=d.kb;switch(d.V){case 1:d=Bb(e);Uh(a,d.h,d.g,J,!1);break;case 2:d=Bb(e);Uh(a,d.h,d.g,Da,!1);break;case 257:for(var g=0;g<f;g++)d=Bb(e[g]),Vh(a,d.h,d.g,J,-1);break;case 258:for(g=0;g<f;g++)d=Bb(e[g]),Vh(a,d.h,d.g,Da,-1);break;case 259:for(g=0;g<f;g++)d=Bb(e[g]),Vh(a,d.h,d.g,S,-1);break;case 260:a.qb=e;break;case 529:if(a.o)for(g=0;g<f;g++)d=Bb(e[g]),a.o.Wa(new Ea(d.h,d.g,Gb,""));break;case 530:if(a.o)for(g=0;g<f;g++)d=Bb(e[g]),a.o.Wa(new Ea(d.h,d.g,Jb,""));break;case 531:if(a.o)for(g=0;g<f;g++)d=Bb(e[g]),a.o.Wa(new Ea(d.h,d.g,Hb,""));break;case 532:if(a.o)for(g=0;g<f;g++)d=Bb(e[g]),a.o.Wa(new Ea(d.h,d.g,Ib,""));break;case 533:a.o&&(d=Bb(e.Lj),a.o.Wa(new Ea(d.h,d.g,Ab,e.Text)));break;case 513:if(a.o)for(g=0;g<f;g++)d=Bb(e[g]),a.o.oc(d.h,d.g)}}a.o&&(a.l.ad()?(c=a.l.fc,b=c.he(),c=c.ie(),yb(a.o,b,c)):yb(a.o,-1,-1),a.l.vc.zg?(Wh(a.l.vc,a.sa),a.eg(),a.f.Da=1,a.qc()):Th(a.l)&&Oa(a.o,1),cb(a.o),Xh(a.l,a.o));a.f&&(b=a.l.xb,c=!0,S!==a.Vd?(-1!==b.indexOf("CHOICE")&&(b=b.replace("CHOICE","")),0>=vc(a.l)&&(-1!==b.indexOf("RIGHT")&&null!==a.ml?(a.f.Ld(b.replace("RIGHT","")),Ph(a,a.ml),c=!1):-1===b.indexOf("RIGHT")&&null!==a.nl&&(a.f.Ld(b),Ph(a,a.nl),c=!1)),c&&a.f.Ld(b)):a.f.Ld(b));a.T&&uf(a.T,!0);a.qc();if(a.qb===a.Vd&&null===a.$k&&null===a.hd&&null===a.xf&&0<=vc(a.l)){var h=a.I;a.$k=setTimeout(function(){a.I=4294967295;for(var b=a.l,c=[],d=0,e=vc(b);d<e;d++)-1!==b.W(d).xb.indexOf("CHOICE")&&c.push(d);0<c.length?(d=Math.max(0,Math.min(c.length-1,Math.floor(Math.random()*c.length))),Sh(b,c[d])):0<vc(b)&&Sh(b,0);pa(a,1);a.I=h;a.$k=null},a.wo);a.I=0}}function Uh(a,b,c,d,e){if(0!=b||0!=c){if(a.vb&&!0!==e){var f=a.vb;Tf(f,f.Fm)}Vh(a,b,c,d,a.Ie+1,e);f=null;if(!0===a.Zh&&null!==(f=sc(a.sa,b,c,d,!1))&&0<f.qa()){b=f.qa();for(c=0;c<b;c++){var g=Bb(f.Na(c));Vh(a,g.h,g.g,S,-1)}a.vb&&!0!==e&&Sf(a.vb,f.qa());J===d?a.jd+=b:a.md+=b}else if(!0===a.Zh&&null!==(f=tc(a.sa,b,c,d))&&0<f.qa()){b=f.qa();for(c=0;c<b;c++)g=Bb(f.Na(c)),Vh(a,g.h,g.g,S,-1);a.vb&&!0!==e&&Sf(a.vb,f.qa());J===d?a.md+=b:a.jd+=b}else a.sa.sd.Kd()}a.qb=J===d?Da:J;a.Ie++}function Qh(a,b){if(!(a.I&2)&&!0!==b||!0===a.Kc&&!0!==b||0===vc(a.l)||-1===a.l.ua)return!1;a.l=a.l.W(a.l.ua);a.Nc++;return!0}l.pg=function(){this.o&&this.l.pg(this.Ge,this.o)};l.eg=function(){if(this.o){var a=this.sa.eg(this.o);cb(this.o);Th(this.l)||(this.l.vc.tf=!0);var b=this.sa,c=this.l.vc;c.ib={};for(var d=b.qa(),e=1;e<=d.g;e++)for(var f=1;f<=d.h;f++){var g=Vb(b,f,e),h=(e<<8)+f;if(J===g||Da===g)c.ib[""+h]=g}this.eo=a.lh+this.jd;this.Ao=a.Oh+this.md+this.Ob;this.qc()}};l.og=function(a){this.vb.q(a)};l.ia=function(a,b){if((this.I&2||!0===b)&&!0!==this.Kc)if(this.Y&&this.Y.GoToNode)this.Y.GoToNode(a);else{this.nf();Oh(this);this.sa.Xa();this.vb&&(this.vb.sf=!1);var c=Gc(a);for(this.l=this.Ta;this.l!=a&&0<vc(this.l);){for(var d=this.l.Ua.length,e=0;e<d;e++){var f=this.l.Ua[e],g=f.Na(),h=f.kb;switch(f.V){case 1:f=Bb(g);Uh(this,f.h,f.g,J,!0);break;case 2:f=Bb(g);Uh(this,f.h,f.g,Da,!0);break;case 257:for(var k=0;k<h;k++)f=Bb(g[k]),this.sa.Set(f.h,f.g,J,-1);break;case 258:for(k=0;k<h;k++)f=Bb(g[k]),this.sa.Set(f.h,f.g,Da,-1);break;case 259:for(k=0;k<h;k++)f=Bb(g[k]),this.sa.Set(f.h,f.g,S,-1)}}if(!Qh(this,b))break}this.o&&ab(this.o);dc(this);this.T&&!0===c&&this.T.Ya();this.vb&&(this.vb.sf=!0)}};function Sc(a,b){b!==a.Ge&&(a.Ge=b,a.pg())}function mg(a,b){a.Jf=b;a.f&&a.f.sk(a.Jf);a.Ba=!0}l.bf=function(){var a=this.vd;""===a&&(a=this.wd+" vs. "+this.ud);""===a&&(a="White vs. Black");return a};function pg(a,b){a.Bi=b;a.Ba=!0}function lg(a,b){a.ud=b;a.f&&a.f.rk(a.ud);a.Ba=!0}function ng(a,b){a.wd=b;a.f&&a.f.tk(a.wd);a.Ba=!0}function kg(a,b){a.Ue=b;a.Ba=!0}function og(a,b){a.Rf=b;a.f&&a.f.uk(a.Rf);a.Ba=!0}function Yh(a,b,c){b=Math.min(52,Math.max(b,2));c=Math.min(52,Math.max(c,2));var d=a.sa.qa();if(b!==d.h||c!==d.g)d=a.sa,d.A=b,d.L=c,Zh(d),d.sd.Kd(),a.o&&(a=a.o,za(a),a.jc(!0))}function Oh(a){a.l=a.Ta;a.jd=0;a.md=0;a.Ie=0;a.Nc=0;a.qb=J}function Vh(a,b,c,d,e,f){a.sa.Set(b,c,d,e);a.o&&!0!==f&&Ca(a.o,b,c,d)}l.qc=function(a){if(this.f){var b=this.gq,c=this.l.ta;b.yd=null===this.l.ta?!1:!0;b.Cd=0>=vc(this.l)?!1:!0;if(null!==c){var d=c.ua,c=vc(c);this.le()?(b.Id=1<c?!0:!1,b.Jd=1<c?!0:!1):(b.Id=d<c-1?!0:!1,b.Jd=0<d?!0:!1)}else b.Id=!1,b.Jd=!1;this.o&&(b.Xb=this.o.Da);for(var d=this.Ta,e=c=1;0<vc(d);)c++,d=d.W(),d===this.l&&(e=c);b.bn=0<c?(e-1)/(c-1):1;this.f.qc(b);this.o&&1===this.o.Da?this.f.Md(this.Y&&this.Y.GetBlackScores?this.Y.GetBlackScores():this.eo,this.Y&&this.Y.GetWhiteScores?this.Y.GetWhiteScores:this.Ao):this.f.rg(this.jd,this.md);a&&(this.f.sk(this.Jf),this.f.uk(this.Rf),this.f.rk(this.ud),this.f.tk(this.wd))}};function Zd(a,b){b&&(!0===b.Bh?a.I|=1:!1===b.Bh&&(a.I&=-2),!0===b.lg?a.I|=2:!1===b.lg&&(a.I&=-3),!0===b.hj?a.I|=Pa:!1===b.hj&&(a.I&=Bh),!0===b.Dj?a.I|=Kc:!1===b.Dj&&(a.I&=Ch),!0===b.Dd?a.I|=16:!1===b.Dd&&(a.I&=-17),!0===b.wn?a.I|=Oc:!1===b.wn&&(a.I&=Dh),!0===b.Km?a.I|=64:!1===b.Km&&(a.I&=-65),!0===b.yp?a.I|=Bc:!1===b.yp&&(a.I&=Eh))}function Ec(a){if(a=a.o){a=xa(a,!0).toDataURL("image/png");var b=document.createElement("a");b.download="BoardShot.png";b.href="data:image/png;base64"+a;xh(b)}}function Hc(a){var b=[],c=a.Ta;for(b.push(c);0<vc(c);)c=c.W(c.ua),b.push(c);Dc(a,b)}function Dc(a,b){var c=a.o;if(c){var d=a.l,e=c.c.O,f=c.c.K,g=b.length,h=Math.max(1,Math.ceil(2E6/e/f)),k=0,m=null,n=null,p=5<Math.ceil(g/h)?!0:!1,r=!0===p?gc(a.f.$.id,bh,{U:a.f,S:a}):null;c.Yh=!0;var q=new $h;q.jo=Math.floor(150);q.mf();f=e=0;null!==r&&Fg(r);a.xf=!0;var u=function(){var v,w;if(null===a.xf)c.Yh=!1,a.ia(d,!0);else{for(var B=Math.min(k+h,g);k<B;k++){a.ia(b[k],!0);oCanvas=xa(c,!1);oContext=oCanvas.getContext("2d");v=c;var C={};w={};var x=void 0;for(x in v.Ug)C[x]=v.Ug[x];var t=void 0;for(t in v.mb){var x=parseInt(t),H=v.mb[t];Ab===H.V&&S===v.Z.P(H.he(),H.ie())?w[x]=!1:w[x]=!0}C=v=C;t=w;if(0===e||0===f)e=oCanvas.width,f=oCanvas.height;if(null===m||null===n)ai(q,0,0,e,f,[{ca:0,da:0,ja:e,ka:f}]);else{var x={},U;for(U in t)x[U]=t[U];for(U in n)x[U]=void 0===x[U]||!1!==x[U]&&!1!==n[U]?n[U]:!1;for(U in m)m[U]!==C[U]&&!1!==x[U]&&(x[U]=!0);C=[];for(U in x){t=Bb(U);var Z=t.h,H=t.g;if(!0!==ga(c,Z-1,H-1))t=null;else if(t=c.c.pa,!0===x[U])var F=c.c.Yb,K=(F-1)/2,ba=c.Ji()?c.c.Bb:0,Z=t[Z-1].h-K,t=t[H-1].g-K,t={ca:Z,da:t,ja:Z+F+ba,ka:t+F+ba};else F=t[Z-1].Nd,H=t[H-1].Od,t={ca:F,da:H,ja:F+(t[1].h-t[0].h+2),ka:H+(t[1].g-t[0].g+2)};null!==t&&C.push(t)}if(0<C.length){x=e;H=f;Z=ba=F=0;for(K=C.length;Z<K;Z++)t=C[Z],t.ca<x&&(x=t.ca),t.da<H&&(H=t.da),t.ja>F&&(F=t.ja),t.ka>ba&&(ba=t.ka);ai(q,x,H,F-x,ba-H,C)}else ai(q,0,0,e,f,[])}m=v;n=w}null!==r&&Eg(r,Math.min(100,k/g*100));k<g?!0===p?setTimeout(u,10):u():(r&&Gg(r),ih(q.fa,59),B=a.vd,""===B&&(B=a.wd+" vs. "+a.ud),""===B&&(B="download"),B+=".gif",U=new Blob([jh(q.fa)],{type:"image/gif"}),Nc(U,B),a.xf=null,c.Yh=!1,a.ia(d,!0))}};!0===p?setTimeout(u,10):u()}}function Ph(a,b){null===a.xf&&b&&b()}l.jg=function(){return y.jg()};l.Xj=function(a){y.Xj(a)};l.hg=function(){return this.f&&5===this.f.gd?!1:y.hg()};l.ne=function(){return y.ne()};l.dd=function(a,b){!0===b?this.Ea.dd(a):y.dd(a);this.o&&ja(this.o)};l.le=function(){return y.le()};l.Sj=function(a){y.Sj(a);this.qc()};l.cf=function(){return y.cf()};l.Zj=function(a){a!==this.cf()&&(y.Zj(a),this.T&&this.T.Ya())};l.fe=function(){return y.fe()};l.Wj=function(a){a!==this.fe()&&y.Wj(a)};l.Pi=function(a,b,c){this.l.Pi(a,b,c);this.f&&hf()};l.Nj=function(a,b){this.l.Nj(a,b);this.f&&hf()};l.Mj=function(){this.l.Mj();this.f&&hf()};l.jj=function(){this.l.jj();this.o&&Xh(this.l,this.o);this.f&&hf()};function lh(a,b){var c=a.Ib(),d;d=b.replace(RegExp("~","g"),"+");d=d.replace(RegExp("-","g"),"/");d=d.replace(RegExp("_","g"),"=");d=zh(d);d=new bi(d,d.length);if("GBMR"!==ci(d,4))a.ia(c);else{var e=di(d);if(1===e){var e=ei(d),e=ci(d,e),f=mh(c,e);if(null!==f){c=d.e>=d.ab?0:d.Fa[d.e++];a.l=f;if(1===c)for(e=ei(d),c=0;c<e&&1===di(d);c++){cc(a,!1,!1);for(var f=ei(d),g=0;g<f;g++){var h=di(d),k=ei(d);switch(h){case 16:k=Bb(ei(d));a.kc(k.h,k.g,J);break;case 17:k=Bb(ei(d));a.kc(k.h,k.g,Da);break;case 32:case 33:case 34:k=J;switch(h){case 32:k=J;break;case 33:k=Da;break;case 34:k=S}for(var h=ei(d),m=[],n=0;n<h;n++)m.push(ei(d));a.Ze(k,m);break;default:d.e+=k}}di(d);f=a.l;a.T&&(a.T.lc(),a.T.Ya())}a.ia(f,!0)}else a.ia(c,!0)}else if(2===e){e=ei(d);f=c;for(c=0;c<e;c++){g=ei(d);if(0>g||g>=vc(f)||0>=vc(f))break;f=f.W(g)}a.ia(f,!0)}}}l.xh=function(){this.Ta.xh();this.T&&(this.T.lc(),this.T.Ya(),uf(this.T,!0))};l.zh=function(a){this.l.zh(a);this.T&&(this.T.lc(),this.T.Ya(),uf(this.T,!0))};l.Mh=function(){this.o&&this.o.Jh(!this.o.$b)};l.gg=function(a){var b=this.Ib();if(0!==a)for(var c=0;c!==a&&!(0>=vc(b));){b=b.W(b.ua);if(!b)break;b.ad()&&c++}a=b;null!==a&&this.ia(a)};l.af=function(a){return this.f?this.f.af(a):0};function jg(a){a.Ba=!0}l.yj=function(){return this.Ba};function $g(a){var b=a.Kc;!0===b&&(a.Kc=!1);var c=a.l,d=a.Ib();a.ia(d);var e=new fi,f=a.sa;e.A=f.A;e.L=f.L;e.hb=null;Zh(e);for(var g=0,h=0,k=e.hb.length;h<k;h++)e.hb[h].de(f.hb[h]),g<e.hb[h].ge()&&(g=e.hb[h].ge()),e.hb[h].Af=-1;for(;0<vc(d);)for(d=d.W(d.ua),f=d.Ua.length,k=0;k<f;k++){var h=d.Ua[k],m=h.Na(),n=h.kb;switch(h.V){case 1:gi(e,m,J,++g);break;case 2:gi(e,m,Da,++g);break;case 257:for(h=0;h<n;h++)gi(e,m[h],J,-1);break;case 258:for(h=0;h<n;h++)gi(e,m[h],Da,-1);break;case 259:for(h=0;h<n;h++)gi(e,m[h],S,-1)}}a.ia(c);!0===b&&(a.Kc=!0);return e}l.$j=function(a){this.Qk=a};l.Rj=function(a){this.Zh=a};l.Tj=function(a){this.sa.Vn=a};function uc(a){a.Td--;0===a.Td&&a.Qk&&a.Qk()};function $h(){this.fa=null;this.ai=!0;this.Qe=this.Qo=null;this.sb={};this.vo=0;this.xb=String.fromCharCode(71,101,110,101,114,97,116,101,100,32,98,121,32,103,111,98,97,110,46,111,114,103);this.jo=0;this.Ai=null;this.ko=this.aq=this.L=this.A=0}function ai(a,b,c,d,e,f){var g=oContext;a.ai&&(a.A=g.canvas.width,a.L=g.canvas.height);a.Qo=g.getImageData(0,0,g.canvas.width,g.canvas.height).data;if(a.ai){a.Qe=Array(768);for(var h=g=0;768>g;g+=3,h+=6)a.Qe[g+0]=parseInt("ff0000e0b65ce0b65ce0b65ce0b65ce0b75ce0b75ce1b75ce0b75ce0b75de1b75de1b75de1b85de2b85de2b85de2b85de2b85de3b85de3b85de3b95de3b95de3b95de3b95ee3b95ee3b95ee4b95ee4ba5ee4ba5ee4ba5ee4ba5ee5ba5ee5ba5ee5ba5ee5ba5ee5bb5ee5bb5ee5ba5ee5bb5ee5bb5ee5ba5ee5ba5fe1bc6dddbc75e1bb6ae4bb64e5bb5fe6bb5fe6bb5fe6bb5ee6bb5ee6bb5fe6bb5edeb65cdeb55cdfb55cdeb55cdeb55bdeb45bddb45bddb45bddb45bddb35bddb35bdcb35bdcb35bdbb35ddcb35adcb35adbb35adbb25adbb25adab25adab25adab15ad9b15ad9b15adab159d9b159d9b159d9b059d9b059d8b059d8b059d8af58d8b059d7b059d7af59d7af58d7af58d7ae58d6af58d6ae58d6ae58d5ae58d5ae58d5ae58d4ae5ad4ad58d5ad57d5ad57d4ad57d4ad57d4ac57d3ac57d4ac57d4ac57d3ac57d3ac57d3ac57d2ac57d2ac57d3ab56d2ab56d2ab56d2ab56d2ab56d2aa56d1aa56d1aa56d1aa56d1aa55d0aa55cfa956d0a955cfa855cfa855cba554c9a65bbea87ac5b38cd5c197cdc4b0e2d0aaead6abeed9adf1dcaef3ddaff3ddaffaf0dbfefefefdfdfdfafafaf8f8f8f5f5f5f1f1f1eeeeeeebebebe8e8e8e4e4e4e1e1e1dedededadadad6d6d6d3d3d3d0d0d0d0d0d0cfcfcfcecececececdcdcdcdcdcdcccfccc5cccbcbcacacacacac9c8c8c8cac8c3c7c7c7c6c6c5c4c4c4c3c3c2c2c1c1c0c0c0bfbebebdbdbdbbbbbab3b3b2bcb6a9b4ad9da7a49d9c9c9c9494948e8e8e8888888282827c7c7c7474746e6e6e6767677b756aa39370b99a59c29e50c09c4ebc994db9964bb6944ab29149af8e48ac8b47a88945a68744a28443a082429d7f40997c3f967a3d91753b876e387a6434735d2f6f5b2e6b572c64522a6359435e5e5e5757575050504a4a4a404040363636413c31524324423821352d1a2c2c2c2725212222221f1d191c171016161413131212121112111111111111111011101010101010100f0f0f0f0f0f0f0f0e0e0e0e0d0d0d0d0d0d0d0c0c0b0b0b0a0909090d0a07640909ef02023e0000000000000000000000000000"[h+0]+"ff0000e0b65ce0b65ce0b65ce0b65ce0b75ce0b75ce1b75ce0b75ce0b75de1b75de1b75de1b85de2b85de2b85de2b85de2b85de3b85de3b85de3b95de3b95de3b95de3b95ee3b95ee3b95ee4b95ee4ba5ee4ba5ee4ba5ee4ba5ee5ba5ee5ba5ee5ba5ee5ba5ee5bb5ee5bb5ee5ba5ee5bb5ee5bb5ee5ba5ee5ba5fe1bc6dddbc75e1bb6ae4bb64e5bb5fe6bb5fe6bb5fe6bb5ee6bb5ee6bb5fe6bb5edeb65cdeb55cdfb55cdeb55cdeb55bdeb45bddb45bddb45bddb45bddb35bddb35bdcb35bdcb35bdbb35ddcb35adcb35adbb35adbb25adbb25adab25adab25adab15ad9b15ad9b15adab159d9b159d9b159d9b059d9b059d8b059d8b059d8af58d8b059d7b059d7af59d7af58d7af58d7ae58d6af58d6ae58d6ae58d5ae58d5ae58d5ae58d4ae5ad4ad58d5ad57d5ad57d4ad57d4ad57d4ac57d3ac57d4ac57d4ac57d3ac57d3ac57d3ac57d2ac57d2ac57d3ab56d2ab56d2ab56d2ab56d2ab56d2aa56d1aa56d1aa56d1aa56d1aa55d0aa55cfa956d0a955cfa855cfa855cba554c9a65bbea87ac5b38cd5c197cdc4b0e2d0aaead6abeed9adf1dcaef3ddaff3ddaffaf0dbfefefefdfdfdfafafaf8f8f8f5f5f5f1f1f1eeeeeeebebebe8e8e8e4e4e4e1e1e1dedededadadad6d6d6d3d3d3d0d0d0d0d0d0cfcfcfcecececececdcdcdcdcdcdcccfccc5cccbcbcacacacacac9c8c8c8cac8c3c7c7c7c6c6c5c4c4c4c3c3c2c2c1c1c0c0c0bfbebebdbdbdbbbbbab3b3b2bcb6a9b4ad9da7a49d9c9c9c9494948e8e8e8888888282827c7c7c7474746e6e6e6767677b756aa39370b99a59c29e50c09c4ebc994db9964bb6944ab29149af8e48ac8b47a88945a68744a28443a082429d7f40997c3f967a3d91753b876e387a6434735d2f6f5b2e6b572c64522a6359435e5e5e5757575050504a4a4a404040363636413c31524324423821352d1a2c2c2c2725212222221f1d191c171016161413131212121112111111111111111011101010101010100f0f0f0f0f0f0f0f0e0e0e0e0d0d0d0d0d0d0d0c0c0b0b0b0a0909090d0a07640909ef02023e0000000000000000000000000000"[h+1],16),a.Qe[g+1]=parseInt("ff0000e0b65ce0b65ce0b65ce0b65ce0b75ce0b75ce1b75ce0b75ce0b75de1b75de1b75de1b85de2b85de2b85de2b85de2b85de3b85de3b85de3b95de3b95de3b95de3b95ee3b95ee3b95ee4b95ee4ba5ee4ba5ee4ba5ee4ba5ee5ba5ee5ba5ee5ba5ee5ba5ee5bb5ee5bb5ee5ba5ee5bb5ee5bb5ee5ba5ee5ba5fe1bc6dddbc75e1bb6ae4bb64e5bb5fe6bb5fe6bb5fe6bb5ee6bb5ee6bb5fe6bb5edeb65cdeb55cdfb55cdeb55cdeb55bdeb45bddb45bddb45bddb45bddb35bddb35bdcb35bdcb35bdbb35ddcb35adcb35adbb35adbb25adbb25adab25adab25adab15ad9b15ad9b15adab159d9b159d9b159d9b059d9b059d8b059d8b059d8af58d8b059d7b059d7af59d7af58d7af58d7ae58d6af58d6ae58d6ae58d5ae58d5ae58d5ae58d4ae5ad4ad58d5ad57d5ad57d4ad57d4ad57d4ac57d3ac57d4ac57d4ac57d3ac57d3ac57d3ac57d2ac57d2ac57d3ab56d2ab56d2ab56d2ab56d2ab56d2aa56d1aa56d1aa56d1aa56d1aa55d0aa55cfa956d0a955cfa855cfa855cba554c9a65bbea87ac5b38cd5c197cdc4b0e2d0aaead6abeed9adf1dcaef3ddaff3ddaffaf0dbfefefefdfdfdfafafaf8f8f8f5f5f5f1f1f1eeeeeeebebebe8e8e8e4e4e4e1e1e1dedededadadad6d6d6d3d3d3d0d0d0d0d0d0cfcfcfcecececececdcdcdcdcdcdcccfccc5cccbcbcacacacacac9c8c8c8cac8c3c7c7c7c6c6c5c4c4c4c3c3c2c2c1c1c0c0c0bfbebebdbdbdbbbbbab3b3b2bcb6a9b4ad9da7a49d9c9c9c9494948e8e8e8888888282827c7c7c7474746e6e6e6767677b756aa39370b99a59c29e50c09c4ebc994db9964bb6944ab29149af8e48ac8b47a88945a68744a28443a082429d7f40997c3f967a3d91753b876e387a6434735d2f6f5b2e6b572c64522a6359435e5e5e5757575050504a4a4a404040363636413c31524324423821352d1a2c2c2c2725212222221f1d191c171016161413131212121112111111111111111011101010101010100f0f0f0f0f0f0f0f0e0e0e0e0d0d0d0d0d0d0d0c0c0b0b0b0a0909090d0a07640909ef02023e0000000000000000000000000000"[h+2]+"ff0000e0b65ce0b65ce0b65ce0b65ce0b75ce0b75ce1b75ce0b75ce0b75de1b75de1b75de1b85de2b85de2b85de2b85de2b85de3b85de3b85de3b95de3b95de3b95de3b95ee3b95ee3b95ee4b95ee4ba5ee4ba5ee4ba5ee4ba5ee5ba5ee5ba5ee5ba5ee5ba5ee5bb5ee5bb5ee5ba5ee5bb5ee5bb5ee5ba5ee5ba5fe1bc6dddbc75e1bb6ae4bb64e5bb5fe6bb5fe6bb5fe6bb5ee6bb5ee6bb5fe6bb5edeb65cdeb55cdfb55cdeb55cdeb55bdeb45bddb45bddb45bddb45bddb35bddb35bdcb35bdcb35bdbb35ddcb35adcb35adbb35adbb25adbb25adab25adab25adab15ad9b15ad9b15adab159d9b159d9b159d9b059d9b059d8b059d8b059d8af58d8b059d7b059d7af59d7af58d7af58d7ae58d6af58d6ae58d6ae58d5ae58d5ae58d5ae58d4ae5ad4ad58d5ad57d5ad57d4ad57d4ad57d4ac57d3ac57d4ac57d4ac57d3ac57d3ac57d3ac57d2ac57d2ac57d3ab56d2ab56d2ab56d2ab56d2ab56d2aa56d1aa56d1aa56d1aa56d1aa55d0aa55cfa956d0a955cfa855cfa855cba554c9a65bbea87ac5b38cd5c197cdc4b0e2d0aaead6abeed9adf1dcaef3ddaff3ddaffaf0dbfefefefdfdfdfafafaf8f8f8f5f5f5f1f1f1eeeeeeebebebe8e8e8e4e4e4e1e1e1dedededadadad6d6d6d3d3d3d0d0d0d0d0d0cfcfcfcecececececdcdcdcdcdcdcccfccc5cccbcbcacacacacac9c8c8c8cac8c3c7c7c7c6c6c5c4c4c4c3c3c2c2c1c1c0c0c0bfbebebdbdbdbbbbbab3b3b2bcb6a9b4ad9da7a49d9c9c9c9494948e8e8e8888888282827c7c7c7474746e6e6e6767677b756aa39370b99a59c29e50c09c4ebc994db9964bb6944ab29149af8e48ac8b47a88945a68744a28443a082429d7f40997c3f967a3d91753b876e387a6434735d2f6f5b2e6b572c64522a6359435e5e5e5757575050504a4a4a404040363636413c31524324423821352d1a2c2c2c2725212222221f1d191c171016161413131212121112111111111111111011101010101010100f0f0f0f0f0f0f0f0e0e0e0e0d0d0d0d0d0d0d0c0c0b0b0b0a0909090d0a07640909ef02023e0000000000000000000000000000"[h+3],16),a.Qe[g+2]=parseInt("ff0000e0b65ce0b65ce0b65ce0b65ce0b75ce0b75ce1b75ce0b75ce0b75de1b75de1b75de1b85de2b85de2b85de2b85de2b85de3b85de3b85de3b95de3b95de3b95de3b95ee3b95ee3b95ee4b95ee4ba5ee4ba5ee4ba5ee4ba5ee5ba5ee5ba5ee5ba5ee5ba5ee5bb5ee5bb5ee5ba5ee5bb5ee5bb5ee5ba5ee5ba5fe1bc6dddbc75e1bb6ae4bb64e5bb5fe6bb5fe6bb5fe6bb5ee6bb5ee6bb5fe6bb5edeb65cdeb55cdfb55cdeb55cdeb55bdeb45bddb45bddb45bddb45bddb35bddb35bdcb35bdcb35bdbb35ddcb35adcb35adbb35adbb25adbb25adab25adab25adab15ad9b15ad9b15adab159d9b159d9b159d9b059d9b059d8b059d8b059d8af58d8b059d7b059d7af59d7af58d7af58d7ae58d6af58d6ae58d6ae58d5ae58d5ae58d5ae58d4ae5ad4ad58d5ad57d5ad57d4ad57d4ad57d4ac57d3ac57d4ac57d4ac57d3ac57d3ac57d3ac57d2ac57d2ac57d3ab56d2ab56d2ab56d2ab56d2ab56d2aa56d1aa56d1aa56d1aa56d1aa55d0aa55cfa956d0a955cfa855cfa855cba554c9a65bbea87ac5b38cd5c197cdc4b0e2d0aaead6abeed9adf1dcaef3ddaff3ddaffaf0dbfefefefdfdfdfafafaf8f8f8f5f5f5f1f1f1eeeeeeebebebe8e8e8e4e4e4e1e1e1dedededadadad6d6d6d3d3d3d0d0d0d0d0d0cfcfcfcecececececdcdcdcdcdcdcccfccc5cccbcbcacacacacac9c8c8c8cac8c3c7c7c7c6c6c5c4c4c4c3c3c2c2c1c1c0c0c0bfbebebdbdbdbbbbbab3b3b2bcb6a9b4ad9da7a49d9c9c9c9494948e8e8e8888888282827c7c7c7474746e6e6e6767677b756aa39370b99a59c29e50c09c4ebc994db9964bb6944ab29149af8e48ac8b47a88945a68744a28443a082429d7f40997c3f967a3d91753b876e387a6434735d2f6f5b2e6b572c64522a6359435e5e5e5757575050504a4a4a404040363636413c31524324423821352d1a2c2c2c2725212222221f1d191c171016161413131212121112111111111111111011101010101010100f0f0f0f0f0f0f0f0e0e0e0e0d0d0d0d0d0d0d0c0c0b0b0b0a0909090d0a07640909ef02023e0000000000000000000000000000"[h+4]+"ff0000e0b65ce0b65ce0b65ce0b65ce0b75ce0b75ce1b75ce0b75ce0b75de1b75de1b75de1b85de2b85de2b85de2b85de2b85de3b85de3b85de3b95de3b95de3b95de3b95ee3b95ee3b95ee4b95ee4ba5ee4ba5ee4ba5ee4ba5ee5ba5ee5ba5ee5ba5ee5ba5ee5bb5ee5bb5ee5ba5ee5bb5ee5bb5ee5ba5ee5ba5fe1bc6dddbc75e1bb6ae4bb64e5bb5fe6bb5fe6bb5fe6bb5ee6bb5ee6bb5fe6bb5edeb65cdeb55cdfb55cdeb55cdeb55bdeb45bddb45bddb45bddb45bddb35bddb35bdcb35bdcb35bdbb35ddcb35adcb35adbb35adbb25adbb25adab25adab25adab15ad9b15ad9b15adab159d9b159d9b159d9b059d9b059d8b059d8b059d8af58d8b059d7b059d7af59d7af58d7af58d7ae58d6af58d6ae58d6ae58d5ae58d5ae58d5ae58d4ae5ad4ad58d5ad57d5ad57d4ad57d4ad57d4ac57d3ac57d4ac57d4ac57d3ac57d3ac57d3ac57d2ac57d2ac57d3ab56d2ab56d2ab56d2ab56d2ab56d2aa56d1aa56d1aa56d1aa56d1aa55d0aa55cfa956d0a955cfa855cfa855cba554c9a65bbea87ac5b38cd5c197cdc4b0e2d0aaead6abeed9adf1dcaef3ddaff3ddaffaf0dbfefefefdfdfdfafafaf8f8f8f5f5f5f1f1f1eeeeeeebebebe8e8e8e4e4e4e1e1e1dedededadadad6d6d6d3d3d3d0d0d0d0d0d0cfcfcfcecececececdcdcdcdcdcdcccfccc5cccbcbcacacacacac9c8c8c8cac8c3c7c7c7c6c6c5c4c4c4c3c3c2c2c1c1c0c0c0bfbebebdbdbdbbbbbab3b3b2bcb6a9b4ad9da7a49d9c9c9c9494948e8e8e8888888282827c7c7c7474746e6e6e6767677b756aa39370b99a59c29e50c09c4ebc994db9964bb6944ab29149af8e48ac8b47a88945a68744a28443a082429d7f40997c3f967a3d91753b876e387a6434735d2f6f5b2e6b572c64522a6359435e5e5e5757575050504a4a4a404040363636413c31524324423821352d1a2c2c2c2725212222221f1d191c171016161413131212121112111111111111111011101010101010100f0f0f0f0f0f0f0f0e0e0e0e0d0d0d0d0d0d0d0c0c0b0b0b0a0909090d0a07640909ef02023e0000000000000000000000000000"[h+5],16)}a.Ai=[];for(var g=a.sb,h=a.Qo,k=c;k<c+e;k++)for(var m=b;m<b+d;m++){var n=m-b+(k-c)*d,p;a:{p=0;for(var r=f.length;p<r;p++){var q=f[p];if(m>=q.ca&&m<=q.ja&&k>=q.da&&k<=q.ka){p=!0;break a}}p=!1}if(!0===p){q=4*(m+k*a.A);p=h[q+0]&255;var r=h[q+1]&255,q=h[q+2]&255,u=p<<16|r<<8|q;if(void 0===g[u]){for(var v=a.Qe,w=0,B=16777216,C=1;256>C;C++){var x=3*C,t=p-(v[x+0]&255),H=r-(v[x+1]&255),x=q-(v[x+2]&255),t=t*t+H*H+x*x;t<B&&(B=t,w=C)}g[u]=w}a.Ai[n]=g[u]}else a.Ai[n]=a.vo}a.ai&&(gh(a.fa,a.A),gh(a.fa,a.L),ih(a.fa,247),ih(a.fa,0),ih(a.fa,0),a.zl(),ih(a.fa,33),ih(a.fa,255),ih(a.fa,11),fh(a.fa,"NETSCAPE2.0"),ih(a.fa,3),ih(a.fa,1),gh(a.fa,a.aq),ih(a.fa,0),ih(a.fa,33),ih(a.fa,254),ih(a.fa,a.xb.length),fh(a.fa,a.xb),ih(a.fa,0));ih(a.fa,33);ih(a.fa,249);ih(a.fa,4);ih(a.fa,5);gh(a.fa,a.jo);ih(a.fa,a.vo);ih(a.fa,0);ih(a.fa,44);gh(a.fa,void 0!==b?b:0);gh(a.fa,void 0!==c?c:0);gh(a.fa,void 0!==d?d:a.A);gh(a.fa,void 0!==e?e:a.L);ih(a.fa,0);b=new hi(a.A,a.L,a.Ai);c=a.fa;ih(c,b.mo);b.Vk=b.A*b.L;b.io=0;d=b.mo+1;b.lo=d;b.yg=!1;b.Sd=d;b.Lg=(1<<b.Sd)-1;d=1<<d-1;b.Rk=d+1;b.Hg=d+2;b.kb=0;e=ii(b);f=0;for(g=5003;65536>g;g*=2)++f;f=8-f;ji(b);ki(b,d,c);for(k=[];-1!==(h=ii(b));)if(g=(h<<12)+e,m=h<<f^e,g===b.pf[m])e=k[m];else{if(0<=b.pf[m]){n=5003-m;p=!1;0===m&&(n=1);do if(0>(m-=n)&&(m+=5003),g===b.pf[m]){e=k[m];p=!0;break}while(0<=b.pf[m]);if(p)continue}ki(b,e,c);e=h;4096>b.Hg?(k[m]=b.Hg++,b.pf[m]=g):(ji(b),b.Hg=d+2,b.yg=!0,ki(b,d,c))}ki(b,e,c);ki(b,b.Rk,c);ih(c,0);a.ai=!1;console.log("Frame "+a.ko);a.ko++}$h.prototype.mf=function(){this.fa=new eh;fh(this.fa,"GIF89a")};$h.prototype.zl=function(){yi(this.fa,this.Qe);for(var a=768-this.Qe.length,b=0;b<a;b++)ih(this.fa,0)};function hi(a,b,c){this.A=a;this.L=b;this.Fa=c;this.mo=Math.max(2,8);this.io=this.Vk=0;this.pf=[];this.lo=0;this.yg=!1;this.sc=this.Mc=this.Hg=this.Rk=this.Lg=this.Sd=0;this.Up=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535];this.kb=0;this.zk=[]}function ii(a){if(0===a.Vk)return-1;--a.Vk;return a.Fa[a.io++]&255}function ji(a){for(var b=0;5003>b;b++)a.pf[b]=-1}function ki(a,b,c){a.Mc&=a.Up[a.sc];a.Mc=0<a.sc?a.Mc|b<<a.sc:b;for(a.sc+=a.Sd;8<=a.sc;){var d=a,e=a.Mc&255,f=c;d.zk[d.kb++]=e;254<=d.kb&&Bi(d,f);a.Mc>>=8;a.sc-=8}if(a.Hg>a.Lg||a.yg)a.yg?(a.Sd=a.lo,a.Lg=(1<<a.Sd)-1,a.yg=!1):(a.Sd++,12==a.Sd?a.Lg=4096:a.Lg=(1<<a.Sd)-1);if(b===a.Rk){for(;0<a.sc;)b=a,d=a.Mc&255,e=c,b.zk[b.kb++]=d,254<=b.kb&&Bi(b,e),a.Mc>>=8,a.sc-=8;Bi(a,c)}}function Bi(a,b){0<a.kb&&(ih(b,a.kb),yi(b,a.zk,0,a.kb),a.kb=0)};"use strict;";function Ci(){this.Gg=this.Qb=0}Ci.prototype.Kd=function(){this.Gg=this.Qb=0};Ci.prototype.Ad=function(){var a=new Ci;a.de(this);return a};Ci.prototype.de=function(a){this.Qb=a.Qb;this.Gg=a.Gg};Ci.prototype.Set=function(a,b){this.Qb=a;this.Gg=b};function Di(a,b){this.Fg=void 0===a?S:a;this.Af=void 0===b?-1:b}l=Di.prototype;l.de=function(a){this.Fg=a.Fg;this.Af=a.Af};l.Xa=function(){this.Fg=S;this.Af=-1};l.Kh=function(a){this.Fg=a};l.Na=function(){return this.Fg};l.ge=function(){return this.Af};function Ei(){this.wg=[];this.qf=[]}Ei.prototype.qa=function(){return this.qf.length};Ei.prototype.Na=function(a){return this.qf[a]};function Fi(a,b,c){b=(c<<8)+b;c=0;for(var d=a.qf.length;c<d;c++)if(a.qf[c]==b)return!0;return!1}function Gi(){this.ib={}}Gi.prototype.Xa=function(){this.ib={}};Gi.prototype.me=function(a,b){var c=(b<<8)+a;if(void 0!==this.ib[c])return!0;this.ib[c]=1;return!1};function jc(){this.wi={};this.Rc=null}jc.prototype.me=function(a,b,c){if(S===c)return null;a=(b<<8)+a;if(null===this.Rc)return this.Rc=c,this.wi[a]=1,!1;if(c!==this.Rc)return null;if(void 0!==this.wi[a])return!0;this.wi[a]=1;return!1};jc.prototype.Na=function(){return this.Rc};function Hi(){this.Va={};this.Mg=S}Hi.prototype.Xa=function(){this.Va={};this.Mg=S};Hi.prototype.me=function(a,b){var c=(b<<8)+a;if(void 0!==this.Va[c])return!0;this.Va[c]=1;return!1};function ac(a,b,c){c=void 0===c?a.Mg:c;for(var d in a.Va)a=Bb(d|0),b.we[(a.g-1)*b.A+(a.h-1)]=c}function Fh(a,b){this.A=void 0===a?19:a;this.L=void 0===b?19:b;this.hb=null;Zh(this);this.sd=new Ci;this.we=[];this.Va=new Hi;this.ji=new Gi;this.Vn=!0}l=Fh.prototype;l.Ad=function(){for(var a=new Fh(this.A,this.L),b=0,c=this.hb.length;b<c;b++)a.hb[b].de(this.hb[b]);a.sd.de(this.sd);return a};l.Xa=function(){for(var a=this.A*this.L,b=0;b<a;b++)this.hb[b].Xa()};l.qa=function(){return{h:this.A,g:this.L}};l.Set=function(a,b,c,d){a=(b-1)*this.A+(a-1);this.hb[a].Kh(c);void 0!==d&&null!==d&&-1!==d&&(this.hb[a].Af=d)};l.P=function(a,b){return this.hb[(b-1)*this.A+(a-1)].Na()};l.ge=function(a,b){return this.hb[(b-1)*this.A+(a-1)].ge()};function Wa(a){if(!0!==a.Vn)return[];for(var b=[],c=Ii(a.A),d=Ii(a.L),e=0;e<c.length;e++)for(var f=0;f<d.length;f++)b.push([c[e],d[f]]);(9!=a.A&&11!=a.A||1!=a.L%2)&&(9!=a.L&&11!=a.L||1!=a.A%2)||b.push([(a.A-1)/2,(a.L-1)/2]);return b}function Ii(a){var b=[];5==a?b=[2]:7==a?b=[3]:8==a?b=[2,5]:9==a?b=[2,6]:10==a?b=[3,6]:11==a?b=[3,7]:12<=a&&(b=1==a%2?[3,(a-1)/2,a-4]:[3,a-4]);return b}function tc(a,b,c,d){var e=new Ei;Ji(a,b,c,d,e);return 0<e.qa()?e:null}function sc(a,b,c,d,e){var f;switch(d){case J:f=Da;break;case Da:f=J;break;default:return null}d=new Ei;!0!==Fi(d,b+1,c)&&Ji(a,b+1,c,f,d);!0!==Fi(d,b-1,c)&&Ji(a,b-1,c,f,d);!0!==Fi(d,b,c+1)&&Ji(a,b,c+1,f,d);!0!==Fi(d,b,c-1)&&Ji(a,b,c-1,f,d);f=d.qa();if(1==f){b=(c<<8)+b;c=d.Na(0);f=a.sd;if(c===f.Qb&&b===f.Gg&&1==e)return null;a.sd.Set(b,c)}else if(1<f)a.sd.Kd();else if(0>=f)return null;return d}function Zh(a){var b=a.A*a.L;a.hb=Array(b);for(var c=0;c<b;c++)a.hb[c]=new Di}function Ki(a,b,c,d,e){if(b>a.A||1>b||c>a.L||1>c)return!1;var f=a.P(b,c);return S===f?!0:d===f?Li(a,b,c,d,e):!1}function Li(a,b,c,d,e){var f;a:{f=(c<<8)+b;for(var g=0,h=e.wg.length;g<h;g++)if(e.wg[g]==f){f=!0;break a}e.wg.push(f);f=!1}return!0===f?!1:!0===Ki(a,b+1,c,d,e)||!0===Ki(a,b-1,c,d,e)||!0===Ki(a,b,c+1,d,e)||!0===Ki(a,b,c-1,d,e)?!0:!1}function Ji(a,b,c,d,e){b>a.A||1>b||c>a.L||1>c||d!==a.P(b,c)||(!0!==Li(a,b,c,d,e)&&(e.qf=e.qf.concat(e.wg)),e.wg=[])}function Qa(a,b){a.we=[];for(var c=1;c<=a.L;c++)for(var d=1;d<=a.A;d++)a.we[(c-1)*a.A+(d-1)]=S;!0!==b&&bc(a,!1)}function Vb(a,b,c){return a.we[(c-1)*a.A+(b-1)]}l.eg=function(a){for(var b=0,c=0,d=1;d<=this.L;d++)for(var e=1;e<=this.A;e++){var f=null,g=Vb(this,e,d);J===g?(f=new Ea(e,d,Cb,""),Da===this.P(e,d)?b+=2:b++):Da===g&&(f=new Ea(e,d,Db,""),J===this.P(e,d)?c+=2:c++);null===f?a.oc(e,d):a.Wa(f)}return{lh:b,Oh:c}};function Mi(a,b,c){if(!(b>a.A||1>b||c>a.L||1>c)){var d=a.P(b,c);if(S!==a.P(b,c))switch(b=a.Va.Mg,b){case S:a.Va.Mg=d;break;case J:case Da:b!==d&&(a.Va.Mg=3)}else!1===a.Va.me(b,c)&&(Mi(a,b+1,c),Mi(a,b-1,c),Mi(a,b,c+1),Mi(a,b,c-1))}}function Wb(a,b,c,d){b>a.A||1>b||c>a.L||1>c||(3-d===a.P(b,c)?d===Vb(a,b,c)&&a.ji.me(b,c):!0!==a.Va.me(b,c)&&(Wb(a,b+1,c,d),Wb(a,b-1,c,d),Wb(a,b,c+1,d),Wb(a,b,c-1,d)))}function $b(a,b,c,d){if(!(b>a.A||1>b||c>a.L||1>c)&&3-d!==a.P(b,c)){if(d===a.P(b,c)){var e=a.ji,f=(c<<8)+b;void 0!==e.ib[f]&&delete e.ib[f]}!0!==a.Va.me(b,c)&&($b(a,b+1,c,d),$b(a,b-1,c,d),$b(a,b,c+1,d),$b(a,b,c-1,d))}}function bc(a,b){for(var c=1;c<=a.L;c++)for(var d=1;d<=a.A;d++)S===a.P(d,c)&&(S===Vb(a,d,c)||!0===b&&3===Vb(a,d,c))&&(a.Va.Xa(),Mi(a,d,c),ac(a.Va,a))}l.sh=function(a){var b;this.$a=[];for(var c=0;c<=this.L+1;c++){this.$a[c]=[];for(var d=0;d<=this.A+1;d++)if(0===d||this.A+1===d||0===c||this.L+1===c){this.$a[c][d]=0;b=d;for(var e=c,f=100,g=[],h=b-4;h<=b+4;h++)for(var k=e-4;k<=e+4;k++)if(!(1>h||h>this.A||1>k||k>this.L||4<Math.abs(b-h)+Math.abs(e-k))){var m=kb(this,h,k);if(S!==m){var n=Math.abs(b-h)+Math.abs(e-k);n<f?(f=n,g=[],g.push({h:h,g:k,rc:m})):n===f&&g.push({h:h,g:k,rc:m})}}b=g;e=b.length;if(0<e){g=f=!1;for(h=0;h<e;h++)J===b[h].rc&&(g=!0),Da===b[h].rc&&(f=!0);if(!0!==f||!0!==g)this.$a[c][d]=f?-128:128}}else b=kb(this,d,c),this.$a[c][d]=J===b?128:Da===b?-128:0}for(c=0;5>c;c++){d=[];for(b=0;b<=this.L+1;b++)for(d[b]=[],e=0;e<=this.A+1;e++){k=[];k[0]=0<e?this.$a[b][e-1]:0;k[1]=e<this.A+1?this.$a[b][e+1]:0;k[2]=0<b?this.$a[b-1][e]:0;k[3]=b<this.L+1?this.$a[b+1][e]:0;f=0;h=g=!1;for(m=0;4>m;m++)0<k[m]?(g=!0,f++):0>k[m]&&(h=!0,f--);k=this.$a[b][e];d[b][e]=0<=k&&!1===h||0>=k&&!1===g?k+f:k}this.$a=d}for(c=0;3>c;c++)Ni(this);b=d=0;for(c=1;c<=this.L;c++)for(e=1;e<=this.A;e++)f=null,g=this.$a[c][e],0<g&&J!==this.P(e,c)?(f=new Ea(e,c,Cb,""),Da===this.P(e,c)?d+=2:d++):0>g&&Da!==this.P(e,c)&&(f=new Ea(e,c,Db,""),J===this.P(e,c)?b+=2:b++),null===f?a.oc(e,c):a.Wa(f);for(c=0;23>c;c++)Ni(this);k=h=0;for(c=1;c<=this.L;c++)for(e=1;e<=this.A;e++)f=null,g=this.$a[c][e],0<g&&J!==this.P(e,c)?(f=new Ea(e,c,Eb,""),Da===this.P(e,c)?h+=2:h++):0>g&&Da!==this.P(e,c)&&(f=new Ea(e,c,Fb,""),J===this.P(e,c)?k+=2:k++),null!==f&&a.Wa(f);return{mh:h,Il:d,Ph:k,zn:b}};function kc(a,b,c,d){1>b||b>a.A||1>c||c>a.L||!1!==d.me(b,c,a.P(b,c))||(kc(a,b+1,c,d),kc(a,b-1,c,d),kc(a,b,c+1,d),kc(a,b,c-1,d),1<b&&1<c&&S===a.P(b-1,c)&&S===a.P(b,c-1)&&kc(a,b-1,c-1,d),b<a.A&&1<c&&S===a.P(b+1,c)&&S===a.P(b,c-1)&&kc(a,b+1,c-1,d),b<a.A&&c<a.L&&S===a.P(b+1,c)&&S===a.P(b,c+1)&&kc(a,b+1,c+1,d),1<b&&c<a.L&&S===a.P(b-1,c)&&S===a.P(b,c+1)&&kc(a,b-1,c+1,d))}function kb(a,b,c){return void 0===a.Rd||void 0===a.Rd[c]||void 0===a.Rd[c][b]?S:a.Rd[c][b]}function Ja(a,b,c,d){void 0===a.Rd&&(a.Rd=[]);void 0===a.Rd[c]&&(a.Rd[c]=[]);a.Rd[c][b]=d}function Ni(a){for(var b=[],c=0;c<=a.L+1;c++){b[c]=[];for(var d=0;d<=a.A+1;d++){var e=[];e[0]=0<d?a.$a[c][d-1]:null;e[1]=d<a.A+1?a.$a[c][d+1]:null;e[2]=0<c?a.$a[c-1][d]:null;e[3]=c<a.L+1?a.$a[c+1][d]:null;for(var f=0,g=0,h=0;4>h;h++)null!==e[h]&&(0<=e[h]&&f++,0>=e[h]&&g--);e=a.$a[c][d];b[c][d]=0<e&&0!==g?Math.max(e+g,0):0>e&&0!==f?Math.min(e+f,0):e}}a.$a=b}function fi(){fi.u.constructor.call(this,1,1);this.Jc=null}ad(fi,Fh);function gi(a,b,c,d){if(!(0>=b)){b=Bb(b);var e=a.P(b.h,b.g);if(S!==e){if(-1!==d){var f=(b.g-1)*a.A+(b.h-1);a.Jc&&void 0!==a.Jc.length||(a.Jc=[]);for(var g=0,h=a.Jc.length;g<h;++g)if(f===a.Jc[g].tq){a.Jc[g].Qh.push({Sf:c,Gi:d});return}a.Jc.push({tq:f,Sf:e,Gi:a.ge(b.h,b.g),Qh:[{Sf:c,Gi:d}]})}}else a.Set(b.h,b.g,c,d)}};function eh(){this.zi=this.Fa=null;this.e=this.Pb=0;this.q()}eh.prototype.q=function(){var a=document.createElement("canvas").getContext("2d");this.Pb=5242880;this.zi=a.createImageData(this.Pb/4,1);this.Fa=this.zi.data;this.e=0};function Oi(a,b){if(a.e+b>=a.Pb){var c=document.createElement("canvas").getContext("2d"),d=a.Fa;a.Pb*=2;a.zi=c.createImageData(a.Pb/4,1);a.Fa=a.zi.data;for(var c=a.Fa,e=0;e<a.hs;e++)c[e]=d[e]}}function jh(a){for(var b=new Uint8Array(a.e),c=0;c<a.e;c++)b[c]=a.Fa[c];return b}function ih(a,b){Oi(a,1);a.Fa[a.e++]=b}function fh(a,b){var c=b.length;Oi(a,c);for(var d=0;d<c;d++)a.Fa[a.e++]=b.charCodeAt(d)}function yi(a,b,c,d){c=c||0;d=d||b.length;for(Oi(a,d-c);c<d;c++)a.Fa[a.e++]=b[c]}function gh(a,b){Oi(a,2);a.Fa[a.e++]=b&255;a.Fa[a.e++]=b>>8&255}function hh(a,b){Oi(a,4);a.Fa[a.e++]=b&255;a.Fa[a.e++]=b>>8&255;a.Fa[a.e++]=b>>16&255;a.Fa[a.e++]=b>>24&255}function bi(a,b){this.Fa=a;this.ab=b;this.e=0}function di(a){return a.e+1>=a.ab?0:a.Fa[a.e++]|a.Fa[a.e++]<<8}function ei(a){return a.e+3>=a.ab?0:a.Fa[a.e++]|a.Fa[a.e++]<<8|a.Fa[a.e++]<<16|a.Fa[a.e++]<<24}function ci(a,b){if(a.e+b>a.ab)return"";for(var c=[],d=0;d<b;d++)c.push(String.fromCharCode(a.Fa[a.e+d]));a.e+=b;return c.join("")};function Pi(a,b){this.Rc=a;this.V=b}l=Pi.prototype;l.he=function(){return Bb(this.Rc).h};l.ie=function(){return Bb(this.Rc).g};l.Na=function(){return this.Rc};l.Kh=function(a){this.Rc=a};l.fb=function(a){this.V=a};l.Ad=function(){return new Pi(this.Rc,this.V)};function Qi(){this.ho=0}Qi.prototype.Kd=function(){this.ho=0};var Ih=new Qi;function Gh(a){this.So=++Ih.ho+"";this.Y=(this.b=a)?a.Y:null;this.Aa=[];this.ua=-1;this.ta=null;this.Ua=[];this.fc=new Pi(0,S);this.xb="";this.vc=new Ri(!1,{});this.ub={h:-1,g:-1,Dh:-1};this.bi=!1;this.sb={};this.Gk=!1}l=Gh.prototype;l.xj=function(){return this.So};function mh(a,b){if(b===a.So)return a;for(var c=0,d=vc(a);c<d;c++){var e=mh(a.Aa[c],b);if(null!==e)return e}return null}function Hh(a,b){var c=new Gh;c.Ua=a.Ua;0<a.Aa.length&&a!==b&&(c.Aa[0]=Hh(a.Aa[a.ua],b),c.ua=0,c.Aa[0].ta=c);return c}l.ig=function(){return!0};l.Xa=function(){this.Aa=[];this.ua=-1;this.Ua=[];this.fc=new Pi(0,S);this.xb="";this.vc=new Ri(!1,{})};l.W=function(a){return void 0!==this.Aa[a]?this.Aa[a]:this.Aa[this.ua]};function Sh(a,b){a.ua=b>=a.Aa.length?a.Aa.length-1:b}function vc(a){return a.Aa.length}function Si(a,b){a.Ua.push(b);a.Y&&a.Y.bp&&a.Y.bp(a.xj(),oh());a.b&&(a.b.Ba=!0)}l.ad=function(){return S===this.fc.V?!1:!0};l.jh=function(a){this.xb+=a;this.b&&(this.b.Ba=!0)};l.Ih=function(a){this.xb=a;this.b&&(this.b.Ba=!0)};function Th(a){a=a.vc;return!0===a.zg?!0:a.tf}l.Qi=function(a,b){this.vc.ib[""+a]=b};l.ij=function(){this.vc.ib={}};l.uh=function(){for(var a=this;0<vc(a);)Sh(a,0),a=a.W(0)};function yf(a){for(;0<vc(a);)a=a.W(0);return a}function Gc(a){for(var b=!1,c=a.ta;null!=c;){for(var d=!1,e=0,f=vc(c);e<f;e++)if(a===c.W(e)){e!==c.ua&&(b=!0);Sh(c,e);d=!0;break}if(!d)return!1;a=c;c=c.ta}return b}function Rh(a){for(var b=null;null!==(b=a.ta);){if(0!=b.ua)return!1;a=b}return!0}l.gf=function(){for(var a=this,b=null;null!=(b=a.ta);){if(b.W(b.ua)!=a)return!1;a=b}return!0};l.kc=function(a,b,c){a=(b<<8)+a;Si(this,new nh(J===c?1:2,a));S===this.fc.V&&(this.fc.Kh(a),this.fc.fb(c))};l.Ze=function(a,b){Si(this,new nh(J===a?257:Da===a?258:259,rh(b),b.length))};l.Wa=function(a,b){var c=0;switch(a){case Gb:c=529;break;case Ga:return;case Hb:c=531;break;case Ib:c=532;break;case Ab:c=533;break;case Jb:c=530;break;case 513:c=513}Si(this,new nh(c,rh(b),b.length))};l.$e=function(a,b){Si(this,new nh(533,{Text:a,Lj:b}))};l.ng=function(a){Si(this,new nh(260,a))};l.Oi=function(a){Si(this,new nh(769,a))};l.Ri=function(a){Si(this,new nh(770,a))};l.pg=function(a,b){b.a.Nh.d.a.getContext("2d").clearRect(0,0,b.c.O,b.c.K);switch(a){case Ah:Ti(this,b,-1);break;case 1:var c=this.ta;null!==c&&Ti(c,b,this.fc.Na())}};function Sb(a){for(var b=1,c=null;null!==(c=a.ta);)b++,a=c;return b}function Ti(a,b,c){if(b)for(var d=0,e=vc(a);d<e;d++){var f=a.W(d).fc;if(S!==f.V&&c!==f.Na()){var g=Bb(f.Na()),f=b,h=g.h,k=g.g;if(f.c.pa){var g=(f.c.Yb/2-1)/2,m=f.c.pa;!0===ga(f,h-1,k-1)&&(h=m[h-1].h,k=m[k-1].g,m=f.a.Nh.d.a.getContext("2d"),m.fillStyle=R(f.rq),m.beginPath(),m.arc(h,k,g,0,2*Math.PI,!1),m.fill())}}}}function Fc(a,b){-1!==a.xb.indexOf("RIGHT")&&b.push(a);for(var c=0,d=vc(a);c<d;c++)Fc(a.W(c),b)}l.Pi=function(a,b,c){this.sb[(b<<8)+a]=c;this.b&&(this.b.Ba=!0)};l.Nj=function(a,b){delete this.sb[(b<<8)+a];this.b&&(this.b.Ba=!0)};l.Mj=function(){this.sb={};this.b&&(this.b.Ba=!0)};function Xh(a,b){Lb(b);for(var c in a.sb)b.tb[c]=a.sb[c];bb(b)}l.jj=function(){this.sb={};if(null!==this.ta){var a=this.ta.sb,b;for(b in a)this.sb[b]=a[b].Ad()}this.b&&(this.b.Ba=!0)};function Ui(a,b){for(var c in a.sb)b[qh(a.sb[c])]=!0;c=0;for(var d=vc(a);c<d;c++)Ui(a.Aa[c],b)}l.xh=function(){for(var a=this,b=this.ua,c=this.W(b);null!==c&&void 0!==c;)0!==b&&(a.Aa.splice(b,1),a.Aa.splice(0,0,c),Sh(a,0)),a=c,b=a.ua,c=a.W(b)};l.zh=function(a){for(var b=this,c=this.ta;null!==c&&void 0!==c;){var d=vc(c);if(1<vc(c)){for(var e=0;e<d;++e)if(b===c.W(e)){0<a?0<e&&(c.Aa.splice(e,1),c.Aa.splice(e-1,0,b),Sh(c,e-1)):e<d-1&&(c.Aa.splice(e,1),c.Aa.splice(e+1,0,b),Sh(c,e+1));break}break}b=c;c=c.ta}};l.Ib=function(){for(var a=this;null!==a.ta;)a=a.ta;return a};function Pb(a,b,c,d){if(d!==J&&d!==Da)return-1;b=(c<<8)+b;c=0;for(var e=vc(a);c<e;++c){var f=a.W(c).fc;if(b===f.Na()&&d==f.V)return c}return-1};var Vi=0;function Lh(a){this.b=a;this.J=[];this.Df=this.e=0;this.Bk=[];this.Lc=!0;this.Pb=0;this.r={ca:100,da:100,ja:-1,ka:-1};this.Yp=Vi;this.bc=null}Lh.prototype.Cj=function(a){if(void 0!==a&&""!==a&&(this.J=[],this.Df=this.e=0,this.Bk=[],this.Lc=!0,this.Pb=0,this.Li(a),!Wi(this)&&this.b&&this.b.f)){a=this.b;var b=a.f;gc(b.$.id,hc,{S:a,U:b,zc:"File cannot be read. Invalid SGF file.",O:275,K:80})}};Lh.prototype.Li=function(a){for(var b=0,c=a.length,d=[],e=!1;b<c;){(e||32<a.charCodeAt(b))&&d.push(a.charAt(b));if(3<=d.length&&"["==d[d.length-1]){var f=d[d.length-3]+d[d.length-2];if("C"==d[d.length-2]&&"UC"!=f||"AN"==f||"BR"==f||"BT"==f||"CP"==f||"DT"==f||"EV"==f||"GN"==f||"GC"==f||"ON"==f||"OT"==f||"PB"==f||"PC"==f||"PW"==f||"RE"==f||"RO"==f||"RU"==f||"SO"==f||"TM"==f||"US"==f||"WR"==f||"WT"==f)e=!0}else e&&1<=d.length&&"]"==d[d.length-1]&&(2>d.length||"\\"!=d[d.length-2])&&(e=!1);b++}this.J=d;this.Pb=this.J.length};function Wi(a){a.b.Kd();if("("===a.J[0]&&";"===a.J[1])for(a.e++;a.e<a.Pb&&(")"!==a.J[a.e]||0!==a.Df);){var b=a.J[a.e];if(";"===b){1!=a.e?cc(a.b,!1,!1):a.b.l=a.b.Ib();a.b.l.bi=!0;var c;a:{var d=a;d.e++;for(var e=d.J[d.e],f=d.J[d.e+1];void 0!==e&&")"!==e&&";"!==e&&"("!==e;){switch(e){case "A":switch(f){case "B":Xi(d,J);break;case "E":Xi(d,S);break;case "W":Xi(d,Da);break;case "N":var g=d;g.e+=3;var h=g.b,k=Yi(g);h.Lf=k;jg(h);break;case "P":var m=d;m.e+=3;Yi(m);jg(m.b);break;default:Zi(d)}break;case "B":switch(f){case "[":$i(d,J);break;case "R":var n=d;n.e+=3;mg(n.b,Yi(n));break;case "T":var p=d;p.e+=3;var r=p.b,q=Yi(p);r.Ro=q;jg(r);break;case "L":var u=d;u.e+=3;u.b.Oi(aj(u));break;default:Zi(d)}break;case "C":switch(f){case "[":var v=d;v.e+=2;for(var w="";"]"!==v.J[v.e]||"\\"===v.J[v.e-1];)"]"===v.J[v.e+1]&&"\\"===v.J[v.e]?(w+="]",v.e++):w+=v.J[v.e],v.e++;v.e++;switch(v.Yp){case 1:for(var B="",C=0,x=0,t=0,H=0,U=w.length;C<U;)x=w.charCodeAt(C),128>x?(B+=String.fromCharCode(x),C++):191<x&&224>x?(t=w.charCodeAt(C+1),B+=String.fromCharCode((x&31)<<6|t&63),C+=2):(t=w.charCodeAt(C+1),H=w.charCodeAt(C+2),B+=String.fromCharCode((x&15)<<12|(t&63)<<6|H&63),C+=3);w=B}var Z=v.b.l;Z&&Z.jh(w);break;case "A":var F=d;F.e+=3;Yi(F);jg(F.b);break;case "P":var K=d;K.e+=3;var ba=K.b,P=Yi(K);ba.Kf=P;jg(ba);break;case "R":bj(d,Gb);break;case "T":var na=d;na.e+=3;var qb=Yi(na);if(""!==qb){var qa=zh(qb),La=new bi(qa,qa.length);if("SGFCT"===ci(La,5)){di(La);var eb=ei(La);na.bc=[];for(var rb=0;rb<eb;rb++){var qc=ei(La);na.bc[rb]=new A(0,0,0,0);var Ma=na.bc[rb],Ra=qc;Ma.F=Ra>>24&255;Ma.H=Ra>>16&255;Ma.G=Ra>>8&255;Ma.Za=Ra&255}}}break;case "M":var Na=d;Na.e+=3;var Xb=Yi(Na);if(""!==Xb){var Yb=zh(Xb),Fa=new bi(Yb,Yb.length);if("SGFCM"===ci(Fa,5)){di(Fa);var fb=di(Fa),rc=di(Fa),Zb=Na.b.l;Zb.sb={};for(var sb=0;sb<rc;sb++)for(var G=0;G<fb;G++){var fa=Fa.e>=Fa.ab?0:Fa.Fa[Fa.e++];void 0!==Na.bc[fa]&&0!==Na.bc[fa].Za&&(Zb.sb[(sb+1<<8)+(G+1)]=Na.bc[fa].Ad())}}}break;default:Zi(d)}break;case "D":switch(f){case "T":var la=d;la.e+=3;var ha=la.b,ka=Yi(la);ha.Xd=ka;ha.Ba=!0;break;default:Zi(d)}break;case "E":switch(f){case "V":var z=d;z.e+=3;var li=z.b,uj=Yi(z);li.Re=uj;jg(li);break;default:Zi(d)}break;case "F":switch(f){case "F":Zi(d);break;default:Zi(d)}break;case "G":switch(f){case "N":var Me=d;Me.e+=3;var mi=Me.b,vj=Yi(Me);mi.vd=vj;jg(mi);break;case "C":var Ne=d;Ne.e+=3;pg(Ne.b,Yi(Ne));break;case "M":var Oe=d;Oe.e+=3;1!==cj(Oe)&&(Oe.Lc=!1);break;default:Zi(d)}break;case "H":switch(f){case "A":var Pe=d;Pe.e+=3;var ni=Pe.b,wj=cj(Pe);ni.ac=wj;jg(ni);break;default:Zi(d)}break;case "K":switch(f){case "M":var Qe=d;Qe.e+=3;var oi=Qe.b,xj=aj(Qe);oi.Ob=xj;oi.Ba=!0;break;default:Zi(d)}break;case "L":switch(f){case "B":var ua=d;for(ua.e+=3;;){var yj=ua.J[ua.e];ua.e++;var zj=ua.J[ua.e];ua.e++;var pi=dj(ua,yj),qi=dj(ua,zj);ua.e++;for(var sg="";"]"!==ua.J[ua.e]&&ua.e<ua.Pb;)sg+=ua.J[ua.e],ua.e++;ej(ua,pi,qi);ua.b.$e(sg,(qi<<8)+pi);if("]"!==ua.J[ua.e]){ua.Lc=!1;break}ua.e++;if("["!==ua.J[ua.e])break;ua.e++}break;default:Zi(d)}break;case "M":switch(f){case "A":bj(d,Jb);break;default:Zi(d)}break;case "O":switch(f){case "N":var Re=d;Re.e+=3;var ri=Re.b,Aj=Yi(Re);ri.Mf=Aj;jg(ri);break;case "T":var Se=d;Se.e+=3;var si=Se.b,Bj=Yi(Se);si.Te=Bj;jg(si);break;default:Zi(d)}break;case "P":switch(f){case "B":var Te=d;Te.e+=3;lg(Te.b,Yi(Te));break;case "C":var Ue=d;Ue.e+=3;var ti=Ue.b,Cj=Yi(Ue);ti.Se=Cj;jg(ti);break;case "W":var Ve=d;Ve.e+=3;ng(Ve.b,Yi(Ve));break;case "L":var Ld=d;Ld.e+=3;"W"===Yi(Ld)?Ld.b.ng(Da):Ld.b.ng(J);break;default:Zi(d)}break;case "R":switch(f){case "E":var We=d;We.e+=3;kg(We.b,Yi(We));break;case "O":var Xe=d;Xe.e+=3;var ui=Xe.b,Dj=Yi(Xe);ui.Nf=Dj;jg(ui);break;case "U":var Ye=d;Ye.e+=3;var vi=Ye.b,Ej=Yi(Ye);vi.Qf=Ej;jg(vi);break;default:Zi(d)}break;case "S":switch(f){case "Q":bj(d,Hb);break;case "T":var cd=d;cd.e+=3;switch(cj(cd)){case 0:Sc(cd.b,Ah);break;case 1:Sc(cd.b,1);break;default:Sc(cd.b,2)}break;case "Z":var Ze=d;Ze.e+=3;var Md=Yi(Ze),tg=19,ug=19,$e=-1;-1==($e=Md.indexOf(":"))?ug=tg=Math.min(52,Math.max(parseInt(Md),2)):(tg=parseInt(Md.substr(0,$e)),ug=parseInt(Md.substr($e+1,Md.length-$e-1)));Yh(Ze.b,tg,ug);break;case "O":var af=d;af.e+=3;var wi=af.b,Fj=Yi(af);wi.Of=Fj;jg(wi);break;default:Zi(d)}break;case "T":switch(f){case "R":bj(d,Ib);break;case "M":var bf=d;bf.e+=3;var xi=bf.b,Gj=Yi(bf);xi.Bf=Gj;jg(xi);break;case "B":fj(d,J);break;case "W":fj(d,Da);break;default:Zi(d)}break;case "U":switch(f){case "S":var cf=d;cf.e+=3;var zi=cf.b,Hj=Yi(cf);zi.Pf=Hj;jg(zi);break;default:Zi(d)}break;case "W":switch(f){case "[":$i(d,Da);break;case "R":var df=d;df.e+=3;og(df.b,Yi(df));break;case "T":var ef=d;ef.e+=3;var Ai=ef.b,Ij=Yi(ef);Ai.To=Ij;jg(Ai);break;case "L":var ff=d;ff.e+=3;ff.b.Ri(aj(ff));break;default:Zi(d)}break;default:Zi(d)}if(!d.Lc){c=!1;break a}e=d.J[d.e];f=d.J[d.e+1]}c=!0}if(!c)return!1}else if("("===b)a.Bk[a.Df]=a.b.l,a.Df++,a.e++;else if(")"===b)a.Df--,a.b.l=a.Bk[a.Df],a.e++;else return!1}else return!1;return!0}function Yi(a,b){void 0===b&&(b="]");for(var c="";void 0!==a.J[a.e]&&("\\"===a.J[a.e-1]||b!==a.J[a.e]);)b===a.J[a.e+1]&&"\\"===a.J[a.e]?(c+=b,a.e++):c+=a.J[a.e],a.e++;void 0===a.J[a.e]&&(a.Lc=!1);a.e++;return c}function aj(a){a=parseFloat(Yi(a,void 0));return isNaN(a)?0:a}function cj(a){a=parseInt(Yi(a,void 0));return isNaN(a)?0:a}function Zi(a){for(;;){for(;void 0!==a.J[a.e]&&"]"!==a.J[a.e]&&a.e<a.Pb;)for(a.e++;"]"===a.J[a.e]&&"\\"===a.J[a.e-1];)a.e++;a.e++;if("["!==a.J[a.e])break}}function dj(a,b){var c=b.charCodeAt(0);if(97<=c&&122>=c)return c-96;if(65<=c&&90>=c)return c-64+26;a.Lc=!1;return 0}function Xi(a,b){a.e+=3;var c=[];if("]"!==a.J[a.e]){for(;;){var d=a.J[a.e];a.e++;var e=a.J[a.e];a.e++;var f=dj(a,d),g=dj(a,e);if(":"===a.J[a.e])for(a.e++,d=a.J[a.e],a.e++,e=a.J[a.e],a.e++,d=dj(a,d),e=dj(a,e);g<=e;g++)for(var h=f;h<=d;h++)ej(a,h,g),c.push((g<<8)+h);else ej(a,f,g),c.push((g<<8)+f);if("]"!==a.J[a.e]){a.Lc=!1;return}a.e++;if("["!==a.J[a.e])break;a.e++}a.b.Ze(b,c)}}function $i(a,b){a.e+=2;if("]"==a.J[a.e])a.b.kc(0,0,b);else{var c=a.J[a.e];a.e++;var d=a.J[a.e];a.e++;var e=a.b.sa.qa();if("t"===c&&"t"===d&&19>=e.h&&19>=e.g)a.b.kc(0,0,b);else for(c=dj(a,c),d=dj(a,d),ej(a,c,d),a.b.kc(c,d,b);"]"!==a.J[a.e];)if(a.e++,a.e>=a.Pb){a.Lc=!1;break}}a.e++}function bj(a,b){a.e+=3;var c=[];if("]"!==a.J[a.e]){for(;;){var d=a.J[a.e];a.e++;var e=a.J[a.e];a.e++;var f=dj(a,d),g=dj(a,e);if(":"===a.J[a.e])for(a.e++,d=a.J[a.e],a.e++,e=a.J[a.e],a.e++,d=dj(a,d),e=dj(a,e);g<=e;g++)for(var h=f;h<=d;h++)ej(a,h,g),c.push((g<<8)+h);else ej(a,f,g),c.push((g<<8)+f);if("]"!==a.J[a.e]){a.Lc=!1;return}a.e++;if("["!==a.J[a.e])break;a.e++}a.b.Wa(b,c)}}function fj(a,b){a.e+=3;var c=[];if("]"!==a.J[a.e]){for(;;){var d=a.J[a.e];a.e++;var e=a.J[a.e];a.e++;var f=dj(a,d),g=dj(a,e);if(":"===a.J[a.e])for(a.e++,d=a.J[a.e],a.e++,e=a.J[a.e],a.e++,d=dj(a,d),e=dj(a,e);g<=e;g++)for(var h=f;h<=d;h++)c.push((g<<8)+h);else c.push((g<<8)+f);if("]"!==a.J[a.e]){a.Lc=!1;return}a.e++;if("["!==a.J[a.e])break;a.e++}a.b.Qi(b,c)}}function ej(a,b,c){b<a.r.ca&&(a.r.ca=b);b>a.r.ja&&(a.r.ja=b);c<a.r.da&&(a.r.da=c);c>a.r.ka&&(a.r.ka=c)}function gj(a){this.b=a;this.Yd=[];this.ab=this.e=0}gj.prototype.Li=function(a){for(var b=a.length,c=[],d=0;d<b;)c.push(a.charAt(d++));this.e=0;this.Yd=c;this.ab=this.Yd.length};function hj(a){a.b.Kd();a.b.l=a.b.Ib();a.b.l.bi=!0}function ij(a){return a.e>=a.ab?-1:a.Yd[a.e++]}function jj(a){for(var b="",c=null;-1!==c&&"\n"!==c;)c=ij(a),b+=c;return b}function kj(a){return a.e>=a.ab?!0:!1}function Kh(a){Kh.u.constructor.call(this,a);this.Ie=this.ac=0;this.wf=19}ad(Kh,gj);Kh.prototype.Cj=function(a){this.Li(a);hj(this);this.xl();if(!(1>=this.ac)){a=[];var b=[];19===this.wf?b=[4,10,16]:13===this.wf?b=[4,7,10]:9===this.wf&&(b=[3,5,7]);if(3===b.length)switch(this.ac){case 2:a=[[b[2],b[0]],[b[0],b[2]]];break;case 3:a=[[b[2],b[0]],[b[0],b[2]],[b[2],b[2]]];break;case 4:a=[[b[2],b[0]],[b[0],b[2]],[b[2],b[2]],[b[0],b[0]]];break;case 5:a=[[b[2],b[0]],[b[0],b[2]],[b[2],b[2]],[b[0],b[0]],[b[1],b[1]]];break;case 6:a=[[b[2],b[0]],[b[0],b[2]],[b[2],b[2]],[b[0],b[0]],[b[0],b[1]],[b[2],b[1]]];break;case 7:a=[[b[2],b[0]],[b[0],b[2]],[b[2],b[2]],[b[0],b[0]],[b[0],b[1]],[b[2],b[1]],[b[1],b[1]]];break;case 8:a=[[b[2],b[0]],[b[0],b[2]],[b[2],b[2]],[b[0],b[0]],[b[0],b[1]],[b[2],b[1]],[b[1],b[0]],[b[1],b[2]]];break;case 9:a=[[b[2],b[0]],[b[0],b[2]],[b[2],b[2]],[b[0],b[0]],[b[0],b[1]],[b[2],b[1]],[b[1],b[0]],[b[1],b[2]],[b[1],b[1]]]}if(0<a.length){for(var b=[],c=0,d=a.length;c<d;c++)b.push((a[c][1]<<8)+a[c][0]);this.b.Ze(J,b)}}this.wl()};Kh.prototype.xl=function(){pg(this.b,jj(this));this.wf=jj(this)|0;Yh(this.b,this.wf,this.wf);lj(this,!1);lj(this,!0);jj(this);var a=jj(this);this.ac=Math.min(9,Math.max(a|0,0));a=this.b;a.ac=this.ac;jg(a);jj(this);var a=jj(this),b=this.b;b.Ob=parseFloat(a);b.Ba=!0;a=jj(this);b=this.b;b.Xd=a;b.Ba=!0;jj(this);a=jj(this);kg(this.b,a);this.Ie=jj(this)|0};Kh.prototype.wl=function(){if(!kj(this))for(var a=0;a<this.Ie;a++){cc(this.b,!1,!1);this.b.l.bi=!0;if("PM"===ij(this)+ij(this)){ij(this);ij(this);var b="B"===ij(this)?J:Da,c=ij(this),d=ij(this),c=c.charCodeAt(0)-65,d=d.charCodeAt(0)-65;0>c||0>d?this.b.kc(0,0,b):this.b.kc(c,d,b)}jj(this);if(kj(this))break}};function lj(a,b){var c=jj(a),d=c.indexOf(" "),e="",f="";-1!==d?(e=c.substr(0,d).replace(/\s+/g,""),f=c.substr(d).replace(/\s+/g,"")):e=c.replace(/\s+/g,"");!0===b?(lg(a.b,e),mg(a.b,f)):(ng(a.b,e),og(a.b,f))}function Jh(a){Jh.u.constructor.call(this,a)}ad(Jh,gj);Jh.prototype.Cj=function(a){this.Li(a);hj(this);!1!==this.xl()&&this.wl()};Jh.prototype.xl=function(){for(var a=-1;"\\"!==a;){if(kj(this))return!1;a=ij(this)}a=ij(this)+ij(this);if("GS"===a)return this.e-=3,!0;if("HS"!==a)return!1;for(;;){for(a=-1;"\\"!==a;){if(kj(this))return!1;a=ij(this)}a=ij(this);if("H"===a){if("E"!==ij(this))break;return!0}if("["!==a)break;for(var b="";;){if(kj(this))return!1;a=ij(this);if("="===a)break;b+=a}for(var c="";;){if(kj(this))return!1;a=ij(this);if("\\"===a){if("]"===ij(this))break;return!1}c+=a}switch(b){case "WUSERINFO":case "BUSERINFO":case "GAMEINFOMAIN":case "GAMEINFOSUB":for(var b=a=null,d=[],e=-1;-1!==(e=c.indexOf(","));){var f=c.substr(0,e),g=f,h="",k=-1;-1!==(k=f.indexOf(":"))&&(g=f.substr(0,k),h=f.substr(k+1));d.push({Ah:g,rc:h});c=c.substr(e+1)}e=0;for(c=d.length;e<c;e++)switch(f=d[e].rc,d[e].Ah){case "WNICK":ng(this.b,f);break;case "BNICK":lg(this.b,f);break;case "WLV":og(this.b,mj(f));break;case "BLV":mg(this.b,mj(f));break;case "GNAME":g=this.b;g.Re=f;jg(g);break;case "GDATE":g=this.b;g.Xd=f;g.Ba=!0;break;case "GPLC":g=this.b;g.Se=f;jg(g);break;case "GCMT":pg(this.b,f);break;case "GONGJE":g=this.b;g.Ob=(f|0)/10;g.Ba=!0;break;case "GRLT":a=f;break;case "ZIPSU":b=f}if(null!==a)switch(a){case "0":kg(this.b,"Black "+(b|0)/10+" win");break;case "1":kg(this.b,"White "+(b|0)/10+" win");break;case "3":kg(this.b,"Black wins by resignation");break;case "4":kg(this.b,"White wins by resignation");break;case "255":kg(this.b,"Unfinished")}}}return!1};Jh.prototype.wl=function(){for(var a=-1;"\\"!==a;){if(kj(this))return!1;a=ij(this)}a=ij(this)+ij(this);if("GS"!==a)return!1;jj(this);jj(this);for(jj(this);!kj(this);){var b=jj(this);if(-1!==b.indexOf("\\GE"))return!0;var c,a=[];for(c=-1;-1!==(c=b.indexOf(" "));)a.push(b.substr(0,c)),b=b.substr(c+1);c=a;if(0>=c.length)return!1;a=c[0];if("INI"===a)5<=c.length&&pg(this.b,c[4]);else if("STO"===a){if(6!==c.length)return!1;cc(this.b,!1,!1);this.b.l.gs=!0;this.b.kc((c[4]|0)+1,(c[5]|0)+1,"1"===c[3]?J:Da)}}};function mj(a){a=a|0;return 18>a?18-a+"k":26<a?a-26+"p":a-17+"d"};function Mh(){this.bc=this.b=this.Yd=null}function nj(a,b){a.Yd+=b}function oj(a){return 26>=a?96+a:64+a-26}function pj(a,b){var c=Bb(b);nj(a,String.fromCharCode(91,oj(c.h),oj(c.g),93))}function qj(a,b){for(var c=0,d=b.length;c<d;c++)pj(a,b[c])}function rj(a,b){var c=b;"string"===typeof b&&(c=b.replace(RegExp("]","g"),"\\]"));nj(a,"["+c+"]")}function sj(a,b,c){nj(a,b);rj(a,c)}function tj(a,b,c){c&&""!==c&&sj(a,b,c)}function Nh(a,b){var c=b.ta,d=!1;if(null===c||1<vc(c))d=!0;d&&nj(a,"(");nj(a,";");if(b===a.b.Ib()){var c=a.b,e=c.sa.qa();sj(a,"GM",1);sj(a,"FF",4);sj(a,"CA","UTF-8");sj(a,"AP","WebGoBoard:"+GoBoardApi.th());sj(a,"ST",c.Ge);tj(a,"RU",c.Qf);sj(a,"SZ",e.h==e.g?e.h:e.h+":"+e.g);sj(a,"KM",c.Ob);sj(a,"HA",c.ac);tj(a,"TM",c.Bf);tj(a,"OT",c.Te);tj(a,"RE",c.Ue);tj(a,"GN",c.vd);tj(a,"DT",c.Xd);tj(a,"CP",c.Kf);tj(a,"GC",c.Bi);tj(a,"PB",c.ud);tj(a,"BR",c.Jf);tj(a,"BT",c.Ro);tj(a,"PW",c.wd);tj(a,"WR",c.Rf);tj(a,"WT",c.To);tj(a,"EV",c.Re);tj(a,"RO",c.Nf);tj(a,"PC",c.Se);tj(a,"AN",c.Lf);tj(a,"ON",c.Mf);tj(a,"SO",c.Of);tj(a,"US",c.Pf);c={};Ui(a.b.Ib(),c);var e=1,f=[],g;for(g in c)c[g]=e,f[e++]=g|0;1<e&&(c[0]=0,f[0]=0,a.bc=c,a.zl(f))}g=[];for(var c=[],e=[],f=0,h=b.Ua.length;f<h;f++){var k=b.Ua[f],m=k.V,k=k.Na();switch(m){case 257:case 258:case 259:for(var n=0,p=k.length;n<p;n++){for(var r=k[n],q=0,u=g.length;q<u;q++)r===g[q]&&(g.splice(q,1),u--,q--);q=0;for(u=c.length;q<u;q++)r===c[q]&&(c.splice(q,1),u--,q--);q=0;for(u=e.length;q<u;q++)r===e[q]&&(e.splice(q,1),u--,q--);257===m?g.push(r):258===m?c.push(r):259===m&&e.push(r)}}}0<g.length&&(nj(a,"AB"),qj(a,g));0<c.length&&(nj(a,"AW"),qj(a,c));0<e.length&&(nj(a,"AE"),qj(a,e));g=[[],[],[],[],[],[]];c=[];h=0;for(e=b.Ua.length;h<e;h++){m=b.Ua[h];k=m.Na();n=-1;switch(m.V){case 533:n=0;k=[k.Lj];break;case 529:n=1;break;case 530:n=2;break;case 531:n=3;break;case 532:n=4;break;case 513:n=5}f=0;for(p=k.length;f<p;f++)for(r=k[f],q=0,u=g.length;q<u;q++)if(q===n)g[q].push(r),0==q&&c.push(m.Na().Text);else for(var v=0,w=g[q].length;v<w;v++)r===g[q][v]&&(g[q].splice(v,1),0===q&&c.splice(v,1),w--,v--)}if(0<g[0].length)for(nj(a,"LB"),f=0,e=g[0].length;f<e;f++)nj(a,"["),h=a,m=Bb(g[0][f]),nj(h,String.fromCharCode(oj(m.h),oj(m.g))),nj(a,":"+c[f]+"]");0<g[1].length&&(nj(a,"CR"),qj(a,g[1]));0<g[2].length&&(nj(a,"MA"),qj(a,g[2]));0<g[3].length&&(nj(a,"SQ"),qj(a,g[3]));0<g[4].length&&(nj(a,"TR"),qj(a,g[4]));g=0;for(c=b.Ua.length;g<c;g++)switch(f=b.Ua[g],e=f.Na(),f.V){case 1:nj(a,"B");f=a;0!=e?pj(f,e):nj(f,String.fromCharCode(91,93));break;case 2:nj(a,"W");f=a;0!=e?pj(f,e):nj(f,String.fromCharCode(91,93));break;case 769:nj(a,"BL");nj(a,"["+e+"]");break;case 770:nj(a,"WL");nj(a,"["+e+"]");break;case 260:nj(a,"PL"),rj(a,e===Da?"W":"B")}g=b.xb;""!==g&&(g=g.replace(RegExp("]","g"),"\\]"),nj(a,"C"),nj(a,"["),nj(a,g),nj(a,"]"));if(null!==a.bc){g=new eh;fh(g,"SGFCM");gh(g,1);e=a.b.sa.qa();c=e.h;e=e.g;gh(g,c);gh(g,e);f=!1;for(h=0;h<e;h++)for(m=0;m<c;m++)(k=b.sb[(h+1<<8)+(m+1)])?(k=qh(k),void 0!==a.bc[k]?(ih(g,a.bc[k]),f=!0):ih(g,0)):ih(g,0);!0===f&&(g=kh(jh(g)),sj(a,"CM",g))}g=0;for(c=vc(b);g<c;g++)Nh(a,b.W(g));d&&nj(a,")")}Mh.prototype.zl=function(a){var b=new eh;fh(b,"SGFCT");gh(b,1);hh(b,a.length);for(var c=0,d=a.length;c<d;c++)hh(b,a[c]);a=kh(jh(b));sj(this,"CT",a)};function Ri(a,b){this.tf=a;this.ib=b;this.zg=!1}Ri.prototype.de=function(a){this.tf=a.tf;this.zg=a.zg;this.ib={};for(var b in a.ib)this.ib[b]=a.ib[b]};function Wh(a,b){for(var c in a.ib){var d=Bb(parseInt(c));b.we[(d.g-1)*b.A+(d.h-1)]=a.ib[c]}};}());