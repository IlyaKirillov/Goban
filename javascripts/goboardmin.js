/*
 * Copyright (C) 2014-2016  Ilya Kirillov 
 * email: ilya_kirillov@inbox.ru
 *  
 * This library is free software; you can redistribute it and/or
 * modify it under the terms of the GNU Lesser General Public
 * License as published by the Free Software Foundation; either
 * version 3.0 of the License, or (at your option) any later version.
 * 
 * This library is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 * Lesser General Public License for more details.
 * 
 * Version 0.10.8
*/
(function(){var l;function ba(a){this.f=a;this.S=this.b=null;this.va=0;this.Kb=x.Kb;this.qk=this.Nf=this.Pe=this.Zd=this.$d=0;this.cg={};this.Nb=null;this.th=!1;this.c={I:0,D:0,vm:0,Al:0,Wb:0,pc:0,Cl:2,fa:null,Bl:null,$:null,Fg:null,Df:[],xm:Array(361),ni:null,dk:null,$g:null,ek:null,fk:null,im:null,jm:null,$l:null,am:null,cm:null,em:null,dm:null,fm:null,Il:null,Ei:null,Fi:null,Sl:null,xl:null,ll:null,gl:null};this.Po=new y(255,0,0,128);this.a={d:null,$:{d:null},fa:{d:null},Nd:{d:null},Ig:{d:null},Ta:{d:null},ih:{d:null},Tb:{d:null},Kd:{d:null},Od:{d:null},Event:{d:null},Xn:[]};this.zb=new ca(this.c,this);this.eb={};this.Wa={};this.Ih=-1;this.m={V:0,W:0,aa:18,ba:18};this.ta={Md:!1,fh:-1,gh:-1,ve:-1,we:-1};this.he=this.Ye=null;this.Jf=!1;var b=this;this.ei=function(a){da(a);a=b.hf(B.h,B.g);a=ea(b,a.h,a.g);var d=a.h,e=a.g,f=B,g=!1;if(!1===fa(b,d-1,e-1))ga(b.zb);else if(null===b.Nb&&null!==b.c.fa){void 0===g&&(g=!1);var h;h=b.zb;d==h.Tf&&e==h.Uf&&1!=g?h=!0:(h.Tf=d,h.Uf=e,h.Aa(),h=!1);!1===h&&(10===b.va&&b.Jf&&!g&&ha(b,d,e,f),f=(b.c.Wb-1)/2,g=b.c.fa,d=g[d-1].h-f,e=g[e-1].g-f,b.zb.Aa(),b.zb.Yl(d,e),ia(b))}11===b.va&&(e=a.g,!0===b.ta.Md&&(b.ta.ve=a.h,b.ta.we=e));ka(b)};this.Ag=function(a){da(a);!0===b.Jf&&(b.Jf=!1,b.fi(a));ga(b.zb)};this.zg=function(a){la(a);b.Jf=!0;b.a.Event.d.a.focus();var d=b.hf(B.h,B.g),d=ea(b,d.h,d.g);b.Y(d.h,d.g,B);a.preventDefault();return!1};this.fi=function(a){da(a);b.Jf=!1;var d=b.hf(B.h,B.g),d=ea(b,d.h,d.g);11===b.va&&(a=d.h,d=d.g,!0===b.ta.Md&&(b.ta.Md=!1,b.ta.ve=a,b.ta.we=d));ka(b)};this.Bg=function(a){if(b.Jc)return!1;var d=0;void 0!=a.wheelDelta?d=a.wheelDelta:d=-a.detail;0>d?ma(b.b,1):na(b.b,1);a.preventDefault&&a.preventDefault();return!1};this.ep=function(a){oa(a);var d=!1;16===pa.G&&2===b.va?(B.u=!0,ia(b),d=!0):16!==pa.G&&17!==pa.G||10!==b.va?(d=qa(b,pa),!0===d&&112<=pa.G&&121>=pa.G?ia(b):!0===d&&ga(b.zb)):(16===pa.G?B.u=!0:17===pa.G&&(B.s=!0),ia(b),d=!0);!0===d&&a.preventDefault();return d?!1:!0};this.gp=function(a){oa(a);16===pa.G&&2===b.va?(B.u=!1,ia(b)):16!==pa.G&&17!==pa.G||10!==b.va||(16===pa.G?B.u=!1:17===pa.G&&(B.s=!1),ia(b))};this.fp=function(){};this.el=function(){return setTimeout(function(){b.Yk();b.ug();b.wg();b.vg();if(b.c.fa){var a=b.bi(),d=b.Ac(),e=b.c.Wb;b.c.ek=ra(b,e,e,.05*e,new y(0,0,0,255));b.c.fk=ra(b,e,e,.05*e,new y(255,255,255,255));b.c.im=b.ic(e,e,.05*e,new y(0,0,0,255));b.c.jm=b.ic(e,e,.05*e,new y(255,255,255,255));b.c.$l=sa(b,e,e,.05*e,new y(0,0,0,255));b.c.am=sa(b,e,e,.05*e,new y(255,255,255,255));b.c.cm=ta(b,e,e,!1,new y(0,0,0,255),a?new y(0,0,0,255):d?new y(255,255,255,255):new y(0,0,0,255));b.c.em=ta(b,e,e,!1,new y(255,255,255,255),a?new y(255,255,255,255):d?new y(255,255,255,255):new y(0,0,0,255));b.c.dm=ta(b,e,e,!0,new y(0,0,0,255),a?new y(0,0,0,255):d?new y(255,255,255,255):new y(0,0,0,255));b.c.fm=ta(b,e,e,!0,new y(255,255,255,255),a?new y(255,255,255,255):d?new y(255,255,255,255):new y(0,0,0,255));b.c.Il=ua(b,e,e,.05*e,new y(255,0,0,255));b.c.Ei=ua(b,e,e,.05*e,new y(0,0,0,255));b.c.Fi=ua(b,e,e,.05*e,new y(255,255,255,255));b.c.Sl=sa(b,e,e,.05*e,new y(200,0,0,255));b.c.xl=sa(b,e,e,.05*e,new y(0,128,0,255));b.c.ll=sa(b,e,e,.05*e,new y(0,0,200,255));b.c.gl=sa(b,e,e,.05*e,new y(128,128,128,255))}b.jc();b.c.$g=va(b,!0)},20)};this.cp=function(a){a.preventDefault();return!1};this.dp=function(a){a.preventDefault();if(0<a.dataTransfer.files.length&&FileReader){a=a.dataTransfer.files[0];var d=a.name.split(".").pop().toLowerCase(),e=new FileReader;e.onload=function(a){b.b.Fc(a.target.result,null,null,d)};e.readAsText(a);b.Ca()}}}l=ba.prototype;l.o=function(a,b){this.f&&this.f.Tl(this);this.vj(b);this.a.d=D(a);var c=this.a.d.a,d=a+"_BoardCanvas",e=a+"_LinesCanvas",f=a+"_ColorCanvas",g=a+"_ShadowsCanvas",h=a+"_StonesCanvas",k=a+"_VariantsCanvas",m=a+"_MarksCanvas",n=a+"_TargetCanvas",p=a+"_SelectCanvas",t=a+"_CursorCanvas",q=a+"_EventDiv";this.Qa(c,d);this.Qa(c,e);this.Qa(c,f);this.Qa(c,g);this.Qa(c,h);this.Qa(c,k);this.Qa(c,m);this.Qa(c,p);this.Qa(c,n);this.qa(c,t);c=this.qa(c,q);this.zb.o(t);t=this.a.d;this.wa(this.a.$,t,d);this.wa(this.a.fa,t,e);this.wa(this.a.Ig,t,f);this.wa(this.a.Ta,t,g);this.wa(this.a.Nd,t,h);this.wa(this.a.ih,t,k);this.wa(this.a.Tb,t,m);this.wa(this.a.Kd,t,p);this.wa(this.a.Od,t,n);this.wa(this.a.Event,t,q);c.onmousemove=this.ei;c.onmouseout=this.Ag;c.onmousedown=this.zg;c.onmouseup=this.fi;c.onkeydown=this.ep;c.onkeyup=this.gp;c.onkeypress=this.fp;c.tabIndex=-1;c.style.uo=!0;c.style.outline=0;c.ondragover=this.cp;c.ondrop=this.dp;c.onmousewheel=this.Bg;c.addEventListener&&c.addEventListener("DOMMouseScroll",this.Bg,!1);return t};l.il=function(a){this.a.Xn.push(a)};l.Ca=function(){this.a.Event.d.a.focus()};l.dh=function(a){a!==this.Kb&&(x.dh(a),this.Kb=a,this.f.p(!0))};function va(a,b){var c=document.createElement("canvas"),d=c.getContext("2d");c.width=a.a.$.d.a.width;c.height=a.a.$.d.a.height;d.drawImage(a.a.$.d.a,0,0);d.drawImage(a.a.fa.d.a,0,0);!0===b&&d.drawImage(a.a.Ig.d.a,0,0);d.drawImage(a.a.Ta.d.a,0,0);d.drawImage(a.a.Nd.d.a,0,0);d.drawImage(a.a.Tb.d.a,0,0);return c}l.p=function(a){var b=this.a.d.a.clientWidth,c=this.a.d.a.clientHeight,d=wa(this),e=c*d;e<=b?b=e:c=b/d;if(b!==this.c.vm||c!==this.c.Al||!0===a)this.c.vm=b,this.c.Al=c,this.a.d.kb(b,c),xa(this),this.jc(a)};function ya(a,b,c,d,e){var f=a.S.ea(),g=f.h,f=f.g;a.m.V=Math.max(0,Math.min(g-1,b));a.m.W=Math.max(0,Math.min(f-1,c));a.m.aa=Math.max(0,Math.min(g-1,d));a.m.ba=Math.max(0,Math.min(f-1,e));a.m.aa<=a.m.V&&(a.m.V=0,a.m.aa=g-1);a.m.ba<=a.m.W&&(a.m.W=0,a.m.ba=f-1)}function za(a){var b=a.S.ea(),c=b.h,b=b.g;a.m.V=0;a.m.W=0;a.m.aa=c-1;a.m.ba=b-1}function Aa(a,b,c,d){if(a.c.fa&&d!==a.cg[(c<<8)+b]){var e=a.a.Nd.d.a.getContext("2d"),f=a.a.Ta.d.a.getContext("2d"),g=a.c.Wb,h=(g-1)/2,k=a.c.fa,m=a.c.pc,n=a.ai();if(!0===fa(a,b-1,c-1)){var p=k[b-1].h-h,h=k[c-1].g-h;switch(d){case E:e.putImageData(a.c.Fg,p,h);!0===n&&f.putImageData(a.c.Ta,p+m,h+m);break;case F:e.putImageData(a.c.Df[a.c.xm[b-1+(c-1)*a.S.ea().h]],p,h);!0===n&&f.putImageData(a.c.Ta,p+m,h+m);break;default:e.clearRect(p,h,g,g),!0===n&&f.clearRect(p+m,h+m,g,g)}}a.cg[(c<<8)+b]=d;d=a.zb;!0===(b==d.Tf&&c==d.Uf?!0:!1)&&ia(a)}}l.Ub=function(a,b){var c=(b<<8)+a;delete this.Wa[""+c];c===this.Ih&&(this.Wa[""+c]=new Ba(a,b,Ca,""))};function Da(a,b,c){return(a=a.Wa[""+((c<<8)+b)])?a:null}l.Ha=function(a){Ea(this,a.Fd(),a.Gd(),a)};l.vj=function(a){this.b=a;this.S=a.na;a.k=this;za(this)};l.Ng=function(){for(var a=this.S,b=1;b<=a.F;b++)for(var c=1;c<=a.v;c++)Fa(a,c,b,a.K(c,b));a=this.S.Ng(this);this.Ye&&Ga(this.Ye,a.Eg,a.jh,a.ml,a.wm,a.Eg+this.b.Lc-a.jh-this.b.Qc-this.b.Lb);this.b.rc()};function Ha(a,b){if((a.b.H&Ia||9===b||11===b)&&a.va!==b){1===a.va&&a.b.Bi();a.va=b;ia(a);if(1===b){var c=a.S;c.Ic=[];for(var d=1;d<=c.F;d++)for(var e=1;e<=c.v;e++)c.Ic[Ja(c,e,d)]=G;Ka(c,!1);a.b.Jg()}else 9===b&&a.Ng();a.b.rc()}}function wa(a){var b=a.S.ea(),c=b.h,b=b.g,d=(a.m.aa-a.m.V)*La+2*Ma,e=(a.m.ba-a.m.W)*La+2*Ma;!0===a.Kb&&(d+=La,e+=La);0<a.m.V&&(d+=Na/2);a.m.aa<c-1&&(d+=Na/2);0<a.m.W&&(e+=Na/2);a.m.ba<b-1&&(e+=Na/2);return d/e}l.Qa=function(a,b){var c=document.createElement("canvas");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};l.qa=function(a,b){var c=document.createElement("div");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};l.wa=function(a,b,c){a.d=D(c);a=a.d;J(a.i,0,0,1E3,1E3,!1,!1,!1,!1,-1,-1);a.n=L|M|N|O;b.j(a)};l.hf=function(a,b){var c=Oa(this.a.$.d.a);return{h:a-c.h,g:b-c.g}};function xa(a){var b=a.S.ea(),c=b.h,b=b.g;a.m.V=Math.max(0,Math.min(c-1,a.m.V));a.m.W=Math.max(0,Math.min(b-1,a.m.W));a.m.aa=Math.max(0,Math.min(c-1,a.m.aa));a.m.ba=Math.max(0,Math.min(b-1,a.m.ba));a.m.aa<=a.m.V&&(a.m.V=0,a.m.aa=c-1);a.m.ba<=a.m.W&&(a.m.W=0,a.m.ba=b-1);var d=(a.m.aa-a.m.V)*La+2*Ma,e=(a.m.ba-a.m.W)*La+2*Ma,f=Ma,g=Ma;!0===a.Kb&&(d+=La,e+=La,f+=Na,g+=Na);0<a.m.V&&(d+=Na/2,f+=Na/2);a.m.aa<c-1&&(d+=Na/2);0<a.m.W&&(e+=Na/2,g+=Na/2);a.m.ba<b-1&&(e+=Na/2);a.Nf=La/e;a.Pe=La/d;a.Zd=f/d;a.$d=g/e;a.qk=4/d}l.jc=function(a){var b=this.a.$.d.a.width,c=this.a.$.d.a.height;if(b!=this.c.I||c!=this.c.D||null===this.c.$||null!==this.Nb||!0===a){if(null!==this.Nb&&clearTimeout(this.Nb),this.Nb=this.el(),this.ug(),0!==b&&0!==c)if(null!==this.c.$g)this.a.$.d.a.getContext("2d").drawImage(this.c.$g,0,0,b,c);else{a=this.a.$.d.a.getContext("2d");a.fillStyle=Q(this.yg());a.fillRect(0,0,b,c);var d=this.a.fa.d.a.getContext("2d");a=this.Pe*b;var e=this.Nf*c,f=this.Zd*b-this.m.V*a,g=this.$d*c-this.m.W*e,h=this.S.ea();d.clearRect(0,0,b,c);d.strokeStyle=Q(this.pe());for(var k=f+(h.h-1)*a,m=0;m<h.g;m++){var n=g+m*e;d.beginPath();d.moveTo(f,n);d.lineTo(k,n);d.stroke()}for(var k=g+(h.g-1)*e,p=0;p<h.h;p++)n=f+p*a,d.beginPath(),d.moveTo(n,g),d.lineTo(n,k),d.stroke();d.fillStyle=Q(this.pe());for(var m=Math.max(2,this.qk*b/2),p=Pa(this.S),t=0,q=p.length;t<q;t++)k=f+p[t][0]*a,n=g+p[t][1]*a,d.beginPath(),d.arc(k,n,m,0,2*Math.PI,!1),d.fill();d=this.a.Nd.d.a.getContext("2d");d.clearRect(0,0,b,c);d.strokeStyle=Q(this.pe());d.lineWidth=1;t=Q(new y(0,0,0,255));q=Q(new y(255,255,255,255));for(m=1;m<=h.g;m++)for(p=1;p<=h.h;p++){k=this.S.K(p,m);if(E===k)d.fillStyle=t;else if(F===k)d.fillStyle=q;else continue;k=f+(p-1)*a;n=g+(m-1)*e;d.beginPath();d.arc(k,n,a/2,0,2*Math.PI,!1);d.fill();d.stroke()}this.a.Ta.d.a.getContext("2d").clearRect(0,0,b,c);this.a.ih.d.a.getContext("2d").clearRect(0,0,b,c);this.a.Tb.d.a.getContext("2d").clearRect(0,0,b,c);this.a.Od.d.a.getContext("2d").clearRect(0,0,b,c);this.a.Kd.d.a.getContext("2d").clearRect(0,0,b,c)}}else{Qa(this);if(!0===this.Kb&&this.c.fa){b=this.a.$.d.a.getContext("2d");c=this.c.I;m=this.c.D;a=this.S.ea();e=2*this.c.Wb/3;f=(e-1)/2;g=this.c.fa;h=2*e/3;b.fillStyle=this.Ac()?"rgb(255,255,255)":"rgb(0,0,0)";for(p=this.m.V;p<=this.m.aa;p++)d=g[p].h-f,k=this.$d*m/3-f,n=Ra(p+1,a.h),t=Sa(n)?"Arial":"Helvetica, Arial, Verdana",t=h+"px "+t,b.font=t,t=e/2+h/3,q=(e-b.measureText(n).width)/2,b.fillText(n,d+q,k+t),k=m-this.$d*m/3-f,b.fillText(n,d+q,k+t);for(m=this.m.W;m<=this.m.ba;m++)d=this.Zd*c/3-f,k=g[m].g-f,n=a.g-m+"",t=Sa(n)?"Arial":"Helvetica, Arial, Verdana",t=h+"px "+t,b.font=t,t=e/2+h/3,q=(e-b.measureText(n).width)/2,b.fillText(n,d+q,k+t),d=c-this.Zd*c/3-f,b.fillText(n,d+q,k+t)}Ta(this);b=this.c.I;c=this.c.D;this.a.Nd.d.a.getContext("2d").clearRect(0,0,b,c);this.a.Ta.d.a.getContext("2d").clearRect(0,0,b,c);this.cg={};Ua(this);Va(this);Wa(this);this.b&&this.b.Af()}};l.Yk=function(){var a=this.a.$.d.a.width,b=this.a.$.d.a.height,c=this.a.$.d.a.getContext("2d");if(0!==a&&0!==b){for(var c=c.createImageData(a,b),d=.9,e=this.yg(),f=e.w,g=e.B,e=e.A,h=100/a,k=1.6,m=2.72,d=2432/150,n=Array(a),p=0,t=0;p<a;p++,t+=h)n[p]=.6+k*t+m*t*t*t+d*t*t*t*t*t;for(var h=Array(b),p=1/b,k=.02,m=.004,d=.04/15,q=0,t=0;q<b;q++,t+=p)h[q]=k*t+m*t*t*t+d*t*t*t*t*t;if(!0===this.bi())for(q=0;q<b;q++)for(p=0;p<a;p++){d=40*(n[p]+h[q])+.5;d-=Math.floor(d);d=.2>d?1-d/2:.4>d?1-(.4-d)/2:1;if(q==b-1||q==b-2&&p<a-2||p>=a-1||p==a-2&&q<b-1)d/=2;0==q||1==q&&1<p||0==p||1==p&&1<q?(k=128+f*d/2,m=128+g*d/2,d=128+e*d/2):(k=f*d,m=g*d,d*=e);t=4*(p+q*a);c.data[t+0]=k;c.data[t+1]=m;c.data[t+2]=d;c.data[t+3]=255}else for(q=0;q<b;q++)for(p=0;p<a;p++)0==q||1==q&&1<p||0==p||1==p&&1<q?(k=128+f/2,m=128+g/2,d=128+e/2):(k=f,m=g,d=e),t=4*(p+q*a),c.data[t+0]=k,c.data[t+1]=m,c.data[t+2]=d,c.data[t+3]=255;this.c.$=c;this.c.I=a;this.c.D=b;this.Nb=null}};function Qa(a){a.a.$.d.a.getContext("2d").putImageData(a.c.$,0,0)}l.ug=function(){var a=this.c.I,b=this.c.D;if(0!==a&&0!==b){for(var c=this.Zd*a,d=this.$d*b,b=this.Nf*b,e=this.Pe*a,f=this.S.ea(),g=Math.max(f.h,f.g),f=Array(f.h),c=c-e*this.m.V,d=d-b*this.m.W,h,k,m,n,p,t,q,r,u,v,z=0;z<g;z++)h=c+z*e,m=c+z*e+.6*e,p=c+z*e-.6*e,q=c+z*e+.5*e,u=c+z*e-.5*e,k=d+z*b,n=d+z*b+.6*b,t=d+z*b-.6*b,r=d+z*b+.5*b,v=d+z*b-.5*b,f[z]={h:Math.floor(h+.5),po:Math.floor(m+.5),qo:Math.floor(p+.5),Ef:Math.floor(q+.5),md:Math.floor(u+.5),g:Math.floor(k+.5),ro:Math.floor(n+.5),so:Math.floor(t+.5),Ff:Math.floor(r+.5),nd:Math.floor(v+.5)};this.c.fa=f;a=Math.max(2,Math.ceil(this.qk*a/2));g=2*a+1;b=this.c;e=g+2;f=g+2;g=this.pe();f=document.createElement("canvas").getContext("2d").createImageData(e,f);c=f.data;Math.max(e/2,2);d=e/2-.5;h=d-.2;for(k=0;k<e;k++)for(m=0;m<e;m++)n=k-d,p=m-d,n=h-Math.sqrt(n*n+p*p),p=4*(k*e+e-m-1),0<=n?(t=255,.8>=n&&(t=parseInt(255*(1-(.8-n)/.8))),c[p+0]=g.w,c[p+1]=g.B,c[p+2]=g.A,c[p+3]=t):(c[p+0]=0,c[p+1]=0,c[p+2]=0,c[p+3]=0);b.Bl=f;this.c.Cl=a+1}};function Ta(a,b){if(a.c.fa){var c=a.c.I,d=a.c.D,e=a.a.fa.d.a.getContext("2d"),f=a.S.ea(),g=a.c.fa;e.clearRect(0,0,c,d);for(var h=a.c.Bl,k=a.c.Cl,m=Pa(a.S),n=0,p=m.length;n<p;n++)!0===fa(a,m[n][0],m[n][1])&&e.putImageData(h,g[m[n][0]].h-k,g[m[n][1]].g-k);for(var m=0===a.m.V?g[a.m.V].h:g[a.m.V].qo,n=f.h-1===a.m.aa?g[a.m.aa].h:g[a.m.aa].po,t=0===a.m.W?g[a.m.W].g:g[a.m.W].so,q=f.g-1===a.m.ba?g[a.m.ba].g:g[a.m.ba].ro,k=e.createImageData(1,d),p=e.createImageData(c,1),r=a.pe(),u=0;u<d;u++)h=4*u,u>=t&&u<=q&&(k.data[h+0]=r.w,k.data[h+1]=r.B,k.data[h+2]=r.A,k.data[h+3]=r.La);for(u=0;u<c;u++)h=4*u,m<=u&&u<=n&&(p.data[h+0]=r.w,p.data[h+1]=r.B,p.data[h+2]=r.A,p.data[h+3]=r.La);for(c=0;c<f.h;c++)!0===(c>=a.m.V&&c<=a.m.aa?!0:!1)&&e.putImageData(k,g[c].h,0);for(c=0;c<f.g;c++)!0===(c>=a.m.W&&c<=a.m.ba?!0:!1)&&e.putImageData(p,0,g[c].g);if(void 0!==b)for(f=g[1].h-g[0].h+2,c=g[1].g-g[0].g+2,h=0,p=b.length;h<p;h++)d=b[h].h,k=b[h].g,!0===fa(a,d-1,k-1)&&G===a.S.K(d,k)&&e.clearRect(g[d-1].md,g[k-1].nd,f,c)}}l.wg=function(a){if(this.c.fa){var b=this.a.$.d.a.width,c=this.a.Nd.d.a.getContext("2d");a=2*Math.floor((a?a:Math.floor(this.Pe*b))/2)+1;this.c.Wb=a;this.zb.p(a);this.c.Fg=c.createImageData(a,a);this.c.oo=c.createImageData(a,a);this.c.ni=c.createImageData(a,a);this.c.dk=c.createImageData(a,a);var d=this.c.Fg.data,b=this.c.oo.data,e=this.c.ni.data,f=this.c.dk.data,g=this.al(),h=this.Zk(),k=this.Ac();if(!0===this.$k())for(var m=a/2-.5,n=m-.2,g=Math.sqrt(3),p=0;p<a;p++)for(var t=0;t<a;t++){var q=p-m,r=t-m,u=n-Math.sqrt(q*q+r*r),v=4*(p*a+a-t-1);if(0<=u){var z=n*n-q*q-r*r,z=0<z?Math.sqrt(z)*g:0,k=q,H=r,h=Math.sqrt(6*(k*k+H*H+z*z)),h=(2*z-k+H)/h,k=0;.9<h&&(k=10*(h-.9));z=255;.8>=u&&(u=(.8-u)/.8,z=.7,q-r<n/3&&(z=1),z=parseInt(255*(1-u*z)));q=parseInt(10+10*h+140*k);d[v+0]=q;d[v+1]=q;d[v+2]=q;d[v+3]=z;e[v+0]=q;e[v+1]=q;e[v+2]=q;e[v+3]=parseInt(z/2);q=parseInt(200+10*h+45*k);b[v+0]=q;b[v+1]=q;b[v+2]=q;b[v+3]=z;f[v+0]=q;f[v+1]=q;f[v+2]=q;f[v+3]=parseInt(z/2)}else d[v+0]=0,d[v+1]=0,d[v+2]=0,d[v+3]=0,e[v+0]=0,e[v+1]=0,e[v+2]=0,e[v+3]=0,b[v+0]=0,b[v+1]=0,b[v+2]=0,b[v+3]=0,f[v+0]=0,f[v+1]=0,f[v+2]=0,f[v+3]=0}else for(m=a/2-.5,n=m-.2,p=0;p<a;p++)for(t=0;t<a;t++)if(q=p-m,r=t-m,u=n-Math.sqrt(q*q+r*r),v=4*(p*a+a-t-1),0<=u){z=255;if(.8>=u){var K=(.8-u)/.8,z=.7;q-r<n/3&&(z=1);z=parseInt(255*(1-K*z))}else 1.6>=u&&.8<=u&&!0===k&&(K=(1.6-u)/.8,z=.7,q-r<n/3&&(z=1),z=parseInt(K*z*255));H=!1;1.6>=u&&(H=!0);!1===H||!1===k?(d[v+0]=h.w,d[v+1]=h.B,d[v+2]=h.A,d[v+3]=z,e[v+0]=h.w,e[v+1]=h.B,e[v+2]=h.A,e[v+3]=parseInt(z/2)):(d[v+0]=g.w,d[v+1]=g.B,d[v+2]=g.A,d[v+3]=z,e[v+0]=g.w,e[v+1]=g.B,e[v+2]=g.A,e[v+3]=z);z=255;.8>=u?(K=(.8-u)/.8,z=.7,q-r<n/3&&(z=1),z=parseInt(255*(1-K*z))):1.6>=u&&.8<=u&&!1===k&&(K=(1.6-u)/.8,z=.7,q-r<n/3&&(z=1),z=parseInt(K*z*255));!1===H||!0===k?(b[v+0]=g.w,b[v+1]=g.B,b[v+2]=g.A,b[v+3]=z,f[v+0]=g.w,f[v+1]=g.B,f[v+2]=g.A,f[v+3]=parseInt(z/2)):(b[v+0]=h.w,b[v+1]=h.B,b[v+2]=h.A,b[v+3]=z,f[v+0]=h.w,f[v+1]=h.B,f[v+2]=h.A,f[v+3]=z)}else d[v+0]=0,d[v+1]=0,d[v+2]=0,d[v+3]=0,e[v+0]=0,e[v+1]=0,e[v+2]=0,e[v+3]=0,b[v+0]=0,b[v+1]=0,b[v+2]=0,b[v+3]=0,f[v+0]=0,f[v+1]=0,f[v+2]=0,f[v+3]=0;d=[];e=[];for(v=0;28>v;v++)for(d[v]=c.createImageData(a,a),e[v]=d[v].data,p=0;p<a;p++)for(t=0;t<a;t++)m=4*(p*a+t),e[v][m+0]=b[m+0],e[v][m+1]=b[m+1],e[v][m+2]=b[m+2],e[v][m+3]=b[m+3];e.push(f);e.push(b);c=this.b.sa;if(!0===(null===c.J.Qd?x.J.Qd:c.J.Qd)){c=a/51*978|0;b=.9;v=Array(c);for(f=0;f<c;f++)v[f]=(Math.sin(18*f/c)+1)/20+(Math.sin(3*f/c)+1)/10;m=Array(c);for(p=0;p<c;p++)m[p]=.2*Math.cos(5*p/c)+.1*Math.sin(11*p/c);t=Array(c*c);for(p=0;p<c;p++)for(f=0;f<c;f++)b=90*(v[f]+m[p])+.5,b-=Math.floor(b),b=.2>b?1-b/2:.4>b?1-(.4-b)/2:1,t[f+p*c]=b;v=e.length;for(m=0;m<v;m++){var n=e[m],C,I;switch(m){case 0:C=12*c/978|0;I=163*c/978|0;break;case 1:C=12*c/978|0;I=213*c/978|0;break;case 2:C=12*c/978|0;I=263*c/978|0;break;case 3:C=12*c/978|0;I=313*c/978|0;break;case 4:C=62*c/978|0;I=163*c/978|0;break;case 5:C=62*c/978|0;I=213*c/978|0;break;case 6:C=62*c/978|0;I=263*c/978|0;break;case 7:C=62*c/978|0;I=313*c/978|0;break;case 8:C=113*c/978|0;I=163*c/978|0;break;case 9:C=113*c/978|0;I=213*c/978|0;break;case 10:C=113*c/978|0;I=263*c/978|0;break;case 11:C=113*c/978|0;I=313*c/978|0;break;case 12:C=163*c/978|0;I=163*c/978|0;break;case 13:C=163*c/978|0;I=213*c/978|0;break;case 14:C=163*c/978|0;I=263*c/978|0;break;case 15:C=163*c/978|0;I=313*c/978|0;break;case 16:C=213*c/978|0;I=163*c/978|0;break;case 17:C=213*c/978|0;I=213*c/978|0;break;case 18:C=213*c/978|0;I=263*c/978|0;break;case 19:C=213*c/978|0;I=313*c/978|0;break;case 20:C=263*c/978|0;I=163*c/978|0;break;case 21:C=263*c/978|0;I=213*c/978|0;break;case 22:C=263*c/978|0;I=263*c/978|0;break;case 23:C=263*c/978|0;I=313*c/978|0;break;case 24:C=313*c/978|0;I=163*c/978|0;break;case 25:C=313*c/978|0;I=213*c/978|0;break;case 26:C=313*c/978|0;I=263*c/978|0;break;case 27:C=313*c/978|0;I=313*c/978|0;break;case 28:C=12*c/978|0;I=12*c/978|0;break;case 29:C=12*c/978|0,I=12*c/978|0}for(p=0;p<a;p++)for(f=0;f<a;f++)b=t[C+f+(I+p)*c],q=4*(f+p*a),n[q+0]*=Math.pow(b,.8),n[q+1]*=Math.pow(b,.8),n[q+2]*=Math.pow(b,.8)}}this.c.Df=d;C=this.S.ea();for(I=0;I<C.g;I++)for(a=0;a<C.h;a++)this.c.xm[a+I*C.h]=Math.floor(Math.random()*(this.c.Df.length-1))}};function Ua(a){for(var b=a.S.ea(),c=1;c<=b.g;c++)for(var d=1;d<=b.h;d++)Aa(a,d,c,a.S.K(d,c))}l.vg=function(){if(this.c.fa){var a=this.a.Ta.d.a.getContext("2d"),b=this.c.Wb;this.c.Ta=a.createImageData(b,b);a=this.c.Ta.data;this.c.pc=Math.max(parseInt(.15*b),3);for(var c=(b-5)/2+1,d=0;d<b;d++)for(var e=0;e<b;e++){var f=Math.abs(d-c),g=Math.abs(e-c),f=Math.sqrt(g*g+f*f)/c,f=1>f?.15+.75*(1-f):0,g=4*(b*d+e);a[g+0]=0;a[g+1]=0;a[g+2]=0;a[g+3]=parseInt(255*f)}}};function ia(a){var b,c=a.zb;b=c.Tf;var d=c.Uf;if(!1===fa(a,b-1,d-1))ga(a.zb);else{var c=Xa,e=a.S.K(b,d);switch(a.va){case 0:G===e&&(c=E===a.b.bc?Ya:Za);break;case 1:E===e?c=$a:F===e&&(c=ab);break;case 2:c=E===e?$a:F===e?ab:B.u?Za:Ya;break;case 9:b=bb(a.S,b,d);E===b?c=$a:F===b&&(c=ab);break;case 10:c=B.s&&!B.u?cb:!B.s&&B.u?db:B.s&&B.u?eb:fb;break;default:c=E===e||G===e&&!0===a.Ac()?$a:ab}Xa==c?ga(a.zb):a.zb.Za(c)}}function ea(a,b,c){for(var d=a.c.I,e=a.c.D,f=a.Nf*e,g=a.Pe*d,d=a.Zd*d-f*a.m.V,h=a.$d*e-g*a.m.W,e=0,k=a.S.ea(),e=0;e<k.g-1&&c>h+f*e+f/2;e++);for(c=c=0;c<k.h-1&&b>d+g*c+g/2;c++);c=Math.max(a.m.V,Math.min(a.m.aa,c));e=Math.max(a.m.W,Math.min(a.m.ba,e));return{h:c+1,g:e+1}}function gb(a,b,c){var d=a.c.I,e=a.c.D;return{h:a.Zd*d+(b-1)*a.Pe*d,g:a.$d*e+(c-1)*a.Nf*e}}function ra(a,b,c,d,e){a=a.a.Tb.d.a.getContext("2d");a.clearRect(0,0,b,c);a.strokeStyle=Q(e);a.fillStyle=Q(e);a.lineWidth=d;a.beginPath();a.moveTo(1*b/4,1*c/4);a.lineTo(3*b/4,3*c/4);a.moveTo(3*b/4,1*c/4);a.lineTo(1*b/4,3*c/4);a.stroke();return a.getImageData(0,0,b,c)}l.ic=function(a,b,c,d,e){void 0===e&&(e=1);var f=this.a.Tb.d.a.getContext("2d");f.clearRect(0,0,a,b);f.globalAlpha=e;f.strokeStyle=Q(d);f.fillStyle=Q(d);f.lineWidth=c;var g=a/2;c=3*b/4;d=.1*a;e=Math.sqrt(g*g-(c-g)*(c-g))+g;g=-Math.sqrt(g*g-(c-g)*(c-g))+g;f.beginPath();f.moveTo(a/2,d);f.lineTo(e-d,c);f.lineTo(g+d,c);f.closePath();f.stroke();return f.getImageData(0,0,a,b)};function sa(a,b,c,d,e){var f=a.a.Tb.d.a.getContext("2d");f.clearRect(0,0,b,c);f.strokeStyle=Q(e);f.fillStyle=Q(e);f.lineWidth=Math.floor(d+.5);var g=b/2,h=-c/2*Math.sqrt(2)/2+c/2;a=Math.floor(-Math.sqrt(g*g-(h-g)*(h-g))+g);var g=Math.ceil(+Math.sqrt(g*g-(h-g)*(h-g))+g),h=Math.ceil(h),k=Math.floor(c/2*Math.sqrt(2)/2+c/2);d=Math.floor(d);for(var f=f.createImageData(b,c),m=0;m<c;m++)for(var n=0;n<b;n++){var p=4*(m*b+n);(a<=n&&n<=a+d||g-d<=n&&n<=g)&&h<=m&&m<=k||(h<=m&&m<=h+d||k-d<=m&&m<=k)&&a<=n&&n<=g?(f.data[p+0]=e.w,f.data[p+1]=e.B,f.data[p+2]=e.A,f.data[p+3]=255):(f.data[p+0]=0,f.data[p+1]=0,f.data[p+2]=0,f.data[p+3]=0)}return f}function ta(a,b,c,d,e,f){a=a.a.Tb.d.a.getContext("2d").createImageData(b,c);var g=d?c/4|0:c/3|0,h=d?3*c/4|0:2*c/3|0,k=d?b/4|0:b/3|0;d=d?3*b/4|0:2*b/3|0;for(var m=0;m<c;m++)for(var n=0;n<b;n++){var p=4*(m*b+n);(m===g||m===h)&&n>=k&&n<=d||(n===k||n===d)&&m>=g&&m<=h?(a.data[p+0]=f.w,a.data[p+1]=f.B,a.data[p+2]=f.A,a.data[p+3]=255):m>g&&m<h&&n>k&&n<d?(a.data[p+0]=e.w,a.data[p+1]=e.B,a.data[p+2]=e.A,a.data[p+3]=255):a.data[p+3]=0}return a}function ua(a,b,c,d,e){a=a.a.Tb.d.a.getContext("2d");a.clearRect(0,0,b,c);var f=b/2,g=4*d;a.strokeStyle=Q(e);a.fillStyle=Q(e);a.lineWidth=d;a.beginPath();a.arc(b/2,c/2,f-g,0,2*Math.PI,!1);a.stroke();return a.getImageData(0,0,b,c)}function hb(a,b,c){a=a.Wa[""+((c<<8)+b)];return void 0!==a?a:null}function Ea(a,b,c,d){Ca===d.P?ib(a,b,c):a.Wa[""+((c<<8)+b)]=d}function ib(a,b,c){if(0>=b||0>=c)a.Ih=0;else{var d=(c<<8)+b;void 0===a.Wa[""+d]&&(a.Wa[""+d]=new Ba(b,c,Ca,""));a.Ih=d}}function Wa(a){a.a.Tb.d.a.getContext("2d").clearRect(0,0,a.c.I,a.c.D);var b=[],c;for(c in a.Wa){var d=a.Wa[c];jb(a,d);kb===d.P&&b.push({h:d.Fd(),g:d.Gd()})}Ta(a,b)}function jb(a,b){if(a.c.fa){var c=b.Fd(),d=b.Gd(),e=b.P,f=a.a.Tb.d.a.getContext("2d"),g=a.Ac();if(!0===fa(a,c-1,d-1)){var h=a.c.Wb,k=(h-1)/2,m=a.c.fa,n=m[c-1].h-k,k=m[d-1].g-k,c=a.S.K(c,d);switch(e){case lb:f.putImageData(a.c.cm,n,k);break;case mb:f.putImageData(a.c.em,n,k);break;case nb:f.putImageData(a.c.dm,n,k);break;case ob:f.putImageData(a.c.fm,n,k);break;case Ca:!0===a.th?E===c?f.putImageData(a.c.Fi,n,k):f.putImageData(a.c.Ei,n,k):f.putImageData(a.c.Il,n,k);break;case pb:f.putImageData(c===E||c==G&&1==g?a.c.Fi:a.c.Ei,n,k);break;case qb:f.putImageData(c===E||c==G&&1==g?a.c.am:a.c.$l,n,k);break;case rb:f.putImageData(c===E||c==G&&1==g?a.c.jm:a.c.im,n,k);break;case sb:f.putImageData(c===E||c==G&&1==g?a.c.fk:a.c.ek,n,k);break;case kb:e=b.ef,d=2>=e.length?2*h/3:h/2,m=d+"px "+(Sa(e)?"Arial":"Helvetica, Arial, Verdana"),f.fillStyle=c===E||c==G&&1==g?"rgb(255,255,255)":"rgb(0,0,0)",f.font=m,f.fillText(e,n+(h-f.measureText(e).width)/2,k+(h/2+d/3))}}}}function Va(a){for(var b in a.eb){var c=tb(b);ub(a,c.h,c.g)}}function vb(a){for(var b in a.eb){var c=tb(b);wb(a,c.h,c.g)}a.eb={}}function ha(a,b,c,d){var e=(c<<8)+b;if(xb===d.zi)void 0!==a.eb[e]&&(delete a.eb[e],wb(a,b,c),a.b.sj(b,c));else{d=d.s&&!d.u?new y(200,0,0,50):d.u&&!d.s?new y(0,100,0,50):d.u&&d.s?new y(80,80,80,50):new y(0,0,200,50);if(void 0!==a.eb[e]){var f=a.eb[e];d.w===f.w&&d.B===f.B&&d.A===f.A?(d=f.La,a.eb[e].La=50>d?50:100>d?100:150>d?150:200):a.eb[e]=d}else a.eb[e]=d;ub(a,b,c);a.b.hi(b,c,a.eb[e])}}function ub(a,b,c){wb(a,b,c);var d=a.a.Ig.d.a.getContext("2d"),e=a.c.fa,f=b-1,g=c-1;d.fillStyle=Q(a.eb[(c<<8)+b]);d.beginPath();d.moveTo(e[f].md,e[g].nd);d.lineTo(e[f].Ef,e[g].nd);d.lineTo(e[f].Ef,e[g].Ff);d.lineTo(e[f].md,e[g].Ff);d.closePath();d.fill()}function wb(a,b,c){var d=a.a.Ig.d.a.getContext("2d");a=a.c.fa;b=b-1;c=c-1;d.clearRect(a[b].md,a[c].nd,a[b].Ef-a[b].md,a[c].Ff-a[c].nd)}l.Y=function(a,b,c){switch(this.va){case 0:if(xb==c.zi)1<=this.b.Qf&&(na(this.b,1),yb(this,a,b));else if(c.u&&c.s)this.b.yf(E===this.b.bc?F:E),ia(this);else if(!0===c.s){var d=this.S.ea(),e=d.g;a=Ra(a,d.h);this.b.Cg(a+(e+1-b))}else if(c.u){e=this.b;e.fb&&(e.fb.Oe=!1);d=e.l;zb(e);for(var f=0;1E3>f&&G===e.na.K(a,b);)ma(e,1),f++;G===e.na.K(a,b)&&e.ja(d);e.fb&&(e.fb.Oe=!0)}else yb(this,a,b),null!==this.he&&Ab(this.b.l)>=Bb(this.he)&&Cb(this.he);break;case 1:if(!0===c.s)Ha(this,0);else{e=this.S;f=e.K(a,b);if(G!==f)if(e.Fh.Ia(),c=e.Ic[Ja(e,a,b)],E!==c&&F!==c){e.Ga.Ia();Db(e,a,b,f);for(d in e.Fh.Yb)c=tb(d|0),e.Ga.Ia(),Eb(e,c.h,c.g,3-f),Fb(e.Ga,e,3);Ka(e,!0);e.Ga.Ia();Db(e,a,b,f);Fb(e.Ga,e,3-f)}else e.Ga.Ia(),Db(e,a,b,f),Fb(e.Ga,e,3),Ka(e,!0);this.b.Jg()}break;case 2:!0===this.b.l.ed()&&!0===this.b.Yc(!0,!0)&&Gb(this.b);e=E;G!==this.S.K(a,b)?e=G:c.u&&(e=F);Aa(this,a,b,e);this.S.Set(a,b,e,-1);this.b.qe(e,[(b<<8)+a]);break;case 3:Hb(this,rb,a,b);break;case 4:Hb(this,qb,a,b);break;case 5:Hb(this,pb,a,b);break;case 6:Hb(this,sb,a,b);break;case 7:Jb(this,a,b,c);break;case 8:a:{d=hb(this,a,b);if(null!==d&&kb===d.P)this.b.Ub([(b<<8)+a]),this.Ub(a,b);else{d="";if(c.u){d=this.S.Ed(a,b);if(-1==d){b=this.b;(a=b.f)&&Kb(a.X.id,Lb,{N:b,O:a,Cc:"Sorry, no move has been made at that location, so you can't mark it with the move number.",I:305,D:115});break a}d=""+d}if(void 0===d||""===d||null===d){d=[];f=0;for(e in this.Wa)c=this.Wa[e],kb===c.P&&Sa(c.ef)&&(d[f]=parseInt(c.ef),f++);if(0>=f)d="1";else{d.sort(Mb);c=e=0;for(var g=!1,h=0;h<f;h++){if(d[h]>e+1){c=e+1;g=!0;break}e=d[h]}g||(c=e+1);d=""+c}}e=new Ba(a,b,kb,d);this.b.re(d,(b<<8)+a);Ea(this,a,b,e)}Wa(this)}break;case 9:e=this.S;c=e.K(a,b);if(G!==c){g=new Nb;Ob(e,a,b,g);d=[];for(f in g.Ph)d.push(f);b=bb(e,a,b)!==c?c:E===c?F:E;a=0;for(f=d.length;a<f;a++)c=tb(d[a]),Fa(e,c.h,c.g,b)}b=this.S.Ng(this);this.Ye&&Ga(this.Ye,b.Eg,b.jh,b.ml,b.wm,b.Eg+this.b.Lc-b.jh-this.b.Qc-this.b.Lb);Wa(this);ia(this);break;case 10:ha(this,a,b,c);break;case 11:this.ta.Md=!0,this.ta.fh=a,this.ta.gh=b,this.ta.ve=a,this.ta.we=b,ka(this)}};function ka(a){if(11===a.va&&!0===a.ta.Md){var b=a.c.I,c=a.c.D,d=a.c.fa,e=a.a.Kd.d.a.getContext("2d");e.clearRect(0,0,b,c);var b=a.ta.fh-1,c=a.ta.gh-1,f=a.ta.ve-1;a=a.ta.we-1;if(b>f)var g=f,f=b,b=g;c>a&&(g=a,a=c,c=g);e.fillStyle=Q(new y(107,112,122,128));e.beginPath();e.moveTo(d[b].md,d[c].nd);e.lineTo(d[f].Ef,d[c].nd);e.lineTo(d[f].Ef,d[a].Ff);e.lineTo(d[b].md,d[a].Ff);e.closePath();e.fill()}}function Hb(a,b,c,d){var e=hb(a,c,d);if(null!==e&&b===e.P){if(a.b.Ub([(d<<8)+c]),a.Ub(c,d),a.c.fa&&!0===fa(a,c-1,d-1)){b=(a.c.Wb-1)/2;var f=a.c.fa,e=f[c-1].h-b,f=f[d-1].g-b;a.a.Tb.d.a.getContext("2d").clearRect(e,f,2*b,2*b);b=tb(a.Ih);c===b.h&&d===b.g&&(ib(a,c,d),jb(a,hb(a,c,d)))}}else e=new Ba(c,d,b,""),a.b.Ha(b,[(d<<8)+c]),Ea(a,c,d,e),jb(a,e)}function Jb(a,b,c,d){var e=hb(a,b,c);if(null!==e&&kb===e.P)a.b.Ub([(c<<8)+b]),a.Ub(b,c);else{var f="";if(d.u){if(!a.f||!a.a.d||!a.a.d.a)return;d=a.f.X;if(!d)return;var e=gb(a,b,c),g=Pb(a.f,a.a.d.a),h=document.createElement("input");h.style.position="absolute";h.style.top=g.g+e.g-10+"px";h.style.left=g.h+e.h-25+"px";h.style.width="50px";h.style.height="20px";h.style.fontFamily='"Times New Roman", Times, serif';h.style.fontSize="16px";h.type="text";h.placeholder="Label...";h.style.outline=0;h.style.border="1px solid rgb(166, 166, 166)";h.style.boxShadow="rgba(0, 0, 0, 0.8) 0px 1px 15px";h.style.padding="3px";d.appendChild(h);h.focus();h.onblur=function(){Qb(a.f)};h.onkeydown=function(d){27===d.keyCode?Qb(a.f):13===d.keyCode&&(f=this.value,d=new Ba(b,c,kb,f),a.b.re(f,(c<<8)+b),Ea(a,b,c,d),Wa(a),Qb(a.f))};Rb(a.f,h);return}if(void 0==f||""===f||null===f)if(f=Sb(a),null===f){d=a.b;(e=d.f)&&Kb(e.X.id,Lb,{N:d,O:e,Cc:"Sorry, all standard labels are used up! To add more labels, use shift and click on the board to make up ur own labels.",I:305,D:115});return}d=new Ba(b,c,kb,f);a.b.re(f,(c<<8)+b);Ea(a,b,c,d)}Wa(a)}function Sb(a){var b=[],c=-1,d;for(d in a.Wa){var e=a.Wa[d];if(kb==e.P){var e=e.ef,f=e.charCodeAt(0);1==e.length&&65<=f&&90>=f&&(b[f]=1)}}for(a=65;90>=a;a++)if(void 0===b[a]||""==b[a]){c=a;break}return-1==c?null:String.fromCharCode(c)}function yb(a,b,c){if(G===a.S.K(b,c)){var d=E===a.b.bc?E:F,e=!1,f=a.S.Vc.te();a.S.Set(b,c,d,-1);e=null!==Tb(a.S,b,c,d,!0)?!0:null!==Ub(a.S,b,c,d)?!1:!0;a.S.Set(b,c,G,-1);a.S.Vc.ue(f);1==e&&!0===Vb(a.b,b,c,d)&&Gb(a.b)}}function qa(a,b){if(9!==a.va&&11!==a.va){var c=b.G,d=!1;if(8===c||46===c){c=a.b;d=c.l.ia;if(null===d)c.l.Ia(),c.M&&(c.M.Sb(),c.M.Ja()),c.ja(c.l);else for(var e=0,f=Xb(d);e<f;e++)if(c.l===d.R(e)){f=d;f.ra.splice(e,1);f.ka>=e&&f.ka--; -1===f.ka&&0<f.ra.length&&(f.ka=0);f.b&&(f.b.ma=!0);c.Ib(d);c.M&&(c.M.Sb(),c.M.Ja());c.ja(d);break}d=!0}else if(36===c)!0===b.s&&!0===b.u&&(c=a.b,c.ja(c.Oh),d=!0);else if(37===c)b.s&&b.u?zb(a.b):b.s?na(a.b,5):na(a.b,1),d=!0;else if(38===c)b.s?a.b.Pg():Yb(a.b),d=!0;else if(39===c)b.s&&b.u?Zb(a.b):b.s?ma(a.b,5):ma(a.b,1),d=!0;else if(40===c)$b(a.b),d=!0;else if(65===c&&!0===b.s&&!0===b.u){Qa(a);var g=a.c.I,h=a.c.D,k=a.a.fa.d.a.getContext("2d");k.clearRect(0,0,g,h);for(var c=g/406,d=h/348,m=[207,193,1],f=[{h:0,g:49},{h:0,g:198},{h:71,g:348},{h:178,g:348},{h:318,g:348},{h:406,g:238},{h:406,g:41},{h:247,g:0}],e=[[[162,162,2],[221,125,2],[256,156,2],[250,203,1],[234,231,2],[199,236,0],[177,228,1],[150,195,1]],[[133,141,2],[229,89,1],[283,136,1],[282,210,2],[247,249,0],[195,261,2],[158,250,0],[124,196,0]],[[106,122,0],[238,45,0],[309,115,0],[312,216,2],[260,267,0],[187,300,1],[138,272,0],[96,197,1]],[[72,99,2],[246,10,0],[346,88,1],[344,224,0],[272,291,0],[182,329,0],[115,298,0],[60,197,0]],[[28,67,0],[259,-40,0],[373,66,0],[385,233,0],[298,319,2],[170,380,0],[81,336,0],[14,198]]],n=0,p=f.length;n<p;n++)k.beginPath(),k.moveTo(m[0]*c,m[1]*d),k.lineTo(f[n].h*c,f[n].g*d),k.stroke();f=0;for(n=e.length;f<n;f++){p=e[f];k.beginPath();for(var t=0,q=p.length;t<q;t++){var r=p[t];0===t?k.moveTo(r[0]*c,r[1]*d):k.lineTo(r[0]*c,r[1]*d)}k.closePath();k.stroke()}e.push([m]);a.wg(30*c);a.vg();k=a.a.Nd.d.a.getContext("2d");m=a.a.Ta.d.a.getContext("2d");k.clearRect(0,0,g,h);m.clearRect(0,0,g,h);g=(a.c.Wb-1)/2;h=a.c.pc;f=0;for(n=e.length;f<n;f++)for(p=e[f],t=0,q=p.length;t<q;t++){var r=p[t],u=(r[0]*c|0)-g,v=(r[1]*d|0)-g;E===r[2]?k.putImageData(a.c.Fg,u,v):F===r[2]&&k.putImageData(a.c.Df[Math.random()*(a.c.Df.length-1)|0],u,v);E!==r[2]&&F!==r[2]||m.putImageData(a.c.Ta,u+h,v+h)}d=!0}else if(67===c&&!0===b.s)10===a.va?a.b.Ci():Kb(a.a.d.a.id,ac,{N:a.b,O:a.f}),d=!0;else if(68===c&&!0===b.s)!0===b.u?a.b.Tg(-1):Kb(a.a.d.a.id,bc,{N:a.b,O:a.f}),d=!0;else if(69===c&&!0===b.s)Kb(a.a.d.a.id,cc,{N:a.b,O:a.f}),d=!0;else if(72===c&&!0===b.s)!0===b.u?(c=a.b,dc(c,[c.l])):ec(a.b),d=!0;else if(73===c&&!0===b.s){if(!0===b.u){c=a.b;d=[];e=[];fc(c.Ba,e);f=0;for(n=e.length;f<n;f++)for(p=e[f],gc(p),t=c.Ba,d.push(t);t!==p&&0<Xb(t);)t=t.R(t.ka),d.push(t);dc(c,d)}else hc(a.b);d=!0}else 75===c&&!0===b.s?(Kb(a.a.d.a.id,ic,{N:a.b,O:a.f}),d=!0):77===c&&!0===b.s&&!0===b.u?(a.b.Rg(),d=!0):79===c&&!0===b.s?(10===a.va?Kb(a.a.d.a.id,jc,{Ji:a,O:a.f}):a.b&&a.b.H&kc&&(!0===b.u?Kb(a.a.d.a.id,lc,{N:a.b,O:a.f}):mc(a.b)),d=!0):82===c&&!0===b.s?(10===a.va?(vb(a),a.b.rj()):a.dh(!0===a.Kb?!1:!0),d=!0):83===c&&!0===b.s?(c=a.b.vf(),FileReader&&Blob&&(d=a.b.wd,""===d&&(d=a.b.xd+" vs. "+a.b.ud),""===d&&(d="download"),nc(new Blob([c],{type:"text/plain;charset=utf-8"}),d+".sgf","application/x-go-sgf")),d=!0):85===c&&!0===b.s?!0===b.u&&(a.b.Tg(1),d=!0):86===c&&!0===b.s?(!0===b.u?a.b&&a.b.H&oc&&Kb(a.a.d.a.id,pc,{N:a.b,O:a.f}):(c=a.b.ae,c++,c>qc&&(c=rc),sc(a.b,c)),d=!0):112===c?(Ha(a,0),d=!0):113===c?(Ha(a,1),d=!0):114===c?(Ha(a,2),d=!0):115===c?(Ha(a,3),d=!0):116===c?(Ha(a,4),d=!0):117===c?(Ha(a,5),d=!0):118===c?(Ha(a,6),d=!0):119===c?(Ha(a,7),d=!0):120===c?(Ha(a,8),d=!0):121===c&&(Ha(a,10),d=!0);return d}}function fa(a,b,c){return b>=a.m.V&&b<=a.m.aa&&c>=a.m.W&&c<=a.m.ba?!0:!1}l.bi=function(){var a=this.b.sa;return null===a.J.nb?x.J.nb:a.J.nb};l.$k=function(){var a=this.b.sa;return null===a.J.vb?x.J.vb:a.J.vb};l.ai=function(){var a=this.b.sa;return null===a.J.ub?x.J.ub:a.J.ub};l.al=function(){var a=this.b.sa;return null===a.J.Cb?x.J.Cb:a.J.Cb};l.Zk=function(){var a=this.b.sa;return null===a.J.Ab?x.J.Ab:a.J.Ab};l.yg=function(){var a=this.b.sa;return null===a.J.rb?x.J.rb:a.J.rb};l.pe=function(){var a=this.b.sa;return null===a.J.Bb?x.J.Bb:a.J.Bb};l.Ac=function(){var a=this.b.sa;return null===a.J.tb?x.J.tb:a.J.tb};var Xa=-1,Ya=0,Za=1,ab=2,$a=3,cb=4,db=5,fb=6,eb=7;function ca(a,b){this.k=b;this.Uf=this.Tf=-1;this.dc=null;this.uk=Xa;this.Na=-1;this.c=a}l=ca.prototype;l.o=function(a){this.dc=document.getElementById(a);this.dc.style.position="absolute";ga(this)};l.p=function(a){this.dc.width=a;this.dc.height=a;this.dc.style.width=a+"px";this.dc.style.height=a+"px";this.Na=a;this.uk=Xa};function ga(a){a.dc.style.display="none";a.Tf=-1;a.Uf=-1}l.Aa=function(){var a=this.k.b;a&&!0===a.sa.Ie()&&(this.dc.style.display="block")};l.Yl=function(a,b){this.dc.style.left=a+"px";this.dc.style.top=b+"px"};l.Za=function(a){if(a!=this.uk&&(this.uk=a,Xa!==a)){var b=document.createElement("canvas");b.width=this.Na;b.height=this.Na;var c=b.getContext("2d");switch(a){case Ya:c.putImageData(this.c.ni,0,0);break;case Za:c.putImageData(this.c.dk,0,0);break;case ab:c.putImageData(this.c.ek,0,0);break;case $a:c.putImageData(this.c.fk,0,0);break;case cb:c.putImageData(this.c.Sl,0,0);break;case db:c.putImageData(this.c.xl,0,0);break;case fb:c.putImageData(this.c.ll,0,0);break;case eb:c.putImageData(this.c.gl,0,0)}a=b.toDataURL("image/png");this.dc.style.backgroundImage="url('"+a+"')"}};function tc(a){this.b=(this.f=a)?a.b:null;this.Oa=0;this.Xf=16;this.nk=!1;this.c={wl:null,Nl:null,Gl:null,hl:null,Vl:null};this.a={d:null,$c:{d:null}};this.Ik=new y(0,0,0,51);this.Mh=new y(255,255,255,255);this.Hk=new y(0,0,0,102);this.dg=new y(255,255,255,255);this.Ch=new y(0,0,0,153);this.Dh=new y(255,255,255,255);this.Fk=new y(0,0,0,0);this.Gk=new y(140,140,140,255);this.Lo=new y(0,0,0,77);this.Ah=this.F=this.v=0;var b=this;this.zg=function(a){4!==b.Oa&&(la(a),b.Oa=1,uc(b),a.stopImmediatePropagation(),b.rg())};this.fi=function(a){if(4!==b.Oa){if(B.ab!==a.target)return;b.Oa=2;uc(b);b.Y();a.stopImmediatePropagation()}b.di();b.gf()};this.op=function(){4!==b.Oa&&(1!==b.Oa&&(b.Oa=2),uc(b))};this.Ag=function(){4!==b.Oa&&(b.Oa=b.nk?8:0,uc(b),b.gf())};this.di=function(){!b.b||b instanceof vc||b.b.Ca()};this.bl=function(a){a.dataTransfer.effectAllowed="all";a.dataTransfer.setData("text/sgf","(;SZ[19];)")}}l=tc.prototype;l.o=function(a,b){this.b=b;this.xa();this.a.d=D(a);var c=this.a.d.a;c.setAttribute("title",this.Z());c.style.backgroundColor="rgba(217,217,217,1)";var d=document.createElement("canvas");d.setAttribute("id",a+"_canvas");d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.style["-webkit-transition"]="background 2s";d.style.transition="background 2s";d.draggable="false";d.ondragstart=function(a){a.preventDefault();return!1};c.appendChild(d);this.a.$c.d=D(a+"_canvas");d=this.a.$c.d;J(d.i,0,0,1E3,1E3,!1,!1,!1,!1,-1,-1);d.n=L|M|N|O;this.a.d.j(d);c.onmousedown=this.zg;c.onmouseup=this.fi;c.onmouseover=this.op;c.onmouseout=this.Ag;c.onfocus=this.di;c.tabIndex=-1;c.style.outline="none";c.draggable="true";c.Ep=this.bl;this.p()};l.p=function(a){if(!0===(0>this.Ah?!1:!0)){var b=this.a.d.a.clientWidth,c=this.a.d.a.clientHeight;if(b!==this.v||c!==this.F||!0===a)this.v=b,this.F=c,this.a.d.kb(this.v,this.F),this.jc()}};function wc(a,b){!0===b&&4===a.Oa?(a.Oa=0,uc(a)):!1===b&&4!==a.Oa&&(a.Oa=4,uc(a))}function xc(a,b){a.Xf!==b&&(a.Xf=b,a.jc(),a.a.d.a.setAttribute("title",a.Z()))}function yc(a,b){a.nk!==b&&(a.nk=b,!0===b&&0===a.Oa?(a.Oa=8,uc(a)):!1===b&&8===a.Oa&&(a.Oa=0,uc(a)))}l.jc=function(){var a=this.F,b=this.v;0!==b&&0!==a&&(this.c.hl=zc(this,this.Ch,this.Dh,b,a),this.c.Gl=zc(this,this.Hk,this.dg,b,a,!1,!0),this.c.Nl=zc(this,this.Ik,this.Mh,b,a),this.c.wl=zc(this,this.Fk,this.Gk,b,a,!0),this.c.Vl=zc(this,this.Lo,this.dg,b,a,!1,!0),uc(this))};function zc(a,b,c,d,e,f,g){var h=a.a.$c.d.a.getContext("2d");h.clearRect(0,0,d,e);h.fillStyle=Q(b);h.fillRect(0,0,d,e);h.fillStyle=Q(c);h.strokeStyle=Q(c);var k=.8*Math.min(d,e)|0;a.da(h,k,(d-k)/2,(e-k)/2,f,d,e,b,c);!0!==g||a instanceof Ac||a instanceof Cc||a instanceof Ec||(h.beginPath(),h.lineWidth=1,h.strokeStyle=Q(new y(0,0,0,255)),h.moveTo(0,0),h.lineTo(d,0),h.lineTo(d,e),h.lineTo(0,e),h.lineTo(0,0),h.stroke(),h.beginPath());return h.getImageData(0,0,d,e)}l.da=function(){};l.ic=function(a,b,c,d,e){var f=Math.ceil(b+a/5+.5);b=Math.ceil(b+4*a/5+.5);var g=Math.ceil(c+a/5+.5),h=Math.ceil(c+a/2+.5);a=Math.ceil(c+4*a/5+.5);0>e?(d.beginPath(),d.moveTo(f,h),d.lineTo(b,g),d.lineTo(b,a)):(d.beginPath(),d.moveTo(f,g),d.lineTo(b,h),d.lineTo(f,a));d.closePath();d.fill()};function uc(a){var b=a.a.$c.d.a.getContext("2d"),c=null;switch(a.Oa){case 2:c=a.c.Gl;break;case 1:c=a.c.hl;break;case 4:c=a.c.wl;break;case 8:c=a.c.Vl;break;default:case 0:c=a.c.Nl}c&&b.putImageData(c,0,0)}l.Y=function(){};l.Z=function(){return""};l.xa=function(){};function Fc(a,b){a.Ah--;var c=new Image;c.onload=function(){a.Ah++;0<=a.Ah&&a.p(!0)};c.src=b;return c}l.rg=function(){this.a.d.a.style.transition="transform 0.1s ease-out";this.a.d.a.style.transform="scale(0.9)"};l.gf=function(){this.a.d.a.style.transition="transform 0.2s ease-out";this.a.d.a.style.transform="scale(1)"};function Gc(a){Gc.q.constructor.call(this,a);this.pb=Fc(this,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wwTDRIczM2u5QAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAA80lEQVRYw+3XMYqFMBQF0JshlYgg8hqXIELERrfgAmaVA65DYQrTuASbIIKIVSBTDQy/m59A/od3+8AhvNxHBACM44hXyQdeLAxiEIMY9HYgIvoehsG1beve4oaklOi6ztV17aKDpJTo+96VZYk8z5GmaTzQL4aIsO87tNbiuq44oEfMsiziPM84MxQS4w0KjfEGKaUcEeG+b6zr+uWL8QZprYUxBkmSoKqqzyzL4oKstZimSRhjUBQFmqZxvijvoQ6NCvLsQ6KCFeMjSinlojb1X9S2bTiOA880tQy9XK21mOdZPHte8EeRQQxiEIMY9L/8AMSPglq/uMNKAAAAAElFTkSuQmCC");this.ec=Fc(this,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wwTDRcMrA1KxAAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAA6UlEQVRYw+3XPQqEMBAF4Jdgr52VYBpvIlZWoodUUll5Ae+gjYKVnb1gttrFakGdJYGd1Al8+XvDAI4NAQDDMDgDkq6dEIMYxKC/A3lXF+z7bvq+h1IKaZqKb3PvBK73i122bWt83/9UAqtXprU24zhiXVccx2H3DWmtzTzPiKIIZVkKKaU90BlTVZWw+suoMCQgSsxjUNd1ZpomBEFAgnkMyrJMKKWwbRvqujZOJHVRFCKOYyzLQoIiedSUKLJvT4UiDcYzqmkaYz2p36gkSRCGIe4k9U+Ka57nt9sr7ssYxCAGMYhBF8cLoc5sGgK/ZxQAAAAASUVORK5CYII=")}R(Gc,tc);Gc.prototype.da=function(a,b,c,d,e){(b=e?this.ec:this.pb)&&a.drawImage(b,0,0)};Gc.prototype.Y=function(){zb(this.b)};Gc.prototype.Z=function(){return"Back to the start (Ctrl+Shift+Left)"};Gc.prototype.xa=function(){this.f.r.li.push(this)};function Hc(a){Hc.q.constructor.call(this,a);this.pb=Fc(this,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wwTDRwVK5I7zwAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAcUlEQVRYw+3VwQnAIAyFYVu6UJbqDB0vh9xFcA7xHALpCAptpbXvO77TDwENAQAAfkBECjPvvfujYoyuql5r9Z59SIyqekrJW/uwmJyzt3bETBuzfv7NedXJEDVV1F1fx3Y1iIgWESlmdvTsAAAAszsB2vBQahKN40YAAAAASUVORK5CYII=");this.ec=Fc(this,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wwTDSMBaZbFjgAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAA80lEQVRYw+3XvQqDMBQF4HNtcBOsc0fBB9DB53dScHB1cepWcMkWxNulFilU1Cb9457xLPlIokkIt7Rti08mSRIAgIcvi4AEJCAB/QXIGMPDMPCsOj7pn+VkDaS15qIo0DQNmO9jH+b9ipytgLTWXFUVmBlxHIOIpv4y79+yZBNmHEekaYowDGmpXxu1F1OWJZgZWZYhiiJa6p3OkEvMZpBrzO//h4IgoDzPQUSo6xp93/NS/5YZco3atWQuUbv3kCvUS5t6PnjXdfej47HfErLxDDLGsOd5UErRmn7pGaRsfKq+79OWXi5oAhKQgAQkIIu5AvJV2EqdOHDMAAAAAElFTkSuQmCC")}R(Hc,tc);Hc.prototype.da=function(a,b,c,d,e){(b=e?this.ec:this.pb)&&a.drawImage(b,0,0)};Hc.prototype.Y=function(){na(this.b,5)};Hc.prototype.Z=function(){return"Back 5 moves (Ctrl+Left)"};Hc.prototype.xa=function(){this.f.r.mi.push(this)};function Ic(a){Ic.q.constructor.call(this,a);this.pb=Fc(this,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wwTDSUz9xsziAAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAxUlEQVRYw+3VIQ7DMAwF0J+ppHABQSEhISVBPdLOsKvsEr1NSKQoKi0oq0IqdbQabN0lquwTPNnfthiGATXVA5UVgxjEIAbdDqSUmqWUrypAxpit7/unc+7Ttm1ZkDFm67oOADCOI3LO5UB7TAgBMUZRbGS/mBCCKBZqaswp0BWYe92hlJLw3gMArLWw1m7FO3QF6vTIqFEkGaJEkYV6j9Ja4+jraCg3JKUklmWZ13V9H30dDfXaTtMk+Q4xiEEMYhCD/lhfy3RcBznfWwkAAAAASUVORK5CYII=");this.ec=Fc(this,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wwTDSgeB2oRsAAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAx0lEQVRYw+3XMQqEMBAF0D8h2AniGbyBFp7fSiGFrY1HsEkXxL/VwtY6bkTmHyA8kskPEQBYlgVPicPDYiADGchArwOllLjvOx8BijFyGAbM8wySeUExRk7TBJJomgYikg/0xRzHgbZtUVWVnF3La2DGcQRJdF2Huq4l21BrYy6B7sC8q4fKspS+7yEiCCFg2zZm36E7UJePTBulMkOaKLWh/kWt63r66RDtb1BKic45eO9P1YDXvrZFUYj1kIEMZCADGeiP+QAy+XDf76BlKwAAAABJRU5ErkJggg==")}R(Ic,tc);Ic.prototype.da=function(a,b,c,d,e){(b=e?this.ec:this.pb)&&a.drawImage(b,0,0)};Ic.prototype.Y=function(){na(this.b,1)};Ic.prototype.Z=function(){return"Back (Left)"};Ic.prototype.xa=function(){this.f.r.Zc.push(this)};function Jc(a){Jc.q.constructor.call(this,a);this.pb=Fc(this,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wwTDSkJnaKlNgAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAxUlEQVRYw+3WIQ7DIBQG4L8NBiQCVVODqeFU21V6he0QPUsNhqQh2AossrsDvKVseb8n+QL8D4Zt29BTRnQWBjGIQQz6WZDW+mGMydQgUbNISgnn3EspBe/9FWMcbt2hUgpSSgCAZVkwz/N1+5EdxzGEEMhRTZc6hECOam4ZNYqk9pSo/xyM1trLWgsA8N6jZQyMPWGaQdSYJtA3MNUgKSWmaSLHVL9lpRTs+/4UQqzneeouWpZzflNj+IPGIAYxiEEMqsgHyjhf9O2e3l4AAAAASUVORK5CYII=");this.ec=Fc(this,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wwTDSgxrLss6QAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAyUlEQVRYw+3VsQqDUAwF0JvycBPEbxBcBR38ficFB1cXP8HFTSS3U3/Al9LXNtkDB5KbyLquSKXqusYDiZWDHOQgB30t6LounufJJEAksSwLhmHAcRz8OEhEUFUVSGKaJlPU7ZEVRSFt20JVTVFRS12WpXRdB1XFOI4mqOiUvVAkTVAmsbdE/eZh3Ped8zxDRND3PfI8l4+BLDHRIGtMFOgdmKjXsW2bOQYAwt3X0TQNVBVZlollysLtxhAk2dg7yEEOcpCD/gn0BPdVbmFsgto0AAAAAElFTkSuQmCC")}R(Jc,tc);Jc.prototype.da=function(a,b,c,d,e){(b=e?this.ec:this.pb)&&a.drawImage(b,0,0)};Jc.prototype.Y=function(){ma(this.b,1)};Jc.prototype.Z=function(){return"Forward (Right)"};Jc.prototype.xa=function(){this.f.r.bd.push(this)};function Kc(a){Kc.q.constructor.call(this,a);this.pb=Fc(this,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wwTDSQ2nmr2RgAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAZUlEQVRYw+3VMQrAIAyFYelhe84M7kHwHMU5S3qAVnCxpOH/xrfkQdCUAgBIRETOWuu1mm83xnAzc1X1lXy71pqb2WP4LP9E7/11+CynVPpSR5o/KdTKKPOblxXudIQ7rgAABHQDS2dNsnKXx6sAAAAASUVORK5CYII=");this.ec=Fc(this,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wwTDSQYQrz7iQAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAxElEQVRYw+2VPQuDMBCG30j/QIduHQP5AQr6/5cQyBAQBxenbl0C2b0uOhQSxI8ULfdM4eXgHnJHAjAMwzAXoe/751JN13XUti1N9fdYvpfbfFBKvZaKnXPw3sNaSwAesbyqKrFHqFhTLKUEEcEYgxDCO5ZPsr8RqutalGWJcRy/mqfyLWy6Xq01WWshhEDTNJjHlMqzC+WU2rWAOaSKsz0//zGyUy11TpnVQrllVi/1MAzRpqk8O6lP9MjPlWEYhmGuzgcvy8ThfV4IDQAAAABJRU5ErkJggg==")}R(Kc,tc);Kc.prototype.da=function(a,b,c,d,e){(b=e?this.ec:this.pb)&&a.drawImage(b,0,0)};Kc.prototype.Y=function(){ma(this.b,5)};Kc.prototype.Z=function(){return"Forward 5 moves (Ctrl+Right)"};Kc.prototype.xa=function(){this.f.r.Mi.push(this)};function Lc(a){Lc.q.constructor.call(this,a);this.pb=Fc(this,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wwTDRAjSJ3hWgAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAABBElEQVRYw+3WwYmFMBAG4D8PvUgIiKYJERQv2oJXYatcsA4Pqxh42EQQIQQPImRr2DyzesgUMHyZyUwCPCxI3/ePwXRdh9fTKuRBHuRBHnRFVFVl2rY1nPOffwHleW7qujZBEFx+mD9npJQijmOkaYowDM0wDOQ8z/taprWGEIKs6wrOOZqmubRSVi1TSmGeZyco60vtCvXRlLlAfTz2Siksy/K97zs45yiKwtwKYowhy7KvKIogpYQQgtwGYoyhLEuTJAmklLhiBbyehLEGucJYgSilKIrCCcbq6dBaY9s2HMeBcRwvxViBAOD9fhM4isBF0mmayG17yP8YPciDPMiDHMcvBCGFxBHbK9gAAAAASUVORK5CYII=");this.ec=Fc(this,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wwTDQ4kArhLJgAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAA9UlEQVRYw+3WsY6FIBAF0CtQWNjTEWw0Uf+/9x/URBsNVnQmdhqZ1+wPLMo+s2H6S85MYALwskrGcXwNpixLsLdNKIIiKIIi6IkyxlDbtnSe59+ArLU0TROFaEb8NuCcg7UWxhgcx0FN0yRfBTHGUNd1QkS0LAsAPIoSPiHOOX4Qj6OEbzAUStwJh0CJux1xzlFVVbLvO83zjCzLiDH2vT10XReGYaBt25DnObTWtybE7mK6rqN1XaG1xhN3iL0J4w0KhfECOefQ930QjPemllIiTVMURfEoxvvZSykTKWWQ74cIcahSKlFKxQ9aBEVQBEXQv6wPn1Z3S2AlDhEAAAAASUVORK5CYII=")}R(Lc,tc);Lc.prototype.da=function(a,b,c,d,e){(b=e?this.ec:this.pb)&&a.drawImage(b,0,0)};Lc.prototype.Y=function(){Zb(this.b)};Lc.prototype.Z=function(){return"Go to the end (Ctrl+Shift+Right)"};Lc.prototype.xa=function(){this.f.r.Li.push(this)};function Mc(a){Mc.q.constructor.call(this,a)}R(Mc,tc);Mc.prototype.da=function(a,b,c,d){var e=Math.ceil(c+.2*b+.5),f=Math.ceil(c+.35*b+.5),g=Math.ceil(c+.57*b+.5);c=Math.ceil(c+.92*b+.5);var h=Math.ceil(d+.2*b+.5),k=Math.ceil(d+.38*b+.5),m=Math.ceil(d+.52*b+.5),n=Math.ceil(d+.6*b+.5),p=Math.ceil(d+.68*b+.5);b=Math.ceil(d+.84*b+.5);a.beginPath();a.moveTo(e,h);a.lineTo(f,h);a.lineTo(f,m);a.lineTo(g,m);a.lineTo(g,k);a.lineTo(c,n);a.lineTo(g,b);a.lineTo(g,p);a.lineTo(e,p);a.closePath();a.fill()};Mc.prototype.Y=function(){$b(this.b)};Mc.prototype.Z=function(){return"Next variant (Down)"};Mc.prototype.xa=function(){this.f.r.gd.push(this)};function Nc(a){Nc.q.constructor.call(this,a)}R(Nc,tc);Nc.prototype.da=function(a,b,c,d){var e=Math.ceil(c+.2*b+.5),f=Math.ceil(c+.35*b+.5),g=Math.ceil(c+.57*b+.5);c=Math.ceil(c+.92*b+.5);var h=Math.ceil(d+.8*b+.5),k=Math.ceil(d+.62*b+.5),m=Math.ceil(d+.48*b+.5),n=Math.ceil(d+.4*b+.5),p=Math.ceil(d+(1-.68)*b+.5);b=Math.ceil(d+(1-.84)*b+.5);a.beginPath();a.moveTo(e,h);a.lineTo(f,h);a.lineTo(f,m);a.lineTo(g,m);a.lineTo(g,k);a.lineTo(c,n);a.lineTo(g,b);a.lineTo(g,p);a.lineTo(e,p);a.closePath();a.fill()};Nc.prototype.Y=function(){Yb(this.b)};Nc.prototype.Z=function(){return"Previous variant (Up)"};Nc.prototype.xa=function(){this.f.r.hd.push(this)};function Oc(a){Oc.q.constructor.call(this,a)}R(Oc,tc);Oc.prototype.da=function(a,b,c,d){var e=Math.ceil(c+.5*b-b/10+.5),f=Math.ceil(d+.5*b-b/10+.5),g=Math.ceil(.25*b+.5);a.fillStyle=Q(new y(255,255,255));a.strokeStyle=Q(new y(0,0,0));a.beginPath();a.arc(e,f,g,0,2*Math.PI,!1);a.fill();a.stroke();a.fillStyle=Q(new y(0,0,0));e=Math.ceil(c+.5*b+b/10+.5);f=Math.ceil(d+.5*b+b/10+.5);g=Math.ceil(.25*b+.5);a.beginPath();a.arc(e,f,g,0,2*Math.PI,!1);a.fill()};Oc.prototype.Y=function(){Ha(this.b.k,0)};Oc.prototype.Z=function(){return"Moves (F1)"};Oc.prototype.xa=function(){this.f.r.ri.push(this)};function Pc(a){Pc.q.constructor.call(this,a)}R(Pc,tc);Pc.prototype.da=function(a,b,c,d,e,f,g,h){e=a.createImageData(b,b);f=b/5|0;g=4*b/5|0;for(var k=0;k<b;k++)for(var m=0;m<b;m++){var n=4*(k*b+m);k>=f&&k<=g&&m>=f&&m<=g?(b-k>=m||k===f||k===g||m===f||m===g?(e.data[n+0]=0,e.data[n+1]=0,e.data[n+2]=0):(e.data[n+0]=255,e.data[n+1]=255,e.data[n+2]=255),e.data[n+3]=255):(e.data[n+0]=h.w,e.data[n+1]=h.B,e.data[n+2]=h.A,e.data[n+3]=h.La)}a.putImageData(e,c,d)};Pc.prototype.Y=function(){Ha(this.b.k,1)};Pc.prototype.Z=function(){return"Count Scores (F2)"};Pc.prototype.xa=function(){this.f.r.ti.push(this)};function Qc(a){Qc.q.constructor.call(this,a)}R(Qc,tc);Qc.prototype.da=function(a,b,c,d){var e=Math.ceil(c+.75*b+.5),f=Math.ceil(d+.125*b+.5),g=Math.ceil(.25*b+.5),h=Math.ceil(.02*b+.5);a.fillRect(e,f,g,h);e=Math.ceil(c+.875*b+.5);f=Math.ceil(d+.5);g=Math.ceil(.02*b+.5);h=Math.ceil(.25*b+.5);a.fillRect(e,f,g,h);e=Math.ceil(c+.5);f=Math.ceil(d+.875*b+.5);g=Math.ceil(.25*b+.5);h=Math.ceil(.02*b+.5);a.fillRect(e,f,g,h);e=Math.ceil(c+.5*b-b/10+.5);f=Math.ceil(d+.5*b-b/10+.5);g=Math.ceil(.25*b+.5);a.fillStyle=Q(new y(255,255,255));a.strokeStyle=Q(new y(0,0,0));a.beginPath();a.arc(e,f,g,0,2*Math.PI,!1);a.fill();a.stroke();a.fillStyle=Q(new y(0,0,0));e=Math.ceil(c+.5*b+b/10+.5);f=Math.ceil(d+.5*b+b/10+.5);g=Math.ceil(.25*b+.5);a.beginPath();a.arc(e,f,g,0,2*Math.PI,!1);a.fill()};Qc.prototype.Y=function(){Ha(this.b.k,2)};Qc.prototype.Z=function(){return"Editor (F3)"};Qc.prototype.xa=function(){this.f.r.qi.push(this)};function Rc(a){Rc.q.constructor.call(this,a)}R(Rc,tc);Rc.prototype.da=function(a,b,c,d){var e=b/2,f=3*b/4,g=.1*b,h=Math.sqrt(e*e-(f-e)*(f-e))+e,e=-Math.sqrt(e*e-(f-e)*(f-e))+e;a.lineWidth=Math.ceil(.05*b+.5);a.beginPath();a.moveTo(c+b/2,d+2*g);a.lineTo(c+h-g,d+f+g);a.lineTo(c+e+g,d+f+g);a.closePath();a.stroke()};Rc.prototype.Y=function(){Ha(this.b.k,3)};Rc.prototype.Z=function(){return"Triangles (F4)"};Rc.prototype.xa=function(){this.f.r.wi.push(this)};function Sc(a){Sc.q.constructor.call(this,a)}R(Sc,tc);Sc.prototype.da=function(a,b,c,d){var e=b/2,f=.05*b,g=-b/2*Math.sqrt(2)/2+b/2,h=Math.floor(c+(Math.sqrt(e*e-(g-e)*(g-e))+e)-f);c=Math.ceil(c+(-Math.sqrt(e*e-(g-e)*(g-e))+e)+f);g=Math.ceil(d+g+f);d=Math.floor(d+(b/2*Math.sqrt(2)/2+b/2)-f);a.lineWidth=Math.ceil(.05*b+.5);a.beginPath();a.moveTo(h,g);a.lineTo(c,g);a.lineTo(c,d);a.lineTo(h,d);a.closePath();a.stroke()};Sc.prototype.Y=function(){Ha(this.b.k,4)};Sc.prototype.Z=function(){return"Squares (F5)"};Sc.prototype.xa=function(){this.f.r.ui.push(this)};function Tc(a){Tc.q.constructor.call(this,a)}R(Tc,tc);Tc.prototype.da=function(a,b,c,d){var e=.05*b,f=b/2,g=4*e;a.lineWidth=Math.ceil(e+.5);a.beginPath();a.arc(c+b/2,d+b/2,f-g,0,2*Math.PI,!1);a.stroke()};Tc.prototype.Y=function(){Ha(this.b.k,5)};Tc.prototype.Z=function(){return"Circles (F6)"};Tc.prototype.xa=function(){this.f.r.pi.push(this)};function Uc(a){Uc.q.constructor.call(this,a)}R(Uc,tc);Uc.prototype.da=function(a,b,c,d){var e=c+.25*b;c+=.75*b;var f=d+.25*b;d+=.75*b;a.lineWidth=Math.ceil(.05*b+.5);a.beginPath();a.moveTo(e,f);a.lineTo(c,d);a.moveTo(c,f);a.lineTo(e,d);a.stroke()};Uc.prototype.Y=function(){Ha(this.b.k,6)};Uc.prototype.Z=function(){return"X marks (F7)"};Uc.prototype.xa=function(){this.f.r.xi.push(this)};function Vc(a){Vc.q.constructor.call(this,a)}R(Vc,tc);Vc.prototype.da=function(a,b,c,d){var e=.8*b;a.font=e+"px Arial";a.fillText("A",c+(b-a.measureText("A").width)/2,d+b/2+e/3)};Vc.prototype.Y=function(){Ha(this.b.k,7)};Vc.prototype.Z=function(){return"Text labels (F8)"};Vc.prototype.xa=function(){this.f.r.vi.push(this)};function Wc(a){Wc.q.constructor.call(this,a)}R(Wc,tc);Wc.prototype.da=function(a,b,c,d){var e=.8*b;a.font=e+"px Helvetica, Arial, Verdana";a.fillText("1",c+(b-a.measureText("1").width)/2,d+b/2+e/3)};Wc.prototype.Y=function(){Ha(this.b.k,8)};Wc.prototype.Z=function(){return"Numeric labels (F9)"};Wc.prototype.xa=function(){this.f.r.si.push(this)};function Xc(a){Xc.q.constructor.call(this,a)}R(Xc,tc);Xc.prototype.da=function(a,b,c,d){if(16===this.Xf)this.ic(b,c,d,a,1);else{var e=Math.floor(c+b/5+b/20+.5);c=Math.ceil(c+4*b/5-b/20+.5);var f=Math.ceil(d+b/5+.5);d=Math.ceil(d+4*b/5+.5);var g=Math.ceil(e+b/5);b=Math.floor(c-b/5);a.beginPath();a.moveTo(e,f);a.lineTo(g,f);a.lineTo(g,d);a.lineTo(e,d);a.closePath();a.fill();a.beginPath();a.moveTo(c,f);a.lineTo(b,f);a.lineTo(b,d);a.lineTo(c,d);a.closePath();a.fill()}};Xc.prototype.Y=function(){16===this.Xf?this.b.Bf():this.b.Ke()};Xc.prototype.Z=function(){return 16===this.Xf?"Autoplay start":"Autoplay stop"};Xc.prototype.xa=function(){this.f.Zf=this};function Ac(a){Ac.q.constructor.call(this,a)}R(Ac,tc);l=Ac.prototype;l.da=function(a,b,c,d,e,f,g,h,k){b=a.createImageData(f,g);e=b.data;c=(f-8)/2|0;d=(g-8)/2|0;for(h=0;h<g;h++)for(var m=0;m<f;m++){var n=4*(m+h*f),p=k.w,t=k.B,q=k.A,r=h-d,u=m-c;if(0===r&&(0===u||1===u||6===u||7===u)||1===r&&(1===u||2===u||5===u||6===u)||2===r&&(2===u||3===u||4===u||5===u)||3===r&&(3===u||4===u)||4===r&&(3===u||4===u)||5===r&&(2===u||3===u||4===u||5===u)||6===r&&(1===u||2===u||5===u||6===u)||7===r&&(0===u||1===u||6===u||7===u))q=t=p=255;e[n+0]=p;e[n+1]=t;e[n+2]=q;e[n+3]=255}a.putImageData(b,0,0)};l.Y=function(){this.b.ib()};l.Z=function(){return"Close"};l.rg=function(){};l.gf=function(){};function vc(a){vc.q.constructor.call(this,a)}R(vc,tc);vc.prototype.da=function(a,b,c,d){var e=.02*b,f=b/2,g=4*e;a.lineWidth=Math.ceil(e+.5);a.beginPath();a.arc(c+b/2,d+b/2,f-g,0,2*Math.PI,!1);a.stroke();e=.9*b;a.font=e+"px Times New Roman, Sans serif";a.fillText("i",c+(b-a.measureText("i").width)/2,d+b/2+e/3)};vc.prototype.Y=function(){Kb(this.a.d.a.id,Yc,{N:this.b,O:this.f})};vc.prototype.Z=function(){return"Game info"};function Cc(a){Cc.q.constructor.call(this,a)}R(Cc,tc);l=Cc.prototype;l.da=function(a,b,c,d,e,f,g){a.lineWidth=1;a.moveTo(0,0);a.lineTo(0,g);a.lineTo(f,g);a.lineTo(f,0);a.lineTo(0,0);a.stroke();e=.8*b;a.fillStyle=Q(new y(0,0,0,255));a.font=e+"px Tahoma, Sans serif";a.fillText("OK",c+(b-a.measureText("OK").width)/2,d+b/2+e/3)};l.Y=function(){this.b.Be()};l.Z=function(){return"OK"};l.rg=function(){};l.gf=function(){};function Ec(a){Ec.q.constructor.call(this,a)}R(Ec,tc);l=Ec.prototype;l.da=function(a,b,c,d,e,f,g){a.lineWidth=1;a.moveTo(0,0);a.lineTo(0,g);a.lineTo(f,g);a.lineTo(f,0);a.lineTo(0,0);a.stroke();e=.8*b;a.fillStyle=Q(new y(0,0,0,255));a.font=e+"px Tahoma, Sans serif";a.fillText("Cancel",c+(b-a.measureText("Cancel").width)/2,d+b/2+e/3)};l.Y=function(){this.b.Dl()};l.Z=function(){return"Cancel"};l.rg=function(){};l.gf=function(){};function Zc(a){Zc.q.constructor.call(this,a);this.Xa=null}R(Zc,tc);Zc.prototype.o=function(a,b){$c.q.o.apply(this,arguments);var c=this.a.d.a,d=document.createElement("canvas");d.setAttribute("id",a+"_transform");d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.width=36;d.height=36;d.draggable="false";d.ondragstart=function(a){a.preventDefault();return!1};c.appendChild(d);c=D(a+"_canvas");J(c.i,0,0,1E3,1E3,!1,!1,!1,!1,-1,-1);c.n=L|M|N|O;this.a.d.j(c);this.Xa=d};Zc.prototype.da=function(a,b,c,d){var e=this.Xa.getContext("2d");e.fillStyle=a.fillStyle;e.strokeStyle=a.strokeStyle;var f=.02*b;a=b/2-b/30;var g=b/4;e.lineWidth=Math.ceil(7*f+.5);e.beginPath();e.arc(c+b/2,d+b/2,g,0,2*Math.PI,!1);e.stroke();e.lineWidth=Math.ceil(5*f+.5);for(f=0;9>f;f++){e.beginPath();var h=40*f*Math.PI/180;e.lineTo(c+g*Math.cos(h)+b/2,d-g*Math.sin(h)+b/2);e.lineTo(c+a*Math.cos(h)+b/2,d-a*Math.sin(h)+b/2);e.stroke()}};Zc.prototype.Y=function(){Kb(this.a.d.a.id,ad,{N:this.b,O:this.f});"rotate(90deg)"!==this.Xa.style.transform?(this.Xa.style.transition="transform 0.5s linear",this.Xa.style.transform="rotate(90deg)"):(this.Xa.style.transition="transform 0.5s linear",this.Xa.style.transform="rotate(0deg)")};Zc.prototype.Z=function(){return"Settings"};function bd(a){bd.q.constructor.call(this,a)}R(bd,tc);bd.prototype.da=function(a,b,c,d){var e=.9*b;a.font=e+"px Times New Roman, Sans serif";a.fillText("Pass",c+(b-a.measureText("Pass").width)/2,d+b/2+e/3)};bd.prototype.Y=function(){this.b.Pl()};bd.prototype.Z=function(){return"Pass"};function cd(a){cd.q.constructor.call(this,a)}R(cd,tc);cd.prototype.da=function(a,b,c,d){var e=.02*b,f=b/2,g=4*e;a.lineWidth=Math.ceil(e+.5);a.beginPath();a.arc(c+b/2,d+b/2,f-g,0,2*Math.PI,!1);a.stroke();e=.9*b;a.font=e+"px Times New Roman, Sans serif";a.fillText("?",c+(b-a.measureText("?").width)/2,d+b/2+e/3)};cd.prototype.Y=function(){Kb(this.a.d.a.id,dd,{N:this.b,O:this.f})};cd.prototype.Z=function(){return"About"};function ed(a){ed.q.constructor.call(this,a)}R(ed,tc);ed.prototype.da=function(a,b,c,d){var e=Math.ceil(c+3*b/20+.5),f=Math.ceil(c+16*b/20+.5),g=Math.ceil(c+14*b/20+.5);c=Math.ceil(c+11*b/20+.5);var h=Math.ceil(d+5*b/20+.5),k=Math.ceil(d+14*b/20+.5);b=Math.ceil(d+18*b/20+.5);a.lineWidth=2;a.beginPath();a.moveTo(e,h);a.lineTo(f,h);a.lineTo(f,k);a.lineTo(g,k);a.lineTo(g,b);a.lineTo(c,k);a.lineTo(e,k);a.closePath();a.stroke()};ed.prototype.Y=function(){this.Jk.Kd(this)};ed.prototype.Z=function(){return"Comments"};function fd(a){fd.q.constructor.call(this,a)}R(fd,tc);fd.prototype.da=function(a,b,c,d){var e=c+0,f=c+5*b/20,g=c+15*b/20;c+=b;var h=d+6*b/20;d+=16*b/20;b=b/6+1|0;a.lineWidth=2;a.lineJoin="miter";a.strokeStyle="rgba(0,0,0, 1)";a.beginPath();a.moveTo(e-2|0,h|0);a.lineTo(c+2|0,h|0);a.stroke();a.beginPath();a.moveTo(f|0,h|0);a.lineTo(f|0,d|0);a.lineTo(c+2|0,d|0);a.stroke();a.lineWidth=1;a.strokeStyle=Q(new y(0,0,0));a.fillStyle=Q(new y(255,255,255));a.beginPath();a.arc(g,h,b,0,2*Math.PI,!1);a.fill();a.stroke();a.beginPath();a.arc(g,d,b,0,2*Math.PI,!1);a.fill();a.stroke();a.fillStyle=Q(new y(0,0,0));a.beginPath();a.arc(f,h,b,0,2*Math.PI,!1);a.fill()};fd.prototype.Y=function(){this.Jk.Kd(this)};fd.prototype.Z=function(){return"Navigator"};function gd(a){gd.q.constructor.call(this,a);var b=a.X,c=this;this.ob=373;this.wb=40;var d=document.createElement("div");d.id=b.id+"ButtonBoardModeToolbarWrapper";d.style.position="absolute";d.style.top="100px";d.style.left="100px";d.style.width=this.ob+"px";d.style.height=this.wb+"px";d.style.background="rgb(217, 217, 217)";d.style.display="block";d.style.border="1px solid rgb(166, 166, 166)";d.style.boxShadow="0px 1px 15px rgba(0,0,0,0.8)";d.style.opacity=0;d.style.overflowY="hidden";d.style.boxSizing="border-box";d.onclick=function(){hd(c)};b.appendChild(d);var e=document.createElement("div");e.id=b.id+"ButtonBoardModeToolbar";e.style.position="absolute";e.style.top="1px";e.style.left="1px";e.style.right="1px";e.style.bottom="1px";d.appendChild(e);this.kn=new Oc(a);this.mn=new Pc(a);this.gn=new Qc(a);this.pn=new Rc(a);this.nn=new Sc(a);this.jn=new Tc(a);this.qn=new Uc(a);this.on=new Vc(a);this.ln=new Wc(a);this.hn=new id(a);b=new jd(a);S(b,this.kn,36,T);S(b,this.mn,36,T);S(b,this.gn,36,T);S(b,this.pn,36,T);S(b,this.nn,36,T);S(b,this.jn,36,T);S(b,this.qn,36,T);S(b,this.on,36,T);S(b,this.ln,36,T);S(b,this.hn,36,T);b.o(e.id,a.b);b.p();d.style.display="none";this.gb=d;this.ga=null;this.Ve=0;d.style.transitionProperty="opacity,top,height";d.style.transitionDuration="1s";d.style.transitionTimingFunction="cubic-bezier(0,0,0,1)";d.style.transitionDelay="0s";this.Ak=this.va=null}R(gd,tc);l=gd.prototype;l.p=function(){gd.q.p.apply(this,arguments);var a=Pb(this.f,this.a.d.a),b=a.h-this.ob/2+18,a=a.g-50,c=this.f.Gb(),d=this.f.Da();b+this.ob>c-5&&(b=c-5-this.ob);5>b&&(b=5);a+this.wb>d-5&&(a=d-5-this.wb);5>a&&(a=5);this.Ve=a;this.gb.style.left=b+"px";this.gb.style.top=a+"px"};l.da=function(){};l.Y=function(){if("none"===this.gb.style.display){if(null===this.Ak){var a=this;this.Ak=setTimeout(function(){null!==a.ga&&(clearTimeout(a.ga),a.ga=null);a.gb.style.display="block";a.gb.style.opacity=0;a.gb.style.top=a.Ve+50+"px";a.gb.style.height="0px";a.ga=setTimeout(function(){a.gb.style.opacity=1;a.gb.style.top=a.Ve+"px";a.gb.style.height=a.wb+"px";a.ga=null;a.Ak=null},20)},20)}}else hd(this)};l.Z=function(){return"Select Edit mode (F1-F10)"};l.xa=function(){this.f.fg=this};l.jc=function(){uc(this)};function hd(a){"none"!==a.gb.style.display&&(null!==a.ga&&(clearTimeout(a.ga),a.ga=null),a.gb.style.opacity=0,a.gb.style.top=a.Ve+50+"px",a.gb.style.height="0px",a.ga=setTimeout(function(){a.gb.style.display="none";a.ga=null},500))}function id(a){Vc.q.constructor.call(this,a)}R(id,tc);id.prototype.da=function(a){a.lineWidth=2;a.strokeStyle="rgb(0, 0, 200)";a.beginPath();a.moveTo(18,12);a.lineTo(18,6);a.lineTo(6,6);a.lineTo(6,18);a.lineTo(12,18);a.stroke();a.strokeStyle="rgb(0, 100, 0)";a.beginPath();a.moveTo(24,18);a.lineTo(24,12);a.lineTo(12,12);a.lineTo(12,24);a.lineTo(18,24);a.stroke();a.strokeStyle="rgb(200, 0, 0)";a.beginPath();a.moveTo(30,30);a.lineTo(30,18);a.lineTo(18,18);a.lineTo(18,30);a.closePath();a.stroke()};id.prototype.Y=function(){Ha(this.b.k,10)};id.prototype.Z=function(){return"Color marks (F10)"};id.prototype.xa=function(){this.f.r.oi.push(this)};function $c(a,b){Vc.q.constructor.call(this,a);this.pb=Fc(this,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAICAYAAADJEc7MAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wwVDQAZ4Th1ZQAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAkUlEQVQY033PsRHDIAwF0A+nitILUHCnhoapklW8QrZhBBo1NDRULEEak3OwsSpO0pOEijG+QgifWityzgoP4Zzr1lqklN5ERLsxBswMAH2FmbkfPSCiXbfWNhEZRTBzf0IigtbapgGglKJWeEalFAUANBqORPfe/84eg2b0Bxf4FgGAnv9zPnuFLhvnzaf3Jb5oPFaLEyr1tgAAAABJRU5ErkJggg==");this.Xa=null;this.Pb=b;var c=a.X;this.ob=160;this.wb=134;var d=document.createElement("div");d.id=c.id+"ToolbarCustomizeWrapper";d.style.position="absolute";d.style.top="100px";d.style.left="100px";d.style.width=this.ob+"px";d.style.height=this.wb+"px";d.style.background="rgb(255, 255, 255)";d.style.display="block";d.style.border="1px solid rgb(166, 166, 166)";d.style.boxShadow="0px 1px 15px rgba(0,0,0,0.8)";d.style.overflowY="hidden";c.appendChild(d);d.style.transitionProperty="height";d.style.transitionDuration="0.2s";d.style.transitionDelay="0s";d.style.display="none";this.cc=d;this.fe=this.ga=null;c=document.createElement("ul");c.style.padding="5px 0";c.style.margin="2px 0 0";c.style.listStyle="none";c.style.fontSize="16px";c.style.mh="padding-box";c.style.lineHeight="20px";this.Io=kd(this,c,"Main navigation",function(){a.Nj()},x.Ud);this.Oo=kd(this,c,"Tree navigation",function(){a.Pj()},x.Wd);this.Do=kd(this,c,"General toolbar",function(){a.Lj()},x.Sd);this.Co=kd(this,c,"Autoplay toolbar",function(){a.Kj()},x.Rd);this.No=kd(this,c,"Timeline toolbar",function(){a.Oj()},x.Vd);this.Go=kd(this,c,"Kifu mode",function(){a.Mj()},x.Td);d.appendChild(c)}R($c,tc);l=$c.prototype;l.o=function(a,b){$c.q.o.apply(this,arguments);var c=this.a.d.a,d=document.createElement("canvas");d.setAttribute("id",a+"_transform");d.setAttribute("style","position:absolute;padding:0;margin:0;top:14px;left:11px;width:14px;height:8px;");d.width=14;d.height=8;d.setAttribute("oncontextmenu","return false;");d.draggable="false";d.ondragstart=function(a){a.preventDefault();return!1};c.appendChild(d);this.Xa=d};l.p=function(){$c.q.p.apply(this,arguments);var a=Pb(this.f,this.a.d.a),b=a.h+36-this.ob,a=a.g+36+5,c=this.f.Gb(),d=this.f.Da();b+this.ob>c-5&&(b=c-5-this.ob);5>b&&(b=5);a+this.wb>d-5&&(a=d-5-this.wb);5>a&&(a=5);this.Ve=a;this.cc.style.left=b+"px";this.cc.style.top=a+"px"};l.da=function(){this.Xa&&this.Xa.getContext("2d").drawImage(this.pb,0,0)};l.Y=function(){if("none"===this.cc.style.display){if(null===this.fe){var a=this;this.fe=setTimeout(function(){null!==a.ga&&(clearTimeout(a.ga),a.ga=null);a.cc.style.display="block";a.cc.style.height="0px";a.ga=setTimeout(function(){a.cc.style.height=a.wb+"px";a.ga=null;a.fe=null;a.Xa.style.transition="transform 0.2s ease";a.Xa.style.transform="rotate(180deg)";yc(a,!0)},20)},20)}}else ld(this)};l.Z=function(){return""};l.xa=function(){this.f.r.bb=this};function ld(a,b){"none"!==a.cc.style.display&&(!0===b?(a.cc.style.height="0px",a.cc.style.display="none",a.Xa.style.transition="transform 0.2s ease",a.Xa.style.transform="rotate(0deg)",yc(a,!1)):(null!==a.ga&&(clearTimeout(a.ga),a.ga=null),a.cc.style.height="0px",a.ga=setTimeout(function(){a.cc.style.display="none";a.ga=null;a.Xa.style.transition="transform 0.2s ease";a.Xa.style.transform="rotate(0deg)";yc(a,!1)},200)))}function kd(a,b,c,d,e){var f=document.createElement("li");f.style.fontFamily='"Times New Roman", Times, serif';f.style.width=a.ob-10+"px";f.style.height="20px";f.style.color="#444444";f.style.margin="0px 5px 0px 5px";f.style.cursor="pointer";var g=document.createElement("div");g.style.paddingLeft="3px";g.style.width="20px";g.style.height="20px";g.style["float"]="left";md(g,e?"\u2714":"");f.appendChild(g);e=document.createElement("div");e.style.paddingLeft="5px";e.style.height="20px";e.style.width=a.ob-10-20-10+"px";e.style["float"]="left";e.style.overflow="hidden";md(e,c);f.appendChild(e);f.onmouseover=function(){f.style.background="#d8dadc";f.style.color="#373737"};f.onmouseout=function(){f.style.background="transparent";f.style.color="#444444"};f.onclick=function(){d&&d();ld(a,!0)};b.appendChild(f);return g}l.Aj=function(a){this.Pb&&this.Pb.Aj(a);nd(this.Io,a)};l.Dj=function(a){this.Pb&&this.Pb.Dj(a);nd(this.Oo,a)};l.wj=function(a){this.Pb&&this.Pb.wj(a);nd(this.Do,a)};l.tj=function(a){this.Pb&&this.Pb.tj(a);nd(this.Co,a)};l.Cj=function(a){this.Pb&&this.Pb.Cj(a);nd(this.No,a)};l.xj=function(a){this.Pb&&this.Pb.xj(a);nd(this.Go,a)};function nd(a,b){a&&(!0===b?md(a,"\u2714"):md(a,""))}function qd(a){qd.q.constructor.call(this,a);var b=a.X,c=a.b;a=document.createElement("div");a.style.position="absolute";a.style.top="40px";a.style.width="200px";a.style.backgroundColor="white";a.style.borderWidth="1px";a.style.borderColor="#b3b3b3";a.style.borderStyle="solid";a.style.padding="0px";a.style.boxShadow="0px 0px 2px 0px rgba(0,0,0,0.3)";a.style.opacity="1";a.style.zIndex="10";a.style.overflowX="hidden";a.style.overflowY="hidden";a.style.maxHeight="calc(100vh - 90px)";a.style.transitionProperty="height";a.style.transitionDuration="0.2s";a.style.transitionDelay="0s";b.appendChild(a);var d=this;rd(this,a,"Create New",function(){Kb(b.id,ac,{N:c,O:d.f})});rd(this,a,"Load from disk",function(){mc(c)});rd(this,a,"Load from clipboard",function(){Kb(b.id,lc,{N:c,O:d.f})});rd(this,a,"Download as SGF",function(){if(FileReader&&Blob){var a=c.vf(),b=c.ze();""===b&&(b="download");nc(new Blob([a],{type:"text/plain;charset=utf-8"}),b+".sgf","application/x-go-sgf")}});rd(this,a,"Create snapshot",function(){ec(c)});rd(this,a,"Export to Gif",function(){hc(c)});rd(this,a,"Convert to Askii diagram",function(){Kb(b.id,bc,{N:c,O:d.f})});rd(this,a,"Score Estimate",function(){Kb(b.id,cc,{N:c,O:d.f})});this.fc=a;this.wb=a.clientHeight;this.ob=a.clientWidth;this.fe=this.ga=null;a.style.display="none"}R(qd,tc);l=qd.prototype;l.da=function(a,b,c,d,e,f,g,h){f=2;e=c+3;g=c+b-3;var k=d+9,m=d+6+9;d=d+12+9;a.fillStyle=!0===sd(this.Ch,h)?"rgb(167, 167, 167)":"rgb(217, 217, 217)";a.fillRect(0,0,b+2*c,b+2*c);a.lineWidth=f;a.strokeStyle="rgb(100, 100, 100)";a.beginPath();a.moveTo(e,k);a.lineTo(g,k);a.stroke();a.beginPath();a.moveTo(e,m);a.lineTo(g,m);a.stroke();a.beginPath();a.moveTo(e,d);a.lineTo(g,d);a.stroke()};function rd(a,b,c,d){var e=document.createElement("div");e.style.padding="0px";e.style.Ap="0px";b.appendChild(e);var f=document.createElement("div");f.style.display="flex";f.style.to="center";f.style.padding="0px";f.style.position="relative";f.style.cursor="pointer";f.style.transition="background-color 0.25s ease";f.style.backgroundColor="#fff";f.style.color="#424242";f.style.border="1px solid transparent";f.style.outline="none";e.appendChild(f);b=document.createElement("div");b.style.padding="10px 20px";b.style.position="relative";b.style.cursor="pointer";b.style.borderBottom="1px solid #e6e7e8";b.style.transition="background-color 0.25s ease";b.style.outline="none";b.style.width="100%";f.appendChild(b);e=document.createElement("span");e.style.color="#4d4d4d";e.style.fontFamily='"Segoe UI Light","Segoe UI Semilight","Segoe UI",Helvetica,Tahoma,Geneva,Verdana,sans-serif';e.style.fontWeight="lighter";e.style.fontSize="15px";e.style.Bp="none";e.style.verticalAlign="middle";e.style.cursor="pointer";md(e,c);b.appendChild(e);f.onmouseover=function(){f.style.backgroundColor="#e6e6e6";f.style.color="#424242"};f.onmouseout=function(){f.style.background="transparent";f.style.color="#424242";f.style.border="1px solid transparent"};f.onmousedown=function(){f.style.backgroundColor="#969696";f.style.border="1px solid #737373";f.style.color="#424242"};f.onmouseup=function(){f.style.backgroundColor="#e6e6e6";f.style.color="#424242";f.style.border="1px solid transparent"};f.onclick=function(){d&&d();td(a,!0)}}l.Y=function(){ud(this)};l.Z=function(){return"Menu"};function ud(a){"none"===a.fc.style.display?null===a.fe&&(a.fe=setTimeout(function(){null!==a.ga&&(clearTimeout(a.ga),a.ga=null);a.fc.style.display="block";a.fc.style.height="0px";a.ga=setTimeout(function(){a.fc.style.height=a.wb+"px";a.ga=null;a.fe=null;yc(a,!0)},20)},20)):td(a)}function td(a,b){"none"!==a.fc.style.display&&(!0===b?(a.fc.style.height="0px",a.fc.style.display="none",yc(a,!1)):(null!==a.ga&&(clearTimeout(a.ga),a.ga=null),a.fc.style.height="0px",a.ga=setTimeout(function(){a.fc.style.display="none";a.ga=null;yc(a,!1)},200)))}l.p=function(){qd.q.p.apply(this,arguments);var a=Pb(this.f,this.a.d.a),b=a.h,a=a.g+36+5,c=this.f.Gb(),d=this.f.Da();b+this.ob>c-5&&(b=c-5-this.ob);5>b&&(b=5);a+this.wb>d-5&&(a=d-5-this.wb);5>a&&(a=5);this.Ve=a;this.fc.style.left=b+"px";this.fc.style.top=a+"px"};l.rg=function(){};l.gf=function(){};function vd(a){vd.q.constructor.call(this,a)}R(vd,tc);vd.prototype.da=function(a,b,c,d){var e=Math.ceil(c+.5*b-b/10+.5),f=Math.ceil(d+.5*b-b/10+.5),g=Math.ceil(.35*b+.5);a.fillStyle=Q(new y(255,255,255));a.strokeStyle=Q(new y(0,0,0));a.beginPath();a.arc(e,f,g,0,2*Math.PI,!1);a.fill();a.stroke();var h="\u767d",k=.4*b*1.4;a.font=k+"px Times New Roman, Sans serif";a.fillStyle="rgb(0, 0, 0)";e+=-a.measureText(h).width/2;a.fillText(h,e,f+k/3);a.fillStyle=Q(new y(0,0,0));e=Math.ceil(c+.5*b+b/10+.5);f=Math.ceil(d+.5*b+b/10+.5);a.beginPath();a.arc(e,f,g,0,2*Math.PI,!1);a.fill();h="\u9ed2";a.fillStyle="rgb(255, 255, 255)";f+=k/3;e+=-a.measureText(h).width/2;a.fillText(h,e,f)};vd.prototype.Y=function(){Kb(this.a.d.a.id,ic,{N:this.b,O:this.f})};vd.prototype.Z=function(){return"Show kifu"};function wd(a){vd.q.constructor.call(this,a)}R(wd,tc);wd.prototype.da=function(a,b,c,d){d=c=0;b=36;var e=c+10|.5,f=c+25|.5,g=d+10|.5,h=d+25|.5;a.lineWidth=2;a.strokeStyle="rgb(0, 0, 0)";a.beginPath();a.moveTo(c+1,g);a.lineTo(b/2+1,g);a.moveTo(c+1,h);a.lineTo(b+c-1,h);a.moveTo(e,d+1);a.lineTo(e,b+d-1);a.moveTo(f,b/2);a.lineTo(f,b+d-1);a.stroke();a.fillStyle="rgb(255, 255, 255)";a.beginPath();a.arc(e,g,5.5,0,2*Math.PI,!1);a.stroke();a.fill();a.beginPath();a.arc(f,h,5.5,0,2*Math.PI,!1);a.stroke();a.fill();a.fillStyle="rgb(0, 0, 0)";a.beginPath();a.arc(e,h,5.5,0,2*Math.PI,!1);a.stroke();a.fill();a.font="22px Times New Roman, Sans serif";a.fillText("?",f-a.measureText("?").width/2,g+22/3)};wd.prototype.Y=function(){if(!0===this.b.vc){var a=this.b;a.H=a.Sm;a.vc=!1}else a=this.b,a.Sm=a.H,a.H=0,xd(a,{uf:!0}),sc(a,0),a.Pg(),a.vc=!0;a.f&&yd(a.f)};wd.prototype.Z=function(){return"Kifu mode"};wd.prototype.xa=function(){this.f.r.ej=this};function zd(a){this.f=a;this.b=null;this.a={d:null,hh:{d:null}};var b=this;this.Cn=function(){b.b.bh(b.a.hh.d.a.value)}}zd.prototype.o=function(a,b){this.b=b;this.a.d=D(a);var c=this.a.d.a;c.style.background=Q(new y(217,217,217,255));c.style.boxSizing="content-box";var d=a+"_TextArea",e=document.createElement("textarea");e.setAttribute("id",d);e.setAttribute("style","position:absolute;padding:0;margin:0;resize:none;outline: none;-moz-appearance: none;padding:2px;");c.appendChild(e);e.onchange=this.Cn;e.onblur=this.Cn;e.style.outline="none";e.style.margin="0px";e.style.border="1px solid rgb(172,172,172)";c=this.a.d;this.a.hh.d=D(d);d=this.a.hh.d;J(d.i,6,0,12,6,!0,!0,!0,!0,-1,-1);d.n=L|M|N|O;c.j(d);this.f&&this.f.hk.push(this);this.p()};zd.prototype.kd=function(a){this.a.hh.d.a.value=a};zd.prototype.p=function(){this.a.d.kb(this.a.d.a.clientWidth,this.a.d.a.clientHeight)};function Ad(a){this.f=a;this.Xm=G;this.b=null;this.a={d:null,mc:null,oc:null,Image:null};this.pb=null;this.Uh=this.Th="";this.rk=0;this.mk=!1}l=Ad.prototype;l.o=function(a,b,c){this.Xm=c;this.b=b;this.a.d=D(a);b=this.a.d.a;b.style.backgroundColor=Q(new y(217,217,217,255));this.a.mc=document.createElement("div");this.a.oc=document.createElement("div");this.a.Image=document.createElement("canvas");var d=this.a.Image,e=this.a.mc,f=this.a.oc;b.appendChild(d);b.appendChild(e);b.appendChild(f);e.style.paddingLeft="25px";f.style.paddingLeft="25px";e.style.fontSize="14pt";f.style.fontSize="10pt";d.setAttribute("id",a+"_Image");d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.style.left="0px";d.style.top="0px";d.style.width="25px";d.style.height="25px";d.width=25;d.height=25;a=d.getContext("2d");a.clearRect(0,0,25,25);b=Math.ceil(13);d=Math.ceil(13);e=Math.ceil(6.75);F===c?(a.fillStyle=Q(new y(255,255,255)),a.strokeStyle=Q(new y(0,0,0))):E===c&&(a.fillStyle=Q(new y(0,0,0)),a.strokeStyle=Q(new y(0,0,0)));a.beginPath();a.arc(b,d,e,0,2*Math.PI,!1);a.fill();a.stroke();this.f&&(E===c?this.f.Rc=this:F===c&&(this.f.Wc=this));this.ua()};l.p=function(){this.ua();var a=this.xo,b=this.a.d.a.clientWidth-25,c=0,c=b<a?0:(b-a)/2;this.a.Image.style.left=c+"px";c+=25;this.a.mc.style.paddingLeft=c+"px";this.a.oc.style.paddingLeft=c+"px";this.a.mc.style.overflow="hidden";this.a.mc.style.textOverflow="ellipsis";this.a.mc.style["-o-text-overflow"]="ellipsis";this.a.mc.style.height="25px";this.a.mc.style.lineHeight="25px";this.a.mc.style.fontFamily='"Times New Roman", Times, serif';this.a.oc.style.overflow="hidden";this.a.oc.style.textOverflow="ellipsis";this.a.oc.style["-o-text-overflow"]="ellipsis";this.a.oc.style.height="25px";this.a.oc.style.lineHeight="25px";this.a.oc.style.fontFamily='"Times New Roman", Times, serif'};l.Cf=function(a){this.mk=!1;this.rk=a;this.ua()};l.ld=function(a){this.mk=!0;this.rk=a;this.ua()};l.ua=function(){var a=this.a.oc,b=(""===this.Th?E===this.Xm?"Black ":"White ":this.Th)+(""===this.Uh?"":"["+this.Uh+"]"),c=(!0===this.mk?"Scores ":"Captured ")+this.rk;md(this.a.mc,b);md(a,c);a=document.createElement("canvas").getContext("2d");a.font="14pt Times New Roman";this.xo=a.measureText(b).width};function Bd(a){this.f=a;this.b=null;this.a={d:null,sb:null,Vb:null,Ge:null,Fe:null};this.Hm=this.Im=0}Bd.prototype.o=function(a,b){this.b=b;this.a.d=D(a);var c=this.a.d.a;c.style.backgroundColor=Q(new y(217,217,217,255));this.a.sb=document.createElement("div");this.a.Ge=document.createElement("canvas");this.a.Vb=document.createElement("div");this.a.Fe=document.createElement("canvas");c.appendChild(this.a.sb);c.appendChild(this.a.Ge);c.appendChild(this.a.Vb);c.appendChild(this.a.Fe);this.a.Ge.style.position="absolute";this.a.Ge.style.left="0px";this.a.Ge.style.top="0px";this.a.sb.style.position="absolute";this.a.sb.style.left="25px";this.a.sb.style.top="0px";this.a.sb.style.overflow="hidden";this.a.sb.style.textOverflow="ellipsis";this.a.sb.style.height="25px";this.a.sb.style.fontFamily='"Times New Roman", Times, serif';this.a.sb.style.fontSize="16px";this.a.sb.style.lineHeight="25px";this.a.Fe.style.position="absolute";this.a.Fe.style.left="61px";this.a.Fe.style.top="0px";this.a.Vb.style.position="absolute";this.a.Vb.style.left="86px";this.a.sb.style.top="0px";this.a.Vb.style.overflow="hidden";this.a.Vb.style.textOverflow="ellipsis";this.a.Vb.style.height="25px";this.a.Vb.style.fontFamily='"Times New Roman", Times, serif';this.a.Vb.style.fontSize="16px";this.a.Vb.style.lineHeight="25px";Cd(this.a.Ge,!1);Cd(this.a.Fe,!0);this.ua()};function Cd(a,b){a.setAttribute("oncontextmenu","return false;");a.style.padding="0px";a.style.margin="0px";a.style.width="25px";a.style.height="25px";a.width=25;a.height=25;var c=a.getContext("2d");c.clearRect(0,0,25,25);var d=Math.ceil(13),e=Math.ceil(13),f=Math.ceil(6.75);c.fillStyle=b?Q(new y(0,0,0)):Q(new y(255,255,255));c.strokeStyle=Q(new y(0,0,0));c.beginPath();c.arc(d,e,f,0,2*Math.PI,!1);c.fill();c.stroke()}Bd.prototype.p=function(){this.ua()};Bd.prototype.ld=function(a,b){this.Im=a;this.Hm=b;this.ua()};Bd.prototype.ua=function(){md(this.a.sb,""+this.Im);md(this.a.Vb,""+this.Hm)};function Dd(a){this.f=a;this.b=null;this.a={d:null,mb:null};this.Sk="White vs. Black"}Dd.prototype.o=function(a,b){this.b=b;this.a.d=D(a);var c=this.a.d.a;c.style.backgroundColor=Q(new y(217,217,217,255));this.a.mb=document.createElement("div");c.appendChild(this.a.mb);this.a.mb.style.position="absolute";this.a.mb.style.left="0px";this.a.mb.style.top="0px";this.a.mb.style.overflow="hidden";this.a.mb.style.textOverflow="ellipsis";this.a.mb.style.fontFamily='"Times New Roman", Times, serif';this.a.mb.style.fontSize="16px";this.a.mb.style.height="25px";this.a.mb.style.lineHeight="25px";this.a.mb.style.width="100%";this.a.mb.style.textAlign="center";this.ua()};Dd.prototype.p=function(){this.ua()};Dd.prototype.ua=function(){md(this.a.mb,""+this.Sk)};function Ed(){this.kc=this.nc=this.qc=this.lc=0;this.nh=this.ph=this.qh=this.oh=!1;this.jf=this.Ad=-1}function J(a,b,c,d,e,f,g,h,k,m,n){a.lc=b;a.qc=c;a.nc=d;a.kc=e;a.oh=f;a.qh=g;a.ph=h;a.nh=k;a.Ad=m;a.jf=n}var M=1,L=2,O=4,N=8;function Fd(){this.i=new Ed;this.n=M|L;this.a=this.Yg=this.Ug=null;this.Xc=new Ed;this.Ya=[];this.Hc=this.height=this.width=0;this.ad=null;this.Hb=400}Fd.prototype.Za=function(a,b,c){this.Hc=a;(this.ad=b)&&b.il&&b.il(this);c&&void 0!==c.Hb&&(this.Hb=c.Hb)};Fd.prototype.j=function(a){a.Yg=this;this.Ya[this.Ya.length]=a};Fd.prototype.kb=function(a,b){this.width=a;this.height=b;if(null==this.Yg)this.Xc.lc=0,this.Xc.qc=0,this.Xc.nc=a,this.Xc.kc=b,null!==this.a&&Gd(this,a,b);else{var c=0,d=0,e=0,f=0,g=this.n&5,h=this.n&10;M==g?(this.i.oh?c=this.i.lc:c=this.i.lc*a/1E3,-1!=this.i.Ad?e=c+this.i.Ad:e=this.i.ph?a-this.i.nc:this.i.nc*a/1E3):O==g?(e=this.i.ph?a-this.i.nc:this.i.nc*a/1E3,-1!=this.i.Ad?c=e-this.i.Ad:this.i.oh?c=this.i.lc:c=this.i.lc*a/1E3):(M|O)==g?(this.i.oh?c=this.i.lc:c=this.i.lc*a/1E3,e=this.i.ph?a-this.i.nc:this.i.nc*a/1E3):(c=this.i.lc,e=this.i.nc);L==h?(this.i.qh?d=this.i.qc:d=this.i.qc*b/1E3,-1!=this.i.jf?f=d+this.i.jf:f=this.i.nh?b-this.i.kc:this.i.kc*b/1E3):N==h?(f=this.i.nh?b-this.i.kc:this.i.kc*b/1E3,-1!=this.i.jf?d=f-this.i.jf:this.i.qh?d=this.i.qc:d=this.i.qc*b/1E3):(L|N)==h?(this.i.qh?d=this.i.qc:d=this.i.qc*b/1E3,f=this.i.nh?b-this.i.kc:this.i.kc*b/1E3):(d=this.i.qc,f=this.i.kc);e<c&&(e=c);f<d&&(f=d);-2===this.i.Ad?e=c+1*(f-d):-3===this.i.Ad&&(c=1*(f-d));this.Xc.lc=c;this.Xc.qc=d;this.Xc.nc=e;this.Xc.kc=f;this.a.style.left=(c+.5|0)+"px";this.a.style.top=(d+.5|0)+"px";this.a.style.width=(e-c+.5|0)+"px";this.a.style.height=(f-d+.5|0)+"px";this.a.width=e-c+.5|0;this.a.height=f-d+.5|0;Gd(this,e-c,f-d)}};function Gd(a,b,c){var d=a.Ya.length;if(1===a.Hc&&2===d){var e=a.ad?wa(a.ad):1,f=a.Ya[0],g=a.Ya[1],h,k=c;h=b-a.Hb;var m=k*e,e=h/e;m<=h?(e=k,h=k=0):(m=h,h=0,k=(k-e)/2);J(f.i,h,k,1E3,1E3,!0,!0,!1,!1,m,e);f.n=M|L;J(g.i,m,0,1E3,1E3,!0,!1,!1,!1,-1,-1);g.n=O|N|L}else 2===a.Hc&&1===d?a.ad?(e=wa(a.ad),f=a.Ya[0],m=c*e,e=b/e,m<=b?(e=c,k=0,h=(b-m)/2):(m=b,h=0,k=(c-e)/2),J(f.i,h,k,1E3,1E3,!0,!0,!1,!1,m,e),f.n=M|L):(f=a.Ya[0],h=Math.min(b,c),J(f.i,(b-h)/2,(c-h)/2,1E3,1E3,!0,!0,!0,!1,h,h),f.n=M|N|L):3===a.Hc&&2===d&&(e=a.ad?wa(a.ad):1,f=a.Ya[0],g=a.Ya[1],k=a.Hb,h=b,k=c-k,m=k*e,e=h/e,m<=h?(e=k,k=0,h=(h-m)/2):(m=h,k=h=0),J(f.i,h,k,1E3,1E3,!0,!0,!1,!1,m,e),f.n=M|L,J(g.i,0,e,1E3,1E3,!1,!0,!1,!1,-1,-1),g.n=M|O|N);for(h=0;h<d;h++)a.Ya[h].kb(b,c)}Fd.prototype.Ia=function(){this.Ya=[];this.Hc=0;this.ad=null;this.Hb=400};function D(a){var b=new Fd;b.Ug=a;b.a=document.getElementById(a);return b}function Hd(){this.a=this.Yg=null;this.D=0;this.Ya=[]}Hd.prototype.Set=function(a){this.D=a};Hd.prototype.j=function(a){a.Yg=this;this.Ya[this.Ya.length]=a};Hd.prototype.kb=function(a,b){var c=b-this.D,d=a;d!==c&&(c=d=Math.min(d,c));var e=(b-this.D-c)/2;this.a.style.left=parseInt((a-d)/2+.5)+"px";this.a.style.top=parseInt(e+.5)+"px";this.a.style.width=parseInt(d+.5)+"px";this.a.style.height=parseInt(c+this.D+.5)+"px";this.a.width=parseInt(d+.5);this.a.height=parseInt(c+this.D+.5);for(var e=this.Ya.length,f=0;f<e;f++)this.Ya[f].kb(d,c+this.D)};function Id(){this.J={nb:!0,vb:!0,rb:new y(231,188,95,255),Qd:!0,ub:!0,Cb:new y(255,255,255,255),Ab:new y(0,0,0,255),Bb:new y(0,0,0,255),tb:!1};this.Q={nb:!0,vb:!0,rb:new y(231,188,95,255),ub:!0,Cb:new y(255,255,255,255),Ab:new y(0,0,0,255),Bb:new y(0,0,0,255),tb:!1}}function Jd(a,b){var c=!0,d=!0,e=null,f=!0,g=!0,h=new y(255,255,255,255),k=new y(0,0,0,255),m=new y(0,0,0,255),n=!1;switch(b){default:case 1:g=f=d=c=!0;e=new y(231,188,95,255);m=new y(0,0,0,255);break;case 2:g=f=d=c=!1;e=new y(255,255,255,255);m=new y(0,0,0,255);break;case 3:g=f=d=c=!1;e=new y(231,188,95,255);m=new y(0,0,0,255);break;case 4:g=f=d=c=!1,n=!0,e=new y(30,30,30,255),h=new y(220,220,220,220),m=new y(255,255,255,255)}var p=!1,t=!1;if(a.J.nb!==c||a.J.vb!==d||!0!==sd(a.J.rb,e)||a.J.Qd!==f||a.J.ub!==g||!0!==sd(a.J.Cb,h)||!0!==sd(a.J.Ab,k)||!0!==sd(a.J.Bb,m)||a.J.tb!==n)a.J.nb=c,a.J.vb=d,a.J.rb=e,a.J.Qd=f,a.J.ub=g,a.J.Cb=h,a.J.Ab=k,a.J.Bb=m,a.J.tb=n,p=!0;if(a.Q.nb!==c||a.Q.vb!==d||!0!==sd(a.Q.rb,e)||a.Q.ub!==g||!0!==sd(a.Q.Cb,h)||!0!==sd(a.Q.Ab,k)||!0!==sd(a.Q.Bb,m)||a.Q.tb!==n)a.Q.nb=c,a.Q.vb=d,a.Q.rb=e,a.Q.ub=g,a.Q.Cb=h,a.Q.Ab=k,a.Q.Bb=m,a.Q.tb=n,t=!0;return{$:p,Navigator:t}}function Kd(){Kd.q.constructor.call(this);this.ok=!0;this.jk=this.Kb=this.kk=!1;this.tk=1;this.sk=3;this.Td=this.Vd=this.Rd=this.Sd=this.Wd=this.Ud=this.Xd=!0}R(Kd,Id);function Ld(){var a=x;a.Xd="0"===Md("ShowTarget")?!1:!0;a.jk="1"===Md("CycleThroughVariants")?!0:!1;a.ok="0"===Md("Sound")?!1:!0;var b=Md("NavigatorLabels");a.tk=b&&""!==b?parseInt(b):1;var b=1,c=Md("ColorScheme");"BookStyle"===c?b=2:"SimpleColor"===c?b=3:"Dark"===c&&(b=4);a.ah(b);a.kk="1"===Md("LoadUnfinishedFilesOnLastNode")?!0:!1;b=Md("ShowVariants");a.sk=b&&""!==b?parseInt(b):3;a.Kb="1"===Md("Rulers")?!0:!1;a.Ud="0"==Md("MultiLevelToolbarMainNavigation")?!1:!0;a.Wd="0"==Md("MultiLevelToolbarTreeNavigation")?!1:!0;a.Sd="0"==Md("MultiLevelToolbarGeneral")?!1:!0;a.Rd="1"==Md("MultiLevelToolbarAutoPlay")?!0:!1;a.Vd="1"==Md("MultiLevelToolbarTimeline")?!0:!1;a.Td="1"==Md("MultiLevelToolbarKifuMode")?!0:!1}l=Kd.prototype;l.zf=function(a){this.ok=a;Nd("Sound",!0===a?"1":"0")};l.sf=function(){return this.ok};l.dh=function(a){this.Kb=a;Nd("Rulers",!0===a?"1":"0")};l.zj=function(a){this.kk=a;Nd("LoadUnfinishedFilesOnLastNode",!0===a?"1":"0")};l.qf=function(){return this.kk};l.uj=function(a){this.jk=a;Nd("CycleThroughVariants",!0===a?"1":"0")};l.Id=function(){return this.jk};l.Gc=function(a){this.Xd=a;Nd("ShowTarget",!0===a?"1":"0")};l.Ie=function(){return this.Xd};l.ah=function(a){switch(a){case 1:Nd("ColorScheme","TrueColor");break;case 2:Nd("ColorScheme","BookStyle");break;case 3:Nd("ColorScheme","SimpleColor");break;case 4:Nd("ColorScheme","Dark")}return Jd(this,a)};l.Ae=function(){return this.tk};l.Bj=function(a){this.tk=a;Nd("NavigatorLabels",a)};l.Dd=function(){return this.sk};l.yj=function(a){this.sk=a;Nd("ShowVariants",a)};l.Nj=function(){this.Ud=!this.Ud;Nd("MultiLevelToolbarMainNavigation",!0===this.Ud?"1":"0");return this.Ud};l.Pj=function(){this.Wd=!this.Wd;Nd("MultiLevelToolbarTreeNavigation",!0===this.Wd?"1":"0");return this.Wd};l.Lj=function(){this.Sd=!this.Sd;Nd("MultiLevelToolbarGeneral",!0===this.Sd?"1":"0");return this.Sd};l.Kj=function(){this.Rd=!this.Rd;Nd("MultiLevelToolbarAutoPlay",!0===this.Rd?"1":"0");return this.Rd};l.Oj=function(){this.Vd=!this.Vd;Nd("MultiLevelToolbarTimeline",!0===this.Vd?"1":"0");return this.Vd};l.Mj=function(){this.Td=!this.Td;Nd("MultiLevelToolbarKifuMode",!0===this.Td?"1":"0");return this.Td};var x=new Kd;function Od(a){Od.q.constructor.call(this);this.J={nb:null,vb:null,rb:null,Qd:null,ub:null,Cb:null,Ab:null,Bb:null,tb:null};this.Q={nb:null,vb:null,rb:null,ub:null,Cb:null,Ab:null,Bb:null,tb:null};this.b=a;this.Xd=null;this.uh=!1}R(Od,Id);Od.prototype.ah=function(a){return null!==a?Jd(this,a):{$:!0,Navigator:!0}};Od.prototype.Ie=function(){return null===this.Xd?x.Ie():this.Xd};Od.prototype.Gc=function(a){this.Xd=a};function Pd(a){if(this.b=a)a.f=this;this.Va=this.Hh=this.$e=this.X=null;this.T=[];this.r={li:[],mi:[],Zc:[],bd:[],Mi:[],Li:[],gd:[],hd:[],Pl:null,ri:[],ti:[],qi:[],wi:[],ui:[],pi:[],xi:[],vi:[],si:[],oi:[],bb:null,Sg:null,ej:null};this.Mk={dj:null};this.je=this.ie=this.Wc=this.Rc=this.fg=this.$f=this.Zf=this.Kk=this.Jh=this.na=this.Eh=null;this.hk=[];var b=this;this.lk=!0;this.be=0;this.xh=!1;this.xk=-1;this.rd=400;this.ce=200;this.Mc=-1;this.an=this.cn=this.bn=this.en=this.dn=0;this.hp=function(){b.fg&&hd(b.fg);b.r.bb&&ld(b.r.bb,!1);b.r.Sg&&td(b.r.Sg,!1)};this.Bn=function(){Qd(b.Bn);var a;if(a=b.Jh)a=b.Jh,a=a.yh||a.zh?!0:!1;if(a){a=b.Jh;if(a.yh&&a.b){var d=a.c.I,e=a.c.D;if(!(0>=d||0>=e)){var f=a.b.l.qb,g=10+a.ca.h+24*f.h,f=10+a.ca.g+24*f.g,h=a.a.Cd.d.a.getContext("2d");h.clearRect(0,0,d,e);-24<=g&&g<=d+24&&-24<=f&&f<=e+24&&h.putImageData(a.c.Cd,g,f);a.yh=!1}}if(a.zh&&(d=a.c.I,e=a.c.D,0!==d&&0!==e)){if(!(a.Ob.I===d&&a.Ob.D===e&&1>Math.abs(a.ca.h-a.Ob.h)&&1>Math.abs(a.ca.g-a.Ob.g))){a.Ob.I=d;a.Ob.D=e;a.Ob.h=a.ca.h;a.Ob.g=a.ca.g;var g=a.a.fa.d.a.getContext("2d"),f=a.a.Gj.d.a.getContext("2d"),h=a.a.oj.d.a.getContext("2d"),k=a.a.Selection.d.a.getContext("2d");h.clearRect(0,0,d,e);f.clearRect(0,0,d,e);g.clearRect(0,0,d,e);k.clearRect(0,0,d,e);for(var k=10+a.ca.h,m=10+a.ca.g,n=a.ha.Da(),p=a.ai(),t=0;t<=n-1;t++){var q=m+24*t;if(-24<=q&&q<=e+24)for(var r=a.ha.ha[t].length-1,u=0;u<=r;u++){var v=k+24*u;if(-24<=v&&v<=d+24){var z=a.ha.K(u,t);if(!1===z.rf()){var H=z.He();switch(z.P){case Rd:H.od?g.putImageData(a.c.Xj,v,q):g.putImageData(a.c.ck,v,q);break;case Sd:H.od?1===H.bm?g.putImageData(a.c.Yj,v,q):g.putImageData(a.c.Zj,v,q):g.putImageData(a.c.$j,v,q);break;case Td:H.od?g.putImageData(a.c.ak,v,q):g.putImageData(a.c.bk,v,q)}}else{var H=z.He(),K=z.gc,C=K.P,I=z.hb,aa="",A=0;switch(x.Ae()){case 0:aa="";break;case 1:aa=""+z.qb.Xg;2>=aa.length?h.font="bold 10px sans-serif":(h.font="bold 9px sans-serif",A=-1);break;case 2:aa=H?""+z.qb.Xg:"";2>=aa.length?h.font="bold 10px sans-serif":(h.font="bold 9px sans-serif",A=-1);break;case 3:var P=a.b.na.ea(),aa=P.h,P=P.g,V=tb(K.ya()),K=V.g,aa=Ra(V.h,aa),aa=aa+(P+1-K);h.font=2>=aa.length?"bold 10px sans-serif":"bold 8px sans-serif"}K=h.measureText(aa).width;E===C?(H&&!0===p&&f.putImageData(a.c.Ta,v+2+a.c.pc,q+2+a.c.pc),h.putImageData(H?a.c.se:a.c.Gg,v+2,q+2),""===I?""!==aa&&(h.fillStyle=H?"#CCC":"rgb(192, 192, 192)",h.fillText(aa,v+12-K/2+A,q+12+3)):h.putImageData(H?a.c.nm:a.c.om,v+2,q+2)):F===C?(H&&!0===p&&f.putImageData(a.c.Ta,v+2+a.c.pc,q+2+a.c.pc),h.putImageData(H?a.c.Le:a.c.kh,v+2,q+2),""===I?""!==aa&&(h.fillStyle=H?"#000":"rgb(56, 56, 56)",h.fillText(aa,v+12-K/2+A,q+12+3)):h.putImageData(H?a.c.qm:a.c.rm,v+2,q+2)):h.putImageData(H?a.c.mm:a.c.pm,v+2,q+2);I=Xb(z);z=z.ka;0===u?0!==I&&(1===I?H?g.putImageData(a.c.Wi,v,q):g.putImageData(a.c.$i,v,q):H?0==z?g.putImageData(a.c.Xi,v,q):g.putImageData(a.c.Yi,v,q):g.putImageData(a.c.Zi,v,q)):0===I?H?g.putImageData(a.c.Ui,v,q):g.putImageData(a.c.Vi,v,q):1===I?H?g.putImageData(a.c.Qi,v,q):g.putImageData(a.c.aj,v,q):H?0===z?g.putImageData(a.c.Ri,v,q):g.putImageData(a.c.Si,v,q):g.putImageData(a.c.Ti,v,q);E!==C&&F!==C||g.clearRect(v+3,q+3,18,18)}}}}}a.zh=!1}}b.lk&&Ud(b,!1)};this.Bn()}function Vd(a){if(a.X){var b=document.createElement("div");b.style.width="100%";b.style.height="100%";b.style.position="absolute";b.style.left="0px";b.style.top="0px";b.style.backgroundColor="rgb(0, 0, 0)";b.style.opacity=.4;a.X.appendChild(b);a.Hh=b;if(b=Wd[a.X.id][Lb])b=b.a.d.a;var c;a:{if((c=a.X)&&b)for(var d=0,e=b.parentNode;null!=e;){if(e==c){c=!0;break a}d--;if(0>d)break;e=e.parentNode}c=!1}c&&(a.X.removeChild(b),a.X.appendChild(b))}}function Xd(a){a.Hh&&(a.X.removeChild(a.Hh),a.Hh=null)}l=Pd.prototype;l.Gb=function(){return this.X?parseInt(this.X.clientWidth):0};l.Da=function(){return this.X?parseInt(this.X.clientHeight):0};function Pb(a,b){for(var c=0,d=0,e=b;e!=a.X&&e;)c+=e.offsetLeft-e.scrollLeft+e.clientLeft,d+=e.offsetTop-e.scrollTop+e.clientTop,e=e.offsetParent;return{h:c,g:d}}l.Lg=function(a){this.be=1;Yd(this,a);var b=new ba(this);b.o(a,this.b);b.Ca();this.T.push(b);this.p()};l.Mg=function(a){this.be=2;Zd(this,a);this.Mc=295;a=this.b;var b=this.$e,c=this.X.id;this.dn=25;this.en=36;var d=c+"I";this.L(b.a,d);var e=D(d);J(e.i,0,0,1E3,0,!1,!1,!1,!1,-1,25);e.n=L|M|O;b.j(e);var f=d+"S";this.L(e.a,f);var g=D(f);J(g.i,0,0,1E3,1E3,!1,!1,!1,!1,122,-1);g.n=L|M|N;e.j(g);this.ie=new Bd(this);this.ie.o(f,a);this.T.push(this.ie);d+="T";this.L(e.a,d);f=D(d);J(f.i,122,0,1E3,1E3,!0,!1,!1,!1,-1,-1);f.n=L|O|N;e.j(f);this.je=new Dd(this);this.je.o(d,a);this.T.push(this.je);e=c+"T";this.L(b.a,e);d=D(e);J(d.i,0,0,1E3,0,!1,!1,!1,!0,-1,36);d.n=N|M|O;b.j(d);d=new jd(this);S(d,new Gc(this),36,T);S(d,new Hc(this),36,T);S(d,new Ic(this),36,T);S(d,new Jc(this),36,T);S(d,new Kc(this),36,T);S(d,new Lc(this),36,T);S(d,new cd(this),36,$d);S(d,new vc(this),36,$d);d.o(e,a);this.T.push(d);d=c+"B";e=this.L(b.a,d);c=D(d);J(c.i,0,25,1E3,36,!1,!0,!1,!0,-1,-1);c.n=M|O|L|N;b.j(c);b=d+"B";this.L(e,b);f=D(b);c.j(f);d+="N";this.L(e,d);e=D(d);c.j(e);e=new ba(this);e.o(b,this.b);e.Ca();this.T.push(e);c.Za(3,e,{Hb:0});this.p();ae(a)};l.Gi=function(a){Ld();this.Mc=739;Yd(this,a);var b=this.b,c=D(a);this.L(c.a,a+"div");var d=a+"div",e=new Hd;e.Ug=d;e.a=document.getElementById(d);e.Set(38);var f=e.a;c.j(e);var d=a+"_Board",g=a+"_ToolbarPanel";a=a+"_Toolbar";this.L(f,d);f=this.L(f,g);f.style.background="rgb(217, 217, 217)";this.L(f,a);f=D(d);J(f.i,0,0,1E3,38,!1,!1,!1,!0,-1,-1);f.n=L|M|O;e.j(f);f=new ba(this);f.o(d,b);f.Ca();d=D(g);J(d.i,0,0,1E3,0,!1,!1,!1,!0,-1,38);d.n=M|N|O;e.j(d);e=D(a);J(e.i,0,1,1E3,1,!1,!0,!1,!0,-1,-1);e.n=M|N|O;d.j(e);e=new jd(this);S(e,new Gc(this),36,T);S(e,new Hc(this),36,T);S(e,new Ic(this),36,T);S(e,new Jc(this),36,T);S(e,new Kc(this),36,T);S(e,new Lc(this),36,T);S(e,new Mc(this),36,T);S(e,new Nc(this),36,T);S(e,new Oc(this),36,T);S(e,new Pc(this),36,T);S(e,new Qc(this),36,T);S(e,new Rc(this),36,T);S(e,new Sc(this),36,T);S(e,new Tc(this),36,T);S(e,new Uc(this),36,T);S(e,new Vc(this),36,T);S(e,new Wc(this),36,T);S(e,new vc(this),36,T);S(e,new cd(this),36,$d);S(e,new Zc(this),36,$d);e.o(a,b);this.Va=c;this.T.push(f);this.T.push(e);this.p()};function Zd(a,b){Ld();var c=D(b);a.Va=c;var d=b+"GB";a.L(c.a,d);var e=D(d);J(e.i,0,0,1,1,!1,!1,!0,!0,-1,-1);e.n=L|M|O|N;c.j(e);Yd(a,d,e)}function be(a){var b=a.b,c=a.$e,d=a.X.id,e=b.sa.uh;a.rd=344;var f=new ba(a);c.Za(1,f,{Hb:a.rd});var g=d+"_Board",h=d+"_Panel";a.L(c.a,g);a.L(c.a,h);var k=D(g),d=D(h);c.j(k);c.j(d);f.o(g,b);f.Ca();g=h+"_CaT";h+="_Navigator";a.L(d.a,g);a.L(d.a,h);c=D(g);J(c.i,0,0,1E3,500,!1,!1,!1,!1,-1,-1);c.n=L|M|O|N;d.j(c);c.a.style.background="rgb(217, 217, 217)";k=D(h);J(k.i,0,500,1E3,1E3,!1,!1,!1,!1,-1,-1);k.n=L|M|O|N;d.j(k);d=new ce(a);d.o(h,b);var m=g+"_Info",h=g+"_Comments",k=g+"_Toolbar";a.L(c.a,m);a.L(c.a,h);a.L(c.a,k);var n=D(m);J(n.i,!0!==e?43:0,0,1E3,0,!0,!1,!1,!1,-1,50);n.n=L|M|O;c.j(n);var p=m+"_White",m=m+"_Black";a.L(n.a,p);a.L(n.a,m);var t=D(p);J(t.i,0,0,500,1E3,!1,!1,!1,!1,-1,-1);t.n=L|M|O|N;n.j(t);t=D(m);J(t.i,500,0,1E3,1E3,!1,!1,!1,!1,-1,-1);t.n=L|M|O|N;n.j(t);n=new Ad(a);n.o(p,b,F);p=new Ad(a);p.o(m,b,E);!0!==e&&(e=g+"_M",a.L(c.a,e),g=D(e),J(g.i,7,7,1E3,7,!0,!0,!1,!0,36,36),g.n=L|M,c.j(g),g=new qd(a),g.o(e,b),a.r.Sg=g,a.T.push(g));var q=new de(a);q.o(k);var r=q.Da(),u=D(k);J(u.i,6,0,6,0,!0,!1,!0,!0,-1,r);u.n=M|O|N;c.j(u);var v=D(h);J(v.i,0,50,1E3,r+1,!1,!0,!1,!0,-1,-1);v.n=L|M|O|N;c.j(v);ee(q,function(){r=q.Da();J(u.i,6,0,6,0,!0,!1,!0,!0,-1,r);J(v.i,0,50,1E3,r+1,!1,!0,!1,!0,-1,-1);a.p(!1)});e=new zd(a);e.o(h,b);a.T.push(f);a.T.push(d);a.T.push(e);a.T.push(q);a.T.push(p);a.T.push(n);a.p();ae(b)}function fe(a){a.Mc=332;var b=a.b,c=a.$e,d=a.X.id,e=b.sa.uh,f=d+"B";a.L(c.a,f).style.background="rgb(217, 217, 217)";f=D(f);J(f.i,0,0,1E3,0,!0,!1,!1,!1,-1,50);f.n=L|M|O;c.j(f);f=d+"I";a.L(c.a,f);if(!0!==e){var g=d+"M";a.L(c.a,g);var h=D(g);J(h.i,7,7,1E3,7,!0,!0,!1,!0,36,36);h.n=L|M;c.j(h);h=new qd(a);h.o(g,b);a.r.Sg=h;a.T.push(h)}g=D(f);J(g.i,!0!==e?43:0,0,1E3,0,!0,!1,!1,!1,-1,50);g.n=L|M|O;c.j(g);d=d+"O";a.L(c.a,d);var k=D(d);J(k.i,0,50,1E3,1E3,!1,!0,!1,!1,-1,-1);k.n=N|M|O;c.j(k);c=f+"W";a.L(g.a,c);e=D(c);J(e.i,0,0,500,1E3,!1,!1,!1,!1,-1,-1);e.n=L|M|O|N;g.j(e);e=new Ad(a);e.o(c,b,F);a.T.push(e);f+="B";a.L(g.a,f);c=D(f);J(c.i,500,0,1E3,1E3,!1,!1,!1,!1,-1,-1);c.n=L|M|O|N;g.j(c);c=new Ad(a);c.o(f,b,E);a.T.push(c);var m=new ba(a);a.T.push(m);k.Za(3,m,{Hb:a.ce-50});f=d+"B";a.L(k.a,f);c=D(f);k.j(c);m.o(f,b);m.Ca();d+="N";c=a.L(k.a,d);f=D(d);k.j(f);c.style.background="rgb(217, 217, 217)";c=d+"T";a.L(f.a,c);var n=new de(a);n.o(c);var p=n.Da();a.T.push(n);a.ce=p+160;k.Za(3,m,{Hb:a.ce-50});var t=D(c);J(t.i,0,1,1E3,0,!1,!0,!1,!1,-1,p);t.n=M|O|L;f.j(t);d+="U";a.L(f.a,d);var q=D(d);J(q.i,0,p+2,1E3,1E3,!1,!0,!1,!1,-1,-1);q.n=M|O|N;f.j(q);ee(n,function(){p=n.Da();a.ce=p+160;k.Za(3,m,{Hb:a.ce-50});J(t.i,0,1,1E3,0,!1,!0,!1,!1,-1,p);J(q.i,0,p+2,1E3,1E3,!1,!0,!1,!1,-1,-1);a.p(!1)});f=d+"L";a.L(q.a,f);c=D(f);J(c.i,0,0,0,1E3,!1,!1,!1,!1,36,-1);c.n=M|L|N;q.j(c);c=d+"R";a.L(q.a,c);g=D(c);J(g.i,36,0,1E3,1E3,!0,!1,!1,!1,-1,-1);g.n=O|L|N;q.j(g);d=c+"N";a.L(g.a,d);e=D(d);J(e.i,0,0,1E3,1E3,!1,!1,!1,!1,-1,-1);e.n=M|O|L|N;g.j(e);c+="C";a.L(g.a,c);e=D(c);J(e.i,0,0,1E3,1E3,!1,!1,!1,!1,-1,-1);e.n=M|O|L|N;g.j(e);g=new ce(a);g.o(d,b);a.T.push(g);g=new zd(a);g.o(c,b);a.T.push(g);g=new ge(a);g.o(f,b,d,c);a.T.push(g);a.p();ae(b);a.bn=50;a.cn=36;a.an=160}l.Kg=function(a){this.be=5;var b=this.b,c=new ba(this),d=D(a),e=a+"GoBoard";this.L(d.a,e);var f=D(e);J(f.i,0,0,1,1,!1,!1,!0,!0,-1,-1);f.n=L|M|O|N;d.j(f);this.rd=200;f.Za(1,c,{Hb:this.rd});var g=a+"_Board",h=a+"_Panel";this.L(f.a,g);this.L(f.a,h);var k=D(g);a=D(h);f.j(k);f.j(a);a.a.style.background="rgb(217, 217, 217)";c.o(g,b);c.Ca();c.b&&(c.b.sa.J.Qd=!1);f=h+"_Toolbar";g=h+"_Comments";this.L(a.a,g);this.L(a.a,f);h=D(g);J(h.i,0,38,1E3,1E3,!1,!0,!1,!1,-1,-1);h.n=L|M|O|N;a.j(h);h=D(f);J(h.i,6,1,1E3,1E3,!0,!0,!1,!0,-1,36);h.n=M|O|L;a.j(h);a=new zd(this);a.o(g,b);g=new jd(this);S(g,new Gc(this),36,T);S(g,new cd(this),36,T);g.o(f,b);this.T.push(c);this.T.push(a);this.T.push(g);this.Va=d;this.p();ae(b);Yd(this,e)};l.p=function(a){a?Ud(this,!0):this.lk=!0};function Yd(a,b,c){a.X=document.getElementById(b);a.$e=c;a.X.style.background="url('"+he+"')";a.X.onclick=a.hp}function Ud(a,b){if(!0===a.xh){var c=a.Va.a.clientWidth,d=a.Va.a.clientHeight;0<a.Mc&&c<a.Mc&&(c=a.Mc);var e=-1,e=d-(c-a.rd)>a.ce+100?1:0;if(a.xk!==e){a.xk=e;for(Qb(a);a.X.firstChild;)a.X.removeChild(a.X.firstChild);a.$e&&a.$e.Ia();Wd={};0===a.xk?be(a):fe(a);a.b&&(a.b.ja(a.b.l,!0),a.b.rc(!0))}}a.lk=!1;a.Va&&(c=a.Va.a.clientWidth,d=a.Va.a.clientHeight,0<a.Mc&&c<a.Mc&&(c=a.Mc),a.Va.kb(c,d));c=0;for(d=a.T.length;c<d;c++)a.T[c].p(b)}l.L=function(a,b){var c=document.createElement("div");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};l.Tl=function(a){this.na=a};function Rb(a,b){Qb(a);a.Eh=b}l.Ul=function(a){this.Mk.dj=a};function Qb(a){if(a.Eh){var b=a.Eh;a.Eh=null;a.X.removeChild(b)}}l.Ol=function(){this.Zf&&xc(this.Zf,0)};l.pj=function(){this.Zf&&xc(this.Zf,16)};function yd(a){a.r.ej&&yc(a.r.ej,a.b.vc)}l.Tj=function(a){if(this.Rc){var b=this.Rc;b.Th=a;b.ua()}this.je&&(a=this.je,a.Sk=this.b.ze(),a.ua())};l.Uj=function(a){if(this.Rc){var b=this.Rc;b.Uh=a;b.ua()}};l.Vj=function(a){if(this.Wc){var b=this.Wc;b.Th=a;b.ua()}this.je&&(a=this.je,a.Sk=this.b.ze(),a.ua())};l.Wj=function(a){if(this.Wc){var b=this.Wc;b.Uh=a;b.ua()}};l.Cf=function(a,b){this.Rc&&this.Rc.Cf(a);this.Wc&&this.Wc.Cf(b);this.ie&&this.ie.ld(b,a)};l.ld=function(a,b){this.Rc&&this.Rc.ld(a);this.Wc&&this.Wc.ld(b);this.ie&&this.ie.ld(b,a)};l.rc=function(a){for(var b=0,c=this.r.li.length;b<c;b++)wc(this.r.li[b],a.Zc);b=0;for(c=this.r.mi.length;b<c;b++)wc(this.r.mi[b],a.Zc);b=0;for(c=this.r.Zc.length;b<c;b++)wc(this.r.Zc[b],a.Zc);b=0;for(c=this.r.bd.length;b<c;b++)wc(this.r.bd[b],a.bd);b=0;for(c=this.r.Mi.length;b<c;b++)wc(this.r.Mi[b],a.bd);b=0;for(c=this.r.Li.length;b<c;b++)wc(this.r.Li[b],a.bd);b=0;for(c=this.r.gd.length;b<c;b++)wc(this.r.gd[b],a.gd);b=0;for(c=this.r.hd.length;b<c;b++)wc(this.r.hd[b],a.hd);b=0;for(c=this.r.ri.length;b<c;b++)yc(this.r.ri[b],0===a.Eb);b=0;for(c=this.r.ti.length;b<c;b++)yc(this.r.ti[b],1===a.Eb);b=0;for(c=this.r.qi.length;b<c;b++)yc(this.r.qi[b],2===a.Eb);b=0;for(c=this.r.wi.length;b<c;b++)yc(this.r.wi[b],3===a.Eb);b=0;for(c=this.r.ui.length;b<c;b++)yc(this.r.ui[b],4===a.Eb);b=0;for(c=this.r.pi.length;b<c;b++)yc(this.r.pi[b],5===a.Eb);b=0;for(c=this.r.xi.length;b<c;b++)yc(this.r.xi[b],6===a.Eb);b=0;for(c=this.r.vi.length;b<c;b++)yc(this.r.vi[b],7===a.Eb);b=0;for(c=this.r.si.length;b<c;b++)yc(this.r.si[b],8===a.Eb);b=0;for(c=this.r.oi.length;b<c;b++)yc(this.r.oi[b],10===a.Eb);this.Kk&&(b=this.Kk,!0!==b.Kf&&Je(b,a.hm,!0));if(this.fg&&(b=this.fg,a=a.Eb,b.va!==a)){b.va=a;switch(a){case 0:b.c=b.kn.c;break;case 1:b.c=b.mn.c;break;case 2:b.c=b.gn.c;break;case 3:b.c=b.pn.c;break;case 4:b.c=b.nn.c;break;case 5:b.c=b.jn.c;break;case 6:b.c=b.qn.c;break;case 7:b.c=b.on.c;break;case 8:b.c=b.ln.c;break;case 10:b.c=b.hn.c}uc(b)}this.Mk.dj&&(a=this.Mk.dj,Ke(a,a.a.$c.getContext("2d")));Le()};l.kd=function(a){for(var b=0,c=this.hk.length;b<c;b++)this.hk[b].kd(a)};function Le(){var a=Wd[jc];a&&a.Lf&&a.Ja()}l.Nj=function(){var a=x.Nj();this.r.bb&&this.r.bb.Aj(a);return a};l.Pj=function(){var a=x.Pj();this.r.bb&&this.r.bb.Dj(a);return a};l.Lj=function(){var a=x.Lj();this.r.bb&&this.r.bb.wj(a);return a};l.Kj=function(){var a=x.Kj();this.r.bb&&this.r.bb.tj(a);return a};l.Oj=function(){var a=x.Oj();this.r.bb&&this.r.bb.Cj(a);return a};l.Mj=function(){var a=x.Mj();this.r.bb&&this.r.bb.xj(a);return a};l.ye=function(a){var b=this.b?this.b.k:null;if(!b||.1>Math.abs(wa(b)))return 0;b=1/wa(b);switch(this.be){case 1:return b*a;case 2:return this.dn+this.en+b*a;case 3:return this.an+this.bn+this.cn+b*a;case 4:return(a-this.rd)*b;case 5:return(a-this.rd)*b;default:return 0}};var Me=0,Ne=1,xb=2,B=new function(){this.zi=this.g=this.h=0;this.Hc=Ne;this.u=this.s=this.Dg=!1;this.ab=null;this.tf=-1;this.Kl=this.Jl=this.lf=0;this.bj=this.Qg=!1},pa=new function(){this.u=this.s=this.Dg=!1;this.ab=null;this.G=this.Nn=0};function oa(a){pa.Dg=a.altKey;pa.s=void 0!==a.metaKey?a.ctrlKey||a.metaKey:a.ctrlKey;pa.u=a.shiftKey;pa.ab=a.srcElement?a.srcElement:a.target;pa.Nn=a.charCode;pa.G=a.keyCode;pa.zp=a.which}function da(a){if(!a.Qg||a.bj){if(a.pageX||a.pageY)B.h=a.pageX,B.g=a.pageY;else if(a.clientX||a.clientY)B.h=a.clientX,B.g=a.clientY;B.Dg=a.altKey;B.u=a.shiftKey;B.s=a.ctrlKey||a.metaKey;B.Hc=Ne;B.Qg||(B.ab=a.srcElement?a.srcElement:a.target);if(3<Math.abs(B.h-B.Jl)||3<Math.abs(B.g-B.Kl))B.tf=-1,B.lf=0}}function la(a){if(a.pageX||a.pageY)B.h=a.pageX,B.g=a.pageY;else if(a.clientX||a.clientY)B.h=a.clientX,B.g=a.clientY;B.Jl=B.h;B.Kl=B.g;B.Dg=a.altKey;B.u=a.shiftKey;B.s=a.ctrlKey||a.metaKey;B.Hc=Me;B.zi=a.button;B.ab=a.srcElement?a.srcElement:a.target;a=(new Date).getTime();0==B.lf?(B.lf=1,B.tf=a):500>a-B.tf?(B.tf=a,B.lf++):(B.lf=1,B.tf=a);window.mh=!1}window.onmousemove=function(a){B.Qg&&void 0!=B.ab&&null!=B.ab&&void 0!=B.ab.onmousemove&&null!=B.ab.onmousemove&&(B.bj=!0,B.ab.onmousemove(a),B.bj=!1)};window.onmouseup=function(a){if(!1===window.mh){window.mh=!0;if(B.Qg&&B.ab&&void 0!=B.ab.onmouseup&&null!=B.ab.onmouseup)B.ab.onmouseup(a,!0);B.ab=null}};function Oe(){this.hd=this.gd=this.bd=this.Zc=!0;this.hm=this.Eb=0};var Ca=-1,rb=0,qb=1,pb=2,kb=3,sb=4,lb=5,mb=6,nb=7,ob=8;function Ba(a,b,c,d){this.Nh={h:void 0===a?0:a,g:void 0==b?0:b};this.P=void 0===c?rb:c;this.ef=void 0===d?"":d}Ba.prototype.Fd=function(){return this.Nh.h};Ba.prototype.Gd=function(){return this.Nh.g};Ba.prototype.Yl=function(a,b){this.Nh.h=a;this.Nh.g=b};Ba.prototype.Za=function(a){this.P=a};function ce(a){function b(){if(d.Jc)d.yc=null;else{var a=parseFloat(d.a.Ea.style.opacity),c=parseFloat(d.a.Ra.style.opacity),a=Math.max(a-.01,0),c=Math.max(c-.01,0);d.a.Ea.style.opacity=a;d.a.Ra.style.opacity=c;.001<a?d.yc=setTimeout(b,10):d.yc=null}}function c(){if(d.Jc)d.yc=null;else{var a=parseFloat(d.a.za.style.opacity),b=parseFloat(d.a.Ka.style.opacity),a=Math.max(a-.01,0),b=Math.max(b-.01,0);d.a.za.style.opacity=a;d.a.Ka.style.opacity=b;.001<a?d.Pc=setTimeout(c,10):d.Pc=null}}this.f=a;this.b=null;this.ha=new Pe;this.zh=this.yh=!0;this.a={d:null,$:{d:null},Selection:{d:null},Cd:{d:null},fa:{d:null},Gj:{d:null},oj:{d:null},Rn:{d:null},Ea:null,za:null,Ra:null,Ka:null,xf:0,wf:0};this.Nb=null;this.c={I:0,D:0,$:null,se:null,Le:null,Gg:null,kh:null,Wi:null,Fl:null,Qi:null,El:null,Ui:null,Xj:null,tm:null,ak:null,$i:null,Xi:null,Yi:null,Zi:null,aj:null,Ri:null,Si:null,Ti:null,Vi:null,ck:null,Yj:null,Zj:null,$j:null,bk:null,mm:null,pm:null,nm:null,qm:null,om:null,rm:null,Od:null,Cd:null,Ta:null,pc:0};this.ca={h:0,g:0};this.Jc=!1;this.wo=!0;this.Ob={I:0,D:0,h:0,g:0};this.Pc=this.yc=this.Xe=this.Te=null;var d=this;this.el=function(){return setTimeout(function(){d.Yk()},20)};this.zg=function(a){d.Jc||(d.b&&d.b.Ca(),la(a),a=d.hf(B.h,B.g),a=d.ha.K(a.h,a.g),a.rf()&&d.b&&d.b.ja(a))};this.ei=function(a){d.Jc||(da(a),a=d.hf(B.h,B.g),Qe(d,a.h,a.g))};this.Ag=function(){d.Jc||Qe(d,-1,-1)};this.Bg=function(a){if(d.Jc)return!1;var b=0,b=void 0!=a.wheelDelta?0<a.wheelDelta?-45:45:0<a.detail?45:-45;a.preventDefault&&a.preventDefault();var g=20+24*(d.ha.Da()+1)-d.a.$.d.a.height;d.ca.g-=b;d.ca.g=Math.min(0,Math.max(d.ca.g,-g));Re(d);d.ei(a);Se(d);d.Wk();d.a.Ka.style.opacity=.3;d.a.za.style.opacity=.5;d.Pc=setTimeout(c,500);return!1};this.di=function(){d.b&&d.b.Ca()};this.$h=function(){null!==d.Te&&(clearTimeout(d.Te),d.Te=null)};this.yn=function(){null!==d.yc&&(clearTimeout(d.yc),d.yc=null)};this.ip=function(a){function b(a){var c=-d.ca.h;c!==m?(c=c<m?Math.min(m,c+200):Math.max(m,c-200),d.ca.h=-c,Re(d),Se(d),c!==m?d.Te=setTimeout(b,!0===a?300:30):d.Te=null):d.Te=null}d.$h();la(a);a=B.h-Oa(d.a.Ra).h;var c=d.ha.Gb()+1,h=d.a.xf,k=d.c.I-4;a=Math.max(0,Math.min(k-h,a-h/2));var m=a/(k-h)*(20+24*c-k);b(!0)};this.tp=function(){d.$h()};this.qp=function(){d.yn();d.a.Ra.style.opacity=.3;d.a.Ea.style.opacity=.5};this.lp=function(){d.$h();d.yc=setTimeout(b,10)};this.Xk=function(){null!==d.Xe&&(clearTimeout(d.Xe),d.Xe=null)};this.Wk=function(){null!==d.Pc&&(clearTimeout(d.Pc),d.Pc=null)};this.jp=function(a){function b(a){var c=-d.ca.g;c!==m?(c=c<m?Math.min(m,c+48):Math.max(m,c-48),d.ca.g=-c,Re(d),Se(d),c!==m?d.Xe=setTimeout(b,!0===a?300:30):d.Xe=null):d.Xe=null}d.Xk();la(a);a=B.g-Oa(d.a.Ka).g;var c=d.ha.Da()+1,h=d.a.wf,k=d.c.D-4;a=Math.max(0,Math.min(k-h,a-h/2));var m=a/(k-h)*(20+24*c-k);b(!0)};this.up=function(){d.Xk()};this.sp=function(){d.Wk();d.a.Ka.style.opacity=.3;d.a.za.style.opacity=.5};this.np=function(){d.Xk();d.Pc=setTimeout(c,10)};this.pp=function(){d.yn();d.a.Ea.style.opacity=.7;d.a.Ra.style.opacity=.3};this.kp=function(){d.$h();d.yc=setTimeout(b,10)};this.rp=function(){d.Wk();d.a.za.style.opacity=.7;d.a.Ka.style.opacity=.3};this.mp=function(){d.a.za.style.opacity=.5;d.Pc=setTimeout(c,10)};this.An=function(){d.Jc=!0};this.zn=function(){d.Jc=!1;var a=B.h,f=B.g,g=Oa(d.a.Ra),h=g.h,g=g.g,k=d.a.Ra.clientWidth,m=d.a.Ra.clientHeight;if(a<h||a>h+k||f<g||f>g+m)d.yc=setTimeout(b,10);g=Oa(d.a.Ka);h=g.h;g=g.g;k=d.a.Ka.clientWidth;m=d.a.Ka.clientHeight;if(a<h||a>h+k||f<g||f>g+m)d.Pc=setTimeout(c,10)};this.Uo=function(a){a-=2;var b=d.ha.Gb()+1,c=d.c.I;d.ca.h=-(a/(c-4-d.a.xf)*(20+24*b-c));Re(d)};this.bp=function(a,b){b-=2;var c=d.ha.Da()+1,h=d.c.D;d.ca.g=-(b/(h-4-d.a.wf)*(20+24*c-h));Re(d)}}l=ce.prototype;l.o=function(a,b){this.f&&(this.f.Jh=this);this.b=b;this.b.M=this;this.ha.vj(b);this.a.d=D(a);var c=this.a.d.a,d=this.a.d,e=a+"_Board",f=a+"_Selection",g=a+"_Current",h=a+"_Lines",k=a+"_Shadows",m=a+"_Nodes",n=a+"_Events";this.Qa(c,e);this.Qa(c,f);this.Qa(c,g);this.Qa(c,h);this.Qa(c,k);this.Qa(c,m);var p=this.qa(c,n);this.a.Ra=this.qa(c,a+"HorScroll_BG");this.a.Ea=this.qa(c,a+"HorScroll");this.a.Ka=this.qa(c,a+"VerScroll_BG");this.a.za=this.qa(c,a+"VerScroll");this.a.Ra.style.background="rgb(0,0,0)";this.a.Ra.style.opacity="0";this.a.Ka.style.background="rgb(0,0,0)";this.a.Ka.style.opacity="0";this.a.Ra.onmousedown=this.ip;this.a.Ra.onmouseup=this.tp;this.a.Ra.onmouseover=this.qp;this.a.Ra.onmouseout=this.lp;this.a.Ka.onmousedown=this.jp;this.a.Ka.onmouseup=this.up;this.a.Ka.onmouseover=this.sp;this.a.Ka.onmouseout=this.np;this.a.Ea.onmouseover=this.pp;this.a.Ea.onmouseout=this.kp;this.a.za.onmouseover=this.rp;this.a.za.onmouseout=this.mp;c=D(a+"HorScroll_BG");J(c.i,2,0,2,4,!0,!1,!0,!0,-1,8);c.n=M|N|O;d.j(c);c=D(a+"VerScroll_BG");J(c.i,0,2,4,2,!1,!0,!0,!0,8,-1);c.n=L|N|O;d.j(c);this.wa(this.a.$,d,e);this.wa(this.a.Selection,d,f);this.wa(this.a.Cd,d,g);this.wa(this.a.fa,d,h);this.wa(this.a.Gj,d,k);this.wa(this.a.oj,d,m);this.wa(this.a.Rn,d,n);p.onmousedown=this.zg;p.onmousemove=this.ei;p.onmouseout=this.Ag;p.onmousewheel=this.Bg;p.addEventListener&&p.addEventListener("DOMMouseScroll",this.Bg,!1);p.onfocus=this.di;p.tabIndex=-1;p.style.uo=!0;p.style.outline=0;this.wg();this.ug();Te(this);this.vg()};function Ue(a){a.wg();a.ug();Te(a);a.vg();a.p(!0)}l.p=function(a){var b=this.a.d.a.clientWidth,c=this.a.d.a.clientHeight;this.a.d.kb(b,c);this.jc(b,c,a)};l.Ja=function(){if(!(0>=this.c.I||0>=this.c.D)){var a=this.ha.Gb()+1,b=this.ha.Da()+1,c=this.c.I,d=this.c.D,a=20+24*a,b=20+24*b;a>c?(this.a.xf=Math.max(50,c*c/a),this.a.Ea.style.width=Math.max(50,c*c/a)+"px",this.a.Ea.style.display="block",this.a.Ea.style.position="absolute",this.a.Ea.style.top=d-12+"px",this.a.Ea.style.height="8px",this.a.Ea.style.background=this.Ac()?"rgb(220, 220, 220)":"rgb(0,0,0)",this.a.Ea.style.opacity=0,Ve(this.a.Ea,2,c-this.a.xf-2,d-12,d-12),this.a.Ea.Db=this.Uo,this.a.Ea.Zh=this.An,this.a.Ea.Yh=this.zn,this.a.Ra.style.display="block"):(this.a.Ra.style.display="none",this.a.Ea.style.display="none");b>d?(this.a.wf=Math.max(50,d*d/b),this.a.za.style.height=Math.max(50,d*d/b)+"px",this.a.za.style.display="block",this.a.za.style.position="absolute",this.a.za.style.left=c-12+"px",this.a.za.style.width="8px",this.a.za.style.background=this.Ac()?"rgb(220, 220, 220)":"rgb(0,0,0)",this.a.za.style.opacity=0,Ve(this.a.za,c-12,c-12,2,d-this.a.wf-2),this.a.za.Db=this.bp,this.a.za.Zh=this.An,this.a.za.Yh=this.zn,this.a.Ka.style.display="block"):(this.a.Ka.style.display="none",this.a.za.style.display="none");this.Ob.D=-1;this.Ob.I=-1;Re(this);Se(this)}};l.Sb=function(){this.ha.Sb();this.Ob.D=-1;this.Ob.I=-1};function We(a,b){a.yh=!0;var c=a.c.I,d=a.c.D;if(!(0>=c||0>=d)){var e=a.b.l.qb,f=e.h,e=e.g,g=10+a.ca.h+24*f,h=10+a.ca.g+24*e;if(0!=b&&!0===a.wo&&(10>=g||g>=c-10||10>=h||h>=d-10)){var k=20+24*(a.ha.Da()+1)-d,m=20+24*(a.ha.Gb()+1)-c;10>=g?a.ca.h=24*-f:g>=c-10&&(a.ca.h=c-24-10-10-24*f);10>=h?a.ca.g=24*-e:h>=d-10&&(a.ca.g=d-24-10-10-24*e);a.ca.h=Math.min(0,Math.max(a.ca.h,-m));a.ca.g=Math.min(0,Math.max(a.ca.g,-k));Se(a);Re(a)}}}l.Qa=function(a,b){var c=document.createElement("canvas");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};l.qa=function(a,b){var c=document.createElement("div");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};l.wa=function(a,b,c){a.d=D(c);a=a.d;J(a.i,0,0,1E3,1E3,!1,!1,!1,!1,-1,-1);a.n=L|M|N|O;b.j(a)};l.jc=function(a,b,c){var d=this.a.$.d.a.getContext("2d");a!==this.c.I||b!==this.c.D||null===this.c.$||null!==this.Nb||!0===c?(this.c.I=a,this.c.D=b,d.fillStyle=Q(this.yg()),d.fillRect(0,0,a,b),null!==this.Nb&&clearTimeout(this.Nb),this.Nb=this.el()):d.putImageData(this.c.$,0,0);this.Ja();We(this,!0)};l.Yk=function(){this.Nb=null;var a=this.c.I,b=this.c.D,c=this.a.$.d.a.getContext("2d");if(0!==a&&0!==b){for(var d=c.createImageData(a,b),e=this.yg(),f=e.w,g=e.B,e=e.A,h=Array(a),k=0;k<a;k++)h[k]=(Math.tan(300*k/a)+1)/2+(Math.tan(100*k/a)+1)/10;for(var m=Array(b),n=0;n<b;n++)m[n]=.02*Math.tan(n/b);var p,t,q,k=this.pe();if(!0===this.bi())for(q=.9,n=0;n<b;n++)for(k=0;k<a;k++){q=40*(h[k]+m[n])+.5;q-=Math.floor(q);q=.2>q?1-q/2:.4>q?1-(.4-q)/2:1;if(n==b-1||n==b-2&&k<a-2||k>=a-1||k==a-2&&n<b-1)q/=2;0==n||1==n&&1<k||0==k||1==k&&1<n?(p=128+f*q/2,t=128+g*q/2,q=128+e*q/2):(p=f*q,t=g*q,q*=e);var r=4*(k+n*a);d.data[r+0]=p;d.data[r+1]=t;d.data[r+2]=q;d.data[r+3]=255}else for(h=0;h<b;h++)for(m=0;m<a;m++)0==h||0==m||h===b-1||m===a-1?(p=k.w,t=k.B,q=k.A):(p=f,t=g,q=e),r=4*(m+h*a),d.data[r+0]=p,d.data[r+1]=t,d.data[r+2]=q,d.data[r+3]=255;this.c.$=d;c.putImageData(this.c.$,0,0)}};l.wg=function(){var a=this.a.oj.d.a.getContext("2d");this.c.se=a.createImageData(20,20);this.c.Le=a.createImageData(20,20);this.c.Gg=a.createImageData(20,20);this.c.kh=a.createImageData(20,20);var a=this.c.se.data,b=this.c.Le.data,c=this.c.Gg.data,d=this.c.kh.data,e=this.al(),f=this.Zk(),g=this.Ac();if(!0===this.$k())for(var h=9.5,k=h-.2,e=Math.sqrt(3),m=0;20>m;m++)for(var n=0;20>n;n++){var p=m-h,t=n-h,q=k-Math.sqrt(p*p+t*t),r=4*(20*m+20-n-1);if(0<=q){var u=k*k-p*p-t*t,u=0<u?Math.sqrt(u)*e:0,g=p,v=t,f=Math.sqrt(6*(g*g+v*v+u*u)),f=(2*u-g+v)/f,g=0;.9<f&&(g=10*(f-.9));u=255;.8>=q&&(q=(.8-q)/.8,u=.7,p-t<k/3&&(u=1),u=parseInt(255*(1-q*u)));p=parseInt(10+10*f+140*g);a[r+0]=p;a[r+1]=p;a[r+2]=p;a[r+3]=u;c[r+0]=p;c[r+1]=p;c[r+2]=p;c[r+3]=parseInt(.5*u);p=parseInt(200+10*f+45*g);b[r+0]=p;b[r+1]=p;b[r+2]=p;b[r+3]=u;d[r+0]=p;d[r+1]=p;d[r+2]=p;d[r+3]=parseInt(.7*u)}else a[r+0]=0,a[r+1]=0,a[r+2]=0,a[r+3]=0,d[r+0]=0,d[r+1]=0,d[r+2]=0,d[r+3]=0}else for(h=9.5,k=h-.2,m=0;20>m;m++)for(n=0;20>n;n++)if(p=m-h,t=n-h,q=k-Math.sqrt(p*p+t*t),r=4*(20*m+20-n-1),0<=q){u=255;if(.8>=q){var z=(.8-q)/.8,u=.7;p-t<k/3&&(u=1);u=parseInt(255*(1-z*u))}else 1.6>=q&&.8<=q&&!0===g&&(z=(1.6-q)/.8,u=.7,p-t<k/3&&(u=1),u=parseInt(z*u*255));v=!1;1.6>=q&&(v=!0);!1===v||!1===g?(a[r+0]=f.w,a[r+1]=f.B,a[r+2]=f.A,a[r+3]=u,c[r+0]=f.w,c[r+1]=f.B,c[r+2]=f.A):(a[r+0]=e.w,a[r+1]=e.B,a[r+2]=e.A,a[r+3]=u,c[r+0]=e.w,c[r+1]=e.B,c[r+2]=e.A);c[r+3]=parseInt(.5*u);u=255;.8>=q?(z=(.8-q)/.8,u=.7,p-t<k/3&&(u=1),u=parseInt(255*(1-z*u))):1.6>=q&&.8<=q&&!1===g&&(z=(1.6-q)/.8,u=.7,p-t<k/3&&(u=1),u=parseInt(z*u*255));!1===v||!0===g?(b[r+0]=e.w,b[r+1]=e.B,b[r+2]=e.A,b[r+3]=u,d[r+0]=e.w,d[r+1]=e.B,d[r+2]=e.A):(b[r+0]=f.w,b[r+1]=f.B,b[r+2]=f.A,b[r+3]=u,d[r+0]=f.w,d[r+1]=f.B,d[r+2]=f.A);d[r+3]=parseInt(u/2)}else a[r+0]=0,a[r+1]=0,a[r+2]=0,a[r+3]=0,c[r+0]=0,c[r+1]=0,c[r+2]=0,c[r+3]=0,b[r+0]=0,b[r+1]=0,b[r+2]=0,b[r+3]=0,d[r+0]=0,d[r+1]=0,d[r+2]=0,d[r+3]=0};l.ug=function(){var a=this.a.fa.d.a.getContext("2d");this.c.Wi=a.createImageData(24,24);this.c.Fl=a.createImageData(24,24);this.c.Qi=a.createImageData(24,24);this.c.El=a.createImageData(24,24);this.c.Ui=a.createImageData(24,24);this.c.Xj=a.createImageData(24,24);this.c.tm=a.createImageData(24,24);this.c.ak=a.createImageData(24,24);this.c.$i=a.createImageData(24,24);this.c.Xi=a.createImageData(24,24);this.c.Yi=a.createImageData(24,24);this.c.Zi=a.createImageData(24,24);this.c.aj=a.createImageData(24,24);this.c.Ri=a.createImageData(24,24);this.c.Si=a.createImageData(24,24);this.c.Ti=a.createImageData(24,24);this.c.Vi=a.createImageData(24,24);this.c.ck=a.createImageData(24,24);this.c.Yj=a.createImageData(24,24);this.c.Zj=a.createImageData(24,24);this.c.$j=a.createImageData(24,24);this.c.bk=a.createImageData(24,24);for(var a=this.c.Wi.data,b=this.c.Fl.data,c=this.c.Qi.data,d=this.c.El.data,e=this.c.Ui.data,f=this.c.Xj.data,g=this.c.tm.data,h=this.c.ak.data,k=this.c.$i.data,m=this.c.Xi.data,n=this.c.Yi.data,p=this.c.Zi.data,t=this.c.aj.data,q=this.c.Ri.data,r=this.c.Si.data,u=this.c.Ti.data,v=this.c.Vi.data,z=this.c.ck.data,H=this.c.Yj.data,K=this.c.Zj.data,C=this.c.$j.data,I=this.c.bk.data,aa=!0===this.Ac()?200:28,A=new y(aa,aa,aa,255),P=0;24>P;P++)for(var V=0;24>V;V++){var w=4*(24*P+V);12<=V&&(11===P||12===P)?(a[w+0]=A.w,a[w+1]=A.A,a[w+2]=A.B,a[w+3]=255,k[w+0]=A.w,k[w+1]=A.A,k[w+2]=A.B,k[w+3]=96):(a[w+3]=0,k[w+3]=0);11<=V&&(11===P||12===P)||12<=P&&(11===V||12===V)?(b[w+0]=A.w,b[w+1]=A.A,b[w+2]=A.B,b[w+3]=255,p[w+0]=A.w,p[w+1]=A.A,p[w+2]=A.B,p[w+3]=96):(b[w+3]=0,p[w+3]=0);11<=V&&(11===P||12===P)?(m[w+0]=A.w,m[w+1]=A.A,m[w+2]=A.B,m[w+3]=255):12<=P&&(11===V||12===V)?(m[w+0]=A.w,m[w+1]=A.A,m[w+2]=A.B,m[w+3]=96):m[w+3]=0;12<=P&&(11===V||12===V)?(n[w+0]=A.w,n[w+1]=A.A,n[w+2]=A.B,n[w+3]=255):11<=V&&(11===P||12===P)?(n[w+0]=A.w,n[w+1]=A.A,n[w+2]=A.B,n[w+3]=96):n[w+3]=0;11===P||12===P?(c[w+0]=A.w,c[w+1]=A.A,c[w+2]=A.B,c[w+3]=255,t[w+0]=A.w,t[w+1]=A.A,t[w+2]=A.B,t[w+3]=96):(c[w+3]=0,t[w+3]=0);11===P||12===P||12<=P&&(11===V||12===V)?(d[w+0]=A.w,d[w+1]=A.A,d[w+2]=A.B,d[w+3]=255,u[w+0]=A.w,u[w+1]=A.A,u[w+2]=A.B,u[w+3]=96):(d[w+3]=0,u[w+3]=0);11===P||12===P?(q[w+0]=A.w,q[w+1]=A.A,q[w+2]=A.B,q[w+3]=255):12<=P&&(11===V||12===V)?(q[w+0]=A.w,q[w+1]=A.A,q[w+2]=A.B,q[w+3]=96):q[w+3]=0;(11===P||12===P)&&12>=V||12<=P&&(11===V||12===V)?(r[w+0]=A.w,r[w+1]=A.A,r[w+2]=A.B,r[w+3]=255):(11===P||12===P)&&12<V?(r[w+0]=A.w,r[w+1]=A.A,r[w+2]=A.B,r[w+3]=96):(d[w+3]=0,u[w+3]=0);11>=V&&(11===P||12===P)?(e[w+0]=A.w,e[w+1]=A.A,e[w+2]=A.B,e[w+3]=255,v[w+0]=A.w,v[w+1]=A.A,v[w+2]=A.B,v[w+3]=96):(e[w+3]=0,v[w+3]=0);11===V||12===V?(f[w+0]=A.w,f[w+1]=A.A,f[w+2]=A.B,f[w+3]=255,z[w+0]=A.w,z[w+1]=A.A,z[w+2]=A.B,z[w+3]=96):(f[w+3]=0,z[w+3]=0);11===V||12===V||12<=V&&(11===P||12===P)?(g[w+0]=A.w,g[w+1]=A.A,g[w+2]=A.B,g[w+3]=255,C[w+0]=A.w,C[w+1]=A.A,C[w+2]=A.B,C[w+3]=96):(g[w+3]=0,C[w+3]=0);(11===V||12===V)&&12>=P||12<=V&&(11===P||12===P)?(H[w+0]=A.w,H[w+1]=A.A,H[w+2]=A.B,H[w+3]=255):(11===V||12===V)&&12<P?(H[w+0]=A.w,H[w+1]=A.A,H[w+2]=A.B,H[w+3]=96):H[w+3]=0;11===V||12===V?(K[w+0]=A.w,K[w+1]=A.A,K[w+2]=A.B,K[w+3]=255):12<V&&(11===P||12===P)?(K[w+0]=A.w,K[w+1]=A.A,K[w+2]=A.B,K[w+3]=96):K[w+3]=0;11>=P&&(11===V||12===V)||11<=V&&(11===P||12===P)?(h[w+0]=A.w,h[w+1]=A.A,h[w+2]=A.B,h[w+3]=255,I[w+0]=A.w,I[w+1]=A.A,I[w+2]=A.B,I[w+3]=96):(h[w+3]=0,I[w+3]=0)}this.c.mm=this.ic(20,20,20*.07,A,1,null);this.c.pm=this.ic(20,20,20*.07,new y(aa,aa,aa,96),1,null);this.c.nm=this.ic(20,20,1.2,new y(255,255,255,255),1,this.c.se);this.c.qm=this.ic(20,20,1.2,new y(0,0,0,255),1,this.c.Le);this.c.om=this.ic(20,20,1.2,new y(255,255,255,96),1,this.c.Gg);this.c.rm=this.ic(20,20,1.2,new y(0,0,0,96),1,this.c.kh)};function Te(a){var b=a.a.Selection.d.a.getContext("2d");a.c.Od=b.createImageData(24,24);a.c.Cd=b.createImageData(24,24);for(var c=a.c.Od.data,d=a.c.Cd.data,e=0;24>e;e++)for(var f=0;24>f;f++){var g=4*(f+24*e);c[g+3]=255;d[g+3]=255;0===f&&23===e||23===f&&0===e?(c[g+0]=135,c[g+1]=125,c[g+2]=135,d[g+0]=216):23===f||23===e?(c[g+0]=89,c[g+1]=89,c[g+2]=89,d[g+0]=178):(0===e||0===f?(c[g+0]=182,c[g+1]=182,c[g+2]=182):(c[g+0]=128,c[g+1]=128,c[g+2]=128),d[g+0]=255);d[g+1]=0;d[g+2]=0}b.putImageData(a.c.Od,0,0);b.putImageData(a.c.Cd,0,30)}l.ic=function(a,b,c,d,e,f){void 0===e&&(e=1);var g=this.a.fa.d.a.getContext("2d");g.clearRect(0,0,a,b);null!==f&&g.putImageData(f,0,0);g.globalAlpha=e;g.strokeStyle=Q(d);g.fillStyle=Q(d);g.lineWidth=c;e=a/2;d=3*b/4;var h=.1*a;c=Math.sqrt(e*e-(d-e)*(d-e))+e-h;e=-Math.sqrt(e*e-(d-e)*(d-e))+e+h;null!==f&&(c=Math.floor(c-.5),e=Math.ceil(e+.5),h=Math.ceil(h+.5),d=Math.floor(d-.5));g.beginPath();g.moveTo(a/2,h);g.lineTo(c,d);g.lineTo(e,d);g.closePath();g.stroke();a=g.getImageData(0,0,a,b);g.putImageData(a,0,0);return a};l.vg=function(){var a=this.a.Gj.d.a.getContext("2d");this.c.Ta=a.createImageData(20,20);a=this.c.Ta.data;this.c.pc=Math.max(3,3);for(var b=0;20>b;b++)for(var c=0;20>c;c++){var d=Math.abs(b-8.5),e=Math.abs(c-8.5),d=Math.sqrt(e*e+d*d)/8.5,d=1>d?.15+.75*(1-d):0,e=4*(20*b+c);a[e+0]=0;a[e+1]=0;a[e+2]=0;a[e+3]=parseInt(255*d)}};function Re(a){a.zh=!0;We(a,!1)}l.hf=function(a,b){var c=Oa(this.a.$.d.a);return{h:(a-c.h-10-this.ca.h)/24|0,g:(b-c.g-10-this.ca.g)/24|0}};function Qe(a,b,c){var d=a.c.I,e=a.c.D;if(!(0>=d||0>=e)){var f=a.a.Selection.d.a.getContext("2d");f.clearRect(0,0,d,e);0<=b&&0<=c&&(d=10+a.ca.h+24*b,e=10+a.ca.g+24*c,a.ha.K(b,c).rf()&&f.putImageData(a.c.Od,d,e))}}function Se(a){var b=-a.ca.h,c=a.ha.Gb()+1,d=a.c.I,b=b/(20+24*c-d)*(d-4-a.a.xf)+2,c=-a.ca.g,d=a.ha.Da()+1,e=a.c.D,c=c/(20+24*d-e)*(e-4-a.a.wf)+2;a.a.Ea.style.left=b+"px";a.a.za.style.top=c+"px"}l.bi=function(){var a=this.b.sa;return null===a.Q.nb?x.Q.nb:a.Q.nb};l.$k=function(){var a=this.b.sa;return null===a.Q.vb?x.Q.vb:a.Q.vb};l.ai=function(){var a=this.b.sa;return null===a.Q.ub?x.Q.ub:a.Q.ub};l.al=function(){var a=this.b.sa;return null===a.Q.Cb?x.Q.Cb:a.Q.Cb};l.Zk=function(){var a=this.b.sa;return null===a.Q.Ab?x.Q.Ab:a.Q.Ab};l.yg=function(){var a=this.b.sa;return null===a.Q.rb?x.Q.rb:a.Q.rb};l.pe=function(){var a=this.b.sa;return null===a.Q.Bb?x.Q.Bb:a.Q.Bb};l.Ac=function(){var a=this.b.sa;return null===a.Q.tb?x.Q.tb:a.Q.tb};var Rd=-9,Sd=-8,Td=-7;function Xe(a,b,c){this.P=a;this.ia=b;this.Lh=c}Xe.prototype.rf=function(){return!1};Xe.prototype.R=function(){return this.Lh};Xe.prototype.He=function(){if(-10!==this.P)if(Rd===this.P){if(this.ia.He()&&0<Xb(this.ia)&&this.ia.R().qb.g>=this.Lh.qb.g)return{od:!0}}else if(Sd===this.P){if(!this.ia.He())return{od:!1};var a=this.Lh.qb.g,b=this.ia.R().qb.g;if(a<b)return{od:!0,bm:0};if(a===b)return{od:!0,bm:1}}else if(Td===this.P)return{od:this.Lh.He()};return{od:!1}};function Pe(){this.ha=[];this.b=null;this.yb=0}l=Pe.prototype;l.vj=function(a){this.b=a};l.Ia=function(){this.ha=[];this.yb=0};l.Sb=function(){this.b&&(this.Ia(),Ye(this,this.b.Fb(),0,0))};function Ye(a,b,c,d){var e,f=1;for(e=b;0<Xb(e);)f++,e=e.R(0);for(e=f;!Ze(a,c,d,e);)d++;var f=c,g=d,h=b;for(a.Set(f,g,b);0<Xb(h);)f++,h=h.R(0),a.Set(f,g,h);f=$e(b);c+=e-1;for(e={sm:d};;){for(var g=d,h=a.yb,k=Xb(f),m=1;m<k;m++){a.yb=h;var n=d,p=Ye(a,f.R(m),c+1,d+1);d=p.g;for(n+=1;n<=d;n++)if(n===p.sm)if(k-1===m){a.Set(c,n,new Xe(Td,f,f.R(m)));break}else a.Set(c,n,new Xe(Sd,f,f.R(m)));else n<p.sm?a.Set(c,n,new Xe(Rd,f,f.R(m))):a.Set(c,n,new Xe(Rd,f,f.R(m+1)))}a.yb=h;if(f===b)break;f.ed()&&a.yb--;f=f.ia;c--;d=g}e.g=d;return e}l.K=function(a,b){return void 0===this.ha[b]||void 0===this.ha[b][a]?new Xe(-10,null,null):this.ha[b][a]};l.Set=function(a,b,c){void 0===this.ha[b]&&(this.ha[b]=[]);if(c.rf())if(c.ed()){this.yb++;var d=this.yb;c.qb.h=a;c.qb.g=b;c.qb.Xg=d}else c.qb.h=a,c.qb.g=b,c.qb.Xg=-1;this.ha[b][a]=c};function Ze(a,b,c,d){for(var e=0;e<d;e++){var f=b+e;if(!1===(void 0===a.ha[c]||void 0===a.ha[c][f]||-10===a.ha[c][f].P?!0:!1))return!1}return!0}l.Da=function(){return this.ha.length};l.Gb=function(){for(var a=0,b=this.Da(),c=0;c<b;c++){var d=this.ha[c].length-1;d>a&&(a=d)}return a};function af(a){if(this.b=a)a.f=this;this.Va=null;this.T=[];this.a={mj:null,Pd:null,Rl:null,Ml:null,Wg:null,Zg:null,Hg:null};this.Nc=this.Bh=this.$b=0}l=af.prototype;l.o=function(a,b){bf(this,b);var c=this.b,d=D(a),e=a+"_Board",f=a+"_Message",g=a+"_Next";this.L(d.a,e);var h=this.L(d.a,g),k=this.L(d.a,f);k.style.backgroundColor="rgb(255,255,255)";k.style["border-radius"]="6px";k.style["-webkit-border-radius"]="6px";k.style["-moz-border-radius"]="5px";k.style["-khtml-border-radius"]="10px";k.style.borderColor="#e3e3e3";k.style.borderWidth="5px";k.style.borderStyle="ridge";k.style.display="block";var m=D(e);J(m.i,0,0,1E3,1E3,!1,!1,!1,!1,-1,-1);m.n=L|M|O|N;d.j(m);this.L(m.a,e+"_Centred");var n=D(e);m.Za(2);m.j(n);m=D(f);J(m.i,350,350,650,650,!1,!1,!1,!1,-1,-1);m.n=L|M|O|N;d.j(m);n=new ba(this);n.o(e,c);n.he=this;var p=D(g);J(p.i,0,0,1E3,1E3,!1,!1,!1,!1,-1,-1);p.n=L|M|O|N;d.j(p);c=g+"_Centred";this.L(p.a,c);e=D(c);p.Za(2);p.j(e);p=c+"_Next";g=cf(e.a,p);g.value="\u0414\u0430\u043b\u0435\u0435";g.style.display="none";var t=c+"_Prev",c=cf(e.a,t);c.value="\u041d\u0430\u0437\u0430\u0434";c.style.display="none";var q=this;g.addEventListener("click",function(){q.a.Wg.style.display="none";q.a.Zg.style.display="none";df(q)},!1);c.addEventListener("click",function(){q.a.Wg.style.display="none";q.a.Zg.style.display="none";ef(q)},!1);p=D(p);J(p.i,501,0,2,2,!1,!1,!0,!0,-1,25);p.n=M|O|N;e.j(p);p=D(t);J(p.i,2,0,499,2,!0,!1,!1,!0,-1,25);p.n=M|O|N;e.j(p);var r=f+"_Text",t=f+"_Next",u=f+"_Prev",f=this.L(k,r);f.style.fontFamily="verdana";f.style.textAlign="justify";f.style.to="center";f.style.overflowY="scroll";e=cf(k,t);p=cf(k,u);p.addEventListener("click",function(){ef(q)},!1);e.addEventListener("click",function(){df(q)},!1);r=D(r);J(r.i,0,0,1E3,35,!1,!1,!1,!0,-1,-1);r.n=L|M|N|O;m.j(r);t=D(t);J(t.i,0,0,5,5,!1,!1,!0,!0,100,25);t.n=N|O;m.j(t);t=D(u);J(t.i,5,0,0,5,!0,!1,!1,!0,100,25);t.n=N|M;m.j(t);this.a.mj=k;this.a.Pd=f;this.a.Rl=p;this.a.Ml=e;this.a.Wg=g;this.a.Zg=c;this.a.Hg=h;this.T.push(n);this.Va=d;this.p();ff(this,0,0)};l.p=function(a){this.Va&&this.Va.kb(this.Va.a.clientWidth,this.Va.a.clientHeight);for(var b=0,c=this.T.length;b<c;b++)this.T[b].p(a)};function Bb(a){return null===a.oa[a.$b].lb||void 0===a.oa[a.$b].lb.Di?0:a.oa[a.$b].lb.Di}function Cb(a){null!==a.oa[a.$b].lb&&!0===a.oa[a.$b].lb.ko?(a.a.Hg.style.display="block",a.a.Wg.style.display="block",a.a.Zg.style.display="block"):a.Fp(a.$b,2)}l.Tl=function(){};l.kd=function(){};l.rc=function(){};l.Tj=function(){};l.Vj=function(){};l.Uj=function(){};l.Wj=function(){};l.ld=function(){};l.Cf=function(){};l.pj=function(){};l.Ol=function(){};function bf(a,b){var c=b.length;a.Bh=c;a.oa=[];for(var d=0;d<c;d++)a.oa[d]={},a.oa[d].Fj=b[d].Sgf,a.oa[d].wp=b[d].Before,a.oa[d].vp=b[d].After,a.oa[d].lj=b[d].Message,null===b[d].SgfPr?a.oa[d].lb=null:(a.oa[d].lb={},a.oa[d].lb.Di=b[d].SgfPr.Count,a.oa[d].lb.ko=b[d].SgfPr.WaitOnEnd,a.oa[d].lb.nf={},b[d].SgfPr.Flags&&(a.oa[d].lb.nf.Vg=b[d].SgfPr.Flags.NewNode,a.oa[d].lb.nf.uf=b[d].SgfPr.Flags.Move,a.oa[d].lb.nf.Ai=b[d].SgfPr.Flags.ChangeBoardMode,a.oa[d].lb.nf.ij=b[d].SgfPr.Flags.LoadFile))}function df(a){var b=a.$b;0===a.Nc?null!==a.oa[b].Fj?ff(a,b,1):(a.Nc=1,df(a)):1!==a.Nc||b>=a.Bh-1||(null!==a.oa[b+1].lj?ff(a,b+1,0):(a.$b++,a.Nc=0,df(a)))}function ef(a){var b=a.$b;0===a.Nc?0>=b||(null!==a.oa[b-1].Fj?ff(a,b-1,1):(a.$b--,a.Nc=1,ef(a))):1===a.Nc&&(null!==a.oa[b].lj?ff(a,b,0):(a.Nc=0,ef(a)))}function ff(a,b,c){if(!(0>b||b>=a.Bh)){a.$b=b;a.Nc=c;var d=a.oa[b].Fj,e=a.oa[b].lb,f=a.oa[b].lj;if(0===c)if(a.a.Hg.style.display="block",null!==f){c=0===b?null:"\u041d\u0430\u0437\u0430\u0434";b=b===a.Bh-1&&null===d?null:"\u0414\u0430\u043b\u0435\u0435";d=a.a.Rl;e=a.a.Ml;for(a.a.mj.style.display="block";a.a.Pd.firstChild;)a.a.Pd.removeChild(a.a.Pd.firstChild);md(a.a.Pd,"");"string"===typeof f?md(a.a.Pd,f):a.a.Pd.appendChild(f);null===c?d.style.display="none":(d.style.display="block",d.value=c);null===b?e.style.display="none":(e.style.display="block",e.value=b)}else df(a);else 1===c&&(a.a.Hg.style.display="none",null!==d?(a.a.mj.style.display="none",a.b.H=4294967295,a.b.Fc(d),xd(a.b,e.nf),a.b.Ca()):df(a))}}l.L=function(a,b){var c=document.createElement("div");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};function cf(a,b){var c=document.createElement("input");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("type","button");a.appendChild(c);return c};var gf=0,hf=0,jf=1;function kf(a,b){this.f=a;this.b=null;this.P=b?b:gf;this.a={d:null,Ll:null,ao:null,Ld:null};this.Ek=new y(217,217,217,255);this.Ho=new y(80,80,80,255);this.Ko=new y(190,190,190,255);this.un=new y(80,80,80,255);this.Mo=new y(130,130,130,255);this.Na=this.Qe=this.v=0;this.zc=this.ee=17;this.Kf=!1;var c=this;this.Ro=function(a){var b=c.v-c.Na;0!==b&&(Je(c,(a-c.zc)/b,!1),lf(c,!1))};this.bl=function(){c.Kf=!0;lf(c,!1)};this.To=function(a){c.Kf=!1;var b=c.v-c.Na;0!==b&&(Je(c,(a-c.zc)/b,!1),lf(c,!0))}}kf.prototype.o=function(a){this.b=this.f?this.f.b:null;switch(this.P){case hf:this.f.$f=this;break;case jf:this.f.Kk=this}this.a.d=D(a);var b=this.a.d.a;b.style.backgroundColor=Q(this.Ek);b.style.Gp=Q(new y(255,255,255,255));var c=a+"_Left",d=a+"_Right";a=a+"_Slider";this.a.ao=this.qa(b,d);this.a.Ll=this.qa(b,c);this.a.Ld=this.qa(b,a);var e=this;this.a.Ld.onmouseover=function(){this.style.backgroundColor=Q(e.Mo)};this.a.Ld.onmouseout=function(){this.style.backgroundColor=Q(e.un)};b=D(d);J(b.i,this.zc,this.ee-1,this.zc,this.ee-1,!0,!0,!0,!0,-1,-1);b.n=L|M|N|O;this.a.d.j(b);b.a.style.background=Q(this.Ko);c=D(c);J(c.i,this.zc,this.ee,500,this.ee,!0,!0,!1,!0,-1,-1);c.n=L|M|N|O;this.a.d.j(c);c.a.style.background=Q(this.Ho);this.p();Je(this,0)};kf.prototype.p=function(){var a=this.a.d.a.clientWidth,b=this.a.d.a.clientHeight;this.v=a-2*this.zc;this.a.d.kb(a,b);this.jc(a,b);Je(this,this.Qe,!0)};kf.prototype.jc=function(a){var b=32;switch(this.P){case hf:b=45;break;case jf:b=32}this.Na=b;var c=this.a.Ld;c.style.width=b+"px";c.style.height="12px";c.style.display="block";c.style.position="absolute";c.style.backgroundColor=Q(this.un);c.style.top=this.ee-5+"px";c.style.left=this.zc+"px";c.style.borderRadius="5px";Ve(c,this.zc,a-this.zc-b,this.ee-5,this.ee-5);c.Db=this.Ro;c.Zh=this.bl;c.Yh=this.To;c.style.fontSize="12px";c.style.lineHeight="12px";c.style.color="rgb(255,255,255)";c.style.textOverflow="clip";c.style.overflow="hidden";c.style.textAlign="center";c.style.cursor="default";c.style.transitionProperty="background";c.style.transitionDuration="0.25s";c.style.fontFamily='"Times New Roman", Times, serif'};kf.prototype.qa=function(a,b){var c=document.createElement("div");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};function Je(a,b,c){a.Qe=Math.min(1,Math.max(b,0));a.a.Ll.style.width=a.Qe*a.v+"px";!1!==c&&(a.a.Ld.style.left=a.Qe*(a.v-a.Na)+a.zc+"px")}function lf(a,b){if(a.b)switch(a.P){case hf:var c=a.b,d=a.Qe;c.Mf=d;if(c.f){var e=c.f;e.$f&&(e=e.$f,!0!==e.Kf&&Je(e,d,!0))}null!==c.Kc&&c.Bf();b?md(a.a.Ld,""):md(a.a.Ld,((100+6900*(1-a.b.Mf))/1E3*1E3|0)/1E3+" s");break;case jf:c=a.b;d=c.Ba;for(e=1;0<Xb(d);)e++,d=d.R();d=a.Qe*(e-1);for(e=c.Ba;0<Xb(e)&&0<d;)d--,e=e.R();c.ja(e)}};function mf(){this.rl=this.ql=this.pl=this.ol=this.Ql=null;this.Dm=!1;this.Oe=!0}mf.prototype.o=function(a){var b=document.getElementsByTagName("body");if(!(0>=b.length)){this.Oe=!0;var c="",d=navigator.userAgent;-1!=d.indexOf("Opera")?c="Opera":-1!=d.indexOf("Chrome")?c="Chrome":-1!=d.indexOf("MSIE")?c="IE":-1!=d.indexOf("Safari")?c="Safari":-1!=d.indexOf("Mozilla")&&(c="Mozilla");"IE"===c&&(this.Dm=!0);b=b[0];this.Ql=nf(b,"GoBoardApiSoundPlaceStone",a+"/Stone.mp3");this.ol=nf(b,"GoBoardApiSoundCapture1",a+"/Capture1.mp3");this.pl=nf(b,"GoBoardApiSoundCapture3",a+"/Capture3.mp3");this.ql=nf(b,"GoBoardApiSoundCapture5",a+"/Capture5.mp3");this.rl=nf(b,"GoBoardApiSoundCaptureN",a+"/CaptureN.mp3")}};function of(a,b){1>=b?pf(a,a.ol):3>=b?pf(a,a.pl):5>=b?pf(a,a.ql):pf(a,a.rl)}function nf(a,b,c){var d=document.getElementById(b);d||(d=document.createElement("audio"),d.id=b,d.mh="preload",d.src=c,a.appendChild(d));return d}function pf(a,b){if(b&&a.Oe&&x.sf())try{a.Dm?(b.setActive(),b.click(),b.autoplay="",b.autoplay="autoplay"):b.play()}catch(c){}};function jd(a){this.f=a;this.b=null;this.a={d:null};this.Dk=new y(217,217,217,255);this.rh=[];this.Hf=[]}function S(a,b,c,d){a.Hf.push(new qf(b,c,d))}jd.prototype.o=function(a,b){this.b=b;this.a.d=D(a);var c=this.a.d.a,d=this.a.d;c.style.backgroundColor=Q(this.Dk);for(var e=0,f=0,g=0,h=this.Hf.length;g<h;++g){var k=this.Hf[g],m=k.Va;if(null!==m){var n=a+g;this.qa(c,n);T===k.yo?(this.wa(d,n,e,k.v,!0),e+=k.v+k.Bk):(this.wa(d,n,f,k.v,!1),f+=k.v+k.Bk);m.o(n,b);this.rh.push(m)}}this.p()};jd.prototype.p=function(){this.a.d.kb(this.a.d.a.clientWidth,this.a.d.a.clientHeight);for(var a=0,b=this.rh.length;a<b;a++)this.rh[a].p()};function rf(a){for(var b=0,c=0,d=a.Hf.length;c<d;++c){var e=a.Hf[c],f=e.v;-1===f&&(f=16777215);b+=f+e.Bk}return b}jd.prototype.qa=function(a,b){var c=document.createElement("div");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};jd.prototype.wa=function(a,b,c,d,e){b=D(b);e?(J(b.i,c,0,1E3,1E3,!0,!1,!1,!1,d,-1),b.n=L|M|N):(J(b.i,0,0,c,1E3,!1,!1,!0,!1,d,-1),b.n=L|O|N);a.j(b)};function ge(a){this.f=a;this.b=null;this.a={d:null,xp:{d:null},yp:{d:null}};this.Dk=new y(217,217,217,255);this.Gh=this.Kh=this.td=this.ge=null;this.rh=[]}l=ge.prototype;l.o=function(a,b,c,d){this.b=b;this.a.d=D(a);var e=this.a.d.a,f=this.a.d;e.style.backgroundColor=Q(this.Dk);var g=new ed(this.f),h=a+"C";this.qa(e,h);this.wa(f,h,0);g.o(h,b);this.td=g;g=new fd(this.f);a=a+"N";this.qa(e,a);this.wa(f,a,1);g.o(a,b);this.ge=g;this.ge.Jk=this;this.td.Jk=this;this.Kh=document.getElementById(c);this.Gh=document.getElementById(d);this.Kd(this.td);this.p()};l.p=function(){this.a.d.kb(this.a.d.a.clientWidth,this.a.d.a.clientHeight);this.ge.p();this.td.p()};l.qa=function(a,b){var c=document.createElement("div");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};l.wa=function(a,b,c){b=D(b);J(b.i,0,36*c+c,1E3,0,!1,!0,!1,!1,-1,36);b.n=L|M|O;a.j(b)};l.Kd=function(a){a===this.ge?(yc(this.ge,!0),yc(this.td,!1),this.Kh.style.visibility="visible",this.Gh.style.visibility="hidden"):a===this.td?(yc(this.ge,!1),yc(this.td,!0),this.Kh.style.visibility="hidden",this.Gh.style.visibility="visible"):(yc(this.ge,!1),yc(this.td,!1),this.Kh.style.visibility="hidden",this.Gh.style.visibility="hidden")};var T=1,$d=2;function qf(a,b,c){this.Va=a;this.v=b;this.Bk=1;this.yo=c}function de(a){this.f=a;this.a={d:null,Ej:null,ho:null,Ni:null,yl:null,ki:null,kl:null,Jj:null,gm:null,zl:null,Oi:null,Rj:null,lm:null,Hl:null,fj:null};this.Bm=x.Ud;this.Gm=x.Wd;this.Cm=x.Sd;this.Am=x.Rd;this.Fm=x.Vd;this.Em=x.Td;this.F=this.v=-1;this.Sf=36;this.Vm=1;this.Ym=110;this.af=new jd(a);S(this.af,new cd(a),36,T);this.f&&this.f.b&&!0!==this.f.b.sa.uh?S(this.af,new Zc(a),36,T):this.Ym=73;S(this.af,new $c(a,this),36,T);this.Uc=new jd(a);S(this.Uc,new Gc(a),36,T);S(this.Uc,new Hc(a),36,T);S(this.Uc,new Ic(a),36,T);S(this.Uc,new Jc(a),36,T);S(this.Uc,new Kc(a),36,T);S(this.Uc,new Lc(a),36,T);this.gg=new jd(a);S(this.gg,new Mc(a),36,T);S(this.gg,new Nc(a),36,T);this.Ze=new jd(a);S(this.Ze,new bd(a),73,T);S(this.Ze,new gd(a),36,T);S(this.Ze,new vc(a),36,T);this.ag=new jd(a);S(this.ag,new Xc(a),36,T);S(this.ag,new kf(a,hf),-1,T);this.Qh=new jd(a);S(this.Qh,new kf(a,jf),-1,T);this.eg=new jd(a);S(this.eg,new vd(a),36,T);S(this.eg,new wd(a),36,T);this.wk=1;this.T=[];this.Nk=null}l=de.prototype;l.o=function(a){this.a.d=D(a);var b=this.a.d.a,c=this.a.d,d=a+"SS",e=a+"GN",f=a+"TN",g=a+"GL",h=a+"AP",k=a+"TL";a=a+"KF";this.a.ho=sf(b,d);this.a.zl=sf(b,e);this.a.lm=sf(b,f);this.a.yl=sf(b,g);this.a.kl=sf(b,h);this.a.gm=sf(b,k);this.a.Hl=sf(b,a);this.a.Ej=D(d);c.j(this.a.Ej);this.af.o(d,this.f.b);this.a.Oi=D(e);c.j(this.a.Oi);this.Uc.o(e,this.f.b);this.a.Rj=D(f);c.j(this.a.Rj);this.gg.o(f,this.f.b);this.a.Ni=D(g);c.j(this.a.Ni);this.Ze.o(g,this.f.b);this.a.ki=D(h);c.j(this.a.ki);this.ag.o(h,this.f.b);this.a.Jj=D(k);c.j(this.a.Jj);this.Qh.o(k,this.f.b);this.a.fj=D(a);c.j(this.a.fj);this.eg.o(a,this.f.b);tf(this);uf(this)};l.Da=function(){var a=Math.max(this.wk,1);return a*this.Sf+(a-1)*this.Vm};l.p=function(a){var b=this.a.d.a.clientWidth,c=this.a.d.a.clientHeight;if(b!==this.v||c!==this.F||!0===a)for(this.v=b,this.F=c,this.ua(),this.a.d.kb(b,c),this.af.p(),a=0,b=this.T.length;a<b;++a)this.T[a].p()};function ee(a,b){a.Nk=b}l.Aj=function(a){this.Bm=a;this.ua();this.p(!0)};l.Dj=function(a){this.Gm=a;this.ua();this.p(!0)};l.wj=function(a){this.Cm=a;this.ua();this.p(!0)};l.tj=function(a){this.Am=a;this.ua();this.p(!0)};l.Cj=function(a){this.Fm=a;this.ua();this.p(!0)};l.xj=function(a){this.Em=a;this.ua();this.p(!0)};l.ua=function(){tf(this);uf(this);this.Nk&&this.Nk()};function tf(a){a.T=[];vf(a,a.Bm,a.Uc,a.a.zl);vf(a,a.Gm,a.gg,a.a.lm);vf(a,a.Cm,a.Ze,a.a.yl);vf(a,a.Am,a.ag,a.a.kl);vf(a,a.Fm,a.Qh,a.a.gm);vf(a,a.Em,a.eg,a.a.Hl)}function vf(a,b,c,d){!0===b?(a.T.push(c),d.style.display="block"):d.style.display="none"}function uf(a){var b=a.a.d.a.clientWidth;a.wk=1;var c=a.a.Ej;J(c.i,0,0,0,1E3,!1,!0,!0,!1,a.Ym,a.Sf);c.n=L|O;for(var c=b-rf(a.af),d=0,e=0,f=0,g=a.T.length;f<g;++f){var h=a.T[f],k=rf(h),m=null;h===a.Uc?m=a.a.Oi:h===a.gg?m=a.a.Rj:h===a.Ze?m=a.a.Ni:h===a.ag?m=a.a.ki:h===a.Qh?m=a.a.Jj:h===a.eg&&(m=a.a.fj);if(h=m).1>=d||d+k<c?J(h.i,d,e,1E3,1E3,!0,!0,!0,!1,Math.min(k,c),a.Sf):(c=b,a.wk++,d=0,e+=a.Sf+a.Vm,J(h.i,d,e,1E3,1E3,!0,!0,!0,!1,Math.min(k,c-d),a.Sf)),h.n=L|M,d+=k}};function wf(){this.sh=[];this.Tc=null;this.tc=[]}wf.prototype.o=function(a,b,c,d){var e=d?d:200,f=document.getElementById(a);a=document.createElement("div");a.style.position="absolute";a.style.left="0px";a.style.top="0px";a.style.bottom="0px";a.style.width=e-1+"px";a.style.borderRight="1px solid #cbcbcb";f.appendChild(a);d=document.createElement("div");d.style.position="absolute";d.style.left=e+"px";d.style.top="0px";d.style.bottom="0px";d.style.right="0px";f.appendChild(d);e=0;for(f=b.length;e<f;e++)xf(this,a,b[e],d);(b=this.sh[c?c:0])&&yf(this,b)};function xf(a,b,c,d){var e=document.createElement("div");b.appendChild(e);e.style.color="rgb(68, 68, 68)";e.addEventListener("mouseenter",function(){a.Tc!==this&&(this.style.backgroundColor="rgb(241, 241, 241)")},!1);e.addEventListener("mouseleave",function(){a.Tc!==this&&(this.style.backgroundColor="")},!1);e.addEventListener("click",function(){yf(a,this)},!1);b=document.createElement("div");e.appendChild(b);b.style.padding="7px 2px 7px 20px";var f=document.createElement("div");b.appendChild(f);f.style["-webkit-user-select"]="none";f.style.borderCollapse="collapse";f.style.boxSizing="border-box";f.style.cursor="pointer";f.style.display="block";f.style.fontFamily="Helvetica Neue', Helvetica, Arial, sans-serif";f.style.fontSize="16px";f.style.height="17px";f.style.lineHeight="17.142858505249px";f.style.width="177px";md(f,c);f=document.createElement("div");f.style.display="none";f.style.width="100%";f.style.height="100%";d.appendChild(f);a.tc.push(f);a.sh.push(e)}function yf(a,b){if(a.Tc!==b){if(null!==a.Tc){a.Tc.style.backgroundColor="";a.Tc.style.color="rgb(68, 68, 68)";var c=zf(a,a.Tc);a.tc[c]&&(a.tc[c].style.display="none")}a.Tc=b;b.style.backgroundColor="#7d858c";b.style.color="#fff";c=zf(a,a.Tc);a.tc[c]&&(a.tc[c].style.display="block")}}function zf(a,b){for(var c=0,d=a.sh.length;c<d;c++)if(b===a.sh[c])return c;return-1};function Af(){this.a={d:null,Sa:null,fd:null,sl:null,Bd:null,nl:null,pf:null,De:null,Ce:null,Ee:null,Hd:null,dd:null,cd:null,Ec:null};this.Jo=new y(166,166,166,255);this.Eo=new y(185,185,185,255);this.Ek=new y(217,217,217,255);this.f=null;this.F=this.v=-1;this.Lf=!1;var a=this;this.Wo=function(){var b=parseInt(a.a.d.a.style.left),c=parseInt(a.a.d.a.style.width),d=parseInt(a.a.pf.style.left);60>c-d||(a.a.d.a.style.left=b+d+"px",a.a.d.a.style.width=c-d+"px");a.a.pf.style.left="0px";a.p()};this.Zo=function(){var b=parseInt(a.a.d.a.style.width),c=parseInt(a.a.De.style.left)+6-b;60>b+c?a.a.De.style.left=b-6+"px":(a.a.d.a.style.width=b+c+"px",a.a.De.style.left=b+c-6+"px",a.p())};this.So=function(){var b=parseInt(a.a.d.a.style.height),c=parseInt(a.a.Ce.style.top)+6-b;60>b+c?a.a.Ce.style.top=b-6+"px":(a.a.d.a.style.height=b+c+"px",a.a.Ce.style.top=b+c-6+"px",a.p())};this.ap=function(){var b=parseInt(a.a.d.a.style.top),c=parseInt(a.a.d.a.style.height),d=parseInt(a.a.Ee.style.top);60>c-d?a.a.Ee.style.top="0px":(a.a.d.a.style.top=b+d+"px",a.a.d.a.style.height=c-d+"px",a.a.Ee.style.top="0px",a.p())};this.Xo=function(){var b=parseInt(a.a.d.a.style.top),c=parseInt(a.a.d.a.style.height),d=parseInt(a.a.Hd.style.top);60>c-d||(a.a.d.a.style.top=b+d+"px",a.a.d.a.style.height=c-d+"px");a.a.Hd.style.top="0px";b=parseInt(a.a.d.a.style.left);c=parseInt(a.a.d.a.style.width);d=parseInt(a.a.Hd.style.left);60>c-d||(a.a.d.a.style.left=b+d+"px",a.a.d.a.style.width=c-d+"px");a.a.Hd.style.left="0px";a.p()};this.$o=function(){var b=parseInt(a.a.d.a.style.top),c=parseInt(a.a.d.a.style.height),d=parseInt(a.a.dd.style.top);60>c-d||(a.a.d.a.style.top=b+d+"px",a.a.d.a.style.height=c-d+"px");a.a.dd.style.top="0px";b=parseInt(a.a.d.a.style.width);c=parseInt(a.a.dd.style.left)+6-b;60>b+c?a.a.dd.style.left=b-6+"px":(a.a.d.a.style.width=b+c+"px",a.a.dd.style.left=b+c-6+"px");a.p()};this.Vo=function(){var b=parseInt(a.a.d.a.style.left),c=parseInt(a.a.d.a.style.width),d=parseInt(a.a.cd.style.left);60>c-d||(a.a.d.a.style.left=b+d+"px",a.a.d.a.style.width=c-d+"px");a.a.cd.style.left="0px";b=parseInt(a.a.d.a.style.height);c=parseInt(a.a.cd.style.top)+6-b;60>b+c?a.a.cd.style.top=b-6+"px":(a.a.d.a.style.height=b+c+"px",a.a.cd.style.top=b+c-6+"px");a.p()};this.Yo=function(){var b=parseInt(a.a.d.a.style.width),c=parseInt(a.a.Ec.style.left)+6-b;60>b+c?a.a.Ec.style.left=b-6+"px":(a.a.d.a.style.width=b+c+"px",a.a.Ec.style.left=b+c-6+"px");b=parseInt(a.a.d.a.style.height);c=parseInt(a.a.Ec.style.top)+6-b;60>b+c?a.a.Ec.style.top=b-6+"px":(a.a.d.a.style.height=b+c+"px",a.a.Ec.style.top=b+c-6+"px");a.p()}}l=Af.prototype;l.o=function(a,b){var c=this;this.Lf=!0;this.a.d=D(a);var d=this.a.d.a,e=this.a.d;d.style.border="1px solid "+Q(this.Jo);d.style.backgroundColor=Q(this.Ek);d.style.boxSizing="content-box";var f=a+"_Inner",g=Bf(d,f),f=D(f);J(f.i,6,29,8,8,!0,!0,!0,!0,-1,-1);f.n=L|M|N|O;e.j(f);g.style.border="1px solid "+Q(this.Eo);g.style.backgroundColor=Q(new y(255,255,255,255));g.style.overflow="hidden";this.a.Sa=g;this.a.fd=f;f=a+"_Caption";Bf(d,f);g=D(f);J(g.i,0,0,1E3,1E3,!1,!1,!1,!1,-1,30);g.n=L|M|O;e.j(g);var h=f+"_Text",f=Bf(d,h),h=D(h);J(h.i,15,0,55,1E3,!0,!1,!0,!1,-1,30);h.n=L|M|O|N;g.j(h);f.style.fontFamily="Tahoma, Sans serif";f.style.fontSize="13pt";f.style.textAlign="center";f.style.height="29px";f.style.lineHeight="29px";f.style.overflow="hidden";f.style.textOverflow="ellipsis";f.style["-o-text-overflow"]="ellipsis";f.style.cursor="default";md(f,"Caption");this.a.nl=f;f=a+"_Caption2";g=Bf(d,f);f=D(f);J(f.i,0,0,1E3,1E3,!1,!1,!1,!1,-1,30);f.n=L|M|O;e.j(f);this.a.Bd=g;Ve(g);g.Db=function(){var a=parseInt(c.a.d.a.style.top),b=parseInt(c.a.Bd.style.top);c.a.d.a.style.left=parseInt(c.a.d.a.style.left)+parseInt(c.a.Bd.style.left)+"px";c.a.d.a.style.top=a+b+"px";c.a.Bd.style.left="0px";c.a.Bd.style.top="0px";c.p()};!1!==b&&(f=a+"_LeftHandler",g=Bf(d,f),f=D(f),J(f.i,0,6,1E3,6,!1,!0,!1,!0,6,-1),f.n=L|M|N,e.j(f),g.style.cursor="w-resize",this.a.pf=g,f=a+"_RightHandler",g=Bf(d,f),f=D(f),J(f.i,0,6,0,6,!1,!0,!0,!0,6,-1),f.n=L|O|N,e.j(f),g.style.cursor="w-resize",this.a.De=g,f=a+"_BottomHandler",g=Bf(d,f),f=D(f),J(f.i,6,0,6,0,!0,!1,!0,!0,-1,6),f.n=N|O|M,e.j(f),g.style.cursor="s-resize",this.a.Ce=g,f=a+"_TopHandler",g=Bf(d,f),f=D(f),J(f.i,6,0,6,1E3,!0,!0,!0,!1,-1,6),f.n=L|O|M,e.j(f),g.style.cursor="s-resize",this.a.Ee=g,f=a+"_LeftTopHandler",g=Bf(d,f),f=D(f),J(f.i,0,0,1E3,1E3,!1,!1,!1,!1,6,6),f.n=L|M,e.j(f),g.style.cursor="se-resize",this.a.Hd=g,f=a+"_RightTopHandler",g=Bf(d,f),f=D(f),J(f.i,0,0,0,1E3,!1,!1,!0,!1,6,6),f.n=L|O,e.j(f),g.style.cursor="ne-resize",this.a.dd=g,f=a+"_LeftBottomHandler",g=Bf(d,f),f=D(f),J(f.i,0,0,0,1E3,!1,!1,!1,!1,6,6),f.n=N|M,e.j(f),g.style.cursor="ne-resize",this.a.cd=g,f=a+"_RightBottomHandler",g=Bf(d,f),f=D(f),J(f.i,0,0,0,1E3,!1,!1,!0,!1,6,6),f.n=N|O,e.j(f),g.style.cursor="se-resize",this.a.Ec=g,Ve(this.a.pf,null,null,null,null),this.a.pf.Db=this.Wo,Ve(this.a.De,null,null,null,null),this.a.De.Db=this.Zo,Ve(this.a.Ee,null,null,null,null),this.a.Ee.Db=this.ap,Ve(this.a.Ce,null,null,null,null),this.a.Ce.Db=this.So,Ve(this.a.Hd,null,null,null,null),this.a.Hd.Db=this.Xo,Ve(this.a.dd,null,null,null,null),this.a.dd.Db=this.$o,Ve(this.a.cd,null,null,null,null),this.a.cd.Db=this.Vo,Ve(this.a.Ec,null,null,null,null),this.a.Ec.Db=this.Yo);g=a+"_Close";d=Bf(d,g);f=D(g);J(f.i,0,0,6,1E3,!1,!0,!0,!1,45,20);f.n=L|O;e.j(f);d.style.backgroundColor=Q(new y(255,0,0,255));e=new Ac(this.f);e.o(g,this);e.Mh=new y(199,80,80,255);e.dg=new y(224,67,67,255);e.Dh=new y(153,61,61,255);this.a.sl=e};l.p=function(a){var b=this.a.d.a.clientWidth,c=this.a.d.a.clientHeight;if(b!==this.v||c!==this.F||!0===a)this.v=b,this.F=c,this.a.d.kb(b,c),this.a.sl.p()};l.ib=function(){this.Lf=!1;this.a.d.a.style.display="none";this.b&&this.b.Ca()};l.Aa=function(a){this.Lf=!0;var b=this.a.d.a;b.style.display="block";var c=parseInt(b.style.left),d=parseInt(b.style.top);if(a.O){var e=a.O;a=e.Gb();e=e.Da();d>e-100&&(b.style.top=e-100+"px");c>a-100&&(b.style.left=a-100+"px")}0>c&&(b.style.left="0px");0>d&&(b.style.top="0px")};l.Ca=function(){};function Cf(a,b){md(a.a.nl,b)}function Bf(a,b){var c=document.createElement("div");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c}function Df(a,b){if(b){a.f=b;var c=a.a.d.a,d=a.Dc();null!==d&&void 0!==d&&(c.style.width=d.I+"px",c.style.height=d.D+"px");var e=parseInt(c.style.width),d=parseInt(c.style.height),e=Math.max(0,(a.f.Gb()-e)/2),d=Math.max(0,(a.f.Da()-d)/2);c.style.left=e+"px";c.style.top=d+"px"}}l.Dc=function(){return null};l.Ja=function(){};function Ef(){Ef.q.constructor.call(this);this.a.Je=null;this.a.kf=null;this.a.jb=null;this.a.mf=null}R(Ef,Af);Ef.prototype.o=function(a,b){Ef.q.o.call(this,a,b);var c=this.a.Sa,d=this.a.fd,e=c.id,f=e+"Content",e=e+"Buttons",g=Bf(c,f),c=Bf(c,e),f=D(f);J(f.i,0,0,0,40,!0,!0,!0,!0,-1,-1);f.n=M|L|N|O;d.j(f);var h=D(e);J(h.i,0,0,0,0,!0,!1,!0,!0,-1,40);h.n=M|N|O;d.j(h);this.a.mf=f;this.a.jb=g;c.style.borderTop="1px solid rgb(172,172,172)";c.style.backgroundColor="rgb(240,240,240)";g=e+"OK";Bf(c,g);f=D(g);J(f.i,0,9,85,1E3,!1,!0,!0,!1,66,21);f.n=L|O;d.j(f);f=new Cc(this.f);f.o(g,this);this.a.Je=f;f.Ik=new y(234,234,234,255);f.Mh=new y(172,172,172,255);f.Hk=new y(227,240,252,255);f.dg=new y(126,180,234,255);f.Ch=new y(207,230,252,255);f.Dh=new y(86,157,229,255);f.Fk=new y(239,239,239,255);f.Gk=new y(217,217,217,255);e+="Cancel";Bf(c,e);c=D(e);J(c.i,0,9,11,1E3,!1,!0,!0,!1,66,21);c.n=L|O;d.j(c);d=new Ec(this.f);d.o(e,this);this.a.kf=d;d.Ik=new y(234,234,234,255);d.Mh=new y(172,172,172,255);d.Hk=new y(227,240,252,255);d.dg=new y(126,180,234,255);d.Ch=new y(207,230,252,255);d.Dh=new y(86,157,229,255);d.Fk=new y(239,239,239,255);d.Gk=new y(217,217,217,255)};Ef.prototype.p=function(a){Ef.q.p.call(this,a);this.a.Je&&this.a.Je.p();this.a.kf&&this.a.kf.p()};Ef.prototype.Dl=function(){this.ib()};Ef.prototype.Be=function(){this.ib()};function Ff(){Ff.q.constructor.call(this);this.t={};this.b=null;this.Lm=10;this.zk=20;this.Ao=5}R(Ff,Ef);l=Ff.prototype;l.o=function(a,b){Ff.q.o.call(this,a);Df(this,b.O);var c=b.N;this.b=c;!0!==(c.H&16?!0:!1)&&wc(this.a.Je,!1);Cf(this,"Game info");var d=this.a.mf,e=this.a.jb,f=this.a.jb.id;e.style.overflowX="hidden";e.style.overflowY="scroll";var g=this.zk,h=10,k=this.Ao,m=this.Lm,n=c.H&16?!0:!1;this.t.Tn=this.la(e,d,f,"Game name",c.wd,h,g,n);h+=g+k;this.t.$n=this.la(e,d,f,"Result",c.df,h,g,n);h+=g+k;this.t.co=this.la(e,d,f,"Rules",c.pg,h,g,n);h+=g+k;this.t.gj=this.la(e,d,f,"Komi",c.Lb,h,g,n);h+=g+k;this.t.Pi=this.la(e,d,f,"Handicap",c.ac,h,g,n);h+=g+k;this.t.jo=this.la(e,d,f,"Time settings",c.Yf+(""===c.og?"":" + "+c.og),h,g,n);h+=g+k;this.t.Hn=this.la(e,d,f,"Black",c.ud,h,g,n);h+=g+k;this.t.Jn=this.la(e,d,f,"Black rank",c.hg,h,g,n);h+=g+k;this.t.lo=this.la(e,d,f,"White",c.xd,h,g,n);h+=g+k;this.t.no=this.la(e,d,f,"White rank",c.qg,h,g,n);h+=g+k;this.t.On=this.la(e,d,f,"Copyright",c.ig,h,g,n);h+=g+k;this.t.Date=this.la(e,d,f,"Date",c.le,h,g,n);h+=g+k;this.t.Event=this.la(e,d,f,"Event",c.bf,h,g,n);h+=g+k;this.t.bo=this.la(e,d,f,"Round",c.lg,h,g,n);h+=g+k;this.t.Yn=this.la(e,d,f,"Place",c.cf,h,g,n);h+=g+k;this.t.Gn=this.la(e,d,f,"Annotator",c.jg,h,g,n);h+=g+k;this.t.Sn=this.la(e,d,f,"Fuseki",c.kg,h,g,n);h+=g+k;this.t.io=this.la(e,d,f,"Source",c.mg,h,g,n);h+=g+k;this.t.km=this.la(e,d,f,"Transcriber",c.ng,h,g,n);h+=g+k;this.t.km=this.sg(e,d,f,"Game Info",c.Rk,h,g,n);h+=3*g;Bf(e,f+"Bottom");c=D(f+"Bottom");J(c.i,0,h,1E3,1E3,!0,!0,!1,!1,0,m);c.n=M|L|O;d.j(c)};l.p=function(a){Ff.q.p.call(this,a);this.a.Je&&this.a.Je.p();this.a.kf&&this.a.kf.p();a=parseInt(this.t.xe.style.top)|0;var b=(parseInt(this.a.jb.style.height)|0)-this.Lm;this.t.xe.style.height=b-a<3*this.zk?3*this.zk+"px":b-a+"px"};l.Dl=function(){this.ib()};l.Be=function(){if(this.b){var a=this.b;a.wd=this.t.Tn.value;U(a);Gf(this.b,this.t.$n.value);a=this.b;a.pg=this.t.co.value;U(a);a=this.b;a.Lb=parseFloat(this.t.gj.value);a.ma=!0;a=this.b;a.ac=this.t.Pi.value;U(a);a=this.b;a.Yf=this.t.jo.value;U(a);Hf(this.b,this.t.Hn.value);If(this.b,this.t.Jn.value);Jf(this.b,this.t.lo.value);Kf(this.b,this.t.no.value);a=this.b;a.ig=this.t.On.value;U(a);Lf(this.b,this.t.xe.value);a=this.b;a.le=this.t.Date.value;a.ma=!0;a=this.b;a.bf=this.t.Event.value;U(a);a=this.b;a.lg=this.t.bo.value;U(a);a=this.b;a.cf=this.t.Yn.value;U(a);a=this.b;a.jg=this.t.Gn.value;U(a);a=this.b;a.kg=this.t.Sn.value;U(a);a=this.b;a.mg=this.t.io.value;U(a);a=this.b;a.ng=this.t.km.value;U(a)}this.ib()};l.qa=function(a,b,c){var d=document.createElement("div");d.setAttribute("id",b);d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.style.fontFamily="Tahoma, Sans serif";d.style.fontSize=15*c/20+"px";d.style.lineHeight=c+"px";d.style.height=c+"px";a.appendChild(d);return d};l.tg=function(a,b,c){var d=document.createElement("input");d.setAttribute("id",b);d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.setAttribute("type","text");d.style.fontFamily="Tahoma, Sans serif";d.style.fontSize="10pt";d.style.outline="none";d.style.border="1px solid rgb(169,169,169)";!1===c&&(d.disabled="disabled");a.appendChild(d);return d};l.la=function(a,b,c,d,e,f,g,h){var k;k=30;c+=d;var m=this.qa(a,c,g),n=D(c);J(n.i,10,f,1E3,1E3,!0,!0,!1,!1,100,g);n.n=M|L;b.j(n);md(m,d);d=c+"Value";a=this.tg(a,d,h);h=D(d);J(h.i,110,f+1,k,1E3,!0,!0,!0,!1,-1,g-2);h.n=M|L|O;b.j(h);a.value=e;return a};l.sg=function(a,b,c,d,e,f,g,h){var k;k=30;c+=d;var m=this.qa(a,c,g),n=D(c);J(n.i,10,f,1E3,1E3,!0,!0,!1,!1,100,g);n.n=M|L;b.j(n);md(m,d);c=c+"Value";d=document.createElement("textarea");d.setAttribute("id",c);d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.style.fontFamily="Tahoma, Sans serif";d.style.fontSize="10pt";d.style.resize="none";d.style.outline="none";d.style.border="1px solid rgb(169,169,169)";d.style.height=3*g+"px";this.t.xe=d;!1===h&&(d.disabled="disabled");a.appendChild(d);a=D(c);J(a.i,110,f+1,k,1E3,!0,!0,!0,!1,-1,3*g);a.n=M|L|O;b.j(a);d.value=e;return d};function Mf(){Mf.q.constructor.call(this);this.v=300;this.F=100;this.rn=null}R(Mf,Af);l=Mf.prototype;l.o=function(a,b){Mf.q.o.call(this,a,!1);Df(this,b.O);Cf(this,b.Bd?b.Bd:"Error");this.b=b.N;this.f=b.O;var c=this.a.fd,d=a+"E",e=this.qa(this.a.Sa,d,20),d=D(d);J(d.i,10,5,10,5,!0,!0,!0,!0,-1,-1);d.n=M|L|N|O;c.j(d);this.rn=e;this.Aa(b)};l.ib=function(){this.f&&Xd(this.f);Ff.q.ib.call(this)};l.Aa=function(a){Mf.q.Aa.call(this,a);this.v=a.I;this.F=a.D;md(this.rn,a.Cc);this.f&&(Vd(this.f),Df(this,this.f),this.p(!0))};l.qa=function(a,b,c){var d=document.createElement("div");d.setAttribute("id",b);d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.style.fontFamily="Tahoma, Sans serif";d.style.fontSize=15*c/20+"px";d.style.lineHeight=c+"px";d.style.height=c+"px";a.appendChild(d);return d};l.Dc=function(){return{I:this.v,D:this.F}};function Nf(){Nf.q.constructor.call(this);this.b=null;this.t={Jb:{Sj:null,Hj:null,yi:null,Ii:null},Ij:null,kj:null,nj:null,Hi:null,jj:null,Zl:null}}R(Nf,Ef);Nf.prototype.o=function(a,b){Nf.q.o.call(this,a,!1);Df(this,b.O);this.b=b.N;Cf(this,"Settings");var c=new wf;c.o(this.a.jb.id,["Appearance","Color Scheme","Loading Settings"],0,150);var d=Of(c.tc[0]),e=this.a.jb.id+"A";this.t.Zl=Pf(d,e+"T",this.b.Ie(),"Show Target");this.t.Hi=Pf(d,e+"C",this.b.Id(),"Cycle through variants");this.t.Ij=Pf(d,e+"S",this.b.sf(),"Sound");this.t.nj=Qf(d,this.b.Ae(),["No labels","Move numbers","Move numbers current variant only","Move coordinates"],"Labels in navigator");d=Of(c.tc[1]);e=this.a.jb.id+"CS";this.t.Jb.Sj=Rf(d,e+"TC","TrueColor");this.t.Jb.Hj=Rf(d,e+"SC","SimpleColor");this.t.Jb.yi=Rf(d,e+"BS","BookStyle");this.t.Jb.Ii=Rf(d,e+"D","Dark");Sf(this);c=Of(c.tc[2]);this.t.kj=Pf(c,this.a.jb.id+"LSU",this.b.qf(),"Load unfinished files on the last node");this.t.jj=Qf(c,this.b.Dd(),["Don't show variants","Show variations of current node   (siblings)","Show variations of successor node (children)","Load option from file"],"Show variants")};Nf.prototype.Dc=function(){return{I:400,D:210}};Nf.prototype.Aa=function(a){Nf.q.Aa.call(this,a);this.t.Hi.checked=this.b.Id();this.t.Ij.checked=this.b.sf();this.t.nj.selectedIndex=this.b.Ae();Sf(this);this.t.kj.checked=this.b.qf();this.t.jj.selectedIndex=this.b.Dd()};function Of(a){var b=document.createElement("div");a.appendChild(b);b.style.margin="0";b.style.padding="10px 20px";b.style.fontFamily="Tahoma, Arial, Verdana";b.style.fontSize="10px";b.style.color="#666";b.style.background="#fff";return b}Nf.prototype.Be=function(){var a=1,a=this.t.Jb.Hj.checked?3:this.t.Jb.yi.checked?2:this.t.Jb.Ii.checked?4:1,a=x.ah(a);x.zf(this.t.Ij.checked?!0:!1);this.b.Gc(this.t.Zl.checked?!0:!1);this.b.zj(this.t.kj.checked?!0:!1);this.b.Bj(this.t.nj.selectedIndex);this.b.uj(this.t.Hi.checked?!0:!1);this.b.yj(this.t.jj.selectedIndex);var b=this.b.k,c=this.b.M;b&&!0===a.$&&b.p(!0);c&&!0===a.Navigator&&Ue(c);this.ib()};function Rf(a,b,c){var d=document.createElement("div");d.style.paddingLeft="10px";d.style.paddingBottom="5px";a.appendChild(d);var e=document.createElement("input");e.type="radio";e.name="ThemeId";e.value=c;e.setAttribute("id",b);d.appendChild(e);a=document.createElement("span");a.setAttribute("oncontextmenu","return false;");a.style.fontFamily="Tahoma, Sans serif";md(a,c);a.style.fontFamily="Tahoma, Sans serif";a.style.fontSize="12pt";a.style.height="15px";a.style.lineHeight="15px";a.style.cursor="default";d.appendChild(a);a.addEventListener("click",function(){e.checked=!0},!1);return e}function Pf(a,b,c,d){var e=document.createElement("div");e.style.paddingLeft="10px";e.style.paddingBottom="5px";a.appendChild(e);var f=document.createElement("input");f.type="checkbox";f.checked=c;f.setAttribute("id",b);e.appendChild(f);a=document.createElement("span");a.setAttribute("oncontextmenu","return false;");a.style.fontFamily="Tahoma, Sans serif";md(a,d);a.style.fontFamily="Tahoma, Sans serif";a.style.fontSize="12pt";a.style.height="15px";a.style.lineHeight="15px";a.style.cursor="default";e.appendChild(a);a.addEventListener("click",function(){f.checked=!f.checked},!1);return f}function Qf(a,b,c,d){var e=document.createElement("div");e.style.paddingLeft="10px";e.style.paddingBottom="5px";e.style.fontFamily="Tahoma, Sans serif";e.style.fontSize="9pt";e.style.height="12px";e.style.lineHeight="12px";a.appendChild(e);a=document.createElement("div");md(a,d);a.style.paddingBottom="5px";e.appendChild(a);d=document.createElement("select");d.style.width="170px";a=0;for(var f=c.length;a<f;a++){var g=document.createElement("option");g.value=c[a];md(g,c[a]);d.appendChild(g)}d.selectedIndex=b;e.appendChild(d);return d}function Sf(a){var b=x.J.rb.w;231===b?x.J.nb?a.t.Jb.Sj.checked=!0:a.t.Jb.Hj.checked=!0:255===b?a.t.Jb.yi.checked=!0:30===b?a.t.Jb.Ii.checked=!0:a.t.Jb.Sj.checked=!0}function Wf(){Wf.q.constructor.call(this);this.k=null}R(Wf,Af);Wf.prototype.o=function(a,b){Wf.q.o.call(this,a,!0);Df(this,b.O);this.b=b.N;Cf(this,"Score estimate");var c=this.a.Sa,d=this.a.fd,e=this.a.Sa.id;c.style.background="url('"+he+"')";var f=new ba;d.Za(2,f);var e=e+"B",c=Bf(c,e),g=D(e);J(g.i,0,0,1E3,1E3,!0,!0,!1,!1,-1,-1);g.n=L|M|N|O;d.j(g);this.Sc=c;this.bg=g;f.o(e,$f(this.b));f.Ye=this;Ha(f,9);this.k=f};Wf.prototype.p=function(a){Wf.q.p.call(this,a);this.k&&this.k.p(a)};function Ga(a,b,c,d,e,f){Cf(a,"B "+b+"("+d+") W "+c+"("+e+") "+(0<f?"B+"+f:0>f?"W+"+Math.abs(f):"Even"))}Wf.prototype.Aa=function(a){for(;this.Sc.firstChild;)this.Sc.removeChild(this.Sc.firstChild);this.bg&&this.bg.Ia();var b=new ba;b.o(this.Sc.id,$f(a.N));var c=b;c.Ye=this;Ha(c,9);this.k=b;Wf.q.Aa.apply(this,arguments);this.p(!0)};function ag(){ag.q.constructor.call(this)}R(ag,Af);l=ag.prototype;l.o=function(a,b){ag.q.o.call(this,a,!1);this.b=b.N;this.k=b.Ji;Df(this,b.O);Cf(this,"Colors counter");var c=this.a.Sa,d=this.a.fd,e=this.a.Sa.id;c.style.overflowX="hidden";c.style.overflowY="scroll";var f=10,g=b.Ji.eb,h=[0,0,0,0],k=[0,0,0,0],m=[0,0,0,0],n=[0,0,0,0],p;for(p in g){var t=g[p],q=-1;0!==t.w&&0!==t.B&&0!==t.A?q=3:0!==t.w?q=0:0!==t.B?q=1:0!==t.A&&(q=2);var r=0,r=50>=t.La?0:100>=t.La?1:150>=t.La?2:3;switch(q){case 0:h[r]++;break;case 1:k[r]++;break;case 2:m[r]++;break;case 3:n[r]++}}this.Zn=this.la(c,d,e,"Red","4 x "+h[3]+"+ 3 x "+h[2]+" + 2 x "+h[1]+" + 1 x "+h[0]+" ="+(4*h[3]+3*h[2]+2*h[1]+h[0]),f,20);f+=25;this.Wn=this.la(c,d,e,"Green","4 x "+k[3]+"+ 3 x "+k[2]+" + 2 x "+k[1]+" + 1 x "+k[0]+" ="+(4*k[3]+3*k[2]+2*k[1]+k[0]),f,20);f+=25;this.Kn=this.la(c,d,e,"Blue","4 x "+m[3]+"+ 3 x "+m[2]+" + 2 x "+m[1]+" + 1 x "+m[0]+" ="+(4*m[3]+3*m[2]+2*m[1]+m[0]),f,20);f+=25;this.Vn=this.la(c,d,e,"Gray","4 x "+n[3]+"+ 3 x "+n[2]+" + 2 x "+n[1]+" + 1 x "+n[0]+" ="+(4*n[3]+3*n[2]+2*n[1]+n[0]),f,20);f+=25;Bf(c,e+"Bottom");c=D(e+"Bottom");J(c.i,0,f,1E3,1E3,!0,!0,!1,!1,0,10);c.n=M|L|O;d.j(c)};l.qa=function(a,b,c){var d=document.createElement("div");d.setAttribute("id",b);d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.style.fontFamily="Tahoma, Sans serif";d.style.fontSize=15*c/20+"px";d.style.lineHeight=c+"px";d.style.height=c+"px";a.appendChild(d);return d};l.tg=function(a,b){var c=document.createElement("input");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");c.setAttribute("type","text");c.style.fontFamily="Tahoma, Sans serif";c.style.fontSize="10pt";c.style.outline="none";c.disabled="disabled";a.appendChild(c);return c};l.la=function(a,b,c,d,e,f,g,h){var k;k=30;c+=d;var m=this.qa(a,c,g),n=D(c);J(n.i,10,f,1E3,1E3,!0,!0,!1,!1,100,g);n.n=M|L;b.j(n);md(m,d);d=c+"Value";a=this.tg(a,d,h);h=D(d);J(h.i,110,f+1,k,1E3,!0,!0,!0,!1,-1,g-2);h.n=M|L|O;b.j(h);a.value=e;return a};l.Aa=function(a){ag.q.Aa.call(this,a);this.b=a.N;this.k=a.Ji;this.Ja()};l.Ja=function(){if(this.Lf&&this.k){var a=this.k.eb,b=[0,0,0,0],c=[0,0,0,0],d=[0,0,0,0],e=[0,0,0,0],f;for(f in a){var g=a[f],h=-1;0!==g.w&&0!==g.B&&0!==g.A?h=3:0!==g.w?h=0:0!==g.B?h=1:0!==g.A&&(h=2);var k=0,k=50>=g.La?0:100>=g.La?1:150>=g.La?2:3;switch(h){case 0:b[k]++;break;case 1:c[k]++;break;case 2:d[k]++;break;case 3:e[k]++}}this.Zn.value="4 x "+b[3]+"+ 3 x "+b[2]+" + 2 x "+b[1]+" + 1 x "+b[0]+" ="+(4*b[3]+3*b[2]+2*b[1]+b[0]);this.Wn.value="4 x "+c[3]+"+ 3 x "+c[2]+" + 2 x "+c[1]+" + 1 x "+c[0]+" ="+(4*c[3]+3*c[2]+2*c[1]+c[0]);this.Kn.value="4 x "+d[3]+"+ 3 x "+d[2]+" + 2 x "+d[1]+" + 1 x "+d[0]+" ="+(4*d[3]+3*d[2]+2*d[1]+d[0]);this.Vn.value="4 x "+e[3]+"+ 3 x "+e[2]+" + 2 x "+e[1]+" + 1 x "+e[0]+" ="+(4*e[3]+3*e[2]+2*e[1]+e[0])}};l.Dc=function(){return{I:410,D:160}};function bg(){bg.q.constructor.call(this);this.b=this.f=this.tn=this.sn=null}R(bg,Af);bg.prototype.o=function(a,b){bg.q.o.call(this,a,!1);Df(this,b.O);Cf(this,"Creating Gif file...");b.N&&(this.b=b.N);var c=this.a.Sa,d=this.a.fd,e=this.a.Sa.id,f=e+"PB",g=Bf(c,f),f=D(f);J(f.i,6,30,8,8,!0,!0,!0,!0,-1,-1);f.n=L|M|N|O;d.j(f);g.style.border="1px solid rgb(221,221,221)";g.style.backgroundColor="rgb(140, 140, 140)";f=e+"P";g=Bf(c,f);f=D(f);J(f.i,7,31,0,7,!0,!0,!1,!0,10,-1);f.n=L|M|N;d.j(f);g.style.backgroundColor="rgb(54, 101, 179)";this.sn=g;e=e+"PV";c=Bf(c,e);e=D(e);J(e.i,0,7,1E3,32,!1,!1,!1,!0,-1,-1);e.n=L|M|N;d.j(e);c.style.fontFamily="Tahoma, Sans serif";c.style.fontSize="15px";c.style.lineHeight="20px";c.style.height="20px";c.style.color="rgb(0, 0, 0)";c.style.textAlign="center";this.tn=c};bg.prototype.Dc=function(){return{I:240,D:100}};function cg(a,b){a.sn.style.width=b/100*214+"px";md(a.tn,(100*b|0)/100+"%")}function dg(a){cg(a,0);a.f&&Vd(a.f)}function eg(a){cg(a,100);setTimeout(function(){a.ib(!0)},300)}bg.prototype.ib=function(a){!0!==a&&this.b&&(this.b.Se=null);this.f&&Xd(this.f);bg.q.ib.apply(this)};function fg(){fg.q.constructor.call(this);this.k=null}R(fg,Af);fg.prototype.o=function(a,b){bg.q.o.call(this,a,!0);Df(this,b.O);Cf(this,"About");this.b=b.N;var c=new wf;c.o(this.a.Sa.id,["About Web Go Board","Keyboard Shortcuts"],0);var d=c.tc[0],e=document.createElement("div");d.appendChild(e);d.style.overflowX="hidden";d.style.overflowY="scroll";e.style.margin="0";e.style.padding="10px 20px";e.style.fontFamily="Tahoma, Arial, Verdana";e.style.fontSize="12px";e.style.color="#666";e.style.background="#fff";d=document.createElement("img");d.src=gg;d.width=100;d.height=100;d.style["float"]="left";e.appendChild(d);d=document.createElement("div");d.style.width="10px";d.style.height="100px";d.style["float"]="left";e.appendChild(d);d=document.createElement("h1");e.appendChild(d);md(d,"Web Go/Baduk Board");d=document.createElement("div");e.appendChild(d);md(d,"Version "+GoBoardApi.Og());d=document.createElement("div");d.style.paddingTop="40px";e.appendChild(d);md(d,"Visit our Github project for feedback and issue reports:");d=document.createElement("a");d.target="_blank";d.href="https://github.com/IlyaKirillov/GoProject";e.appendChild(d);md(d,"https://github.com/IlyaKirillov/GoProject");d=document.createElement("div");d.style.paddingTop="20px";e.appendChild(d);md(d,"Our site:");d=document.createElement("a");d.target="_blank";d.href="http://webgoboard.com/";e.appendChild(d);md(d,"http://webgoboard.com/");d=document.createElement("div");d.style.paddingTop="20px";e.appendChild(d);md(d,"Discussions:");d=document.createElement("a");d.target="_blank";d.href="http://www.lifein19x19.com/forum/viewtopic.php?f=18&t=11239";e.appendChild(d);md(d,"http://www.lifein19x19.com/");e.appendChild(document.createElement("br"));d=document.createElement("a");d.target="_blank";d.href="http://kido.com.ru/253-web-go-doska";e.appendChild(d);md(d,"http://kido.com.ru/");d=document.createElement("div");d.style.paddingTop="20px";e.appendChild(d);md(d,"Browsers extension:");d=document.createElement("a");d.target="_blank";d.href="https://chrome.google.com/webstore/detail/web-go-board/cdmhoehokaoghadonjfdbhieajggfbmd";e.appendChild(d);md(d,"Chrome and OperaNext");e.appendChild(document.createElement("br"));d=document.createElement("a");d.target="_blank";d.href="https://addons.mozilla.org/ru/firefox/addon/web-gobaduk-board/";e.appendChild(d);md(d,"FireFox");d=document.createElement("div");d.style.paddingTop="30px";e.appendChild(d);md(d,"\u00a9 Ilya Kirillov, 2014-2015. All rights reserved.");e=c.tc[1];e.style.overflowX="hidden";e.style.overflowY="scroll";c=document.createElement("div");e.appendChild(c);c.style.margin="0";c.style.padding="10px 20px";c.style.fontFamily="Tahoma, Arial, Verdana";c.style.fontSize="12px";c.style.color="#666";c.style.background="#fff";e=document.createElement("h1");c.appendChild(e);md(e,"Keyboard Shortcuts");e.style.fontSize="16px";e.style.fontWeight="bold";e=document.createElement("table");c.appendChild(e);e.style.margin="20px 0";e.style.width="100%";c=document.createElement("tbody");e.appendChild(c);this.k=null;b.N&&(this.k=b.N.k);hg(c,"Working with Files");W(this,c,{s:!0,G:79,u:!1},"Open Sgf/Gib/Ngf","Ctrl+O","Open the Sgf/Gib/Ngf file from disk. (Not in color mode, see below)");W(this,c,{s:!0,G:79,u:!0},"Open Sgf","Ctrl+Shift+O","Open the Sgf file from source. (Not in color mode, see below)");W(this,c,{s:!0,G:67,u:!1},"Create new","Ctrl+C","Create new empty board. (not in color mode see below)");W(this,c,{s:!0,G:83,u:!1},"Save Sgf","Ctrl+S","Save Sgf file.");W(this,c,{s:!0,G:72,u:!1},"Save png shot","Ctrl+H","Save board shot in png format.");W(this,c,{s:!0,G:72,u:!0},"Save gif shot","Ctrl+Shift+H","Save board shot in gif format.");W(this,c,{s:!0,G:73,u:!1},"Save multipage gif file.","Ctrl+I","Save gif file for current variant.");W(this,c,{s:!0,G:73,u:!0},"Save multipage gif file.","Ctrl+Shift+I","Save gif file for all branches with comment RIGHT (for problem mode).");hg(c,"Navigation");W(this,c,{s:!1,G:39,u:!1},"Next node","Right arrow","Jump to next node.");W(this,c,{s:!0,G:39,u:!1},"Next 5 node","Ctrl+Right arrow","Jump over 5 nodes.");W(this,c,{s:!0,G:39,u:!0},"End of the variant","Ctrl+Shift+Right arrow","Jump to the end of the current variant.");W(this,c,{s:!1,G:37,u:!1},"Previous node","Left arrow","Jump to previous node.");W(this,c,{s:!0,G:37,u:!1},"Previous 5 node","Shift+Left arrow","Jump back over 5 nodes.");W(this,c,{s:!0,G:37,u:!0},"Start of the file","Ctrl+Shift+Right arrow","Jump to the start of the file.");W(this,c,{s:!1,G:38,u:!1},"Previous variant","Up arrow","Jump to previous variant.");W(this,c,{s:!1,G:40,u:!1},"Next variant","Down arrow","Jump to next variant.");W(this,c,{s:!0,G:36,u:!0},"Start node","Ctrl+Shift+Home",'Jump to the start node of the file. This node can be different from the first node. See "load unfinished files" checkbox in settings.');ig(this,c,{s:!1,G:112,u:!1},"Play mode","F1");W(this,c,{},"Add move","Left mouse click","Set sequentially stones.");W(this,c,{},"Add alternative move","Right mouse click","Create new brunch and add alternative move.");W(this,c,{},"Go to the point","Shift+Left mouse click onto a board position","Teleports you to the moment of the game forth or back, when the stone on this position has been played.");W(this,c,{},"Change move order","Ctrl+Shift+Left mouse click","When sequentially stones are entered: changes the colour of the next stone to be set. What stone will appear on the board is shown by the tools field (useful e.g. after a problem has been set up).");W(this,c,{},"Add comment with coordinates","Ctrl+Left mouse click","Add comment with coordinates.");ig(this,c,{s:!1,G:113,u:!1},"Count scores","F2");W(this,c,{},"Mark dead groups","Left mouse click","Mark dead groups.");W(this,c,{},"End count scores","Ctrl+Left mouse click onto board","Return to play mode.");ig(this,c,{s:!1,G:114,u:!1},"Set up a board position","F3");W(this,c,{},"Add black stone or remove stone","Left mouse click","Add black stone or remove stone.");W(this,c,{},"Add white stone or remove stone","Shift+Left mouse click","Add white stone or remove stone.");jg(this,c,{s:!1,G:115,u:!1},"Triangles","F4","Add triangles.");jg(this,c,{s:!1,G:116,u:!1},"Squares","F5","Add squares.");jg(this,c,{s:!1,G:117,u:!1},"Circles","F6","Add circles.");jg(this,c,{s:!1,G:118,u:!1},"X mark","F7",'Add "X" mark.');ig(this,c,{s:!1,G:119,u:!1},"Text label","F8");W(this,c,{},"Letter","Left mouse click","Add letter.");W(this,c,{},"Text","Shift+Left mouse click","Add text entered by the user.");ig(this,c,{s:!1,G:120,u:!1},"Numeric label","F9");W(this,c,{},"Number","Left mouse click","Add the smallest positive number.");W(this,c,{},"Move number","Shift+Left mouse click","Add number of the first move which was played here.");ig(this,c,{s:!1,G:121,u:!1},"Color mode","F10");W(this,c,{},"Blue region","Left mouse click","Add blue region.");W(this,c,{},"Green region","Shift+Left mouse click","Add green region.");W(this,c,{},"Red region","Ctrl+Left mouse click","Add red region.");W(this,c,{},"Gray region","Ctrl+Shift+Left mouse click","Add gray region.");W(this,c,{},"Clear region","Right mouse click","Clear region.");W(this,c,{s:!0,G:67,u:!1},"Continue","Ctrl+C","Copy all colors from previous node.");W(this,c,{s:!0,G:79,u:!1},"Count colors","Ctrl+O","Count all colors with depth.");W(this,c,{s:!0,G:82,u:!1},"Clear colors","Ctrl+R","Clear all colors in the current node.");hg(c,"Miscellaneous");W(this,c,{s:!1,G:8,u:!1},"Remove node","Backspace/Delete","Deletes the current node and all of the following brunches.");W(this,c,{s:!0,G:69,u:!1},"Score estimator","Ctrl+E","Show window with score estimator (you can mark dead groups by click on them).");W(this,c,{s:!0,G:86,u:!1},"View mode change of the next move","Ctrl+V","There are 3 mods: Show all next move variants, show all alternative variants of the current move, show nothing.");W(this,c,{s:!0,G:82,u:!1},"Show/Hide coordinates","Ctrl+R","Show/Hide coordinates. (Not in color mode, see above)");W(this,c,{s:!0,G:77,u:!0},"Make the current variant mainly","Ctrl+Shift+M","Make the current variant mainly by uplifting it to the root of the game tree.");W(this,c,{s:!0,G:85,u:!0},"Lift up the current variant","Ctrl+Shift+U","Lift up the current variant.");W(this,c,{s:!0,G:68,u:!0},"Lower down the current variant","Ctrl+Shift+D","Lower down the current variant.");W(this,c,{s:!0,G:86,u:!0},"Setting up view port","Ctrl+Shift+V","Setting up visible part of the board.");W(this,c,{s:!0,G:68,u:!1},"Ascii Diagram","Ctrl+D","Make ascii diagram by current position.")};fg.prototype.Dc=function(){if(this.f){var a=this.f.Gb(),b=this.f.Da(),a=Math.max(100,Math.min(700,.9*a)),b=Math.max(100,Math.min(600,.9*b));return{I:a,D:b}}return null};function kg(a){var b=document.createElement("tr");a.appendChild(b);b.style.borderLeft="0";b.style.borderRight="0";b.style.borderBottom="solid 1px #E4E4E4";b.style.borderCollapse="collapse";b.style.padding="8px";b.style.fontSize="12px";b.style.textAlign="left";b.style.cursor="default";return b}function lg(a,b){var c=document.createElement("td");a.appendChild(c);md(c,b);c.style.borderLeft="0";c.style.borderRight="0";c.style.borderBottom="solid 1px #E4E4E4";c.style.borderCollapse="collapse";c.style.padding="8px";c.style.fontSize="12px";c.style.textAlign="left";c.style.cursor="default";return c}function mg(a,b,c){var d=a.k;d&&c.G&&(b.title="Click to do it",b.style.cursor="pointer",b.style.textDecoration="underline",b.addEventListener("click",function(){qa(d,c)},!1))}function hg(a,b){var c=kg(a),c=lg(c,b);c.colSpan="3";c.style.fontSize="14px";c.style.fontWeight="bold";c.style.paddingTop="20px"}function ig(a,b,c,d,e){b=kg(b);lg(b,d).style.fontWeight="bold";d=lg(b,e);mg(a,d,c);d.colSpan="2"}function jg(a,b,c,d,e,f){b=kg(b);lg(b,d).style.fontWeight="bold";d=lg(b,e);mg(a,d,c);lg(b,f)}function W(a,b,c,d,e,f){b=kg(b);lg(b,d).style.width="35%";d=lg(b,e);d.style.width="15%";mg(a,d,c);lg(b,f).style.width="50%"}function ng(){ng.q.constructor.call(this);this.Qb=null}R(ng,Af);ng.prototype.o=function(a,b){ng.q.o.call(this,a,!0);Cf(this,"Ascii Diagram");var c=this.a.Sa,d=this.a.fd,e=this.a.Sa.id;this.b=b.N;this.sg(c,d,e);this.xg(b.N);this.Qb.select()};ng.prototype.Aa=function(a){ng.q.Aa.call(this,a);this.xg(a.N);this.Qb.select()};ng.prototype.sg=function(a,b,c){var d=document.createElement("textarea");c=c+"TA";d.setAttribute("id",c);d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.style.fontFamily="Courier New, monospacef";d.style.fontSize="10pt";d.style.resize="none";d.style.outline="none";d.style.border="1px solid rgb(169,169,169)";d.style.height="100%";d.style.width="100%";this.Qb=d;a.appendChild(d);a=D(c);J(a.i,0,0,1E3,1E3,!1,!1,!1,!1,-1,-1);a.n=M|L|O|N;b.j(a);return d};ng.prototype.xg=function(a){this.Qb.value="";if(void 0!==a){var b=a.k;a=a.na;if(b&&a){for(var c="",d=b.m,e=d.V,f=d.W,g=d.aa,d=d.ba,h=0==e?!0:!1,k=a.ea().h-1==g?!0:!1,m=0==f?!0:!1,n=a.ea().g-1==d?!0:!1,p=[],t=f;t<d;t++)for(var q=e;q<g;q++){var r=Da(b,q+1,t+1),u=null!=r?r.P:Ca,r=null!=r?r.ef:"";u==kb&&Sa(r)&&(u=parseInt(r),r={Number:u,Xb:a.K(q+1,t+1)},G!=r.Xb&&p.push(r))}var t=!0,u=b.Kb,v=-1;if(0<p.length){for(var q=-1,z=G,H=-1,K=0,C=p.length;K<C;K++){r=p[K];if(-1==q||r.Number<q)q=r.Number,z=r.Xb;if(-1==H||r.Number>H)H=r.Number}if(10>H-q){H=!0;K=0;for(C=p.length;K<C;K++){var r=p[K],I=(r.Number-q)%2;if(0==I&&z!=r.Xb||1==I&&z==r.Xb){H=!1;break}}!0===H&&(v=q,t=E===z?!0:!1)}}p=h?"$$  --":"$$ -";for(q=e+1;q<=g;q++)p+="--";p+=k?"- \n":"\n";h=h?"$$ |":"$$";k=k?" |\n":"\n";c=t?c+"$$B":c+"$$W";u&&(c+="c");-1!=v&&(c+="m"+v);c+="\n";m&&(c+=p);for(t=f;t<=d;t++){c+=h;for(q=e;q<=g;q++)if(r=Da(b,q+1,t+1),u=null!=r?r.P:Ca,r=null!=r?r.ef:"",f=a.K(q+1,t+1),G==f)if(rb===u)c=c+" T";else if(pb===u)c=c+" C";else if(qb===u)c=c+" S";else if(sb===u)c=c+" M";else if(kb===u&&1===r.length&&97<=r.charCodeAt(0)&&122>=r.charCodeAt(0))c=c+String.fromCharCode(32,r.charCodeAt(0));else if(kb===u&&1===r.length&&65<=r.charCodeAt(0)&&90>=r.charCodeAt(0))c=c+String.fromCharCode(32,r.charCodeAt(0)+32);else{a:{f=q+1;m=t+1;if(a.v===a.F)for(u=Pa(a),r=0,z=u.length;r<z;r++)if(f-1===u[r][0]&&m-1===u[r][1]){f=!0;break a}f=!1}c=f?c+" ,":c+" ."}else-1!==v&&u==kb&&Sa(r)?(u=parseInt(r)-v+1,c=10==u?c+" 0":c+(" "+u)):E==f?c=rb===u?c+" Y":pb===u?c+" B":qb===u?c+" #":sb===u?c+" Z":c+" X":F==f&&(c=rb===u?c+" Q":pb===u?c+" W":qb===u?c+" @":sb===u?c+" P":c+" O");c+=k}n&&(c+=p);this.Qb.value=c}}};function og(){og.q.constructor.call(this)}R(og,Ef);og.prototype.o=function(a,b){og.q.o.call(this,a,!0);Df(this,b.O);this.b=b.N;this.f=b.O;Cf(this,"Setting up view port...");var c=this.a.jb,d=this.a.mf,e=this.a.jb.id;c.style.background="url('"+he+"')";var f=new ba;d.Za(2,f);var e=e+"B",c=Bf(c,e),g=D(e);J(g.i,0,0,1E3,1E3,!0,!0,!1,!1,-1,-1);g.n=L|M|N|O;d.j(g);this.Sc=c;this.bg=g;f.o(e,$f(this.b));Ha(f,11);this.k=f};og.prototype.p=function(a){og.q.p.call(this,a);this.k&&this.k.p(a)};og.prototype.Aa=function(a){for(;this.Sc.firstChild;)this.Sc.removeChild(this.Sc.firstChild);this.bg&&this.bg.Ia();var b=new ba;b.o(this.Sc.id,$f(a.N));Ha(b,11);this.k=b;og.q.Aa.apply(this,arguments);this.p(!0)};og.prototype.Be=function(){if(this.b){var a=this.b.k;if(a){var b=this.k,c=Math.min(b.ta.fh,b.ta.ve),d=Math.max(b.ta.fh,b.ta.ve),e=Math.min(b.ta.gh,b.ta.we),b=Math.max(b.ta.gh,b.ta.we);if(d===c&&b===e)za(a);else{if(3>d-c||3>b-e){a=this.b;(c=this.f)&&Kb(c.X.id,Lb,{N:a,O:c,Cc:"Sorry, viewport can't be so small.",I:270,D:80});return}ya(a,c-1,e-1,d-1,b-1)}this.f.p(!0)}}this.ib()};function pg(){pg.q.constructor.call(this)}R(pg,Ef);l=pg.prototype;l.o=function(a,b){og.q.o.call(this,a,!1);Df(this,b.O);this.b=b.N;this.f=b.O;Cf(this,"Create new");var c=this.a.jb,d=this.a.mf,e=this.a.jb.id,f=5;this.In=this.la(c,d,e,"Black","Black",f,20);f+=50;this.mo=this.la(c,d,e,"White","White",f,20);f+=50;this.Ln=this.la(c,d,e,"Board size","19",f,20);f+=50;this.Pi=this.la(c,d,e,"Handicap","0",f,20);this.gj=this.la(c,d,e,"Komi","6.5",f+50,20)};l.qa=function(a,b,c){var d=document.createElement("div");d.setAttribute("id",b);d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.style.fontFamily="Tahoma, Sans serif";d.style.fontSize=15*c/20+"px";d.style.lineHeight=c+"px";d.style.height=c+"px";d.style.fontWeight=550;a.appendChild(d);return d};l.tg=function(a,b){var c=document.createElement("input");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");c.setAttribute("type","text");c.style.fontFamily="Tahoma, Sans serif";c.style.fontSize="10pt";c.style.outline="none";c.style.border="1px solid rgb(169,169,169)";a.appendChild(c);return c};l.la=function(a,b,c,d,e,f,g){c+=d;var h=this.qa(a,c,g),k=D(c);J(k.i,20,f,10,1E3,!0,!0,!1,!1,-1,g);k.n=M|L|O;b.j(k);md(h,d);f+=g;d=c+"Value";a=this.tg(a,d);d=D(d);J(d.i,10,f+1,10,1E3,!0,!0,!0,!1,-1,g-2);d.n=M|L|O;b.j(d);a.value=e;return a};l.Dc=function(){return{I:195,D:340}};l.Be=function(){var a=this.Ln.value,b=19,c=19,d=-1;-1==(d=a.indexOf(":"))?c=b=Math.min(52,Math.max(parseInt(a),2)):(b=parseInt(a.substr(0,d)),c=parseInt(a.substr(d+1,a.length-d-1)));if(isNaN(b)||2>b||52<b||isNaN(c)||2>c||52<c)Kb(this.f.X.id,Lb,{N:this.b,O:this.f,Cc:"Size value must be an integer number from 2 to 52, or pair of such numbers separated by ':' character.",I:300,D:115});else{var e=parseInt(this.Pi.value);if(isNaN(e)||0>e||9<e)Kb(this.f.X.id,Lb,{N:this.b,O:this.f,Cc:"Handicap value must be an integer number from 0 to 9.",I:300,D:95});else if(0!=e&&(6>=c||6>=b||b!==c))Kb(this.f.X.id,Lb,{N:this.b,O:this.f,Cc:"Handicap value must be 0 for this board size.",I:300,D:95});else if(5<e&&(10>=b||10>=c))Kb(this.f.X.id,Lb,{N:this.b,O:this.f,Cc:"Handicap value must be an integer number from 0 to 5 for this board size.",I:300,D:95});else if(a=parseFloat(this.gj.value),isNaN(a)||.001<Math.abs(2*a-(2*a|0)))Kb(this.f.X.id,Lb,{N:this.b,O:this.f,Cc:"Invalid komi value.",I:175,D:85});else{if(this.b){a="(;FF[4]"+("SZ["+(b===c?b:b+":"+c)+"]")+("KM["+a+"]");a+="PB["+this.In.value+"]";a+="PW["+this.mo.value+"]";a+="HA["+e+"]";d=[];if(b===c){var f=b,b=10>f?2:3,c=((f+1)/2|0)-1,f=10>f?f-3:f-4;switch(e){case 2:d.push([f,b]);d.push([b,f]);break;case 3:d.push([f,f]);d.push([b,f]);d.push([f,b]);break;case 4:d.push([b,b]);d.push([f,f]);d.push([b,f]);d.push([f,b]);break;case 5:d.push([b,b]);d.push([b,f]);d.push([f,b]);d.push([f,f]);d.push([c,c]);break;case 6:d.push([b,b]);d.push([b,f]);d.push([f,b]);d.push([f,f]);d.push([b,c]);d.push([f,c]);break;case 7:d.push([b,b]);d.push([b,f]);d.push([f,b]);d.push([f,f]);d.push([b,c]);d.push([f,c]);d.push([c,c]);break;case 8:d.push([b,b]);d.push([b,f]);d.push([f,b]);d.push([f,f]);d.push([b,c]);d.push([f,c]);d.push([c,b]);d.push([c,f]);break;case 9:d.push([b,b]),d.push([b,f]),d.push([f,b]),d.push([f,f]),d.push([b,c]),d.push([f,c]),d.push([c,b]),d.push([c,f]),d.push([c,c])}}if(0<d.length)for(a+="AB",e=0,b=d.length;e<b;e++)c=d[e][0],f=d[e][1],c+=25>=c?97:39,f+=25>=f?97:39,a+=String.fromCharCode(91,c,f,93);a+=")";this.b.Fc(a,null,null,"sgf")}this.ib()}}};function qg(){qg.q.constructor.call(this);this.Qb=null}R(qg,Ef);l=qg.prototype;l.o=function(a,b){qg.q.o.call(this,a,!0);Df(this,b.O);Cf(this,"Load file from clipboard");var c=this.a.jb,d=this.a.mf,e=this.a.jb.id;this.b=b.N;this.sg(c,d,e);this.xg(b.N);this.Qb.select()};l.Aa=function(a){qg.q.Aa.call(this,a);this.xg();this.Qb.select()};l.sg=function(a,b,c){var d=document.createElement("textarea");c=c+"TA";d.setAttribute("id",c);d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.style.fontFamily="Courier New, monospacef";d.style.fontSize="10pt";d.style.resize="none";d.style.outline="none";d.style.border="1px solid rgb(169,169,169)";d.style.height="100%";d.style.width="100%";this.Qb=d;a.appendChild(d);a=D(c);J(a.i,0,0,1E3,1E3,!1,!1,!1,!1,-1,-1);a.n=M|L|O|N;b.j(a);return d};l.xg=function(){this.Qb.value="";window.clipboardData&&(this.Qb.value=window.clipboardData.getData("Text"))};l.Be=function(){var a=this.Qb.value;a&&""!==a&&this.b.Fc(a,null,null,null);this.ib()};l.Dc=function(){return{I:300,D:200}};function rg(){rg.q.constructor.call(this);this.Wm=this.Tm=this.Um=-1}R(rg,Af);l=rg.prototype;l.o=function(a,b){rg.q.o.call(this,a,b);Df(this,b.O);Cf(this,"Kifu");this.a.$c=this.Qa(this.a.Sa,this.a.fd,a);this.b=b.N;(this.f=b.O)&&this.f.Ul&&this.f.Ul(this)};l.Dc=function(){return{I:650,D:730}};l.Qa=function(a,b,c){var d=document.createElement("canvas");c=c+"C";d.setAttribute("style","position:absolute;padding:0;margin:0;");d.id=c;a.appendChild(d);a=D(c);J(a.i,0,0,1E3,1E3,!1,!1,!1,!1,-1,-1);a.n=M|L|O|N;b.j(a);return d};function sg(a,b,c,d,e){b.clearRect(0,0,c,d);b.strokeStyle="rgba(0, 0, 0, 1)";b.fillStyle="rgba(0, 0, 0, 1)";var f=tg(b,0,c,e,!1),g=Math.max(50,Math.min(c,d-30-f)),h=e.ea(),k=(h.h-1)*La+2*Ma,m=g/k*Ma|0,k=g/k*La|0,g=m+((c-g)/2|0),m=m+30;b.lineWidth=2;b.beginPath();b.moveTo(g,m);b.lineTo(g+(h.h-1)*k,m);b.lineTo(g+(h.h-1)*k,m+(h.g-1)*k);b.lineTo(g,m+(h.g-1)*k);b.closePath();b.stroke();b.lineWidth=1;b.beginPath();for(var n=0;n<h.h;++n)b.moveTo(g+n*k+.5,m+.5),b.lineTo(g+n*k+.5,m+(h.g-1)*k+.5);for(var p=0;p<h.g;++p)b.moveTo(g+.5,m+p*k+.5),b.lineTo(g+(h.h-1)*k+.5,m+p*k+.5);b.stroke();b.beginPath();for(var n=Pa(e),p=0,t=n.length;p<t;++p)b.rect(n[p][0]*k+g-3,n[p][1]*k+m-3,7,7);b.fill();for(var t=k/2|0,q=-1,r=-1,p=0;p<h.g;++p)for(n=0;n<h.h;++n){var u=e.K(n+1,p+1),v=e.Ed(n+1,p+1),z=n*k+g,H=p*k+m;ug(b,u,z,H,t);if(-1!==v){vg(b,u,z,H,t,v);if(-1===q||q>v)q=v;if(-1===r||r<v)r=v}}a.Wm=r;h="("+q+" ~ "+r+")";b.fillStyle="rgb(0,0,0)";b.font="16px Arial";b.fillText(h,(c-b.measureText(h).width)/2,20);tg(b,d-f,c,e,!0);Ke(a,b)}l.Aa=function(a){rg.q.Aa.call(this,a);a=this.a.Sa.clientWidth;var b=this.a.Sa.clientHeight;sg(this,this.a.$c.getContext("2d"),a,b,wg(this.b))};l.p=function(a){rg.q.p.call(this,a);var b=this.a.Sa.clientWidth,c=this.a.Sa.clientHeight;if(!0===a||.001<Math.abs(b-this.Um)||.001<Math.abs(c-this.Tm))this.Um=b,this.Tm=c,sg(this,this.a.$c.getContext("2d"),b,c,wg(this.b))};function ug(a,b,c,d,e){E===b?(a.fillStyle="rgb(0, 0, 0)",a.beginPath(),a.arc(c,d,e,0,2*Math.PI),a.fill()):F===b&&(a.fillStyle="rgb(255, 255, 255)",a.beginPath(),a.arc(c,d,e,0,2*Math.PI),a.fill(),a.stroke())}function vg(a,b,c,d,e,f){if(-1!==f){f=""+f;var g=e+"px "+(Sa(f)?"Arial":"Helvetica, Arial, Verdana");a.fillStyle=b===F?"rgb(0,0,0)":"rgb(255,255,255)";a.font=g;b=e/3+.15*e;e=2<f.length?(2*e-a.measureText(f).width)/2-e:(2*e-1.4*a.measureText(f).width)/2-e;2<f.length?a.setTransform(1,0,0,1.4,c+e,d+b):a.setTransform(1.4,0,0,1.4,c+e,d+b);a.fillText(f,0,0);a.setTransform(1,0,0,1,0,0)}}function tg(a,b,c,d,e){function f(){k+30<g||!0===m?m=!1:(k=15,m=!1,h+=35)}var g=c-15,h=5+b,k=15;if(d.uc){var h=h+15,m=!0;b=0;for(c=d.uc.length;b<c;++b){var n=d.uc[b];if(!(0>=n.lh.length)){for(var p=0,t=n.lh.length;p<t;++p){var q=n.lh[p];f();!0===e&&(ug(a,q.ff,k+15,h,15),vg(a,q.ff,k+15,h,15,q.Xh));k+=30}f();!0===e&&xg(a,k+15,h);k+=30;f();!0===e&&(ug(a,n.ff,k+15,h,15),vg(a,n.ff,k+15,h,15,n.Xh));k+=45}}h+=15}return h+=5}function xg(a,b,c){b=b-15|0;a.fillStyle="rgb(0,0,0)";a.beginPath();a.arc(b+6,c,2,0,2*Math.PI);a.arc(b+6+9,c,2,0,2*Math.PI);a.arc(b+6+18,c,2,0,2*Math.PI);a.fill()}function Ke(a,b){if(a.b){var c=a.b.de+1,d=a.b.bc;b.clearRect(0,0,84,30);0<c&&c<=a.Wm?(b.fillStyle="rgb(0,0,0)",b.font="16px Arial",b.fillText("Next",20,20),ug(b,d,70,16,12),vg(b,d,70,16,12,c)):0<c&&(b.fillStyle="rgb(0,0,0)",b.font="16px Arial",b.fillText("End",20,20))}}var Lb=2,Yc=3,ad=4,cc=5,jc=6,yg=7,dd=8,bc=9,pc=10,ac=11,lc=12,ic=13,Wd={};function Kb(a,b,c){Wd[a]||(Wd[a]={});var d=Wd[a];if(d[b]){var e=d[b];e.Aa(c);return e}e="unknownwindow";switch(b){case Yc:e="Info";break;case ad:e="Settings";break;case Lb:e="Error";break;case cc:e="ScoreEstimate";break;case jc:e="CountColors";break;case yg:e="GifWriter";break;case dd:e="About";break;case bc:e="DiagramSL";break;case pc:e="ViewPort";break;case ac:e="CreateNew";break;case lc:e="Clipboard";break;case ic:e="Kifu"}a=a+e+GoBoardApi.Og();e=document.createElement("div");e.setAttribute("id",a);e.setAttribute("style","position:absolute;padding:0;margin:0;width:500px;height:500px;left:300px;top:300px;");e.setAttribute("oncontextmenu","return false;");if(c.O){c.O.X.appendChild(e);e=null;switch(b){case Yc:e=new Ff;break;case ad:e=new Nf;break;case Lb:e=new Mf;break;case cc:e=new Wf;break;case jc:e=new ag;break;case yg:e=new bg;break;case dd:e=new fg;break;case bc:e=new ng;break;case pc:e=new og;break;case ac:e=new pg;break;case lc:e=new qg;break;case ic:e=new rg}d[b]=e;null!==e&&(e.o(a,c),e.p(!0));return e}return null};function Z(){}l=Z.prototype;l.vl=function(){return new zg};l.Lg=function(a,b){(new Pd(a)).Lg(b)};l.Mg=function(a,b){(new Pd(a)).Mg(b)};l.ul=function(a,b){var c=new Pd(a);c.xh=!1;Zd(c,b);fe(c);c.be=3};l.tl=function(a,b){var c=new Pd(a);c.xh=!1;Zd(c,b);be(c);c.be=4};l.Gi=function(a,b){(new Pd(a)).Gi(b)};l.Mn=function(a,b){var c=new Pd(a);c.xh=!0;c.rd=400;c.ce=200;Zd(c,b);Ud(c,!0)};l.Pn=function(a,b,c){(new af(a)).o(b,c)};l.Kg=function(a,b,c){(new Pd(a)).Kg(b);b=.3;c.TutorTime&&(b=parseFloat(c.TutorTime));c.TutorColor&&"Black"===c.TutorColor?Ag(a,!1,E,b):c.TutorColor&&"White"===c.TutorColor?Ag(a,!1,F,b):Ag(a,!0,G,b);a.H=0;void 0!==c.NewNode&&(xd(a,{Vg:!0}),(b=c.NewNode)&&""!==b||(b="Wrong.\nOut of variants."),a.Tk=b);b=void 0!==c.WrongCallback?c.WrongCallback:null;var d=void 0!==c.ResetCallback?c.ResetCallback:null;a.Pk=void 0!==c.RightCallback?c.RightCallback:null;a.Qk=b;a.Ok=d};l.Ki=function(a){return a.Ki()};l.Bf=function(a){a.Bf(!0)};l.Ke=function(a){a.Ke()};l.Xl=function(a,b){var c={};c.Vg=b.NewNode;c.uf=b.Move;c.Ai=b.ChangeBoardMode;c.ij=b.LoadFile;c.xe=b.GameInfo;c.um=b.ViewPort;xd(a,c)};l.Fc=function(a,b,c,d,e){var f={};c&&!0===c.Auto?f.jl=!0:c&&void 0!==c.X0&&void 0!==c.X1&&void 0!==c.Y0&&void 0!==c.Y1?(f.jl=!1,f.V=c.X0,f.aa=c.X1,f.W=c.Y0,f.ba=c.Y1):f=null;c=a.H;a.H=4294967295;a.Fc(b,f,d,e);a.H=c};l.vf=function(a){return a.vf()};l.Un=function(a,b,c){var d=1===c?a.Oh:a.l;a=a.l;gc(d);a:{var e=d,f=e;c=new Bg;Cg(c,"GBMR");if(!1!==b){for(;!e.wh;){b=e.ia;if(null===b){c="";break a}e=b}Dg(c,1);b=e.me;Eg(c,b.length);Cg(c,b);if(e!==f){Fg(c,1);b=[];for(d=f;d!==e;)b.splice(0,0,d),d=d.ia;Eg(c,b.length);e=0;for(d=b.length;e<d;e++){var g=b[e];Dg(c,1);f=c.e;c.e+=4;for(var h=0,k=0,m=g.Fa.length;k<m;k++){var n=g.Fa[k],p=n.P,t=n.ya(),n=n.$a;switch(p){case 1:Dg(c,16);Eg(c,4);Eg(c,t);h++;break;case 2:Dg(c,17);Eg(c,4);Eg(c,t);h++;break;case 257:case 258:case 259:switch(p){case 257:Dg(c,32);break;case 258:Dg(c,33);break;case 259:Dg(c,34)}Eg(c,4*(n+1));Eg(c,n);for(p=0;p<n;p++)Eg(c,t[p]);h++}}g=c.e;c.e=f;Eg(c,h);c.e=g;Dg(c,0)}}else Fg(c,0)}else{Dg(c,2);b=c.e;c.e+=4;e=d.Fb();for(d=0;e!==f&&0<Xb(e);)d++,Eg(c,e.ka),e=e.R();g=c.e;c.e=b;Eg(c,d);c.e=g}c=Gg(c);c=Hg(c);c=c.replace(RegExp("\\+","g"),"~");c=c.replace(RegExp("\\/","g"),"-");c=c.replace(RegExp("=","g"),"_")}a.Rg();return c};l.fo=function(a,b){if(a&&b){var c=a.l;Ig(a,b);a.Oh=a.l;a.ja(c,!0)}};l.cj=function(a){return a.cj()};l.p=function(a){a.p()};l.ze=function(a){return a?a.ze():"White vs. Black"};l.zf=function(a,b){a.zf(b)};l.Ca=function(a){a&&a.Ca()};l.Og=function(){return"0.10.8"};l.Qj=function(a){a&&a.Qj()};l.eo=function(a,b){a&&b&&(a.Pa=b)};l.ja=function(a,b){if(a){var c=Jg(a.Fb(),b);null!==c&&a.ja(c)}};l.of=function(a,b){a&&a.of(b)};l.Gc=function(a,b){a&&a.Gc(b,!0)};l.Wl=function(a,b){if(a){var c=null;"TrueColor"===b?c=1:"BookStyle"===b?c=2:"Simple"===b?c=3:"Dark"===b&&(c=4);c&&(c=a.sa.ah(c),!0===c.$&&a.k&&a.k.p(!0),a.M&&!0===c.Navigator&&Ue(a.M))}};l.ye=function(a,b){if(a)return a.ye(b)};l.Qn=function(a,b){function c(a){a=decodeURIComponent(a);var b=new XMLHttpRequest;b.open("GET",a+"?_="+(new Date).getTime(),!1);b.onreadystatechange=function(){4!==b.readyState||200!==b.status&&0!=b.status||(g=b.responseText,d())};b.send(null)}function d(){var c=document.getElementById(a);if(c){var d={LoadFile:!1,GameInfo:!1,ChangeBoardMode:!1,NewNode:!1,Move:!1,ViewPort:!1};n.Wl(p,m);var r=400;"image"===h?(n.Lg(p,a),n.Gc(p,!1),r=600):"viewer"==h?(n.Mg(p,a),d.Move=!0,r=600):"vereditor"===h?(n.ul(p,a),d.ChangeBoardMode=!0,d.NewNode=!0,d.Move=!0,r=600):"horeditor"===h?(n.tl(p,a),d.ChangeBoardMode=!0,d.NewNode=!0,d.Move=!0,r=900):"problems"==h&&(d={},b.problemsTime&&(d.TutorTime=b.problemsTime),b.problemsColor&&(d.TutorColor=b.problemsColor),b.problemsNewNode&&(d.NewNode=b.problemsNewNode),n.Kg(p,a,d),d=null,r=400,null===f&&(f={Auto:!0}));n.Fc(p,g,f);null!==k&&(r=k);var u=n.ye(p,r);c.style.width=r+"px";c.style.height=u+"px";-1!==e?n.of(p,e):n.of(p,0);n.p(p);d&&n.Xl(p,d)}}var e=-1,f=null,g=null,h=null,k=null,m="TrueColor",n=this,p=this.vl();p.sa.uh=!0;b.viewPort&&(f={},"auto"===b.viewPort?f.Auto=!0:(f.Auto=!1,f.X0=parseInt(b.viewPort.X0),f.X1=parseInt(b.viewPort.X1),f.Y0=parseInt(b.viewPort.Y0),f.Y1=parseInt(b.viewPort.Y1)));b.moveNumber&&(e=parseInt(b.moveNumber));b.boardMode?h=b.boardMode:h="viewer";b.width&&(k=b.width);b.boardTheme&&(m=b.boardTheme);null!=b.sgfUrl?c(b.sgfUrl):(null!==b.sgfData?g=b.sgfData:g="(;FF[4]GM[1]SZ[19])",d());return p};window.GoBoardApi=new Z;Z.prototype.Embed=Z.prototype.Qn;Z.prototype.Create_GameTree=Z.prototype.vl;Z.prototype.Create_SimpleBoard=Z.prototype.Lg;Z.prototype.Create_Viewer=Z.prototype.Mg;Z.prototype.Create_EditorHor=Z.prototype.tl;Z.prototype.Create_EditorVer=Z.prototype.ul;Z.prototype.Create_BoardWithNavigateButtons=Z.prototype.Gi;Z.prototype.Create_BoardCommentsButtonsNavigator=Z.prototype.Mn;Z.prototype.Create_Presentation=Z.prototype.Pn;Z.prototype.Create_Problems=Z.prototype.Kg;Z.prototype.Set_Permissions=Z.prototype.Xl;Z.prototype.Load_Sgf=Z.prototype.Fc;Z.prototype.Save_Sgf=Z.prototype.vf;Z.prototype.Get_MoveReference=Z.prototype.Un;Z.prototype.Set_StartNodeByReference=Z.prototype.fo;Z.prototype.Is_Modified=Z.prototype.cj;Z.prototype.Update_Size=Z.prototype.p;Z.prototype.Set_Sound=Z.prototype.zf;Z.prototype.Find_ProblemRightVariant=Z.prototype.Ki;Z.prototype.Start_AutoPlay=Z.prototype.Bf;Z.prototype.Stop_AutoPlay=Z.prototype.Ke;Z.prototype.Focus=Z.prototype.Ca;Z.prototype.Get_MatchName=Z.prototype.ze;Z.prototype.Get_Version=Z.prototype.Og;Z.prototype.Toggle_Rulers=Z.prototype.Qj;Z.prototype.Set_GameTreeHandler=Z.prototype.eo;Z.prototype.GoTo_Node=Z.prototype.ja;Z.prototype.GoTo_NodeByMoveNumber=Z.prototype.of;Z.prototype.Set_ShowTarget=Z.prototype.Gc;Z.prototype.Get_DivHeightByWidth=Z.prototype.ye;Z.prototype.Set_BoardTheme=Z.prototype.Wl;function Kg(a,b,c){this.P=void 0===a?0:a;this.Lk=void 0===b?null:b;this.$a=void 0===c?0:c}Kg.prototype.ya=function(){return this.Lk};Kg.prototype.Za=function(a){this.P=a};Kg.prototype.eh=function(a){this.Lk=a};function Lg(){var a=Command;return JSON.stringify({Hc:a.P,Xb:a.Lk,Di:a.$a})};function Mg(){Y=X=0}function y(a,b,c,d){this.w=a;this.B=b;this.A=c;this.La="undefined"===typeof d?255:d}function Q(a){return"rgba("+a.w+","+a.B+","+a.A+","+a.La/255+")"}function sd(a,b){return a.w!==b.w||a.B!==b.B||a.A!==b.A||a.La!==b.La?!1:!0}y.prototype.te=function(){return new y(this.w,this.B,this.A,this.La)};function Ng(a){return a.w<<24&4278190080|a.B<<16&16711680|a.A<<8&65280|a.La&255}y.prototype.Set=function(a,b,c){this.w=a;this.B=b;this.A=c};function tb(a){var b=new Mg;b.h=a&255;b.g=a>>8&255;return b}function Og(a){for(var b=[],c=0,d=a.length;c<d;c++)b.push(a[c]);return b}function Oa(a){if("undefined"!=typeof a.offsetParent){for(var b=0,c=0;a;a=a.offsetParent)b+=a.offsetLeft,c+=a.offsetTop;return{h:b,g:c}}return{h:a.x,g:a.y}}function Ra(a,b){var c=Math.max(0,Math.min(a-1,b-1));return 8>c?String.fromCharCode(65+c):24>=c?String.fromCharCode(65+c+1):33>c?String.fromCharCode(65+c-25,65+c-25):50>c?String.fromCharCode(65+c-24,65+c-24):String.fromCharCode(65+c-50,65+c-50,65+c-50)}function Sa(a){if("string"!=typeof a)return!1;for(var b=0;b<a.length;b++){var c=a.charCodeAt(b);if(48>c||57<c)return!1}return!0}function Mb(a,b){return a>b?1:b>a?-1:0}var Pg=null;function Ve(a,b,c,d,e){a.onmousedown=Qg;a.sc=!0;a.Bc=!0;a.root=a;a.sc&&isNaN(parseInt(a.root.style.left))&&(a.root.style.left="0px");a.Bc&&isNaN(parseInt(a.root.style.top))&&(a.root.style.top="350px");!a.sc&&isNaN(parseInt(a.root.style.right))&&(a.root.style.right="0px");!a.Bc&&isNaN(parseInt(a.root.style.bottom))&&(a.root.style.bottom="0px");a.yd="undefined"!=typeof b?b:null;a.zd="undefined"!=typeof d?d:null;a.ne="undefined"!=typeof c?c:null;a.oe="undefined"!=typeof e?e:null;a.Dn=null;a.En=null;a.root.Zh=function(){};a.root.Yh=function(){};a.root.Db=function(){}}function Qg(a){var b=Pg=this;a=Rg(a);var c=parseInt(b.Bc?b.root.style.top:b.root.style.bottom),d=parseInt(b.sc?b.root.style.left:b.root.style.right);b.root.Zh(d,c);b.ym=a.clientX;b.zm=a.clientY;b.sc?(null!=b.yd&&(b.Vh=a.clientX-d+b.yd),null!=b.ne&&(b.Uk=b.Vh+b.ne-b.yd)):(null!=b.yd&&(b.Uk=-b.yd+a.clientX+d),null!=b.ne&&(b.Vh=-b.ne+a.clientX+d));b.Bc?(null!=b.zd&&(b.Wh=a.clientY-c+b.zd),null!=b.oe&&(b.Vk=b.Wh+b.oe-b.zd)):(null!=b.zd&&(b.Vk=-b.zd+a.clientY+c),null!=b.oe&&(b.Wh=-b.oe+a.clientY+c));document.onmousemove=Sg;document.onmouseup=Tg;return!1}function Sg(a){da(a);a=Rg(a);var b=Pg,c=a.clientY;a=a.clientX;var d=parseInt(b.Bc?b.root.style.top:b.root.style.bottom),e=parseInt(b.sc?b.root.style.left:b.root.style.right),f,g;null!=b.yd&&(a=b.sc?Math.max(a,b.Vh):Math.min(a,b.Uk));null!=b.ne&&(a=b.sc?Math.min(a,b.Uk):Math.max(a,b.Vh));null!=b.zd&&(c=b.Bc?Math.max(c,b.Wh):Math.min(c,b.Vk));null!=b.oe&&(c=b.Bc?Math.min(c,b.Vk):Math.max(c,b.Wh));f=e+(a-b.ym)*(b.sc?1:-1);g=d+(c-b.zm)*(b.Bc?1:-1);b.Dn?f=b.Dn(d):b.En&&(g=b.En(e));null!=b.yd&&(f=Math.max(f,b.yd));null!=b.ne&&(f=Math.min(f,b.ne));null!=b.zd&&(g=Math.max(g,b.zd));null!=b.oe&&(g=Math.min(g,b.oe));Pg.root.style[b.sc?"left":"right"]=f+"px";Pg.root.style[b.Bc?"top":"bottom"]=g+"px";Pg.ym=a;Pg.zm=c;Pg.root.Db(f,g);return!1}function Tg(){document.onmousemove=null;document.onmouseup=null;Pg.root.Yh(parseInt(Pg.root.style[Pg.sc?"left":"right"]),parseInt(Pg.root.style[Pg.Bc?"top":"bottom"]));Pg=null}function Rg(a){"undefined"==typeof a&&(a=window.event);"undefined"==typeof a.layerX&&(a.layerX=a.offsetX);"undefined"==typeof a.layerY&&(a.layerY=a.offsetY);return a}function R(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.q=b.prototype}var Qd=window.requestAnimationFrame?window.requestAnimationFrame:window.webkitRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1E3/60)};function nc(a,b,c){if("undefined"!==typeof navigator&&navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(a,b);else{var d=document.createElementNS("http://www.w3.org/1999/xhtml","a");a=(window.URL||window.webkitURL||window).createObjectURL(a);d.href=a;d.download=b;c&&(d.type=c);Ug(d)}}function mc(a){var b=document.getElementsByTagName("body");if(0<b.length){var b=b[0],c=document.createElement("input");b.appendChild(c);c.type="file";c.multiple=!1;c.accept=".sgf,.gib,.ngf";c.style.display="none";c.addEventListener("change",function(b){b=b.target.files;if(0<b.length){b=b[0];var c=b.name.split(".").pop().toLowerCase(),f=new FileReader;f.onload=function(b){a.Fc(b.target.result,null,null,c);a.Ca()};f.readAsText(b);a.Ca()}},!1);Ug(c);b.removeChild(c)}}function Ug(a){var b=document.createEvent("MouseEvents");b.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null);a.dispatchEvent(b)}function Md(a){return void 0!==window.localStorage?localStorage.getItem("HTMLGoBoard"+a):""}function Nd(a,b){void 0!==window.localStorage&&localStorage.setItem("HTMLGoBoard"+a,b)}function Hg(a){var b="",c,d,e=0,f,g,h=0,k=0;do c=a[k++],d=a[k++],e=a[k++],f=c>>2,c=(c&3)<<4|d>>4,g=(d&15)<<2|e>>6,h=e&63,isNaN(d)?g=h=64:isNaN(e)&&(h=64),b=b+Vg.charAt(f)+Vg.charAt(c)+Vg.charAt(g)+Vg.charAt(h);while(k<a.length);return b}function Wg(a){var b,c,d=0,e="",f=0,g=a.replace(/[^A-Za-z0-9\+\/\=]/g,""),h=[];do b=Vg.indexOf(g.charAt(f++)),d=Vg.indexOf(g.charAt(f++)),a=Vg.indexOf(g.charAt(f++)),e=Vg.indexOf(g.charAt(f++)),b=b<<2|d>>4,c=(d&15)<<4|a>>2,d=(a&3)<<6|e,h.push(b),64!=a&&h.push(c),64!=e&&h.push(d);while(f<g.length);return h}function md(a,b){a.innerText?a.innerText=b:a.textContent=b}function sf(a,b){var c=document.createElement("div");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c}var Vg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var G=0,E=1,F=2,Xg=2,rc=0,qc=2,La=23.61,Ma=17.51,Na=La/2,he="data:image/png;base64,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",gg="data:image/png;base64,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";var Ia=4,kc=8,oc=32,Yg=4294967295^Ia,Zg=4294967295^kc,$g=4294967295^oc;function zg(a){this.sa=new Od(this);this.fb=new mf;this.f=a;this.Fo=new Oe;this.na=new ah;this.M=this.k=null;this.Oh=this.l=this.Ba=new bh(this);this.Qc=this.Lc=0;this.bc=E;this.Qf=this.de=this.fn=this.Km=this.ac=this.Lb=0;this.og=this.kg=this.Rk=this.wd=this.bf=this.le=this.ig=this.wn=this.hg=this.jg="";this.ud="Black";this.cf="";this.xd="White";this.mg=this.pg=this.lg=this.df="";this.Yf=0;this.xn=this.qg=this.ng="";this.ae=Xg;this.H=4294967295;this.Kc=null;this.Mf=.75;this.Jm=-1;this.pk=!1;this.sd=G;this.$m=300;this.Tk="";this.Pa=this.Se=this.Ok=this.Qk=this.Pk=this.Ck=null;this.vc=this.ma=!1;this.Sm=0}function $f(a){var b=new zg;b.na=a.na.te();b.Ba=ch(a.Ba,a.l);b.l=b.Ba;b.Lb=a.Lb;Zb(b);return b}function Ag(a,b,c,d){!0===b?(a.pk=!0,a.sd=G):(a.pk=!1,a.sd=c);void 0!==d&&(a.$m=1E3*d)}l=zg.prototype;l.Ki=function(){var a=[];fc(this.Ba,a);if(0<a.length){var b=Math.max(0,Math.min(a.length-1,Math.floor(Math.random()*a.length)));gc(a[b]);return!0}return!1};l.Bf=function(a){if(2&this.H||!0===a){this.Ke();this.f&&this.f.Ol();var b=this,c=function(){0<Xb(b.l)&&(b.Kc=0,ma(b,1,a));0<Xb(b.l)?(b.Jm=(new Date).getTime(),b.Kc=setTimeout(c,100+6900*(1-b.Mf))):(b.Kc=null,b.f&&b.f.pj())},d=100+6900*(1-this.Mf)-((new Date).getTime()-this.Jm);0>=d?c():this.Kc=setTimeout(c,d)}};l.Ke=function(){this.f&&this.f.pj();null!==this.Kc&&(clearTimeout(this.Kc),this.Kc=null)};function ae(a){a.M&&a.M.Sb();if(a.f){a.rc();var b=a.f;b.$f&&(b=b.$f,!0!==b.Kf&&Je(b,a.Mf,!0))}}l.p=function(){this.f&&this.f.p()};l.Ca=function(){this.k&&this.k.Ca()};l.Fc=function(a,b,c,d){if(this.H&kc){dh.jd();var e=this.H;this.H=4294967295;var f=null,f="gib"===d?new eh(this):"ngf"===d?new fh(this):new gh(this);f.hj(a);this.pk&&(this.sd=this.bc===E?F:E);a=this.na.ea().h;d=this.na.ea().g;this.k&&b?!0===b.jl?ya(this.k,4>=f.m.V?0:f.m.V-2,4>=f.m.W?0:f.m.W-2,3>=a-f.m.aa?a-1:f.m.aa,3>=d-f.m.ba?d-1:f.m.ba):void 0!==b.V&&void 0!==b.aa&&void 0!==b.W&&void 0!==b.ba&&ya(this.k,b.V,b.W,b.aa,b.ba):this.k&&ya(this.k,0,0,a-1,d-1);this.M&&(this.M.Sb(),this.M.Ja());c?Ig(this,c):(this.Oh=b=!this.qf()||""!==this.df&&null!==this.df&&void 0!==this.df?this.Ba:$e(this.Ba),this.ja(b));b=this.Dd();3!==this.Dd()&&(this.ae=b);this.H=e;this.k&&(e=this.k,e.c.$g=null,null!==e.he&&Ab(e.b.l)>=Bb(e.he)&&Cb(e.he));this.f&&this.f.p(!0);this.ma=!1}};l.vf=function(){var a=new hh;a.b=this;a.vd="";a.Mb=null;ih(a,this.Fb());return a.vd};l.jd=function(){this.Ba=new bh(this);this.wd="";U(this);Gf(this,"");this.pg="";U(this);this.Lb=0;this.ma=!0;this.ac="0";U(this);this.Yf="";U(this);this.og="";U(this);Hf(this,"Black");If(this,"");Jf(this,"White");Kf(this,"");this.ig="";U(this);Lf(this,"");this.le="";this.ma=!0;this.bf="";U(this);this.lg="";U(this);this.cf="";U(this);this.jg="";U(this);this.kg="";U(this);this.mg="";U(this);this.ng="";U(this);this.ae=0;jh(this)};function zb(a){var b=a.H;G!==a.sd&&xd(a,{uf:!0});a.ja(a.Ba);a.H=b;G!==a.sd&&a.Ok&&kh(a,a.Ok)}function na(a,b){for(var c=a.l;null!=c.ia&&0<b&&!(c=c.ia,b--,1<Xb(c)););a.ja(c)}function ma(a,b,c){if(1===b)lh(a,c)&&(a.Pa&&a.Pa.GoTo_Node&&a.Pa.GoTo_Node(a.l.me),Gb(a));else{for(c=0;c<b&&!(lh(a),1<Xb(a.l));c++);a.ja(a.l)}}function Zb(a){for(;lh(a););a.ja(a.l)}l.Pl=function(){!0===Vb(this,0,0,this.bc)&&Gb(this)};function Yb(a){var b=a.l.ia;if(null!==b){var c=b.ka,d=Xb(b);1<d&&(a.Id()?(b=0<c?b.R(c-1):b.R(d-1),a.ja(b)):0<c&&(b=b.R(c-1),a.ja(b)))}}function $b(a){var b=a.l.ia;if(null!==b){var c=b.ka,d=Xb(b);1<d&&(a.Id()?(b=c<d-1?b.R(c+1):b.R(0),a.ja(b)):c<d-1&&(b=b.R(c+1),a.ja(b)))}}l.Pg=function(){for(var a=this.l;!nh(a);){var b=a.ia;if(null===b&&a!==this.Ba)return;a=b}a.Pg();this.ja(a);this.M&&this.M.Ja()};l.yf=function(a){this.bc=a;this.l.yf(a)};l.Fb=function(){return this.Ba};l.Ib=function(a){this.Pa&&this.Pa.Ib&&this.Pa.Ib(a.me);this.l=a};l.Rb=function(a,b,c){this.l.Rb(a,b,c)};l.Yc=function(a,b){if(!(this.H&1))return!1;var c=new bh(this);this.Pa&&this.Pa.Yc&&this.Pa.Yc(oNode.me);var d=this.l,e;c.ia=d;if(void 0===e){if(d.ra.push(c),!0===b||-1===d.ka)d.ka=d.ra.length-1}else if(e=Math.max(0,Math.min(d.ra.length,e)),d.ra.splice(e,0,c),!0===b||-1===d.ka)d.ka=e;d.b&&U(d.b);this.Ib(c);this.Qf++;!0===a&&this.M&&(this.M.Sb(),this.M.Ja());return!0};function Vb(a,b,c,d){for(var e=(c<<8)+b,f=0,g=Xb(a.l);f<g;f++){var h=a.l.R(f),k=h.gc,m=k.P;if(!0===a.vc&&0!==f)return!1;if(e===k.ya()&&d===m&&(E===d||F===d))return b=a.l.ka,oh(a.l,f),a.Ib(h),a.Qf++,a.M&&b!==f&&a.M.Ja(),!0}if(!(a.H&1))return!1;a.Yc(!1,!0);a.l.Rb(b,c,d);a.M&&(a.M.Sb(),a.M.Ja());G!==a.sd&&""!==a.Tk&&a.l.bh(a.Tk);return!0}l.qe=function(a,b){this.l.qe(a,b)};l.Cg=function(a){var b=this.l.hb;this.l.Cg(a);this.f&&this.f.kd(this.l.hb);this.M&&""===b&&""!==a&&this.M.Ja()};l.bh=function(a){var b=this.l.hb;this.l.bh(a);this.M&&(""===b&&""!==a||""!==b&&""===a)&&this.M.Ja()};l.Ha=function(a,b){this.l.Ha(a,b)};l.Ub=function(a){this.l.Ha(513,a)};l.re=function(a,b){this.l.re(a,b)};l.ii=function(a,b){this.l.hc.Yd||(this.l.hc.Yd=!0);for(var c=0,d=b.length;c<d;c++)this.l.ii(b[c],a)};l.gi=function(a){this.l.gi(a)};l.ji=function(a){this.l.ji(a)};l.Bi=function(){!0===this.l.hc.Yd&&(this.l.hc.Yd=!1,this.l.Bi());if(this.k){this.k.Wa={};for(var a=0,b=this.l.Fa.length;a<b;a++){var c=this.l.Fa[a],d=c.ya(),e=c.$a;switch(c.P){case 529:for(c=0;c<e;c++){var f=tb(d[c]);this.k.Ha(new Ba(f.h,f.g,pb,""))}break;case 530:for(c=0;c<e;c++)f=tb(d[c]),this.k.Ha(new Ba(f.h,f.g,sb,""));break;case 531:for(c=0;c<e;c++)f=tb(d[c]),this.k.Ha(new Ba(f.h,f.g,qb,""));break;case 532:for(c=0;c<e;c++)f=tb(d[c]),this.k.Ha(new Ba(f.h,f.g,rb,""));break;case 533:f=tb(d.qj);this.k.Ha(new Ba(f.h,f.g,kb,d.Text));break;case 513:for(c=0;c<e;c++)f=tb(d[c]),this.k.Ub(f.h,f.g)}}this.l.ed()?(b=this.l.gc,a=b.Fd(),b=b.Gd(),ib(this.k,a,b)):ib(this.k,-1,-1);Wa(this.k)}};l.ed=function(){return this.l.ed()};function Gb(a){a.k&&(1===a.k.va&&Ha(a.k,0),a.k.Wa={},a.Af());for(var b=0,c=a.l.Fa.length;b<c;b++){var d=a.l.Fa[b],e=d.ya(),f=d.$a;switch(d.P){case 1:d=tb(e);ph(a,d.h,d.g,E,!1);break;case 2:d=tb(e);ph(a,d.h,d.g,F,!1);break;case 257:for(var g=0;g<f;g++)d=tb(e[g]),qh(a,d.h,d.g,E,-1);break;case 258:for(g=0;g<f;g++)d=tb(e[g]),qh(a,d.h,d.g,F,-1);break;case 259:for(g=0;g<f;g++)d=tb(e[g]),qh(a,d.h,d.g,G,-1);break;case 260:a.bc=e;break;case 529:if(a.k)for(g=0;g<f;g++)d=tb(e[g]),a.k.Ha(new Ba(d.h,d.g,pb,""));break;case 530:if(a.k)for(g=0;g<f;g++)d=tb(e[g]),a.k.Ha(new Ba(d.h,d.g,sb,""));break;case 531:if(a.k)for(g=0;g<f;g++)d=tb(e[g]),a.k.Ha(new Ba(d.h,d.g,qb,""));break;case 532:if(a.k)for(g=0;g<f;g++)d=tb(e[g]),a.k.Ha(new Ba(d.h,d.g,rb,""));break;case 533:a.k&&(d=tb(e.qj),a.k.Ha(new Ba(d.h,d.g,kb,e.Text)));break;case 513:if(a.k)for(g=0;g<f;g++)d=tb(e[g]),a.k.Ub(d.h,d.g)}}a.k&&(a.l.ed()?(c=a.l.gc,b=c.Fd(),c=c.Gd(),ib(a.k,b,c)):ib(a.k,-1,-1),a.l.hc.Yd&&Ha(a.k,1),Wa(a.k),rh(a.l,a.k));a.f&&(b=a.l.hb,c=!0,G!==a.sd?(-1!==b.indexOf("CHOICE")&&(b=b.replace("CHOICE","")),0>=Xb(a.l)&&(-1!==b.indexOf("RIGHT")&&null!==a.Pk?(a.f.kd(b.replace("RIGHT","")),kh(a,a.Pk),c=!1):-1===b.indexOf("RIGHT")&&null!==a.Qk&&(a.f.kd(b),kh(a,a.Qk),c=!1)),c&&a.f.kd(b)):a.f.kd(b));a.M&&We(a.M,!0);a.rc();if(a.bc===a.sd&&null===a.Ck&&null===a.Kc&&null===a.Se&&0<=Xb(a.l)){var h=a.H;a.Ck=setTimeout(function(){a.H=4294967295;for(var b=a.l,c=[],d=0,e=Xb(b);d<e;d++)-1!==b.R(d).hb.indexOf("CHOICE")&&c.push(d);0<c.length?(d=Math.max(0,Math.min(c.length-1,Math.floor(Math.random()*c.length))),oh(b,c[d])):0<Xb(b)&&oh(b,0);ma(a,1);a.H=h;a.Ck=null},a.$m);a.H=0}}function ph(a,b,c,d,e){if(0!=b||0!=c){if(a.fb&&!0!==e){var f=a.fb;pf(f,f.Ql)}qh(a,b,c,d,a.de+1,e);f=null;if(null!==(f=Tb(a.na,b,c,d,!1))&&0<f.ea()){b=f.ea();for(c=0;c<b;c++){var g=tb(f.ya(c));qh(a,g.h,g.g,G,-1)}a.fb&&!0!==e&&of(a.fb,f.ea());E===d?a.Lc+=b:a.Qc+=b}else if(null!==(f=Ub(a.na,b,c,d))&&0<f.ea()){b=f.ea();for(c=0;c<b;c++)g=tb(f.ya(c)),qh(a,g.h,g.g,G,-1);a.fb&&!0!==e&&of(a.fb,f.ea());E===d?a.Qc+=b:a.Lc+=b}else a.na.Vc.jd()}a.bc=E===d?F:E;a.de++}function lh(a,b){if(!(a.H&2)&&!0!==b||!0===a.vc&&!0!==b||0===Xb(a.l)||-1===a.l.ka)return!1;a.Ib(a.l.R(a.l.ka));a.Qf++;return!0}l.Af=function(){this.k&&this.l.Af(this.ae,this.k)};l.Jg=function(){if(this.k){var a=this.na.Jg(this.k);Wa(this.k);this.l.hc.Yd||(this.l.hc.Yd=!0);var b=this.na,c=this.l.hc;c.Yb={};for(var d=b.ea(),e=1;e<=d.g;e++)for(var f=1;f<=d.h;f++){var g=b.Ic[Ja(b,f,e)],h=(e<<8)+f;if(E===g||F===g)c.Yb[""+h]=g}this.Km=a.se+this.Lc;this.fn=a.Le+this.Qc+this.Lb;this.rc()}};l.zf=function(a){this.fb.o(a)};l.ja=function(a,b){if((this.H&2||!0===b)&&!0!==this.vc){this.Pa&&this.Pa.GoTo_Node&&this.Pa.GoTo_Node(a.me);this.Ke();jh(this);this.na.Ia();this.fb&&(this.fb.Oe=!1);var c=gc(a);for(this.Ib(this.Ba);this.l!=a&&0<Xb(this.l);){for(var d=this.l.Fa.length,e=0;e<d;e++){var f=this.l.Fa[e],g=f.ya(),h=f.$a;switch(f.P){case 1:f=tb(g);ph(this,f.h,f.g,E,!0);break;case 2:f=tb(g);ph(this,f.h,f.g,F,!0);break;case 257:for(var k=0;k<h;k++)f=tb(g[k]),this.na.Set(f.h,f.g,E,-1);break;case 258:for(k=0;k<h;k++)f=tb(g[k]),this.na.Set(f.h,f.g,F,-1);break;case 259:for(k=0;k<h;k++)f=tb(g[k]),this.na.Set(f.h,f.g,G,-1)}}if(!lh(this,b))break}this.k&&Ua(this.k);Gb(this);this.M&&!0===c&&this.M.Ja();this.fb&&(this.fb.Oe=!0)}};function sc(a,b){b!==a.ae&&(a.ae=b,a.Af())}function If(a,b){a.hg=b;a.f&&a.f.Uj(a.hg);a.ma=!0}l.ze=function(){var a=this.wd;""===a&&(a=this.xd+" vs. "+this.ud);""===a&&(a="White vs. Black");return a};function Lf(a,b){a.Rk=b;a.ma=!0}function Hf(a,b){a.ud=b;a.f&&a.f.Tj(a.ud);a.ma=!0}function Jf(a,b){a.xd=b;a.f&&a.f.Vj(a.xd);a.ma=!0}function Gf(a,b){a.df=b;a.ma=!0}function Kf(a,b){a.qg=b;a.f&&a.f.Wj(a.qg);a.ma=!0}function sh(a,b,c){b=Math.min(52,Math.max(b,2));c=Math.min(52,Math.max(c,2));var d=a.na.ea();if(b!==d.h||c!==d.g)d=a.na,d.v=b,d.F=c,th(d),d.Vc.jd(),a.k&&(a=a.k,xa(a),a.jc(!0))}function jh(a){a.Ib(a.Ba);a.Lc=0;a.Qc=0;a.de=0;a.Qf=0;a.bc=E}function qh(a,b,c,d,e,f){a.na.Set(b,c,d,e);a.k&&!0!==f&&Aa(a.k,b,c,d)}l.rc=function(a){if(this.f){var b=this.Fo,c=this.l.ia;b.Zc=null===this.l.ia?!1:!0;b.bd=0>=Xb(this.l)?!1:!0;if(null!==c){var d=c.ka,c=Xb(c);this.Id()?(b.gd=1<c?!0:!1,b.hd=1<c?!0:!1):(b.gd=d<c-1?!0:!1,b.hd=0<d?!0:!1)}else b.gd=!1,b.hd=!1;this.k&&(b.Eb=this.k.va);for(var d=this.Ba,e=c=1;0<Xb(d);)c++,d=d.R(),d===this.l&&(e=c);b.hm=0<c?(e-1)/(c-1):1;this.f.rc(b);this.k&&1===this.k.va?this.f.ld(this.Km,this.fn):this.f.Cf(this.Lc,this.Qc);a&&(this.f.Uj(this.hg),this.f.Wj(this.qg),this.f.Tj(this.ud),this.f.Vj(this.xd))}};function xd(a,b){b&&(!0===b.Vg?a.H|=1:!1===b.Vg&&(a.H&=-2),!0===b.uf?a.H|=2:!1===b.uf&&(a.H&=-3),!0===b.Ai?a.H|=Ia:!1===b.Ai&&(a.H&=Yg),!0===b.ij?a.H|=kc:!1===b.ij&&(a.H&=Zg),!0===b.xe?a.H|=16:!1===b.xe&&(a.H&=-17),!0===b.um?a.H|=oc:!1===b.um&&(a.H&=$g))}function ec(a){if(a=a.k){a=va(a,!0).toDataURL("image/png");var b=document.createElement("a");b.download="BoardShot.png";b.href="data:image/png;base64"+a;Ug(b)}}function hc(a){var b=[],c=a.Ba;for(b.push(c);0<Xb(c);)c=c.R(c.ka),b.push(c);dc(a,b)}function dc(a,b){var c=a.k;if(c){var d=a.l,e=c.c.I,f=c.c.D,g=b.length,h=Math.max(1,Math.ceil(2E6/e/f)),k=0,m=null,n=null,p=5<Math.ceil(g/h)?!0:!1,t=!0===p?Kb(c.a.d.a.id,yg,{O:a.f,N:a}):null;c.th=!0;var q=new uh;q.Om=Math.floor(150);q.Md();f=e=0;null!==t&&dg(t);a.Se=!0;var r=function(){var u,v;if(null===a.Se)c.th=!1,a.ja(d,!0);else{for(var z=Math.min(k+h,g);k<z;k++){a.ja(b[k],!0);oCanvas=va(c,!1);oContext=oCanvas.getContext("2d");u=c;var H={};v={};var K=void 0;for(K in u.cg)H[K]=u.cg[K];var C=void 0;for(C in u.Wa){var K=parseInt(C),I=u.Wa[C];kb===I.P&&G===u.S.K(I.Fd(),I.Gd())?v[K]=!1:v[K]=!0}H=u=H;C=v;if(0===e||0===f)e=oCanvas.width,f=oCanvas.height;if(null===m||null===n)vh(q,0,0,e,f,[{V:0,W:0,aa:e,ba:f}]);else{var K={},aa;for(aa in C)K[aa]=C[aa];for(aa in n)K[aa]=void 0===K[aa]||!1!==K[aa]&&!1!==n[aa]?n[aa]:!1;for(aa in m)m[aa]!==H[aa]&&!1!==K[aa]&&(K[aa]=!0);H=[];for(aa in K){C=tb(aa);var A=C.h,I=C.g;if(!0!==fa(c,A-1,I-1))C=null;else if(C=c.c.fa,!0===K[aa])var P=c.c.Wb,V=(P-1)/2,w=c.ai()?c.c.pc:0,A=C[A-1].h-V,C=C[I-1].g-V,C={V:A,W:C,aa:A+P+w,ba:C+P+w};else P=C[A-1].md,I=C[I-1].nd,C={V:P,W:I,aa:P+(C[1].h-C[0].h+2),ba:I+(C[1].g-C[0].g+2)};null!==C&&H.push(C)}if(0<H.length){K=e;I=f;A=w=P=0;for(V=H.length;A<V;A++)C=H[A],C.V<K&&(K=C.V),C.W<I&&(I=C.W),C.aa>P&&(P=C.aa),C.ba>w&&(w=C.ba);vh(q,K,I,P-K,w-I,H)}else vh(q,0,0,e,f,[])}m=u;n=v}null!==t&&cg(t,Math.min(100,k/g*100));k<g?!0===p?setTimeout(r,10):r():(t&&eg(t),Fg(q.U,59),z=a.wd,""===z&&(z=a.xd+" vs. "+a.ud),""===z&&(z="download"),z+=".gif",aa=new Blob([Gg(q.U)],{type:"image/gif"}),nc(aa,z),a.Se=null,c.th=!1,a.ja(d,!0))}};!0===p?setTimeout(r,10):r()}}function kh(a,b){null===a.Se&&b&&b()}l.sf=function(){return x.sf()};l.zj=function(a){x.zj(a)};l.qf=function(){return this.f&&5===this.f.be?!1:x.qf()};l.Ie=function(){return x.Ie()};l.Gc=function(a,b){!0===b?this.sa.Gc(a):x.Gc(a);this.k&&ia(this.k)};l.Id=function(){return x.Id()};l.uj=function(a){x.uj(a);this.rc()};l.Ae=function(){return x.Ae()};l.Bj=function(a){a!==this.Ae()&&(x.Bj(a),this.M&&this.M.Ja())};l.Dd=function(){return x.Dd()};l.yj=function(a){a!==this.Dd()&&x.yj(a)};l.hi=function(a,b,c){this.l.hi(a,b,c);this.f&&Le()};l.sj=function(a,b){this.l.sj(a,b);this.f&&Le()};l.rj=function(){this.l.rj();this.f&&Le()};l.Ci=function(){this.l.Ci();this.k&&rh(this.l,this.k);this.f&&Le()};function Ig(a,b){var c=a.Fb(),d;d=b.replace(RegExp("~","g"),"+");d=d.replace(RegExp("-","g"),"/");d=d.replace(RegExp("_","g"),"=");d=Wg(d);d=new wh(d,d.length);if("GBMR"!==xh(d,4))a.ja(c);else{var e=yh(d);if(1===e){var e=zh(d),e=xh(d,e),f=Jg(c,e);if(null!==f){c=d.e>=d.Na?0:d.pa[d.e++];a.Ib(f);if(1===c)for(e=zh(d),c=0;c<e&&1===yh(d);c++){a.Yc(!1,!1);for(var f=zh(d),g=0;g<f;g++){var h=yh(d),k=zh(d);switch(h){case 16:k=tb(zh(d));a.Rb(k.h,k.g,E);break;case 17:k=tb(zh(d));a.Rb(k.h,k.g,F);break;case 32:case 33:case 34:k=E;switch(h){case 32:k=E;break;case 33:k=F;break;case 34:k=G}for(var h=zh(d),m=[],n=0;n<h;n++)m.push(zh(d));a.qe(k,m);break;default:d.e+=k}}yh(d);f=a.l;a.M&&(a.M.Sb(),a.M.Ja())}a.ja(f,!0)}else a.ja(c,!0)}else if(2===e){e=zh(d);f=c;for(c=0;c<e;c++){g=zh(d);if(0>g||g>=Xb(f)||0>=Xb(f))break;f=f.R(g)}a.ja(f,!0)}}}l.Rg=function(){this.Ba.Rg();this.M&&(this.M.Sb(),this.M.Ja(),We(this.M,!0))};l.Tg=function(a){this.l.Tg(a);this.M&&(this.M.Sb(),this.M.Ja(),We(this.M,!0))};l.Qj=function(){this.k&&this.k.dh(!this.k.Kb)};l.of=function(a){var b=this.Fb();if(0!==a)for(var c=0;c!==a&&!(0>=Xb(b));){b=b.R(b.ka);if(!b)break;b.ed()&&c++}a=b;null!==a&&this.ja(a)};l.ye=function(a){return this.f?this.f.ye(a):0};function U(a){a.ma=!0}l.cj=function(){return this.ma};function wg(a){var b=a.vc;!0===b&&(a.vc=!1);var c=a.l,d=a.Fb();a.ja(d);var e=new Ah,f=a.na;e.v=f.v;e.F=f.F;e.Ua=null;th(e);for(var g=0,h=0,k=e.Ua.length;h<k;h++)e.Ua[h].ue(f.Ua[h]),g<e.Ua[h].Ed()&&(g=e.Ua[h].Ed()),e.Ua[h].Ue=-1;for(;0<Xb(d);)for(d=d.R(d.ka),f=d.Fa.length,k=0;k<f;k++){var h=d.Fa[k],m=h.ya(),n=h.$a;switch(h.P){case 1:Bh(e,m,E,++g);break;case 2:Bh(e,m,F,++g);break;case 257:for(h=0;h<n;h++)Bh(e,m[h],E,-1);break;case 258:for(h=0;h<n;h++)Bh(e,m[h],F,-1);break;case 259:for(h=0;h<n;h++)Bh(e,m[h],G,-1)}}a.ja(c);!0===b&&(a.vc=!0);return e};function uh(){this.U=null;this.vh=!0;this.ke=this.vn=null;this.cb={};this.Zm=0;this.hb=String.fromCharCode(71,101,110,101,114,97,116,101,100,32,98,121,32,103,111,98,97,110,46,111,114,103);this.Om=0;this.Sh=null;this.Pm=this.Bo=this.F=this.v=0}function vh(a,b,c,d,e,f){var g=oContext;a.vh&&(a.v=g.canvas.width,a.F=g.canvas.height);a.vn=g.getImageData(0,0,g.canvas.width,g.canvas.height).data;if(a.vh){a.ke=Array(768);for(var h=g=0;768>g;g+=3,h+=6)a.ke[g+0]=parseInt("ff0000e0b65ce0b65ce0b65ce0b65ce0b75ce0b75ce1b75ce0b75ce0b75de1b75de1b75de1b85de2b85de2b85de2b85de2b85de3b85de3b85de3b95de3b95de3b95de3b95ee3b95ee3b95ee4b95ee4ba5ee4ba5ee4ba5ee4ba5ee5ba5ee5ba5ee5ba5ee5ba5ee5bb5ee5bb5ee5ba5ee5bb5ee5bb5ee5ba5ee5ba5fe1bc6dddbc75e1bb6ae4bb64e5bb5fe6bb5fe6bb5fe6bb5ee6bb5ee6bb5fe6bb5edeb65cdeb55cdfb55cdeb55cdeb55bdeb45bddb45bddb45bddb45bddb35bddb35bdcb35bdcb35bdbb35ddcb35adcb35adbb35adbb25adbb25adab25adab25adab15ad9b15ad9b15adab159d9b159d9b159d9b059d9b059d8b059d8b059d8af58d8b059d7b059d7af59d7af58d7af58d7ae58d6af58d6ae58d6ae58d5ae58d5ae58d5ae58d4ae5ad4ad58d5ad57d5ad57d4ad57d4ad57d4ac57d3ac57d4ac57d4ac57d3ac57d3ac57d3ac57d2ac57d2ac57d3ab56d2ab56d2ab56d2ab56d2ab56d2aa56d1aa56d1aa56d1aa56d1aa55d0aa55cfa956d0a955cfa855cfa855cba554c9a65bbea87ac5b38cd5c197cdc4b0e2d0aaead6abeed9adf1dcaef3ddaff3ddaffaf0dbfefefefdfdfdfafafaf8f8f8f5f5f5f1f1f1eeeeeeebebebe8e8e8e4e4e4e1e1e1dedededadadad6d6d6d3d3d3d0d0d0d0d0d0cfcfcfcecececececdcdcdcdcdcdcccfccc5cccbcbcacacacacac9c8c8c8cac8c3c7c7c7c6c6c5c4c4c4c3c3c2c2c1c1c0c0c0bfbebebdbdbdbbbbbab3b3b2bcb6a9b4ad9da7a49d9c9c9c9494948e8e8e8888888282827c7c7c7474746e6e6e6767677b756aa39370b99a59c29e50c09c4ebc994db9964bb6944ab29149af8e48ac8b47a88945a68744a28443a082429d7f40997c3f967a3d91753b876e387a6434735d2f6f5b2e6b572c64522a6359435e5e5e5757575050504a4a4a404040363636413c31524324423821352d1a2c2c2c2725212222221f1d191c171016161413131212121112111111111111111011101010101010100f0f0f0f0f0f0f0f0e0e0e0e0d0d0d0d0d0d0d0c0c0b0b0b0a0909090d0a07640909ef02023e0000000000000000000000000000"[h+0]+"ff0000e0b65ce0b65ce0b65ce0b65ce0b75ce0b75ce1b75ce0b75ce0b75de1b75de1b75de1b85de2b85de2b85de2b85de2b85de3b85de3b85de3b95de3b95de3b95de3b95ee3b95ee3b95ee4b95ee4ba5ee4ba5ee4ba5ee4ba5ee5ba5ee5ba5ee5ba5ee5ba5ee5bb5ee5bb5ee5ba5ee5bb5ee5bb5ee5ba5ee5ba5fe1bc6dddbc75e1bb6ae4bb64e5bb5fe6bb5fe6bb5fe6bb5ee6bb5ee6bb5fe6bb5edeb65cdeb55cdfb55cdeb55cdeb55bdeb45bddb45bddb45bddb45bddb35bddb35bdcb35bdcb35bdbb35ddcb35adcb35adbb35adbb25adbb25adab25adab25adab15ad9b15ad9b15adab159d9b159d9b159d9b059d9b059d8b059d8b059d8af58d8b059d7b059d7af59d7af58d7af58d7ae58d6af58d6ae58d6ae58d5ae58d5ae58d5ae58d4ae5ad4ad58d5ad57d5ad57d4ad57d4ad57d4ac57d3ac57d4ac57d4ac57d3ac57d3ac57d3ac57d2ac57d2ac57d3ab56d2ab56d2ab56d2ab56d2ab56d2aa56d1aa56d1aa56d1aa56d1aa55d0aa55cfa956d0a955cfa855cfa855cba554c9a65bbea87ac5b38cd5c197cdc4b0e2d0aaead6abeed9adf1dcaef3ddaff3ddaffaf0dbfefefefdfdfdfafafaf8f8f8f5f5f5f1f1f1eeeeeeebebebe8e8e8e4e4e4e1e1e1dedededadadad6d6d6d3d3d3d0d0d0d0d0d0cfcfcfcecececececdcdcdcdcdcdcccfccc5cccbcbcacacacacac9c8c8c8cac8c3c7c7c7c6c6c5c4c4c4c3c3c2c2c1c1c0c0c0bfbebebdbdbdbbbbbab3b3b2bcb6a9b4ad9da7a49d9c9c9c9494948e8e8e8888888282827c7c7c7474746e6e6e6767677b756aa39370b99a59c29e50c09c4ebc994db9964bb6944ab29149af8e48ac8b47a88945a68744a28443a082429d7f40997c3f967a3d91753b876e387a6434735d2f6f5b2e6b572c64522a6359435e5e5e5757575050504a4a4a404040363636413c31524324423821352d1a2c2c2c2725212222221f1d191c171016161413131212121112111111111111111011101010101010100f0f0f0f0f0f0f0f0e0e0e0e0d0d0d0d0d0d0d0c0c0b0b0b0a0909090d0a07640909ef02023e0000000000000000000000000000"[h+1],16),a.ke[g+1]=parseInt("ff0000e0b65ce0b65ce0b65ce0b65ce0b75ce0b75ce1b75ce0b75ce0b75de1b75de1b75de1b85de2b85de2b85de2b85de2b85de3b85de3b85de3b95de3b95de3b95de3b95ee3b95ee3b95ee4b95ee4ba5ee4ba5ee4ba5ee4ba5ee5ba5ee5ba5ee5ba5ee5ba5ee5bb5ee5bb5ee5ba5ee5bb5ee5bb5ee5ba5ee5ba5fe1bc6dddbc75e1bb6ae4bb64e5bb5fe6bb5fe6bb5fe6bb5ee6bb5ee6bb5fe6bb5edeb65cdeb55cdfb55cdeb55cdeb55bdeb45bddb45bddb45bddb45bddb35bddb35bdcb35bdcb35bdbb35ddcb35adcb35adbb35adbb25adbb25adab25adab25adab15ad9b15ad9b15adab159d9b159d9b159d9b059d9b059d8b059d8b059d8af58d8b059d7b059d7af59d7af58d7af58d7ae58d6af58d6ae58d6ae58d5ae58d5ae58d5ae58d4ae5ad4ad58d5ad57d5ad57d4ad57d4ad57d4ac57d3ac57d4ac57d4ac57d3ac57d3ac57d3ac57d2ac57d2ac57d3ab56d2ab56d2ab56d2ab56d2ab56d2aa56d1aa56d1aa56d1aa56d1aa55d0aa55cfa956d0a955cfa855cfa855cba554c9a65bbea87ac5b38cd5c197cdc4b0e2d0aaead6abeed9adf1dcaef3ddaff3ddaffaf0dbfefefefdfdfdfafafaf8f8f8f5f5f5f1f1f1eeeeeeebebebe8e8e8e4e4e4e1e1e1dedededadadad6d6d6d3d3d3d0d0d0d0d0d0cfcfcfcecececececdcdcdcdcdcdcccfccc5cccbcbcacacacacac9c8c8c8cac8c3c7c7c7c6c6c5c4c4c4c3c3c2c2c1c1c0c0c0bfbebebdbdbdbbbbbab3b3b2bcb6a9b4ad9da7a49d9c9c9c9494948e8e8e8888888282827c7c7c7474746e6e6e6767677b756aa39370b99a59c29e50c09c4ebc994db9964bb6944ab29149af8e48ac8b47a88945a68744a28443a082429d7f40997c3f967a3d91753b876e387a6434735d2f6f5b2e6b572c64522a6359435e5e5e5757575050504a4a4a404040363636413c31524324423821352d1a2c2c2c2725212222221f1d191c171016161413131212121112111111111111111011101010101010100f0f0f0f0f0f0f0f0e0e0e0e0d0d0d0d0d0d0d0c0c0b0b0b0a0909090d0a07640909ef02023e0000000000000000000000000000"[h+2]+"ff0000e0b65ce0b65ce0b65ce0b65ce0b75ce0b75ce1b75ce0b75ce0b75de1b75de1b75de1b85de2b85de2b85de2b85de2b85de3b85de3b85de3b95de3b95de3b95de3b95ee3b95ee3b95ee4b95ee4ba5ee4ba5ee4ba5ee4ba5ee5ba5ee5ba5ee5ba5ee5ba5ee5bb5ee5bb5ee5ba5ee5bb5ee5bb5ee5ba5ee5ba5fe1bc6dddbc75e1bb6ae4bb64e5bb5fe6bb5fe6bb5fe6bb5ee6bb5ee6bb5fe6bb5edeb65cdeb55cdfb55cdeb55cdeb55bdeb45bddb45bddb45bddb45bddb35bddb35bdcb35bdcb35bdbb35ddcb35adcb35adbb35adbb25adbb25adab25adab25adab15ad9b15ad9b15adab159d9b159d9b159d9b059d9b059d8b059d8b059d8af58d8b059d7b059d7af59d7af58d7af58d7ae58d6af58d6ae58d6ae58d5ae58d5ae58d5ae58d4ae5ad4ad58d5ad57d5ad57d4ad57d4ad57d4ac57d3ac57d4ac57d4ac57d3ac57d3ac57d3ac57d2ac57d2ac57d3ab56d2ab56d2ab56d2ab56d2ab56d2aa56d1aa56d1aa56d1aa56d1aa55d0aa55cfa956d0a955cfa855cfa855cba554c9a65bbea87ac5b38cd5c197cdc4b0e2d0aaead6abeed9adf1dcaef3ddaff3ddaffaf0dbfefefefdfdfdfafafaf8f8f8f5f5f5f1f1f1eeeeeeebebebe8e8e8e4e4e4e1e1e1dedededadadad6d6d6d3d3d3d0d0d0d0d0d0cfcfcfcecececececdcdcdcdcdcdcccfccc5cccbcbcacacacacac9c8c8c8cac8c3c7c7c7c6c6c5c4c4c4c3c3c2c2c1c1c0c0c0bfbebebdbdbdbbbbbab3b3b2bcb6a9b4ad9da7a49d9c9c9c9494948e8e8e8888888282827c7c7c7474746e6e6e6767677b756aa39370b99a59c29e50c09c4ebc994db9964bb6944ab29149af8e48ac8b47a88945a68744a28443a082429d7f40997c3f967a3d91753b876e387a6434735d2f6f5b2e6b572c64522a6359435e5e5e5757575050504a4a4a404040363636413c31524324423821352d1a2c2c2c2725212222221f1d191c171016161413131212121112111111111111111011101010101010100f0f0f0f0f0f0f0f0e0e0e0e0d0d0d0d0d0d0d0c0c0b0b0b0a0909090d0a07640909ef02023e0000000000000000000000000000"[h+3],16),a.ke[g+2]=parseInt("ff0000e0b65ce0b65ce0b65ce0b65ce0b75ce0b75ce1b75ce0b75ce0b75de1b75de1b75de1b85de2b85de2b85de2b85de2b85de3b85de3b85de3b95de3b95de3b95de3b95ee3b95ee3b95ee4b95ee4ba5ee4ba5ee4ba5ee4ba5ee5ba5ee5ba5ee5ba5ee5ba5ee5bb5ee5bb5ee5ba5ee5bb5ee5bb5ee5ba5ee5ba5fe1bc6dddbc75e1bb6ae4bb64e5bb5fe6bb5fe6bb5fe6bb5ee6bb5ee6bb5fe6bb5edeb65cdeb55cdfb55cdeb55cdeb55bdeb45bddb45bddb45bddb45bddb35bddb35bdcb35bdcb35bdbb35ddcb35adcb35adbb35adbb25adbb25adab25adab25adab15ad9b15ad9b15adab159d9b159d9b159d9b059d9b059d8b059d8b059d8af58d8b059d7b059d7af59d7af58d7af58d7ae58d6af58d6ae58d6ae58d5ae58d5ae58d5ae58d4ae5ad4ad58d5ad57d5ad57d4ad57d4ad57d4ac57d3ac57d4ac57d4ac57d3ac57d3ac57d3ac57d2ac57d2ac57d3ab56d2ab56d2ab56d2ab56d2ab56d2aa56d1aa56d1aa56d1aa56d1aa55d0aa55cfa956d0a955cfa855cfa855cba554c9a65bbea87ac5b38cd5c197cdc4b0e2d0aaead6abeed9adf1dcaef3ddaff3ddaffaf0dbfefefefdfdfdfafafaf8f8f8f5f5f5f1f1f1eeeeeeebebebe8e8e8e4e4e4e1e1e1dedededadadad6d6d6d3d3d3d0d0d0d0d0d0cfcfcfcecececececdcdcdcdcdcdcccfccc5cccbcbcacacacacac9c8c8c8cac8c3c7c7c7c6c6c5c4c4c4c3c3c2c2c1c1c0c0c0bfbebebdbdbdbbbbbab3b3b2bcb6a9b4ad9da7a49d9c9c9c9494948e8e8e8888888282827c7c7c7474746e6e6e6767677b756aa39370b99a59c29e50c09c4ebc994db9964bb6944ab29149af8e48ac8b47a88945a68744a28443a082429d7f40997c3f967a3d91753b876e387a6434735d2f6f5b2e6b572c64522a6359435e5e5e5757575050504a4a4a404040363636413c31524324423821352d1a2c2c2c2725212222221f1d191c171016161413131212121112111111111111111011101010101010100f0f0f0f0f0f0f0f0e0e0e0e0d0d0d0d0d0d0d0c0c0b0b0b0a0909090d0a07640909ef02023e0000000000000000000000000000"[h+4]+"ff0000e0b65ce0b65ce0b65ce0b65ce0b75ce0b75ce1b75ce0b75ce0b75de1b75de1b75de1b85de2b85de2b85de2b85de2b85de3b85de3b85de3b95de3b95de3b95de3b95ee3b95ee3b95ee4b95ee4ba5ee4ba5ee4ba5ee4ba5ee5ba5ee5ba5ee5ba5ee5ba5ee5bb5ee5bb5ee5ba5ee5bb5ee5bb5ee5ba5ee5ba5fe1bc6dddbc75e1bb6ae4bb64e5bb5fe6bb5fe6bb5fe6bb5ee6bb5ee6bb5fe6bb5edeb65cdeb55cdfb55cdeb55cdeb55bdeb45bddb45bddb45bddb45bddb35bddb35bdcb35bdcb35bdbb35ddcb35adcb35adbb35adbb25adbb25adab25adab25adab15ad9b15ad9b15adab159d9b159d9b159d9b059d9b059d8b059d8b059d8af58d8b059d7b059d7af59d7af58d7af58d7ae58d6af58d6ae58d6ae58d5ae58d5ae58d5ae58d4ae5ad4ad58d5ad57d5ad57d4ad57d4ad57d4ac57d3ac57d4ac57d4ac57d3ac57d3ac57d3ac57d2ac57d2ac57d3ab56d2ab56d2ab56d2ab56d2ab56d2aa56d1aa56d1aa56d1aa56d1aa55d0aa55cfa956d0a955cfa855cfa855cba554c9a65bbea87ac5b38cd5c197cdc4b0e2d0aaead6abeed9adf1dcaef3ddaff3ddaffaf0dbfefefefdfdfdfafafaf8f8f8f5f5f5f1f1f1eeeeeeebebebe8e8e8e4e4e4e1e1e1dedededadadad6d6d6d3d3d3d0d0d0d0d0d0cfcfcfcecececececdcdcdcdcdcdcccfccc5cccbcbcacacacacac9c8c8c8cac8c3c7c7c7c6c6c5c4c4c4c3c3c2c2c1c1c0c0c0bfbebebdbdbdbbbbbab3b3b2bcb6a9b4ad9da7a49d9c9c9c9494948e8e8e8888888282827c7c7c7474746e6e6e6767677b756aa39370b99a59c29e50c09c4ebc994db9964bb6944ab29149af8e48ac8b47a88945a68744a28443a082429d7f40997c3f967a3d91753b876e387a6434735d2f6f5b2e6b572c64522a6359435e5e5e5757575050504a4a4a404040363636413c31524324423821352d1a2c2c2c2725212222221f1d191c171016161413131212121112111111111111111011101010101010100f0f0f0f0f0f0f0f0e0e0e0e0d0d0d0d0d0d0d0c0c0b0b0b0a0909090d0a07640909ef02023e0000000000000000000000000000"[h+5],16)}a.Sh=[];for(var g=a.cb,h=a.vn,k=c;k<c+e;k++)for(var m=b;m<b+d;m++){var n=m-b+(k-c)*d,p;a:{p=0;for(var t=f.length;p<t;p++){var q=f[p];if(m>=q.V&&m<=q.aa&&k>=q.W&&k<=q.ba){p=!0;break a}}p=!1}if(!0===p){q=4*(m+k*a.v);p=h[q+0]&255;var t=h[q+1]&255,q=h[q+2]&255,r=p<<16|t<<8|q;if(void 0===g[r]){for(var u=a.ke,v=0,z=16777216,H=1;256>H;H++){var K=3*H,C=p-(u[K+0]&255),I=t-(u[K+1]&255),K=q-(u[K+2]&255),C=C*C+I*I+K*K;C<z&&(z=C,v=H)}g[r]=v}a.Sh[n]=g[r]}else a.Sh[n]=a.Zm}a.vh&&(Dg(a.U,a.v),Dg(a.U,a.F),Fg(a.U,247),Fg(a.U,0),Fg(a.U,0),a.fl(),Fg(a.U,33),Fg(a.U,255),Fg(a.U,11),Cg(a.U,"NETSCAPE2.0"),Fg(a.U,3),Fg(a.U,1),Dg(a.U,a.Bo),Fg(a.U,0),Fg(a.U,33),Fg(a.U,254),Fg(a.U,a.hb.length),Cg(a.U,a.hb),Fg(a.U,0));Fg(a.U,33);Fg(a.U,249);Fg(a.U,4);Fg(a.U,5);Dg(a.U,a.Om);Fg(a.U,a.Zm);Fg(a.U,0);Fg(a.U,44);Dg(a.U,void 0!==b?b:0);Dg(a.U,void 0!==c?c:0);Dg(a.U,void 0!==d?d:a.v);Dg(a.U,void 0!==e?e:a.F);Fg(a.U,0);b=new Ch(a.v,a.F,a.Sh);c=a.U;Fg(c,b.Rm);b.yk=b.v*b.F;b.Nm=0;d=b.Rm+1;b.Qm=d;b.If=!1;b.qd=d;b.Vf=(1<<b.qd)-1;d=1<<d-1;b.vk=d+1;b.Rf=d+2;b.$a=0;e=Dh(b);f=0;for(g=5003;65536>g;g*=2)++f;f=8-f;Eh(b);Fh(b,d,c);for(k=[];-1!==(h=Dh(b));)if(g=(h<<12)+e,m=h<<f^e,g===b.Me[m])e=k[m];else{if(0<=b.Me[m]){n=5003-m;p=!1;0===m&&(n=1);do if(0>(m-=n)&&(m+=5003),g===b.Me[m]){e=k[m];p=!0;break}while(0<=b.Me[m]);if(p)continue}Fh(b,e,c);e=h;4096>b.Rf?(k[m]=b.Rf++,b.Me[m]=g):(Eh(b),b.Rf=d+2,b.If=!0,Fh(b,d,c))}Fh(b,e,c);Fh(b,b.vk,c);Fg(c,0);a.vh=!1;console.log("Frame "+a.Pm);a.Pm++}uh.prototype.Md=function(){this.U=new Bg;Cg(this.U,"GIF89a")};uh.prototype.fl=function(){Gh(this.U,this.ke);for(var a=768-this.ke.length,b=0;b<a;b++)Fg(this.U,0)};function Ch(a,b,c){this.v=a;this.F=b;this.pa=c;this.Rm=Math.max(2,8);this.Nm=this.yk=0;this.Me=[];this.Qm=0;this.If=!1;this.Zb=this.xc=this.Rf=this.vk=this.Vf=this.qd=0;this.vo=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535];this.$a=0;this.gk=[]}function Dh(a){if(0===a.yk)return-1;--a.yk;return a.pa[a.Nm++]&255}function Eh(a){for(var b=0;5003>b;b++)a.Me[b]=-1}function Fh(a,b,c){a.xc&=a.vo[a.Zb];a.xc=0<a.Zb?a.xc|b<<a.Zb:b;for(a.Zb+=a.qd;8<=a.Zb;){var d=a,e=a.xc&255,f=c;d.gk[d.$a++]=e;254<=d.$a&&Hh(d,f);a.xc>>=8;a.Zb-=8}if(a.Rf>a.Vf||a.If)a.If?(a.qd=a.Qm,a.Vf=(1<<a.qd)-1,a.If=!1):(a.qd++,12==a.qd?a.Vf=4096:a.Vf=(1<<a.qd)-1);if(b===a.vk){for(;0<a.Zb;)b=a,d=a.xc&255,e=c,b.gk[b.$a++]=d,254<=b.$a&&Hh(b,e),a.xc>>=8,a.Zb-=8;Hh(a,c)}}function Hh(a,b){0<a.$a&&(Fg(b,a.$a),Gh(b,a.gk,0,a.$a),a.$a=0)};"use strict;";function Ih(){this.Pf=this.yb=0}Ih.prototype.jd=function(){this.Pf=this.yb=0};Ih.prototype.te=function(){var a=new Ih;a.ue(this);return a};Ih.prototype.ue=function(a){this.yb=a.yb;this.Pf=a.Pf};Ih.prototype.Set=function(a,b){this.yb=a;this.Pf=b};function Jh(a,b){this.Of=void 0===a?G:a;this.Ue=void 0===b?-1:b}l=Jh.prototype;l.ue=function(a){this.Of=a.Of;this.Ue=a.Ue};l.Ia=function(){this.Of=G;this.Ue=-1};l.eh=function(a){this.Of=a};l.ya=function(){return this.Of};l.Ed=function(){return this.Ue};function Kh(){this.Gf=[];this.Ne=[]}Kh.prototype.ea=function(){return this.Ne.length};Kh.prototype.ya=function(a){return this.Ne[a]};function Lh(a,b,c){b=(c<<8)+b;c=0;for(var d=a.Ne.length;c<d;c++)if(a.Ne[c]==b)return!0;return!1}function Mh(){this.Yb={}}Mh.prototype.Ia=function(){this.Yb={}};Mh.prototype.Jd=function(a,b){var c=(b<<8)+a;if(void 0!==this.Yb[c])return!0;this.Yb[c]=1;return!1};function Nb(){this.Ph={};this.Oc=null}Nb.prototype.Jd=function(a,b,c){if(G===c)return null;a=(b<<8)+a;if(null===this.Oc)return this.Oc=c,this.Ph[a]=1,!1;if(c!==this.Oc)return null;if(void 0!==this.Ph[a])return!0;this.Ph[a]=1;return!1};Nb.prototype.ya=function(){return this.Oc};function Nh(){this.Ga={};this.Wf=G}Nh.prototype.Ia=function(){this.Ga={};this.Wf=G};Nh.prototype.Jd=function(a,b){var c=(b<<8)+a;if(void 0!==this.Ga[c])return!0;this.Ga[c]=1;return!1};function Fb(a,b,c){c=void 0===c?a.Wf:c;for(var d in a.Ga)a=tb(d|0),b.Ic[Ja(b,a.h,a.g)]=c}function ah(a,b){this.v=void 0===a?19:a;this.F=void 0===b?19:b;this.Ua=null;th(this);this.Vc=new Ih;this.Ic=null;this.Ga=new Nh;this.Fh=new Mh}l=ah.prototype;l.te=function(){for(var a=new ah(this.v,this.F),b=0,c=this.Ua.length;b<c;b++)a.Ua[b].ue(this.Ua[b]);a.Vc.ue(this.Vc);return a};l.Ia=function(){for(var a=this.v*this.F,b=0;b<a;b++)this.Ua[b].Ia()};l.ea=function(){return{h:this.v,g:this.F}};l.Set=function(a,b,c,d){a=Ja(this,a,b);this.Ua[a].eh(c);void 0!==d&&null!==d&&-1!==d&&(this.Ua[a].Ue=d)};l.K=function(a,b){return this.Ua[Ja(this,a,b)].ya()};l.Ed=function(a,b){return this.Ua[Ja(this,a,b)].Ed()};function Pa(a){for(var b=[],c=Oh(a.v),d=Oh(a.F),e=0;e<c.length;e++)for(var f=0;f<d.length;f++)b.push([c[e],d[f]]);(9!=a.v&&11!=a.v||1!=a.F%2)&&(9!=a.F&&11!=a.F||1!=a.v%2)||b.push([(a.v-1)/2,(a.F-1)/2]);return b}function Oh(a){var b=[];5==a?b=[2]:7==a?b=[3]:8==a?b=[2,5]:9==a?b=[2,6]:10==a?b=[3,6]:11==a?b=[3,7]:12<=a&&(b=1==a%2?[3,(a-1)/2,a-4]:[3,a-4]);return b}function Ub(a,b,c,d){var e=new Kh;hi(a,b,c,d,e);return 0<e.ea()?e:null}function Tb(a,b,c,d,e){var f;switch(d){case E:f=F;break;case F:f=E;break;default:return null}d=new Kh;!0!==Lh(d,b+1,c)&&hi(a,b+1,c,f,d);!0!==Lh(d,b-1,c)&&hi(a,b-1,c,f,d);!0!==Lh(d,b,c+1)&&hi(a,b,c+1,f,d);!0!==Lh(d,b,c-1)&&hi(a,b,c-1,f,d);f=d.ea();if(1==f){b=(c<<8)+b;c=d.ya(0);f=a.Vc;if(c===f.yb&&b===f.Pf&&1==e)return null;a.Vc.Set(b,c)}else if(1<f)a.Vc.jd();else if(0>=f)return null;return d}function th(a){var b=a.v*a.F;a.Ua=Array(b);for(var c=0;c<b;c++)a.Ua[c]=new Jh}function Ja(a,b,c){return(c-1)*a.v+(b-1)}function ki(a,b,c,d,e){if(b>a.v||1>b||c>a.F||1>c)return!1;var f=a.K(b,c);return G===f?!0:d===f?li(a,b,c,d,e):!1}function li(a,b,c,d,e){var f;a:{f=(c<<8)+b;for(var g=0,h=e.Gf.length;g<h;g++)if(e.Gf[g]==f){f=!0;break a}e.Gf.push(f);f=!1}return!0===f?!1:!0===ki(a,b+1,c,d,e)||!0===ki(a,b-1,c,d,e)||!0===ki(a,b,c+1,d,e)||!0===ki(a,b,c-1,d,e)?!0:!1}function hi(a,b,c,d,e){b>a.v||1>b||c>a.F||1>c||d!==a.K(b,c)||(!0!==li(a,b,c,d,e)&&(e.Ne=e.Ne.concat(e.Gf)),e.Gf=[])}l.Jg=function(a){for(var b=0,c=0,d=1;d<=this.F;d++)for(var e=1;e<=this.v;e++){var f=null,g=this.Ic[Ja(this,e,d)];E===g?(f=new Ba(e,d,lb,""),F===this.K(e,d)?b+=2:b++):F===g&&(f=new Ba(e,d,mb,""),E===this.K(e,d)?c+=2:c++);null===f?a.Ub(e,d):a.Ha(f)}return{se:b,Le:c}};function mi(a,b,c){if(!(b>a.v||1>b||c>a.F||1>c)){var d=a.K(b,c);if(G!==a.K(b,c))switch(b=a.Ga.Wf,b){case G:a.Ga.Wf=d;break;case E:case F:b!==d&&(a.Ga.Wf=3)}else!1===a.Ga.Jd(b,c)&&(mi(a,b+1,c),mi(a,b-1,c),mi(a,b,c+1),mi(a,b,c-1))}}function Db(a,b,c,d){b>a.v||1>b||c>a.F||1>c||(3-d===a.K(b,c)?d===a.Ic[Ja(a,b,c)]&&a.Fh.Jd(b,c):!0!==a.Ga.Jd(b,c)&&(Db(a,b+1,c,d),Db(a,b-1,c,d),Db(a,b,c+1,d),Db(a,b,c-1,d)))}function Eb(a,b,c,d){if(!(b>a.v||1>b||c>a.F||1>c)&&3-d!==a.K(b,c)){if(d===a.K(b,c)){var e=a.Fh,f=(c<<8)+b;void 0!==e.Yb[f]&&delete e.Yb[f]}!0!==a.Ga.Jd(b,c)&&(Eb(a,b+1,c,d),Eb(a,b-1,c,d),Eb(a,b,c+1,d),Eb(a,b,c-1,d))}}function Ka(a,b){for(var c=1;c<=a.F;c++)for(var d=1;d<=a.v;d++)G===a.K(d,c)&&(G===a.Ic[Ja(a,d,c)]||!0===b&&3===a.Ic[Ja(a,d,c)])&&(a.Ga.Ia(),mi(a,d,c),Fb(a.Ga,a))}l.Ng=function(a){var b;this.Ma=[];for(var c=0;c<=this.F+1;c++){this.Ma[c]=[];for(var d=0;d<=this.v+1;d++)if(0===d||this.v+1===d||0===c||this.F+1===c){this.Ma[c][d]=0;b=d;for(var e=c,f=100,g=[],h=b-4;h<=b+4;h++)for(var k=e-4;k<=e+4;k++)if(!(1>h||h>this.v||1>k||k>this.F||4<Math.abs(b-h)+Math.abs(e-k))){var m=bb(this,h,k);if(G!==m){var n=Math.abs(b-h)+Math.abs(e-k);n<f?(f=n,g=[],g.push({h:h,g:k,Xb:m})):n===f&&g.push({h:h,g:k,Xb:m})}}b=g;e=b.length;if(0<e){g=f=!1;for(h=0;h<e;h++)E===b[h].Xb&&(g=!0),F===b[h].Xb&&(f=!0);if(!0!==f||!0!==g)this.Ma[c][d]=f?-128:128}}else b=bb(this,d,c),this.Ma[c][d]=E===b?128:F===b?-128:0}for(c=0;5>c;c++){d=[];for(b=0;b<=this.F+1;b++)for(d[b]=[],e=0;e<=this.v+1;e++){k=[];k[0]=0<e?this.Ma[b][e-1]:0;k[1]=e<this.v+1?this.Ma[b][e+1]:0;k[2]=0<b?this.Ma[b-1][e]:0;k[3]=b<this.F+1?this.Ma[b+1][e]:0;f=0;h=g=!1;for(m=0;4>m;m++)0<k[m]?(g=!0,f++):0>k[m]&&(h=!0,f--);k=this.Ma[b][e];d[b][e]=0<=k&&!1===h||0>=k&&!1===g?k+f:k}this.Ma=d}for(c=0;3>c;c++)ni(this);b=d=0;for(c=1;c<=this.F;c++)for(e=1;e<=this.v;e++)f=null,g=this.Ma[c][e],0<g&&E!==this.K(e,c)?(f=new Ba(e,c,lb,""),F===this.K(e,c)?d+=2:d++):0>g&&F!==this.K(e,c)&&(f=new Ba(e,c,mb,""),E===this.K(e,c)?b+=2:b++),null===f?a.Ub(e,c):a.Ha(f);for(c=0;23>c;c++)ni(this);k=h=0;for(c=1;c<=this.F;c++)for(e=1;e<=this.v;e++)f=null,g=this.Ma[c][e],0<g&&E!==this.K(e,c)?(f=new Ba(e,c,nb,""),F===this.K(e,c)?h+=2:h++):0>g&&F!==this.K(e,c)&&(f=new Ba(e,c,ob,""),E===this.K(e,c)?k+=2:k++),null!==f&&a.Ha(f);return{Eg:h,ml:d,jh:k,wm:b}};function Ob(a,b,c,d){1>b||b>a.v||1>c||c>a.F||!1!==d.Jd(b,c,a.K(b,c))||(Ob(a,b+1,c,d),Ob(a,b-1,c,d),Ob(a,b,c+1,d),Ob(a,b,c-1,d),1<b&&1<c&&G===a.K(b-1,c)&&G===a.K(b,c-1)&&Ob(a,b-1,c-1,d),b<a.v&&1<c&&G===a.K(b+1,c)&&G===a.K(b,c-1)&&Ob(a,b+1,c-1,d),b<a.v&&c<a.F&&G===a.K(b+1,c)&&G===a.K(b,c+1)&&Ob(a,b+1,c+1,d),1<b&&c<a.F&&G===a.K(b-1,c)&&G===a.K(b,c+1)&&Ob(a,b-1,c+1,d))}function bb(a,b,c){return void 0===a.pd||void 0===a.pd[c]||void 0===a.pd[c][b]?G:a.pd[c][b]}function Fa(a,b,c,d){void 0===a.pd&&(a.pd=[]);void 0===a.pd[c]&&(a.pd[c]=[]);a.pd[c][b]=d}function ni(a){for(var b=[],c=0;c<=a.F+1;c++){b[c]=[];for(var d=0;d<=a.v+1;d++){var e=[];e[0]=0<d?a.Ma[c][d-1]:null;e[1]=d<a.v+1?a.Ma[c][d+1]:null;e[2]=0<c?a.Ma[c-1][d]:null;e[3]=c<a.F+1?a.Ma[c+1][d]:null;for(var f=0,g=0,h=0;4>h;h++)null!==e[h]&&(0<=e[h]&&f++,0>=e[h]&&g--);e=a.Ma[c][d];b[c][d]=0<e&&0!==g?Math.max(e+g,0):0>e&&0!==f?Math.min(e+f,0):e}}a.Ma=b}function Ah(){Ah.q.constructor.call(this,1,1);this.uc=null}R(Ah,ah);function Bh(a,b,c,d){if(!(0>=b)){b=tb(b);var e=a.K(b.h,b.g);if(G!==e){if(-1!==d){var f=Ja(a,b.h,b.g);a.uc&&void 0!==a.uc.length||(a.uc=[]);for(var g=0,h=a.uc.length;g<h;++g)if(f===a.uc[g].Qo){a.uc[g].lh.push({ff:c,Xh:d});return}a.uc.push({Qo:f,ff:e,Xh:a.Ed(b.h,b.g),lh:[{ff:c,Xh:d}]})}}else a.Set(b.h,b.g,c,d)}};function Bg(){this.Rh=this.pa=null;this.e=this.xb=0;this.o()}Bg.prototype.o=function(){var a=document.createElement("canvas").getContext("2d");this.xb=5242880;this.Rh=a.createImageData(this.xb/4,1);this.pa=this.Rh.data;this.e=0};function oi(a,b){if(a.e+b>=a.xb){var c=document.createElement("canvas").getContext("2d"),d=a.pa;a.xb*=2;a.Rh=c.createImageData(a.xb/4,1);a.pa=a.Rh.data;for(var c=a.pa,e=0;e<a.Dp;e++)c[e]=d[e]}}function Gg(a){for(var b=new Uint8Array(a.e),c=0;c<a.e;c++)b[c]=a.pa[c];return b}function Fg(a,b){oi(a,1);a.pa[a.e++]=b}function Cg(a,b){var c=b.length;oi(a,c);for(var d=0;d<c;d++)a.pa[a.e++]=b.charCodeAt(d)}function Gh(a,b,c,d){c=c||0;d=d||b.length;for(oi(a,d-c);c<d;c++)a.pa[a.e++]=b[c]}function Dg(a,b){oi(a,2);a.pa[a.e++]=b&255;a.pa[a.e++]=b>>8&255}function Eg(a,b){oi(a,4);a.pa[a.e++]=b&255;a.pa[a.e++]=b>>8&255;a.pa[a.e++]=b>>16&255;a.pa[a.e++]=b>>24&255}function wh(a,b){this.pa=a;this.Na=b;this.e=0}function yh(a){return a.e+1>=a.Na?0:a.pa[a.e++]|a.pa[a.e++]<<8}function zh(a){return a.e+3>=a.Na?0:a.pa[a.e++]|a.pa[a.e++]<<8|a.pa[a.e++]<<16|a.pa[a.e++]<<24}function xh(a,b){if(a.e+b>a.Na)return"";for(var c=[],d=0;d<b;d++)c.push(String.fromCharCode(a.pa[a.e+d]));a.e+=b;return c.join("")};function pi(a,b){this.Oc=a;this.P=b}l=pi.prototype;l.Fd=function(){return tb(this.Oc).h};l.Gd=function(){return tb(this.Oc).g};l.ya=function(){return this.Oc};l.eh=function(a){this.Oc=a};l.Za=function(a){this.P=a};function qi(){this.Mm=0}qi.prototype.jd=function(){this.Mm=0};var dh=new qi;function bh(a){this.me=++dh.Mm+"";this.Pa=(this.b=a)?a.Pa:null;this.ra=[];this.ka=-1;this.ia=null;this.Fa=[];this.gc=new pi(0,G);this.hb="";this.hc=new ri;this.qb={h:-1,g:-1,Xg:-1};this.wh=!1;this.cb={}}function Jg(a,b){if(b===a.me)return a;for(var c=0,d=Xb(a);c<d;c++){var e=Jg(a.ra[c],b);if(null!==e)return e}return null}function ch(a,b){var c=new bh;c.Fa=a.Fa;0<a.ra.length&&a!==b&&(c.ra[0]=ch(a.ra[a.ka],b),c.ka=0,c.ra[0].ia=c);return c}l=bh.prototype;l.rf=function(){return!0};l.Ia=function(){this.ra=[];this.ka=-1;this.Fa=[];this.gc=new pi(0,G);this.hb="";this.hc=new ri};l.R=function(a){return void 0!==this.ra[a]?this.ra[a]:this.ra[this.ka]};function oh(a,b){a.ka=b>=a.ra.length?a.ra.length-1:b}function Xb(a){return a.ra.length}function si(a,b){a.Fa.push(b);a.Pa&&a.Pa.Fn&&a.Pa.Fn(a.me,Lg());a.b&&(a.b.ma=!0)}l.ed=function(){return G===this.gc.P?!1:!0};l.Cg=function(a){this.hb+=a;this.b&&(this.b.ma=!0)};l.bh=function(a){this.hb=a;this.b&&(this.b.ma=!0)};l.ii=function(a,b){this.hc.Yb[""+a]=b};l.Bi=function(){this.hc.Yb={}};l.Pg=function(){for(var a=this;0<Xb(a);)oh(a,0),a=a.R(0)};function $e(a){for(;0<Xb(a);)a=a.R(0);return a}function gc(a){for(var b=!1,c=a.ia;null!=c;){for(var d=!1,e=0,f=Xb(c);e<f;e++)if(a===c.R(e)){e!==c.ka&&(b=!0);oh(c,e);d=!0;break}if(!d)return!1;a=c;c=c.ia}return b}function nh(a){for(var b=null;null!==(b=a.ia);){if(0!=b.ka)return!1;a=b}return!0}l.He=function(){for(var a=this,b=null;null!=(b=a.ia);){if(b.R(b.ka)!=a)return!1;a=b}return!0};l.Rb=function(a,b,c){a=(b<<8)+a;si(this,new Kg(E===c?1:2,a));G===this.gc.P&&(this.gc.eh(a),this.gc.Za(c))};l.qe=function(a,b){si(this,new Kg(E===a?257:F===a?258:259,Og(b),b.length))};l.Ha=function(a,b){var c=0;switch(a){case pb:c=529;break;case Ca:return;case qb:c=531;break;case rb:c=532;break;case kb:c=533;break;case sb:c=530;break;case 513:c=513}si(this,new Kg(c,Og(b),b.length))};l.re=function(a,b){si(this,new Kg(533,{Text:a,qj:b}))};l.yf=function(a){si(this,new Kg(260,a))};l.gi=function(a){si(this,new Kg(769,a))};l.ji=function(a){si(this,new Kg(770,a))};l.Af=function(a,b){b.a.ih.d.a.getContext("2d").clearRect(0,0,b.c.I,b.c.D);switch(a){case Xg:ti(this,b,-1);break;case 1:var c=this.ia;null!==c&&ti(c,b,this.gc.ya())}};function Ab(a){for(var b=1,c=null;null!==(c=a.ia);)b++,a=c;return b}function ti(a,b,c){if(b)for(var d=0,e=Xb(a);d<e;d++){var f=a.R(d).gc;if(G!==f.P&&c!==f.ya()){var g=tb(f.ya()),f=b,h=g.h,k=g.g;if(f.c.fa){var g=(f.c.Wb/2-1)/2,m=f.c.fa;!0===fa(f,h-1,k-1)&&(h=m[h-1].h,k=m[k-1].g,m=f.a.ih.d.a.getContext("2d"),m.fillStyle=Q(f.Po),m.beginPath(),m.arc(h,k,g,0,2*Math.PI,!1),m.fill())}}}}function fc(a,b){-1!==a.hb.indexOf("RIGHT")&&b.push(a);for(var c=0,d=Xb(a);c<d;c++)fc(a.R(c),b)}l.hi=function(a,b,c){this.cb[(b<<8)+a]=c;this.b&&(this.b.ma=!0)};l.sj=function(a,b){delete this.cb[(b<<8)+a];this.b&&(this.b.ma=!0)};l.rj=function(){this.cb={};this.b&&(this.b.ma=!0)};function rh(a,b){vb(b);for(var c in a.cb)b.eb[c]=a.cb[c];Va(b)}l.Ci=function(){this.cb={};if(null!==this.ia){var a=this.ia.cb,b;for(b in a)this.cb[b]=a[b].te()}this.b&&(this.b.ma=!0)};function ui(a,b){for(var c in a.cb)b[Ng(a.cb[c])]=!0;c=0;for(var d=Xb(a);c<d;c++)ui(a.ra[c],b)}l.Rg=function(){for(var a=this,b=this.ka,c=this.R(b);null!==c&&void 0!==c;)0!==b&&(a.ra.splice(b,1),a.ra.splice(0,0,c),oh(a,0)),a=c,b=a.ka,c=a.R(b)};l.Tg=function(a){for(var b=this,c=this.ia;null!==c&&void 0!==c;){var d=Xb(c);if(1<Xb(c)){for(var e=0;e<d;++e)if(b===c.R(e)){0<a?0<e&&(c.ra.splice(e,1),c.ra.splice(e-1,0,b),oh(c,e-1)):e<d-1&&(c.ra.splice(e,1),c.ra.splice(e+1,0,b),oh(c,e+1));break}break}b=c;c=c.ia}};l.Fb=function(){for(var a=this;null!==a.ia;)a=a.ia;return a};var vi=0;function gh(a){this.b=a;this.C=[];this.We=this.e=0;this.ik=[];this.wc=!0;this.xb=0;this.m={V:100,W:100,aa:-1,ba:-1};this.zo=vi;this.Mb=null}gh.prototype.hj=function(a){if(void 0!==a&&""!==a&&(this.C=[],this.We=this.e=0,this.ik=[],this.wc=!0,this.xb=0,this.ci(a),!wi(this)&&this.b&&this.b.f)){a=this.b;var b=a.f;Kb(b.X.id,Lb,{N:a,O:b,Cc:"File cannot be read. Invalid SGF file.",I:275,D:80})}};gh.prototype.ci=function(a){for(var b=0,c=a.length,d=[],e=!1;b<c;){(e||32<a.charCodeAt(b))&&d.push(a.charAt(b));if(3<=d.length&&"["==d[d.length-1]){var f=d[d.length-3]+d[d.length-2];if("C"==d[d.length-2]&&"UC"!=f||"AN"==f||"BR"==f||"BT"==f||"CP"==f||"DT"==f||"EV"==f||"GN"==f||"GC"==f||"ON"==f||"OT"==f||"PB"==f||"PC"==f||"PW"==f||"RE"==f||"RO"==f||"RU"==f||"SO"==f||"TM"==f||"US"==f||"WR"==f||"WT"==f)e=!0}else e&&1<=d.length&&"]"==d[d.length-1]&&(2>d.length||"\\"!=d[d.length-2])&&(e=!1);b++}this.C=d;this.xb=this.C.length};function wi(a){a.b.jd();if("("===a.C[0]&&";"===a.C[1])for(a.e++;a.e<a.xb&&(")"!==a.C[a.e]||0!==a.We);){var b=a.C[a.e];if(";"===b){1!=a.e?a.b.Yc(!1,!1):a.b.Ib(a.b.Fb());a.b.l.wh=!0;var c;a:{var d=a;d.e++;for(var e=d.C[d.e],f=d.C[d.e+1];void 0!==e&&")"!==e&&";"!==e&&"("!==e;){switch(e){case "A":switch(f){case "B":xi(d,E);break;case "E":xi(d,G);break;case "W":xi(d,F);break;case "N":var g=d;g.e+=3;var h=g.b,k=yi(g);h.jg=k;U(h);break;case "P":var m=d;m.e+=3;yi(m);U(m.b);break;default:zi(d)}break;case "B":switch(f){case "[":Ai(d,E);break;case "R":var n=d;n.e+=3;If(n.b,yi(n));break;case "T":var p=d;p.e+=3;var t=p.b,q=yi(p);t.wn=q;U(t);break;case "L":var r=d;r.e+=3;r.b.gi(Bi(r));break;default:zi(d)}break;case "C":switch(f){case "[":var u=d;u.e+=2;for(var v="";"]"!==u.C[u.e]||"\\"===u.C[u.e-1];)"]"===u.C[u.e+1]&&"\\"===u.C[u.e]?(v+="]",u.e++):v+=u.C[u.e],u.e++;u.e++;switch(u.zo){case 1:for(var z="",H=0,K=0,C=0,I=0,aa=v.length;H<aa;)K=v.charCodeAt(H),128>K?(z+=String.fromCharCode(K),H++):191<K&&224>K?(C=v.charCodeAt(H+1),z+=String.fromCharCode((K&31)<<6|C&63),H+=2):(C=v.charCodeAt(H+1),I=v.charCodeAt(H+2),z+=String.fromCharCode((K&15)<<12|(C&63)<<6|I&63),H+=3);v=z}var A=u.b.l;A&&A.Cg(v);break;case "A":var P=d;P.e+=3;yi(P);U(P.b);break;case "P":var V=d;V.e+=3;var w=V.b,Ui=yi(V);w.ig=Ui;U(w);break;case "R":Ci(d,pb);break;case "T":var Bc=d;Bc.e+=3;var Ph=yi(Bc);if(""!==Ph){var Qh=Wg(Ph),ie=new wh(Qh,Qh.length);if("SGFCT"===xh(ie,5)){yh(ie);var Vi=zh(ie);Bc.Mb=[];for(var je=0;je<Vi;je++){var Wi=zh(ie);Bc.Mb[je]=new y(0,0,0,0);var ke=Bc.Mb[je],le=Wi;ke.w=le>>24&255;ke.B=le>>16&255;ke.A=le>>8&255;ke.La=le&255}}}break;case "M":var Wb=d;Wb.e+=3;var Rh=yi(Wb);if(""!==Rh){var Sh=Wg(Rh),Ib=new wh(Sh,Sh.length);if("SGFCM"===xh(Ib,5)){yh(Ib);var Xi=yh(Ib),Yi=yh(Ib),Th=Wb.b.l;Th.cb={};for(var Tf=0;Tf<Yi;Tf++)for(var Uf=0;Uf<Xi;Uf++){var Vf=Ib.e>=Ib.Na?0:Ib.pa[Ib.e++];void 0!==Wb.Mb[Vf]&&0!==Wb.Mb[Vf].La&&(Th.cb[(Tf+1<<8)+(Uf+1)]=Wb.Mb[Vf].te())}}}break;default:zi(d)}break;case "D":switch(f){case "T":var me=d;me.e+=3;var Uh=me.b,Zi=yi(me);Uh.le=Zi;Uh.ma=!0;break;default:zi(d)}break;case "E":switch(f){case "V":var ne=d;ne.e+=3;var Vh=ne.b,$i=yi(ne);Vh.bf=$i;U(Vh);break;default:zi(d)}break;case "F":switch(f){case "F":zi(d);break;default:zi(d)}break;case "G":switch(f){case "N":var oe=d;oe.e+=3;var Wh=oe.b,aj=yi(oe);Wh.wd=aj;U(Wh);break;case "C":var pe=d;pe.e+=3;Lf(pe.b,yi(pe));break;case "M":var qe=d;qe.e+=3;1!==Di(qe)&&(qe.wc=!1);break;default:zi(d)}break;case "H":switch(f){case "A":var re=d;re.e+=3;var Xh=re.b,bj=Di(re);Xh.ac=bj;U(Xh);break;default:zi(d)}break;case "K":switch(f){case "M":var se=d;se.e+=3;var Yh=se.b,cj=Bi(se);Yh.Lb=cj;Yh.ma=!0;break;default:zi(d)}break;case "L":switch(f){case "B":var ja=d;for(ja.e+=3;;){var dj=ja.C[ja.e];ja.e++;var ej=ja.C[ja.e];ja.e++;var Zh=Ei(ja,dj),$h=Ei(ja,ej);ja.e++;for(var Xf="";"]"!==ja.C[ja.e]&&ja.e<ja.xb;)Xf+=ja.C[ja.e],ja.e++;Fi(ja,Zh,$h);ja.b.re(Xf,($h<<8)+Zh);if("]"!==ja.C[ja.e]){ja.wc=!1;break}ja.e++;if("["!==ja.C[ja.e])break;ja.e++}break;default:zi(d)}break;case "M":switch(f){case "A":Ci(d,sb);break;default:zi(d)}break;case "O":switch(f){case "N":var te=d;te.e+=3;var ai=te.b,fj=yi(te);ai.kg=fj;U(ai);break;case "T":var ue=d;ue.e+=3;var bi=ue.b,gj=yi(ue);bi.og=gj;U(bi);break;default:zi(d)}break;case "P":switch(f){case "B":var ve=d;ve.e+=3;Hf(ve.b,yi(ve));break;case "C":var we=d;we.e+=3;var ci=we.b,hj=yi(we);ci.cf=hj;U(ci);break;case "W":var xe=d;xe.e+=3;Jf(xe.b,yi(xe));break;case "L":var od=d;od.e+=3;"W"===yi(od)?od.b.yf(F):od.b.yf(E);break;default:zi(d)}break;case "R":switch(f){case "E":var ye=d;ye.e+=3;Gf(ye.b,yi(ye));break;case "O":var ze=d;ze.e+=3;var di=ze.b,ij=yi(ze);di.lg=ij;U(di);break;case "U":var Ae=d;Ae.e+=3;var ei=Ae.b,jj=yi(Ae);ei.pg=jj;U(ei);break;default:zi(d)}break;case "S":switch(f){case "Q":Ci(d,qb);break;case "T":var Dc=d;Dc.e+=3;switch(Di(Dc)){case 0:sc(Dc.b,Xg);break;case 1:sc(Dc.b,1);break;default:sc(Dc.b,0)}break;case "Z":var Be=d;Be.e+=3;var pd=yi(Be),Yf=19,Zf=19,Ce=-1;-1==(Ce=pd.indexOf(":"))?Zf=Yf=Math.min(52,Math.max(parseInt(pd),2)):(Yf=parseInt(pd.substr(0,Ce)),Zf=parseInt(pd.substr(Ce+1,pd.length-Ce-1)));sh(Be.b,Yf,Zf);break;case "O":var De=d;De.e+=3;var fi=De.b,kj=yi(De);fi.mg=kj;U(fi);break;default:zi(d)}break;case "T":switch(f){case "R":Ci(d,rb);break;case "M":var Ee=d;Ee.e+=3;var gi=Ee.b,lj=yi(Ee);gi.Yf=lj;U(gi);break;case "B":Gi(d,E);break;case "W":Gi(d,F);break;default:zi(d)}break;case "U":switch(f){case "S":var Fe=d;Fe.e+=3;var ii=Fe.b,mj=yi(Fe);ii.ng=mj;U(ii);break;default:zi(d)}break;case "W":switch(f){case "[":Ai(d,F);break;case "R":var Ge=d;Ge.e+=3;Kf(Ge.b,yi(Ge));break;case "T":var He=d;He.e+=3;var ji=He.b,nj=yi(He);ji.xn=nj;U(ji);break;case "L":var Ie=d;Ie.e+=3;Ie.b.ji(Bi(Ie));break;default:zi(d)}break;default:zi(d)}if(!d.wc){c=!1;break a}e=d.C[d.e];f=d.C[d.e+1]}c=!0}if(!c)return!1}else if("("===b)a.ik[a.We]=a.b.l,a.We++,a.e++;else if(")"===b)a.We--,a.b.Ib(a.ik[a.We]),a.e++;else return!1}else return!1;return!0}function yi(a,b){void 0===b&&(b="]");for(var c="";void 0!==a.C[a.e]&&b!==a.C[a.e];)c+=a.C[a.e],a.e++;void 0===a.C[a.e]&&(a.wc=!1);a.e++;return c}function Bi(a){a=parseFloat(yi(a,void 0));return isNaN(a)?0:a}function Di(a){a=parseInt(yi(a,void 0));return isNaN(a)?0:a}function zi(a){for(;;){for(;void 0!==a.C[a.e]&&"]"!==a.C[a.e]&&a.e<a.xb;)for(a.e++;"]"===a.C[a.e]&&"\\"===a.C[a.e-1];)a.e++;a.e++;if("["!==a.C[a.e])break}}function Ei(a,b){var c=b.charCodeAt(0);if(97<=c&&122>=c)return c-96;if(65<=c&&90>=c)return c-64+26;a.wc=!1;return 0}function xi(a,b){a.e+=3;var c=[];if("]"!==a.C[a.e]){for(;;){var d=a.C[a.e];a.e++;var e=a.C[a.e];a.e++;var f=Ei(a,d),g=Ei(a,e);if(":"===a.C[a.e])for(a.e++,d=a.C[a.e],a.e++,e=a.C[a.e],a.e++,d=Ei(a,d),e=Ei(a,e);g<=e;g++)for(var h=f;h<=d;h++)Fi(a,h,g),c.push((g<<8)+h);else Fi(a,f,g),c.push((g<<8)+f);if("]"!==a.C[a.e]){a.wc=!1;return}a.e++;if("["!==a.C[a.e])break;a.e++}a.b.qe(b,c)}}function Ai(a,b){a.e+=2;if("]"==a.C[a.e])a.b.Rb(0,0,b);else{var c=a.C[a.e];a.e++;var d=a.C[a.e];a.e++;var e=a.b.na.ea();if("t"===c&&"t"===d&&19>=e.h&&19>=e.g)a.b.Rb(0,0,b);else for(c=Ei(a,c),d=Ei(a,d),Fi(a,c,d),a.b.Rb(c,d,b);"]"!==a.C[a.e];)if(a.e++,a.e>=a.xb){a.wc=!1;break}}a.e++}function Ci(a,b){a.e+=3;var c=[];if("]"!==a.C[a.e]){for(;;){var d=a.C[a.e];a.e++;var e=a.C[a.e];a.e++;var f=Ei(a,d),g=Ei(a,e);if(":"===a.C[a.e])for(a.e++,d=a.C[a.e],a.e++,e=a.C[a.e],a.e++,d=Ei(a,d),e=Ei(a,e);g<=e;g++)for(var h=f;h<=d;h++)Fi(a,h,g),c.push((g<<8)+h);else Fi(a,f,g),c.push((g<<8)+f);if("]"!==a.C[a.e]){a.wc=!1;return}a.e++;if("["!==a.C[a.e])break;a.e++}a.b.Ha(b,c)}}function Gi(a,b){a.e+=3;var c=[];if("]"!==a.C[a.e]){for(;;){var d=a.C[a.e];a.e++;var e=a.C[a.e];a.e++;var f=Ei(a,d),g=Ei(a,e);if(":"===a.C[a.e])for(a.e++,d=a.C[a.e],a.e++,e=a.C[a.e],a.e++,d=Ei(a,d),e=Ei(a,e);g<=e;g++)for(var h=f;h<=d;h++)c.push((g<<8)+h);else c.push((g<<8)+f);if("]"!==a.C[a.e]){a.wc=!1;return}a.e++;if("["!==a.C[a.e])break;a.e++}a.b.ii(b,c)}}function Fi(a,b,c){b<a.m.V&&(a.m.V=b);b>a.m.aa&&(a.m.aa=b);c<a.m.W&&(a.m.W=c);c>a.m.ba&&(a.m.ba=c)}function Hi(a){this.b=a;this.vd=[];this.Na=this.e=0}Hi.prototype.ci=function(a){for(var b=a.length,c=[],d=0;d<b;)c.push(a.charAt(d++));this.e=0;this.vd=c;this.Na=this.vd.length};function Ii(a){a.b.jd();a.b.Ib(a.b.Fb());a.b.l.wh=!0}function Ji(a){return a.e>=a.Na?-1:a.vd[a.e++]}function Ki(a){for(var b="",c=null;-1!==c&&"\n"!==c;)c=Ji(a),b+=c;return b}function Li(a){return a.e>=a.Na?!0:!1}function fh(a){fh.q.constructor.call(this,a);this.de=this.ac=0;this.Re=19}R(fh,Hi);fh.prototype.hj=function(a){this.ci(a);Ii(this);this.dl();if(!(1>=this.ac)){a=[];var b=[];19===this.Re?b=[4,10,16]:13===this.Re?b=[4,7,10]:9===this.Re&&(b=[3,5,7]);if(3===b.length)switch(this.ac){case 2:a=[[b[2],b[0]],[b[0],b[2]]];break;case 3:a=[[b[2],b[0]],[b[0],b[2]],[b[2],b[2]]];break;case 4:a=[[b[2],b[0]],[b[0],b[2]],[b[2],b[2]],[b[0],b[0]]];break;case 5:a=[[b[2],b[0]],[b[0],b[2]],[b[2],b[2]],[b[0],b[0]],[b[1],b[1]]];break;case 6:a=[[b[2],b[0]],[b[0],b[2]],[b[2],b[2]],[b[0],b[0]],[b[0],b[1]],[b[2],b[1]]];break;case 7:a=[[b[2],b[0]],[b[0],b[2]],[b[2],b[2]],[b[0],b[0]],[b[0],b[1]],[b[2],b[1]],[b[1],b[1]]];break;case 8:a=[[b[2],b[0]],[b[0],b[2]],[b[2],b[2]],[b[0],b[0]],[b[0],b[1]],[b[2],b[1]],[b[1],b[0]],[b[1],b[2]]];break;case 9:a=[[b[2],b[0]],[b[0],b[2]],[b[2],b[2]],[b[0],b[0]],[b[0],b[1]],[b[2],b[1]],[b[1],b[0]],[b[1],b[2]],[b[1],b[1]]]}if(0<a.length){for(var b=[],c=0,d=a.length;c<d;c++)b.push((a[c][1]<<8)+a[c][0]);this.b.qe(E,b)}}this.cl()};fh.prototype.dl=function(){Lf(this.b,Ki(this));this.Re=Ki(this)|0;sh(this.b,this.Re,this.Re);Mi(this,!1);Mi(this,!0);Ki(this);var a=Ki(this);this.ac=Math.min(9,Math.max(a|0,0));a=this.b;a.ac=this.ac;U(a);Ki(this);var a=Ki(this),b=this.b;b.Lb=parseFloat(a);b.ma=!0;a=Ki(this);b=this.b;b.le=a;b.ma=!0;Ki(this);a=Ki(this);Gf(this.b,a);this.de=Ki(this)|0};fh.prototype.cl=function(){if(!Li(this))for(var a=0;a<this.de;a++){this.b.Yc(!1,!1);this.b.l.wh=!0;if("PM"===Ji(this)+Ji(this)){Ji(this);Ji(this);var b="B"===Ji(this)?E:F,c=Ji(this),d=Ji(this),c=c.charCodeAt(0)-65,d=d.charCodeAt(0)-65;0>c||0>d?this.b.Rb(0,0,b):this.b.Rb(c,d,b)}Ki(this);if(Li(this))break}};function Mi(a,b){var c=Ki(a),d=c.indexOf(" "),e="",f="";-1!==d?(e=c.substr(0,d).replace(/\s+/g,""),f=c.substr(d).replace(/\s+/g,"")):e=c.replace(/\s+/g,"");!0===b?(Hf(a.b,e),If(a.b,f)):(Jf(a.b,e),Kf(a.b,f))}function eh(a){eh.q.constructor.call(this,a)}R(eh,Hi);eh.prototype.hj=function(a){this.ci(a);Ii(this);!1!==this.dl()&&this.cl()};eh.prototype.dl=function(){for(var a=-1;"\\"!==a;){if(Li(this))return!1;a=Ji(this)}a=Ji(this)+Ji(this);if("GS"===a)return this.e-=3,!0;if("HS"!==a)return!1;for(;;){for(a=-1;"\\"!==a;){if(Li(this))return!1;a=Ji(this)}a=Ji(this);if("H"===a){if("E"!==Ji(this))break;return!0}if("["!==a)break;for(var b="";;){if(Li(this))return!1;a=Ji(this);if("="===a)break;b+=a}for(var c="";;){if(Li(this))return!1;a=Ji(this);if("\\"===a){if("]"===Ji(this))break;return!1}c+=a}switch(b){case "WUSERINFO":case "BUSERINFO":case "GAMEINFOMAIN":case "GAMEINFOSUB":for(var b=a=null,d=[],e=-1;-1!==(e=c.indexOf(","));){var f=c.substr(0,e),g=f,h="",k=-1;-1!==(k=f.indexOf(":"))&&(g=f.substr(0,k),h=f.substr(k+1));d.push({Ug:g,Xb:h});c=c.substr(e+1)}e=0;for(c=d.length;e<c;e++)switch(f=d[e].Xb,d[e].Ug){case "WNICK":Jf(this.b,f);break;case "BNICK":Hf(this.b,f);break;case "WLV":Kf(this.b,Ni(f));break;case "BLV":If(this.b,Ni(f));break;case "GNAME":g=this.b;g.bf=f;U(g);break;case "GDATE":g=this.b;g.le=f;g.ma=!0;break;case "GPLC":g=this.b;g.cf=f;U(g);break;case "GCMT":Lf(this.b,f);break;case "GONGJE":g=this.b;g.Lb=(f|0)/10;g.ma=!0;break;case "GRLT":a=f;break;case "ZIPSU":b=f}if(null!==a)switch(a){case "0":Gf(this.b,"Black "+(b|0)/10+" win");break;case "1":Gf(this.b,"White "+(b|0)/10+" win");break;case "3":Gf(this.b,"Black wins by resignation");break;case "4":Gf(this.b,"White wins by resignation");break;case "255":Gf(this.b,"Unfinished")}}}return!1};eh.prototype.cl=function(){for(var a=-1;"\\"!==a;){if(Li(this))return!1;a=Ji(this)}a=Ji(this)+Ji(this);if("GS"!==a)return!1;Ki(this);Ki(this);for(Ki(this);!Li(this);){var b=Ki(this);if(-1!==b.indexOf("\\GE"))return!0;var c,a=[];for(c=-1;-1!==(c=b.indexOf(" "));)a.push(b.substr(0,c)),b=b.substr(c+1);c=a;if(0>=c.length)return!1;a=c[0];if("INI"===a)5<=c.length&&Lf(this.b,c[4]);else if("STO"===a){if(6!==c.length)return!1;this.b.Yc(!1,!1);this.b.l.Cp=!0;this.b.Rb((c[4]|0)+1,(c[5]|0)+1,"1"===c[3]?E:F)}}};function Ni(a){a=a|0;return 18>a?18-a+"k":26<a?a-26+"p":a-17+"d"};function hh(){this.Mb=this.b=this.vd=null}function Oi(a,b){a.vd+=b}function Pi(a){return 26>=a?96+a:64+a-26}function Qi(a,b){var c=tb(b);Oi(a,String.fromCharCode(91,Pi(c.h),Pi(c.g),93))}function Ri(a,b){for(var c=0,d=b.length;c<d;c++)Qi(a,b[c])}function Si(a,b,c){Oi(a,b);Oi(a,"["+c+"]")}function Ti(a,b,c){c&&""!==c&&Si(a,b,c)}function ih(a,b){var c=b.ia,d=!1;if(null===c||1<Xb(c))d=!0;d&&Oi(a,"(");Oi(a,";");if(b===a.b.Fb()){var c=a.b,e=c.na.ea();Si(a,"GM",1);Si(a,"FF",4);Si(a,"CA","UTF-8");Si(a,"AP","WebGoBoard:"+GoBoardApi.Og());Si(a,"ST",c.ae);Ti(a,"RU",c.pg);Si(a,"SZ",e.h==e.g?e.h:e.h+":"+e.g);Si(a,"KM",c.Lb);Si(a,"HA",c.ac);Ti(a,"TM",c.Yf);Ti(a,"OT",c.og);Ti(a,"RE",c.df);Ti(a,"GN",c.wd);Ti(a,"DT",c.le);Ti(a,"CP",c.ig);Ti(a,"GC",c.Rk);Ti(a,"PB",c.ud);Ti(a,"BR",c.hg);Ti(a,"BT",c.wn);Ti(a,"PW",c.xd);Ti(a,"WR",c.qg);Ti(a,"WT",c.xn);Ti(a,"EV",c.bf);Ti(a,"RO",c.lg);Ti(a,"PC",c.cf);Ti(a,"AN",c.jg);Ti(a,"ON",c.kg);Ti(a,"SO",c.mg);Ti(a,"US",c.ng);c={};ui(a.b.Fb(),c);var e=1,f=[],g;for(g in c)c[g]=e,f[e++]=g|0;1<e&&(c[0]=0,f[0]=0,a.Mb=c,a.fl(f))}g=[];for(var c=[],e=[],f=0,h=b.Fa.length;f<h;f++){var k=b.Fa[f],m=k.P,k=k.ya();switch(m){case 257:case 258:case 259:for(var n=0,p=k.length;n<p;n++){for(var t=k[n],q=0,r=g.length;q<r;q++)t===g[q]&&(g.splice(q,1),r--,q--);q=0;for(r=c.length;q<r;q++)t===c[q]&&(c.splice(q,1),r--,q--);q=0;for(r=e.length;q<r;q++)t===e[q]&&(e.splice(q,1),r--,q--);257===m?g.push(t):258===m?c.push(t):259===m&&e.push(t)}}}0<g.length&&(Oi(a,"AB"),Ri(a,g));0<c.length&&(Oi(a,"AW"),Ri(a,c));0<e.length&&(Oi(a,"AE"),Ri(a,e));g=[[],[],[],[],[],[]];c=[];h=0;for(e=b.Fa.length;h<e;h++){m=b.Fa[h];k=m.ya();n=-1;switch(m.P){case 533:n=0;k=[k.qj];break;case 529:n=1;break;case 530:n=2;break;case 531:n=3;break;case 532:n=4;break;case 513:n=5}f=0;for(p=k.length;f<p;f++)for(t=k[f],q=0,r=g.length;q<r;q++)if(q===n)g[q].push(t),0==q&&c.push(m.ya().Text);else for(var u=0,v=g[q].length;u<v;u++)t===g[q][u]&&(g[q].splice(u,1),0===q&&c.splice(u,1),v--,u--)}if(0<g[0].length)for(Oi(a,"LB"),f=0,e=g[0].length;f<e;f++)Oi(a,"["),h=a,m=tb(g[0][f]),Oi(h,String.fromCharCode(Pi(m.h),Pi(m.g))),Oi(a,":"+c[f]+"]");0<g[1].length&&(Oi(a,"CR"),Ri(a,g[1]));0<g[2].length&&(Oi(a,"MA"),Ri(a,g[2]));0<g[3].length&&(Oi(a,"SQ"),Ri(a,g[3]));0<g[4].length&&(Oi(a,"TR"),Ri(a,g[4]));g=0;for(c=b.Fa.length;g<c;g++)switch(f=b.Fa[g],e=f.ya(),f.P){case 1:Oi(a,"B");f=a;0!=e?Qi(f,e):Oi(f,String.fromCharCode(91,93));break;case 2:Oi(a,"W");f=a;0!=e?Qi(f,e):Oi(f,String.fromCharCode(91,93));break;case 769:Oi(a,"BL");Oi(a,"["+e+"]");break;case 770:Oi(a,"WL");Oi(a,"["+e+"]");break;case 260:Oi(a,"PL"),Oi(a,"["+(e===F?"W":"B")+"]")}g=b.hb;""!==g&&(g=g.replace(RegExp("]","g"),"\\]"),Oi(a,"C"),Oi(a,"["),Oi(a,g),Oi(a,"]"));if(null!==a.Mb){g=new Bg;Cg(g,"SGFCM");Dg(g,1);e=a.b.na.ea();c=e.h;e=e.g;Dg(g,c);Dg(g,e);f=!1;for(h=0;h<e;h++)for(m=0;m<c;m++)(k=b.cb[(h+1<<8)+(m+1)])?(k=Ng(k),void 0!==a.Mb[k]?(Fg(g,a.Mb[k]),f=!0):Fg(g,0)):Fg(g,0);!0===f&&(g=Hg(Gg(g)),Si(a,"CM",g))}g=0;for(c=Xb(b);g<c;g++)ih(a,b.R(g));d&&Oi(a,")")}hh.prototype.fl=function(a){var b=new Bg;Cg(b,"SGFCT");Dg(b,1);Eg(b,a.length);for(var c=0,d=a.length;c<d;c++)Eg(b,a[c]);a=Hg(Gg(b));Si(this,"CT",a)};function ri(){this.Yd=!1;this.Yb={}};}());